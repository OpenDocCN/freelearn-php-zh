<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer395">
<h1 class="chapter-number" id="_idParaDest-271" lang="en-GB"><a id="_idTextAnchor271"/>14</h1>
<h1 id="_idParaDest-272" lang="en-GB"><a id="_idTextAnchor272"/>Complying with Data Protection Regulations</h1>
<p lang="en-GB">Data privacy is all about the protection of personal data. Depending on its setup, Moodle potentially stores a significant amount of sensitive data such as IDs, addresses, grades, and exam submissions. With the introduction<a id="_idIndexMarker1357"/> of the <strong class="bold" lang="">General Data Protection Regulation</strong> (<strong class="bold" lang="">GDPR</strong>), a legally binding framework has been introduced and is fully supported <span class="No-Break" lang="">in Moodle.</span></p>
<p lang="en-GB">This chapter will teach you the tools to configure your Moodle site to comply with data <span class="No-Break" lang="">protection regulations.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB"><em class="italic" lang="">Disclaimer</em>: The advice in this chapter is provided for informational purposes only and not be construed as legal or <span class="No-Break" lang="">professional advice.</span></p>
<p lang="en-GB">After some legal background on the GDPR, you will learn about the <span class="No-Break" lang="">following topics:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Designating a privacy officer</strong>: You will learn how to set up a privacy officer role and activate the privacy <span class="No-Break" lang="">officer functionality.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Managing policies</strong>: We will look at the configuration of Moodle’s policy handler before creating and updating versioned policies. We will further monitor user agreements and deal with minors in your <span class="No-Break" lang="">Moodle system.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Configuring the data registry</strong>: We will set up data registry categories and purposes before assigning them <span class="No-Break" lang="">to contexts.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Managing data requests</strong>: Finally, we will manage subject access requests to deal with data rectification (message), data access (export), and data <span class="No-Break" lang="">erasure (deletion).</span></li>
</ul>
<p lang="en-GB">We will conclude the chapter with a Moodle privacy checklist. Before we cover the mentioned topics, let’s get used to some <span class="No-Break" lang="">legal terminology.</span></p>
<h1 id="_idParaDest-273" lang="en-GB"><a id="_idTextAnchor273"/>Understanding Moodle privacy</h1>
<p lang="en-GB"><strong class="bold" lang="">May 25, 2018</strong>: <a id="_idIndexMarker1358"/>GDPR applies to all <strong class="bold" lang="">European Unio</strong>n (<span class="No-Break" lang=""><strong class="bold" lang="">EU</strong></span><span class="No-Break" lang="">) residents.</span></p>
<p lang="en-GB"><strong class="bold" lang="">One week earlier</strong>: Moodle 3.5 is released, supporting some but not all <span class="No-Break" lang="">GDPR features.</span></p>
<p lang="en-GB">It was the first time that Moodle was forced to implement a set of features to comply with legislative regulations (<a href="https://gdpr-info.eu">gdpr-info.eu</a>). The implementation of all required features was completed in version 3.6, and the functionality was backported to three releases—another first <span class="No-Break" lang="">for Moodle.</span></p>
<p lang="en-GB">While GDPR only applies to EU residents or sites that are hosted in the EU, there are two reasons why the regulations are potentially relevant to all <span class="No-Break" lang="">Moodle systems:</span></p>
<ul>
<li lang="en-GB">If a single user on your system (student, employee, supplier, and so on) is or will be from the EU, you are obliged to comply with the regulation. Or, in more legalese: any individual or organization that stores or processes personal information on an identifiable person from an EU member state (regardless of whether the processing or storage of information occurs in the EU <span class="No-Break" lang="">or not).</span></li>
<li lang="en-GB">The EU’s data protection laws have long been regarded as the gold standard and have been wholly or partly adopted by numerous countries outside <span class="No-Break" lang="">the EU.</span></li>
</ul>
<p lang="en-GB">Before we configure the privacy and policy settings in your Moodle system, I need to bore you with some GDPR fundamentals. There is some terminology used throughout the GDPR that you will come across when configuring Moodle privacy, as presented in the <span class="No-Break" lang="">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer370">
<img alt="Figure 14.1 – GDPR terminology " height="528" src="image/Figure_14.01_B18779.jpg" width="1208"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.1 – GDPR terminology</p>
<p lang="en-GB">To<a id="_idIndexMarker1359"/> summarize <span class="No-Break" lang=""><em class="italic" lang="">Figure 14</em></span><em class="italic" lang="">.1</em>, a data subject’s personal data is processed by a data processor on behalf of a data controller. In Moodle speak, user-related data is stored in your data center or by a third-party hosting company, as instructed by <span class="No-Break" lang="">your organization.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">The main objective of GDPR is the protection of <span class="No-Break" lang="">personal data.</span></p>
<p lang="en-GB">Moodle stores personal and non-personal data, and it is the personal data GDPR is concerned about and that we need to protect. Data subjects (Moodle users) have far-fetching rights concerning their stored and processed data, which have been summarized in the following screenshot, alongside the respective <span class="No-Break" lang="">Moodle feature:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer371">
<img alt="Figure 14.2 – GDPR data subject rights " height="830" src="image/Figure_14.02_B18779.jpg" width="1386"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.2 – GDPR data subject rights</p>
<p lang="en-GB">From a<a id="_idIndexMarker1360"/> Moodle user’s—sorry—from a data subject’s perspective, access to these rights can be gained via the <strong class="bold" lang="">Privacy and policies</strong> section in the user profile and might look <span class="No-Break" lang="">like this:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer372">
<img alt="Figure 14.3 – GDPR data subject rights (Moodle user profile) " height="425" src="image/Figure_14.03_B18779.jpg" width="497"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.3 – GDPR data subject rights (Moodle user profile)</p>
<p lang="en-GB">So, why couldn’t Moodle just implement GDPR in its core and label the product as GDPR-compliant? Unfortunately, such a hardcoded approach is impossible since different factors must be considered and hence configured. Examples are the users’ ages (kids are better protected than adults), the type of data that is stored (age or gender, for example, might be acceptable in one Moodle system but not another), and local or internal regulatory <a id="_idIndexMarker1361"/>constraints overruling GDPR—in particular, retention periods <span class="No-Break" lang="">of data.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">There is no one-size-fits-all Moodle GDPR setup. Correct configuration and implementation of processes and procedures <span class="No-Break" lang="">are required.</span></p>
<p lang="en-GB">What might be perceived as a shortcoming of GDPR is actually its strength because it caters to all kinds of setups in different contexts. For Moodle administrators, this has two <span class="No-Break" lang="">key implications:</span></p>
<ol>
<li lang="en-GB">You need to liaise with a legal expert. You know, the people in grey suits who charge by <span class="No-Break" lang="">the minute.</span></li>
<li lang="en-GB">You need to configure Moodle’s privacy settings, policies, and processes in line with what the grey suit <span class="No-Break" lang="">told you.</span></li>
</ol>
<p lang="en-GB">The GDPR also specifies seven principles for the lawful processing of personal data. Furthermore, privacy implementations must be supplemented by required documentation in case of an audit, infringements, or complaints. Both items are beyond the scope of this book and will not be dealt with in this chapter, but the grey suit will be able to assist you on <span class="No-Break" lang="">these matters.</span></p>
<p lang="en-GB">Enough legal speak, so let’s get started. Moodle has dedicated an entire <strong class="bold" lang="">Privacy and policies</strong> section to the topic, which we will cover in the remainder of the chapter. First, we need to designate a privacy officer, which is dealt with in the <span class="No-Break" lang="">following section.</span></p>
<h1 id="_idParaDest-274" lang="en-GB"><a id="_idTextAnchor274"/>Designating a privacy officer</h1>
<p lang="en-GB">Once the Moodle privacy features have been set up, someone will have to deal with the day-to-day requests from users and any other privacy-related issues. Moodle has named this function <strong class="bold" lang="">privacy officer</strong>, and we are sticking to this <span class="No-Break" lang="">term here.</span></p>
<p lang="en-GB">The <a id="_idIndexMarker1362"/>Moodle administrator regularly takes on this role for smaller instances, often a separate function in larger systems. Either way, we recommend setting up a dedicated user account to deal with any <span class="No-Break" lang="">privacy-related tasks.</span></p>
<p lang="en-GB">To establish a privacy officer in Moodle, the following three steps <span class="No-Break" lang="">are required:</span></p>
<ol>
<li lang="en-GB" value="1">Create a new <strong class="bold" lang="">Privacy </strong><span class="No-Break" lang=""><strong class="bold" lang="">Officer</strong></span><span class="No-Break" lang=""> role.</span></li>
<li lang="en-GB">Assign the role to your designated privacy officer(s) in the <span class="No-Break" lang=""><strong class="bold" lang="">System</strong></span><span class="No-Break" lang=""> context.</span></li>
<li lang="en-GB">Activate Moodle’s privacy <span class="No-Break" lang="">officer functionality.</span></li>
</ol>
<p lang="en-GB">The context type where the role may be assigned must be set to <strong class="bold" lang="">System</strong>. The following screenshot arrangement shows the capabilities that must be set to <strong class="bold" lang="">Allow</strong>. The simplest way to find them is to search for <strong class="source-inline" lang="">dataprivacy</strong> and <span class="No-Break" lang=""><strong class="source-inline" lang="">policy</strong></span><span class="No-Break" lang="">, respectively:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer373">
<img alt="Figure 14.4 – Privacy Officer role definition " height="717" src="image/Figure_14.04_B18779.jpg" width="1209"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.4 – Privacy Officer role definition</p>
<p lang="en-GB">For more details on creating and assigning roles, refer to <a href="B18779_06.xhtml#_idTextAnchor116"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 6</em></span></a>, <em class="italic" lang="">Managing Permissions, Roles, </em><span class="No-Break" lang=""><em class="italic" lang="">and Capabilities</em></span><span class="No-Break" lang="">.</span></p>
<p lang="en-GB">The<a id="_idIndexMarker1363"/> new role must be selected in <strong class="bold" lang="">Privacy officer role mapping</strong> in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Privacy settings</strong>. This role mapping and the <strong class="source-inline" lang="">moodle/site:configview</strong> capability will grant assigned privacy officers access to the relevant site administration menu items <span class="No-Break" lang="">as shown:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer374">
<img alt="Figure 14.5 – Activating Privacy Officer functionality " height="718" src="image/Figure_14.05_B18779.jpg" width="1209"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.5 – Activating Privacy Officer functionality</p>
<p lang="en-GB">Once the <strong class="bold" lang="">Contact the privacy officer</strong> option has been enabled, users will have access <a id="_idIndexMarker1364"/>to the feature via the <strong class="bold" lang="">Privacy and policies</strong> section in the user profile, as shown in <span class="No-Break" lang=""><em class="italic" lang="">Figure 14</em></span><em class="italic" lang="">.3</em>. It is recommended to keep this feature deactivated until you have configured all required privacy elements. We’ll start with the right to be informed, implemented in Moodle <span class="No-Break" lang="">as policies.</span></p>
<h1 id="_idParaDest-275" lang="en-GB"><a id="_idTextAnchor275"/>Managing policies</h1>
<p lang="en-GB">Moodle has<a id="_idIndexMarker1365"/> implemented a policy tool that lets you define multiple policies, supports policy versions, tracks user agreements, and can deal with the consent <span class="No-Break" lang="">of minors.</span></p>
<p lang="en-GB">To give you an initial understanding of how Moodle policies are structured, have a look at the <span class="No-Break" lang="">following diagram:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer375">
<img alt="Figure 14.6 – Moodle policies " height="998" src="image/Figure_14.06_B18779.jpg" width="870"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.6 – Moodle policies</p>
<p lang="en-GB">A site <a id="_idIndexMarker1366"/>can have multiple policies; for example, you might have three policies: one handling user data privacy, one dealing with cookies, and one covering third-party plugins and <span class="No-Break" lang="">external data.</span></p>
<p lang="en-GB">Each policy can have multiple versions. Every time there is a change in a policy, a new version is created, which might have to be consented to by your users. For each version that is not labeled as a minor change (typos or cosmetic adjustments), Moodle keeps track of <span class="No-Break" lang="">user agreements.</span></p>
<p lang="en-GB">In this<a id="_idIndexMarker1367"/> section, you will learn how to configure and monitor the following <span class="No-Break" lang="">policy features:</span></p>
<ul>
<li lang="en-GB">Choosing a site <span class="No-Break" lang="">policy handler</span></li>
<li lang="en-GB">Creating and updating policies, including <span class="No-Break" lang="">policy versions</span></li>
<li lang="en-GB">Monitoring <span class="No-Break" lang="">user agreements</span></li>
<li lang="en-GB">Dealing with minors (in Moodle, not <span class="No-Break" lang="">in life)</span></li>
</ul>
<p lang="en-GB">Before we create our first policy, we first need to choose a site <span class="No-Break" lang="">policy handler.</span></p>
<h2 id="_idParaDest-276" lang="en-GB"><a id="_idTextAnchor276"/>Choosing a site policy handler</h2>
<p lang="en-GB">The <a id="_idIndexMarker1368"/>Moodle site policy handler determines how data policies and user consent are managed. Moodle ships with the following two <span class="No-Break" lang="">policy handlers:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Default (core)</strong>: You can specify a <strong class="bold" lang="">Site policy URL</strong> parameter, which has to be agreed to by all registered users, and a <strong class="bold" lang="">Site policy URL for </strong><span class="No-Break" lang=""><strong class="bold" lang="">guests</strong></span><span class="No-Break" lang=""> parameter</span></li>
<li lang="en-GB"><strong class="bold" lang="">Policies (tool_policy)</strong>: You can manage multiple site, privacy, and other policies, including policy versions, and monitor different types of <span class="No-Break" lang="">user consent</span></li>
</ul>
<p lang="en-GB">The <strong class="source-inline" lang="">core</strong> policy handler is a one-size-fits-all method and does not support advanced policy functionality. We recommend not using this “old” tool. The remainder of this chapter focuses on <strong class="source-inline" lang="">tool_policy</strong>, which you must enable at <strong class="bold" lang="">Site administration</strong> |<strong class="bold" lang=""> Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Policy settings</strong> by selecting the <strong class="bold" lang="">Site policy handler</strong> type, as illustrated in the <span class="No-Break" lang="">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer376">
<img alt="Figure 14.7 – Site policy handlers " height="515" src="image/Figure_14.07_B18779.jpg" width="1218"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.7 – Site policy handlers</p>
<p lang="en-GB">A <a id="_idIndexMarker1369"/>separate privacy policy can be specified for the Moodle app in the <strong class="bold" lang="">App policy URL</strong> parameter in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">General</strong> | <strong class="bold" lang="">Mobile app</strong> | <strong class="bold" lang="">Mobile settings</strong>. If left empty, the global <strong class="bold" lang="">Site policy URL</strong> parameter will be used instead. We have dealt with the app policy in <a href="B18779_11.xhtml#_idTextAnchor216"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 11</em></span></a>, <em class="italic" lang="">Enabling </em><span class="No-Break" lang=""><em class="italic" lang="">Mobile Learning</em></span><span class="No-Break" lang="">.</span></p>
<p lang="en-GB">Site policy handlers have been implemented as plugins. Technically, future data protection frameworks from other regulations may be developed and made available <span class="No-Break" lang="">in Moodle.</span></p>
<p lang="en-GB">Now that we have chosen the correct policy handler, let’s create our <span class="No-Break" lang="">first policy.</span></p>
<h2 id="_idParaDest-277" lang="en-GB"><a id="_idTextAnchor277"/>Creating policies</h2>
<p lang="en-GB">Policies <a id="_idIndexMarker1370"/>are managed in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> |<strong class="bold" lang=""> Manage policies</strong>. In our system, we have already created three policies—one is active, and two are in draft status, as <span class="No-Break" lang="">seen here:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer377">
<img alt="Figure 14.8 – Policies and agreements " height="567" src="image/Figure_14.08_B18779.jpg" width="1371"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.8 – Policies and agreements</p>
<p lang="en-GB">Every user <a id="_idIndexMarker1371"/>who logs on to your Moodle site for the first time must agree to any active privacy notice; two users have already done so, and the others are <span class="No-Break" lang="">still missing.</span></p>
<p lang="en-GB">When you select the <strong class="bold" lang="">New policy</strong> button, you will be presented with the <span class="No-Break" lang="">following screen:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer378">
<img alt="Figure 14.9 – Creating a new policy " height="1094" src="image/Figure_14.09_B18779.jpg" width="1391"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.9 – Creating a new policy</p>
<p lang="en-GB">In addition <a id="_idIndexMarker1372"/>to the self-explanatory <strong class="bold" lang="">Name</strong> field, the following fields have to <span class="No-Break" lang="">be provided:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Type</strong>: The available options are <strong class="bold" lang="">Site policy</strong>, <strong class="bold" lang="">Privacy policy</strong>, <strong class="bold" lang="">Third parties policy</strong>, and <strong class="bold" lang="">Other policy</strong>. The policy type does not impact the policy behavior and is for display <span class="No-Break" lang="">purposes only.</span></li>
<li lang="en-GB"><strong class="bold" lang="">User consent</strong>: Does the policy apply to <strong class="bold" lang="">All users</strong>, <strong class="bold" lang="">Authenticated users</strong>, or only <strong class="bold" lang="">Guests</strong>? Guest policies don’t have to be given consent to; instead, if a user browses the site or logs in as a guest, a modal notice window is shown at the bottom of the page with links to all policies that have been defined for guests or <span class="No-Break" lang="">all users:</span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer379">
<img alt="Figure 14.10 – Guest policies " height="134" src="image/Figure_14.10_B18779.jpg" width="913"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.10 – Guest policies</p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Version</strong>: You <a id="_idIndexMarker1373"/>should come up with your own versioning convention. Most sites use the date, a version number, or a combination thereof. If the version of an edited policy hasn’t been changed, Moodle automatically appends a version number <span class="No-Break" lang="">to it.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Summary</strong>: A short description of the policy, which will be shown on the <span class="No-Break" lang="">acknowledgment screen.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Full policy</strong>: That’s the policy’s full (<span class="No-Break" lang="">legal) text.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Show policy before showing other policies</strong>: Should this be the first policy to be shown when multiple policies are present? An alternative way to change the order of policies is by using the up and down arrows on the <strong class="bold" lang="">Policies and </strong><span class="No-Break" lang=""><strong class="bold" lang="">agreements</strong></span><span class="No-Break" lang=""> screen.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Agreement optional</strong>: Optional agreements are displayed but can be declined by users <span class="No-Break" lang="">without consequences.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Policy status</strong>: As soon as you switch the status from <strong class="bold" lang="">Draft</strong> to <strong class="bold" lang="">Active</strong>, users (except administrators) have to consent to the policy <span class="No-Break" lang="">at login.</span></li>
</ul>
<p lang="en-GB">Be careful with creating too many try-out policies: as soon as you have set a policy to <strong class="bold" lang="">Active</strong> once, it cannot be deleted anymore! All you can do is change its status back to <strong class="bold" lang="">Draft</strong>, but it’ll be in your system indefinitely unless you manually remove it at the <span class="No-Break" lang="">database level.</span></p>
<p lang="en-GB">If you modify a policy, Moodle creates a new version, which we will cover in the <span class="No-Break" lang="">following subsection.</span></p>
<h2 id="_idParaDest-278" lang="en-GB"><a id="_idTextAnchor278"/>Updating policies (versioning)</h2>
<p lang="en-GB">Due to<a id="_idIndexMarker1374"/> the fact that data protection is a legal requirement, a history of the entire policy trail must be kept. This auditability applies to policies (covered first) and user agreements (<span class="No-Break" lang="">covered next).</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">When you edit a policy, Moodle will create a <span class="No-Break" lang="">new version.</span></p>
<p lang="en-GB">When editing a user policy, you will likely change its name and/or content (summary or full policy). Either way, two fields are relevant for the handling of <span class="No-Break" lang="">the policy:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Version</strong>: Each version number within a policy trail has to be unique. If you don’t change it, Moodle will automatically amend it with a <span class="No-Break" lang="">version number.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Policy status</strong>: If the status of the policy is active, you can choose whether the edited version is a minor or major change. Minor changes do not have to be consented to by users; major <span class="No-Break" lang="">ones do.</span></li>
</ul>
<p lang="en-GB">You can view the version trail of a policy via the <strong class="bold" lang="">View previous versions</strong> option in the <strong class="bold" lang="">Actions</strong> column on the <strong class="bold" lang="">Manage policies</strong> page. Users can also view current and out-of-date versions via the <strong class="bold" lang="">Policies and agreement</strong> link in the <strong class="bold" lang="">Privacy and policy</strong> block in their profile. Here is a sample where our cookies policy has <span class="No-Break" lang="">three versions:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer380">
<img alt="Figure 14.11 – Policy versions" height="1141" src="image/Figure_14.11_B18779.jpg" width="1413"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.11 – Policy versions</p>
<p lang="en-GB">Once you<a id="_idIndexMarker1375"/> have created and updated your policies, you can manage their user agreements, as covered in the <span class="No-Break" lang="">following subsection.</span></p>
<h2 id="_idParaDest-279" lang="en-GB"><a id="_idTextAnchor279"/>Monitoring user agreements</h2>
<p lang="en-GB">A<a id="_idIndexMarker1376"/> user agreement spells out the rights and responsibilities of all <span class="No-Break" lang="">involved parties.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">A <a id="_idIndexMarker1377"/>user agreement<a id="_idIndexMarker1378"/> is a <strong class="bold" lang="">legally binding contract</strong> between a data subject (Moodle user) and the site’s owner, operator, or provider (data controller or <span class="No-Break" lang="">data processor).</span></p>
<p lang="en-GB">Given the<a id="_idIndexMarker1379"/> contractual nature of user agreements, you, the privacy officer, or anybody who has been granted permission (<strong class="source-inline" lang="">tool/policy:viewacceptances</strong>) must keep track of user agreements. You can view the status of each agreement in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <span class="No-Break" lang=""><strong class="bold" lang="">User agreements</strong></span><span class="No-Break" lang="">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer381">
<img alt="Figure 14.12 – User agreements " height="437" src="image/Figure_14.12_B18779.jpg" width="1215"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.12 – User agreements</p>
<p lang="en-GB">User agreements for a particular policy may also be viewed via the <strong class="bold" lang="">Manage policies</strong> page by clicking the link in the <strong class="bold" lang="">Agreements</strong> column. You can filter the table by <strong class="bold" lang="">Policy</strong> (and its versions), <strong class="bold" lang="">Permission</strong>, <strong class="bold" lang="">Status</strong>, and <strong class="bold" lang="">Role</strong>. For each user and each policy, one of the following statuses <span class="No-Break" lang="">is shown:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Accepted</strong>: The user has consented to <span class="No-Break" lang="">the policy.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Pending</strong>: The user has not (yet) consented to <span class="No-Break" lang="">the policy.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Declined</strong>: The user has rejected the policy. This status only exists for <span class="No-Break" lang="">optional agreements.</span></li>
</ul>
<p lang="en-GB">Any user with the <strong class="source-inline" lang="">tool/policy:acceptbehalf</strong> capability can give consent <strong class="bold" lang="">on a user’s behalf</strong>. This operation is relevant in scenarios where written consent has been obtained offline or consent has to be given on behalf of minors, which we will deal <span class="No-Break" lang="">with next.</span></p>
<h2 id="_idParaDest-280" lang="en-GB"><a id="_idTextAnchor280"/>Dealing with minors</h2>
<p lang="en-GB">The GDPR attaches<a id="_idIndexMarker1380"/> particular importance to protecting children’s personal data. Minors (users younger than the age of digital consent) may<a id="_idIndexMarker1381"/> be prevented from consenting to privacy policies. Instead, someone (usually a parent or guardian) must give consent on <span class="No-Break" lang="">their behalf.</span></p>
<p lang="en-GB">To deal with users agreeing to policies, you need to make use of the <strong class="source-inline" lang="">tool/policy:accept</strong> capability. Depending on the percentage of minors on your site, you can choose between two different approaches, as outlined next (partly borrowed <span class="No-Break" lang="">from </span><a href="https://docs.moodle.org/en/Policies#Minors"><span class="No-Break" lang="">docs.moodle.org/en/Policies#Minors</span></a><span class="No-Break" lang="">).</span></p>
<h3 lang="en-GB">Sites with minors as the majority of users</h3>
<p lang="en-GB">This<a id="_idIndexMarker1382"/> approach prevents all users from accepting policies except those you explicitly grant permission to—for instance, teachers or staff. Here are the steps you would need <span class="No-Break" lang="">to take:</span></p>
<ol>
<li lang="en-GB" value="1">Set the <strong class="source-inline" lang="">tool/policy:accept</strong> capability to <strong class="bold" lang="">Prohibit</strong> in the <strong class="bold" lang="">Authenticated </strong><span class="No-Break" lang=""><strong class="bold" lang="">user</strong></span><span class="No-Break" lang=""> role.</span></li>
<li lang="en-GB">Create a new role with the <strong class="source-inline" lang="">tool/policy:accept</strong> capability set to <strong class="bold" lang="">Allow</strong>, and set <strong class="bold" lang="">context type where the role may be assigned</strong> <span class="No-Break" lang="">to </span><span class="No-Break" lang=""><strong class="bold" lang="">System</strong></span><span class="No-Break" lang="">.</span></li>
<li lang="en-GB">Assign the new role to all users who are allowed to agree <span class="No-Break" lang="">to policies.</span></li>
</ol>
<p lang="en-GB">For instructions on modifying and creating roles, refer to <a href="B18779_06.xhtml#_idTextAnchor116"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 6</em></span></a>, <em class="italic" lang="">Managing Permissions, Roles, </em><span class="No-Break" lang=""><em class="italic" lang="">and Capabilities</em></span><span class="No-Break" lang="">.</span></p>
<h3 lang="en-GB">Sites with minors as the minority of users</h3>
<p lang="en-GB">The approach<a id="_idIndexMarker1383"/> is the opposite of the previous one and prevents nobody from accepting a policy except individually selected users (minors). Follow <span class="No-Break" lang="">these steps:</span></p>
<ol>
<li lang="en-GB" value="1">Create a new role with the <strong class="source-inline" lang="">tool/policy:accept</strong> capability set to <strong class="bold" lang="">Prohibit</strong>, and set <strong class="bold" lang="">context type where the role may be assigned</strong> <span class="No-Break" lang="">to </span><span class="No-Break" lang=""><strong class="bold" lang="">System</strong></span><span class="No-Break" lang="">.</span></li>
<li lang="en-GB">Assign the new role to all users who are NOT allowed to agree <span class="No-Break" lang="">to policies.</span></li>
</ol>
<p lang="en-GB">To avoid the overhead of dealing with paper-based policies and signatures that must then be accepted on their behalf in Moodle, consider the <strong class="bold" lang="">Parent</strong> role we covered in <a href="B18779_06.xhtml#_idTextAnchor116"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 6</em></span></a>, <em class="italic" lang="">Managing Permissions, Roles, </em><span class="No-Break" lang=""><em class="italic" lang="">and Capabilities</em></span><span class="No-Break" lang="">.</span></p>
<p lang="en-GB">The scenario we covered dealt with minors already authenticated on your site. When you expect minors to sign up for new accounts, you also need to verify their digital age of consent, which we will cover in the <span class="No-Break" lang="">following subsection.</span></p>
<h3 lang="en-GB">Verifying the digital age of consent</h3>
<p lang="en-GB">If you<a id="_idIndexMarker1384"/> have self-registration activated and anticipate minors signing up to your site, you should enable the <strong class="bold" lang="">Digital age of consent verification</strong> setting at <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Privacy settings</strong>, as illustrated in the <span class="No-Break" lang="">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer382">
<img alt="Figure 14.13 – Digital age of consent " height="791" src="image/Figure_14.13_B18779.jpg" width="1210"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.13 – Digital age of consent</p>
<p lang="en-GB">You can<a id="_idIndexMarker1385"/> further specify the <strong class="bold" lang="">Digital age of consent</strong> setting and the age in any country where it differs from the default. Enter each age on a new line with the format <strong class="source-inline" lang="">country code,</strong> <strong class="source-inline" lang="">age</strong>. The default age is indicated by <strong class="source-inline" lang="">*</strong> in place of the country code. The two-letter country codes are as specified in <span class="No-Break" lang="">ISO format.</span></p>
<p lang="en-GB">Once enabled and configured, users will have to provide their age and select a country of residence before they are allowed <span class="No-Break" lang="">to proceed.</span></p>
<p lang="en-GB">This concludes the section on privacy policies. The second part of the chapter deals with the data registry, which is needed for managing <span class="No-Break" lang="">data requests.</span></p>
<h1 id="_idParaDest-281" lang="en-GB"><a id="_idTextAnchor281"/>Configuring the data registry</h1>
<p lang="en-GB">One of the<a id="_idIndexMarker1386"/> information types that users can request under the GDPR is a list of all data processing and the reasoning behind it, including its retention period. The data registry contains that information, represented in categories <span class="No-Break" lang="">and purposes.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB"><strong class="bold" lang="">Categories</strong> are<a id="_idIndexMarker1387"/> used to organize the data <span class="No-Break" lang="">in Moodle.</span></p>
<p class="callout" lang="en-GB"><strong class="bold" lang="">Purposes</strong> describe <a id="_idIndexMarker1388"/>the usage (legal reason and retention period) of <span class="No-Break" lang="">the data.</span></p>
<p lang="en-GB">You will find the data registry in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Data registry</strong>, which displays the <span class="No-Break" lang="">following explanation:</span></p>
<p lang="en-GB"><em class="italic" lang="">The data registry enables categories (types of data) and purposes (the reasons for processing data) to be set for all content on the site – from users and courses down to activities and blocks. For each purpose, a retention period may be set. When a retention period has expired, the data is flagged and listed for deletion, awaiting </em><span class="No-Break" lang=""><em class="italic" lang="">admin confirmation.</em></span></p>
<p lang="en-GB">This note perfectly sums up the objective of the data registry. The structure of the data registry is depicted in the <span class="No-Break" lang="">following diagram:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer383">
<img alt="Figure 14.14 – Data registry " height="743" src="image/Figure_14.14_B18779.jpg" width="1384"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.14 – Data registry</p>
<p lang="en-GB">Every context<a id="_idIndexMarker1389"/> in the system, from <strong class="bold" lang="">Site</strong> to users and categories, all the way down to individual course activities and blocks, is assigned a category and a purpose. Before we can manage data requests, we first need to configure these categories and purposes, which we will cover in the following <span class="No-Break" lang="">two subsections.</span></p>
<h2 id="_idParaDest-282" lang="en-GB"><a id="_idTextAnchor282"/>Managing data registry categories</h2>
<p lang="en-GB">Select <a id="_idIndexMarker1390"/>the <strong class="bold" lang="">Categories</strong> item from the <strong class="bold" lang="">Edit</strong> menu in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> |<strong class="bold" lang=""> Privacy and policies</strong> | <strong class="bold" lang="">Data registry</strong> to access data registry categories. Use the plus button to add new entries; we have already created three data registry categories, <span class="No-Break" lang="">as follows:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer384">
<img alt="Figure 14.15 – Data registry categories " height="704" src="image/Figure_14.15_B18779.jpg" width="1209"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.15 – Data registry categories</p>
<p lang="en-GB">Before you<a id="_idIndexMarker1391"/> can assign added categories to contexts, we need to create data <span class="No-Break" lang="">registry purposes.</span></p>
<h2 id="_idParaDest-283" lang="en-GB"><a id="_idTextAnchor283"/>Managing data registry purposes</h2>
<p lang="en-GB">Select<a id="_idIndexMarker1392"/> the <strong class="bold" lang="">Purposes</strong> item from the <strong class="bold" lang="">Edit</strong> menu in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> |<strong class="bold" lang=""> Privacy and policies</strong> | <strong class="bold" lang="">Data registry</strong> to access data registry categories. Use the plus button to add new entries; we have already created some data registry purposes, <span class="No-Break" lang="">as follows:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer385">
<img alt="Figure 14.16 – Data registry purposes " height="540" src="image/Figure_14.16_B18779.jpg" width="1219"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.16 – Data registry purposes</p>
<p lang="en-GB">Each purpose <a id="_idIndexMarker1393"/>has the <span class="No-Break" lang="">following properties:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Name</strong> and <strong class="bold" lang="">Description</strong>: These should <span class="No-Break" lang="">be self-explanatory.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Lawful bases</strong>: Select at least one of the available options that serve as the lawful basis. Lawfulness is one of the seven <span class="No-Break" lang="">GDPR principles.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Sensitive personal data processing reasons</strong>: Select at least one of the available reasons that exempt the prohibition of processing personal data. Purpose limitation is another <span class="No-Break" lang="">GDPR principle.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Retention period</strong>: The retention period for course content is measured from the course end date an activity is in. For a user, it is from the last login time for any user who is no longer enrolled or has already <span class="No-Break" lang="">been deleted.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Protected</strong>: Specify whether this data is protected from erasure by the user or not. If set, the retention of this data has a higher legal precedent over a user’s request to be forgotten. This data will only be deleted after the retention period <span class="No-Break" lang="">has expired.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Role overrides</strong>: This option is only available when you edit a purpose. The default retention policy can be overridden for specific user roles, allowing you to specify a longer or shorter retention policy. A user account is only expired when all of their roles <span class="No-Break" lang="">have expired.</span></li>
</ul>
<p lang="en-GB">The options, including their GDPR articles for lawful bases and sensitive personal data processing reasons, are shown in the <span class="No-Break" lang="">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer386">
<img alt="Figure 14.17 – Data registry purpose " height="634" src="image/Figure_14.17_B18779.jpg" width="1188"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.17 – Data registry purpose</p>
<p lang="en-GB">Now that you <a id="_idIndexMarker1394"/>have created data registry categories and purposes, you can assign them to contexts, as shown in the <span class="No-Break" lang="">following subsection.</span></p>
<h2 id="_idParaDest-284" lang="en-GB"><a id="_idTextAnchor284"/>Assigning categories and purposes to contexts</h2>
<p lang="en-GB">In the data <a id="_idIndexMarker1395"/>registry, for every context in your Moodle site, a<a id="_idIndexMarker1396"/> category and purpose must be set, and thus the data retention period for that context. You should set the category and purpose at the site level; once this is set, all lower contexts will inherit from <span class="No-Break" lang="">that level.</span></p>
<p lang="en-GB">You can then set different categories and purposes for different context levels, such as having a specific course with a longer or shorter retention period, thus overriding the <span class="No-Break" lang="">inherited values.</span></p>
<p lang="en-GB">The <strong class="bold" lang="">Data registry</strong> interface<a id="_idIndexMarker1397"/> is shown in the<a id="_idIndexMarker1398"/> <span class="No-Break" lang="">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer387">
<img alt="Figure 14.18 – Assigning categories and purposes to contexts " height="824" src="image/Figure_14.18_B18779.jpg" width="1216"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.18 – Assigning categories and purposes to contexts</p>
<p lang="en-GB">For each context, the following values <span class="No-Break" lang="">are stored:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Subject scope</strong>: The roles that may be assigned in <span class="No-Break" lang="">this context</span></li>
<li lang="en-GB"><strong class="bold" lang="">Category</strong>: In addition to the categories specified, you have the <strong class="bold" lang="">Not set</strong> (<strong class="bold" lang="">use the default value</strong>) and <strong class="bold" lang="">Inherit</strong> (use the category from the parent <span class="No-Break" lang="">context) options</span></li>
<li lang="en-GB"><strong class="bold" lang="">Purpose</strong>: In addition to the purposes specified, you have the <strong class="bold" lang="">Not set</strong> (<strong class="bold" lang="">use the default value</strong>) and <strong class="bold" lang="">Inherit</strong> (use the purpose from the parent <span class="No-Break" lang="">context) options</span></li>
<li lang="en-GB"><strong class="bold" lang="">Retention period</strong>: The period is displayed as specified in the <span class="No-Break" lang="">selected purpose</span></li>
</ul>
<p lang="en-GB">To specify<a id="_idIndexMarker1399"/> default values, select the <strong class="bold" lang="">Set defaults</strong> button, where<a id="_idIndexMarker1400"/> you can edit the default values for course categories, courses, individual activities, and blocks. The hierarchy of contexts is—from top to bottom—site, category, course, activity, and block. We covered contexts in great detail in <a href="B18779_06.xhtml#_idTextAnchor116"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 6</em></span></a>, <em class="italic" lang="">Managing Permissions, Roles, </em><span class="No-Break" lang=""><em class="italic" lang="">and Capabilities</em></span><span class="No-Break" lang="">.</span></p>
<p lang="en-GB">All Moodle core plugins fully comply with the Moodle Privacy API (<a href="https://docs.moodle.org/dev/Privacy_API">docs.moodle.org/dev/Privacy_API</a>). It is highly recommended that you only install third-party plugins that also support the Privacy API, which you can verify in<a id="_idIndexMarker1401"/> the <strong class="bold" lang="">plugin privacy compliance registry</strong> at <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Plugin privacy registry</strong>. All installed Moodle plugins are listed alongside information on personal data stored and whether they comply with the Privacy API or not. Any flagged plugins storing personal data will not be able to be exported or deleted through Moodle’s privacy system. Privacy-friendly plugins are labeled as such in the Moodle plugins database at <a href="https://moodle.org/plugins">moodle.org/plugins</a>. You can <a id="_idIndexMarker1402"/>see an example of <span class="No-Break" lang="">this here:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer388">
<img alt="Figure 14.19 – Privacy-friendly plugins " height="313" src="image/Figure_14.19_B18779.jpg" width="279"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.19 – Privacy-friendly plugins</p>
<p lang="en-GB">Users can view the data registry information (core and third-party) via the <strong class="bold" lang="">Data retention summary</strong> link in their profile. You can remove this link by unticking the <strong class="bold" lang="">Show data retention summary</strong> option in <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <span class="No-Break" lang=""><strong class="bold" lang="">Privacy settings</strong></span><span class="No-Break" lang="">.</span></p>
<p lang="en-GB">Once the data registry has been completed, it will be used by data deletion processes, which are part of the data requests covered in the <span class="No-Break" lang="">following section.</span></p>
<h1 id="_idParaDest-285" lang="en-GB"><a id="_idTextAnchor285"/>Managing data requests</h1>
<p lang="en-GB">Users <a id="_idIndexMarker1403"/>have different options to request information or amendments to their data via their <span class="No-Break" lang="">profile menu:</span></p>
<ul>
<li lang="en-GB">Contact the privacy <span class="No-Break" lang="">officer (</span><span class="No-Break" lang=""><strong class="bold" lang="">Message</strong></span><span class="No-Break" lang="">)</span></li>
<li lang="en-GB">Request a copy of their personal <span class="No-Break" lang="">data (</span><span class="No-Break" lang=""><strong class="bold" lang="">Export</strong></span><span class="No-Break" lang="">)</span></li>
<li lang="en-GB">Request the deletion of their personal <span class="No-Break" lang="">data (</span><span class="No-Break" lang=""><strong class="bold" lang="">Delete</strong></span><span class="No-Break" lang="">)</span></li>
</ul>
<p lang="en-GB">The following diagram<a id="_idIndexMarker1404"/> illustrates the workflow of data requests, also known as subject <span class="No-Break" lang="">access requests:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer389">
<img alt="Figure 14.20 – Data request workflows " height="579" src="image/Figure_14.20_B18779.jpg" width="1306"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.20 – Data request workflows</p>
<p lang="en-GB">To manage all data requests, go to <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Data requests</strong>, where you see a screen <span class="No-Break" lang="">like this:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer390">
<img alt="Figure 14.21 – Data requests " height="557" src="image/Figure_14.21_B18779.jpg" width="1216"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.21 – Data requests</p>
<p lang="en-GB">The message<a id="_idIndexMarker1405"/> workflow is straightforward: a user contacts the privacy officer via the contact form in their user profile. The privacy officer will be notified, and can then act upon the message and mark the request as complete. This option covers the data subject’s right to rectification—that is, the right to ask for the correction of data they believe <span class="No-Break" lang="">is inaccurate.</span></p>
<p lang="en-GB">The other two workflows—export and deletion—require a little more attention and will be dealt with in the following <span class="No-Break" lang="">two subsections.</span></p>
<h2 id="_idParaDest-286" lang="en-GB"><a id="_idTextAnchor286"/>Data export</h2>
<p lang="en-GB">Data<a id="_idIndexMarker1406"/> subjects have the right to access their personal data, and the data export feature facilitates this <span class="No-Break" lang="">GDPR right.</span></p>
<p lang="en-GB">User requests to export all their data are initially labeled as <strong class="bold" lang="">Awaiting approval</strong>. As long as no action has been taken, users can <strong class="bold" lang="">Cancel</strong> their requests. The privacy officer either has to <strong class="bold" lang="">Approve</strong> or <strong class="bold" lang="">Deny</strong> the export requests; once approved, requests will be queued and processed during the next <strong class="source-inline" lang="">cron</strong> run (<strong class="bold" lang="">Processing</strong>). When completed, the user will be notified that the data export status has been changed to <strong class="bold" lang="">Download ready</strong>. When the specified period has passed, the status will change to <strong class="bold" lang="">Expired</strong>, and downloading will <span class="No-Break" lang="">be disabled.</span></p>
<p lang="en-GB">The <a id="_idIndexMarker1407"/>data export format is <strong class="bold" lang="">JSON</strong> and complies with the GDPR right to portability, where the data has to be in a structured, commonly used, and machine-readable format. The download comprises a zipped bundle of files, including <span class="No-Break" lang="">field descriptors.</span></p>
<p lang="en-GB">Three parameters have an impact on the data export workflow, which you can configure at <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <span class="No-Break" lang=""><strong class="bold" lang="">Privacy settings</strong></span><span class="No-Break" lang="">:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Automatic data export request approval</strong>: The approval step is skipped, and the export is <span class="No-Break" lang="">approved automatically.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Data request expiry</strong>: The time that approved data requests will be available for download before expiring. If set to zero, then there is no <span class="No-Break" lang="">time limit.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Include logs when exporting</strong>: Whether or not user-related log entries are included in <span class="No-Break" lang="">the export.</span></li>
</ul>
<p lang="en-GB">Data export covers the right to access in the GDPR. The right to erasure is covered by data deletion, which is the topic of the <span class="No-Break" lang="">following subsection.</span></p>
<h2 id="_idParaDest-287" lang="en-GB"><a id="_idTextAnchor287"/>Data deletion</h2>
<p lang="en-GB">Data subjects <a id="_idIndexMarker1408"/>have the right to ask for their data to be erased, provided that this doesn’t conflict with legitimate reasons against this right. The latter half of this sentence is tricky, as “legitimate reasons” might differ not only between organizations but also between Moodle instances, user types (roles), courses, and even individual activities. We specified this information in the data registry, which is taken into account during data <span class="No-Break" lang="">deletion processing.</span></p>
<p lang="en-GB">The initial stages of the data deletion process are identical to the data export workflow: requests are put in a holding area where they wait for approval; they can then be approved or denied by the privacy officer unless the user has canceled <span class="No-Break" lang="">the request.</span></p>
<p lang="en-GB">The data erasure is processed during the next <strong class="source-inline" lang="">cron</strong> run considering data retention periods specified in the data registry. Depending on how granular you have specified data retention values, this might trigger the removal of some data straightaway, whereas other data might not be deleted for years. The following basic timeline illustrates when data is erased during the deletion processing and when it is kept until the end of the <span class="No-Break" lang="">expiry period:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer391">
<img alt="Figure 14.22 – Retention period – protected versus not protected " height="575" src="image/Figure_14.22_B18779.jpg" width="968"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.22 – Retention period – protected versus not protected</p>
<p lang="en-GB">You <a id="_idIndexMarker1409"/>can view data for which the retention period has expired by navigating to <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <strong class="bold" lang="">Data Deletion</strong> and choosing a context (<strong class="bold" lang="">Course</strong>, <strong class="bold" lang="">User</strong>, <strong class="bold" lang="">Activities and resources</strong>, and <strong class="bold" lang="">Blocks</strong>). In my system, the retention period for personal data is 7 years. I didn’t want to wait that long, so I created a test retention period of a single day to demonstrate its behavior, <span class="No-Break" lang="">as follows:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer392">
<img alt="Figure 14.23 – Data deletion " height="366" src="image/Figure_14.23_B18779.jpg" width="1199"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.23 – Data deletion</p>
<p lang="en-GB">Each entry shows privacy-related information about the data to be deleted—here, it is a user. You need to confirm the irreversible data deletion, which will be executed during the next <span class="No-Break" lang=""><strong class="source-inline" lang="">cron</strong></span><span class="No-Break" lang=""> run.</span></p>
<p lang="en-GB">Three <a id="_idIndexMarker1410"/>parameters have an impact on the data deletion workflow, which you can configure at <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Users</strong> | <strong class="bold" lang="">Privacy and policies</strong> | <span class="No-Break" lang=""><strong class="bold" lang="">Privacy settings</strong></span><span class="No-Break" lang="">:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Automatic data deletion request approval</strong>: The approval step is skipped, and the deletion is <span class="No-Break" lang="">approved automatically</span></li>
<li lang="en-GB"><strong class="bold" lang="">Create automatic data deletion requests</strong>: When users are deleted manually, a data deletion request will be <span class="No-Break" lang="">created automatically</span></li>
<li lang="en-GB"><strong class="bold" lang="">Consider courses without end data as active</strong>: This option has been explained in detail in the inline help and details nicely how the retention period for course users <span class="No-Break" lang="">is calculated:</span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer393">
<img alt="Figure 14.24 – Data retention calculation for user expiry " height="387" src="image/Figure_14.24_B18779.jpg" width="1221"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.24 – Data retention calculation for user expiry</p>
<p lang="en-GB">This concludes the section on managing data requests, where we covered Moodle’s data privacy tools to deal with the following GDPR <span class="No-Break" lang="">user rights:</span></p>
<ul>
<li lang="en-GB">Right to <span class="No-Break" lang="">rectification (</span><span class="No-Break" lang=""><strong class="bold" lang="">Message</strong></span><span class="No-Break" lang="">)</span></li>
<li lang="en-GB">Right to <span class="No-Break" lang="">access (</span><span class="No-Break" lang=""><strong class="bold" lang="">Export</strong></span><span class="No-Break" lang="">)</span></li>
<li lang="en-GB">Right to <span class="No-Break" lang="">erasure (</span><span class="No-Break" lang=""><strong class="bold" lang="">Delete</strong></span><span class="No-Break" lang="">)</span></li>
</ul>
<p lang="en-GB">To conclude the chapter, we have summarized its content and provided its key messages in a Moodle <span class="No-Break" lang="">privacy checklist.</span></p>
<h1 id="_idParaDest-288" lang="en-GB"><a id="_idTextAnchor288"/>Summary</h1>
<p lang="en-GB"><strong class="bold" lang="">May 25, 2018</strong>: The GDPR applies to all <span class="No-Break" lang="">EU residents.</span></p>
<p lang="en-GB"><strong class="bold" lang="">One week earlier</strong>: Moodle 3.5 is released, supporting some but not all <span class="No-Break" lang="">GDPR features.</span></p>
<p lang="en-GB">We started the chapter on Moodle privacy with those two events in May 2018. Now that you have read through the chapter and hopefully realized the complexity of ensuring the compliance of all IT systems, can you imagine the hectic week all stakeholders had to configure Moodle systems? For those old enough to remember, dealing with the Y2K bug was peanuts compared to complying <span class="No-Break" lang="">with GDPR.</span></p>
<p lang="en-GB">This chapter introduced some legal background on the GDPR. We then designated a privacy officer by setting up a dedicated role and activating the <strong class="bold" lang="">Privacy </strong><span class="No-Break" lang=""><strong class="bold" lang="">Officer</strong></span><span class="No-Break" lang=""> functionality.</span></p>
<p lang="en-GB">Next, you learned all you need to know to manage policies. We configurated Moodle’s policy handler before creating and updating versioned policies. We then monitored user agreements and dealt with minors in your <span class="No-Break" lang="">Moodle system.</span></p>
<p lang="en-GB">Then, we configured your data registry, setting up data registry categories and purposes before assigning them <span class="No-Break" lang="">to contexts.</span></p>
<p lang="en-GB">Finally, we managed data requests, dealing with data rectification (<strong class="bold" lang="">Message</strong>), data access (<strong class="bold" lang="">Export</strong>), and data <span class="No-Break" lang="">erasure (</span><span class="No-Break" lang=""><strong class="bold" lang="">Delete</strong></span><span class="No-Break" lang="">).</span></p>
<p lang="en-GB">As a summary, here is a short Moodle privacy checklist. While this enumeration is by no means complete, it gives an indication of the elements you are responsible for as a Moodle administrator and/or Moodle <span class="No-Break" lang="">privacy officer:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer394">
<img alt="Figure 14.25 – Moodle privacy checklist " height="607" src="image/Figure_14.25_B18779.jpg" width="1204"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 14.25 – Moodle privacy checklist</p>
<p lang="en-GB">Now that your system hopefully complies with data privacy and all the grey suits are happy, let’s ensure Moodle performs to its full potential. In the following chapter, we will optimize Moodle to guarantee adequate scalability and hence, a good <span class="No-Break" lang="">user experience.</span></p>
</div>
</div></body></html>
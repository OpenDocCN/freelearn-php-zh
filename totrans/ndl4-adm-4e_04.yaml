- en: '4'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '4'
- en: Managing Courses and Enrolments
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理课程和注册
- en: 'Moodle stores learning resources and activities in courses, which is the topic
    of this chapter, which has been divided into two main parts: **course management**
    and **course enrolments**.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle将学习资源和活动存储在课程中，这是本章的主题，已被分为两个主要部分：**课程管理**和**课程注册**。
- en: 'In the first part of this chapter, you will learn about the following aspects
    of managing courses and course categories:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的第一部分，您将了解以下关于课程和课程类别管理的方面：
- en: Organizing courses into categories and subcategories
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将课程组织到类别和子类别中
- en: Creating and managing courses
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建和管理课程
- en: Adding custom course fields
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加自定义课程字段
- en: Dealing with course requests
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理课程请求
- en: Managing courses in bulk
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 批量管理课程
- en: 'In the second part of the chapter, we will cover different ways of enrolling
    users in courses. The enrolment mechanisms that will be covered are the following:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的第二部分，我们将介绍不同的用户注册课程的方法。将要介绍的注册机制包括以下内容：
- en: Internal enrolment (manual, self, and guest)
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内部注册（手动、自助和访客）
- en: Cohort enrolment and synchronization
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 群体注册和同步
- en: Database-driven enrolment (LDAP, external databases, flat files, and IMS Enterprise
    files)
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据库驱动的注册（LDAP、外部数据库、平面文件和IMS企业文件）
- en: Meta courses
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 元课程
- en: Payment-driven enrolment (payment accounts and gateways, such as PayPal)
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以支付为驱动的注册（支付账户和网关，如PayPal）
- en: 'The following diagram shows a high-level overview of how the mentioned topics
    (courses, categories, and enrolment methods) are connected:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表展示了所提及的主题（课程、类别和注册方法）之间的高层次概览：
- en: '![Figure 4.1 – Courses, categories, and enrolments – a high-level overview
    ](img/Figure_4.01_B18779.jpg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![图4.1 – 课程、类别和注册 – 高层次概览](img/Figure_4.01_B18779.jpg)'
- en: Figure 4.1 – Courses, categories, and enrolments – a high-level overview
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.1 – 课程、类别和注册 – 高层次概览
- en: By the end of this chapter, you will know everything about the management of
    courses and categories. Furthermore, you will be able to select and configure
    the correct enrolment method(s) for the Moodle system in your organization.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，您将了解关于课程和类别管理的所有内容。此外，您将能够为您的组织中的Moodle系统选择和配置正确的注册方法（们）。
- en: Let’s get going with course management in general and course categories in particular.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从一般课程管理，特别是课程类别管理开始吧。
- en: Organizing courses into categories
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将课程组织到类别中
- en: 'The role of the Moodle administrator is to manage categories and courses. This
    section provides an overview of course categories and introduces a running example
    before introducing all aspects of category management: **creation**, **arrangement**,
    and **removal**.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle管理员的职责是管理类别和课程。本节提供了课程类别的概述，并在介绍类别管理的所有方面之前，先介绍一个运行示例：**创建**、**排列**和**删除**。
- en: Providing an overview of course categories
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提供课程类别的概述
- en: In the previous chapter, we briefly introduced the concept of categories, which
    act as containers for courses. They can have subcategories, which can further
    have sub-subcategories, and so on.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们简要介绍了类别的概念，它们作为课程的容器。它们可以有子类别，子类别还可以进一步有子子类别，依此类推。
- en: 'There are different ways of organizing course and category hierarchies – for
    instance, by department, subject area, or semester. The following figure shows
    two different category hierarchies representing the same organization:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 有不同的方式来组织课程和类别层次结构 – 例如，按部门、学科领域或学期。以下图表显示了代表同一组织的两个不同的类别层次结构：
- en: '![Figure 4.2 – Example category hierarchies ](img/Figure_4.02_B18779.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![图4.2 – 示例类别层次结构](img/Figure_4.02_B18779.jpg)'
- en: Figure 4.2 – Example category hierarchies
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.2 – 示例类别层次结构
- en: 'As you can see, each hierarchy represents the same information but in different
    forms. There is no right or wrong way to organize your categories and courses.
    The structure depends on the following parameters:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，每个层次结构都代表相同的信息，但以不同的形式。组织您的类别和课程没有对错之分。结构取决于以下参数：
- en: The size of your organization
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您组织的规模
- en: The number of courses you offer
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您提供的课程数量
- en: The type of courses you run
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您运行的课程类型
- en: The frequency of course commencement (once a term, once a year, roll-on/roll-off,
    etc.)
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 课程开始的频率（每学期一次、每年一次、滚动开始/结束等）
- en: It is highly advisable to get the structure right the first time around, as
    changing it is time-consuming and potentially confusing for the users. Also, try
    to plan ahead, thinking about whether the structure will work in the future –
    for example, when changing from one academic year to another (see also [*Chapter
    16*](B18779_16.xhtml#_idTextAnchor308), *Avoiding Sleepless Nights – Moodle Backup
    and Restore*, where we look at end-of-year procedures).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 非常建议第一次就正确设置结构，因为更改它既耗时又可能让用户感到困惑。此外，尽量提前规划，考虑结构在未来是否适用——例如，从一年级到另一学年的变化（也请参阅
    [*第 16 章*](B18779_16.xhtml#_idTextAnchor308)，*避免失眠之夜——Moodle 备份和恢复*，其中我们探讨了年末程序）。
- en: 'As mentioned before, different organizations apply different categorization
    approaches. Some examples of the category levels are as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，不同的组织采用不同的分类方法。以下是一些分类级别的示例：
- en: '**Campus** | **Department/School** | **Year** | **Subject**'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**校园** | **系/学校** | **年份** | **科目**'
- en: '**Year of entry** | **Topic** | **Subject**'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**入学年份** | **主题** | **科目**'
- en: '**Customer** | **Subject** | **Proficiency level**'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**客户** | **科目** | **熟练程度**'
- en: '**Trainer** | **Module**'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**培训师** | **模块**'
- en: '**Course repository** | **Topic**'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程库** | **主题**'
- en: Sometimes, deep levels of categories can be off-putting, as their management
    is cumbersome. However, remember that only you, as the administrator, will see
    the entire category structure. The students and teachers will usually only see
    the courses that they are enrolled in or to which they are assigned unless they
    browse the full course index.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，深层次的分类可能会让人望而却步，因为它们的管理很繁琐。然而，请记住，只有作为管理员的你才会看到整个分类结构。学生和教师通常只会看到他们注册的课程或分配给他们的课程，除非他们浏览完整的课程索引。
- en: Important note
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Developing a suitable naming convention for courses and categories is highly
    recommended – it simplifies maintenance and reduces unnecessary complexity.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 为课程和分类制定合适的命名约定非常推荐——它简化了维护并减少了不必要的复杂性。
- en: If you require a complete separation of organizational divisions, for instance,
    customers or self-contained business entities in an enterprise, course categories
    are usually not a suitable tool. Instead, you might want to consider Moodle Workplace,
    which supports multi-tenancy, including entirely isolated entities with their
    own look and feel, structure, users, and learning spaces (see [*Chapter 20*](B18779_20.xhtml#_idTextAnchor360),
    *Supporting Multi-Tenancy*, for details). More information on Moodle Workplace
    can be found at [moodle.com/solutions/workplace](http://moodle.com/solutions/workplace)
    or in the title *Corporate Learning with Moodle Workplace* by Packt Publishing.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要完全分离组织部门，例如，客户或企业中的独立业务实体，课程分类通常不是一个合适的工具。相反，你可能想考虑 Moodle Workplace，它支持多租户，包括具有自己外观、感觉、结构、用户和学习空间的完全隔离实体（有关详细信息，请参阅
    [*第 20 章*](B18779_20.xhtml#_idTextAnchor360)，*支持多租户*）。有关 Moodle Workplace 的更多信息，请访问
    [moodle.com/solutions/workplace](http://moodle.com/solutions/workplace) 或 Packt
    Publishing 的标题为 *使用 Moodle Workplace 进行企业学习* 的书籍。
- en: Now that we have shown the flexibility and versatility of category hierarchies,
    creating and managing your course categories is the next step.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经展示了分类层次结构的灵活性和多功能性，创建和管理你的课程分类是下一步。
- en: Managing course categories
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 管理课程分类
- en: 'Once you have planned your category hierarchy structure, it is time to represent
    the organization in Moodle. Categories are administered in **Site administration**
    | **Courses** | **Manage courses and categories**, as shown in the following screenshot:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你规划了分类层次结构，就是时候在 Moodle 中表示组织结构了。分类在 **网站管理** | **课程** | **管理课程和分类** 中进行管理，如下面的截图所示：
- en: '![Figure 4.3 – Course categories ](img/Figure_4.03_B18779.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.3 – 课程分类](img/Figure_4.03_B18779.jpg)'
- en: Figure 4.3 – Course categories
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.3 – 课程分类
- en: Initially, Moodle contains a single category called **Category 1**. The preceding
    screenshot shows that the default category has been renamed to **Computing** and
    three subcategories for years one to three have already been created.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 初始时，Moodle 包含一个名为 **类别 1** 的单个分类。前面的截图显示，默认分类已被重命名为 **计算机**，并为第一到三年级创建了三个子分类。
- en: 'In addition to the **Course categories** part of the screen, there are up to
    two more parts: one shows the list of **Courses** of the selected category, and
    one displays **Course details** once a course has been selected. This arrangement
    is depicted in the following diagram:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 除了屏幕上的**课程类别**部分外，还有多达两个更多部分：一个显示所选类别的**课程**列表，另一个在选中课程后显示**课程详情**。这种排列在以下图中表示：
- en: '![Figure 4.4 – Managing courses and categories ](img/Figure_4.04_B18779.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.4 – 管理课程和类别](img/Figure_4.04_B18779.jpg)'
- en: Figure 4.4 – Managing courses and categories
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.4 – 管理课程和类别
- en: 'All three parts will be shown underneath each other on very narrow screens
    (tablets or smartphones). You can switch between the three views via the **Viewing**
    dropdown and show **Course categories and courses** (default), only **Course categories**,
    or only **Courses**:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在非常窄的屏幕（平板电脑或智能手机）上，这三个部分将并排显示。您可以通过**查看**下拉菜单在三个视图之间切换，并显示**课程类别和课程**（默认），仅显示**课程类别**，或仅显示**课程**：
- en: '![Figure 4.5 – Managing courses and categories ](img/Figure_4.05_B18779.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.5 – 管理课程和类别](img/Figure_4.05_B18779.jpg)'
- en: Figure 4.5 – Managing courses and categories
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.5 – 管理课程和类别
- en: Now that you are familiar with the category management interface, let’s add
    our first course category to your Moodle site.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经熟悉了类别管理界面，让我们将第一个课程类别添加到您的 Moodle 网站中。
- en: Adding course categories
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 添加课程类别
- en: 'Click on the **Create new category** button or go directly to **Site administration**
    | **Courses** | **Add a category** and enter a new name in the **Category name**
    field to add a new category. The **Parent category** drop-down menu indicates
    the course’s location in the hierarchy. We will leave this set to **Top** and
    come back to it shortly. It is good practice to provide the optional **Category
    ID number** and **Description** information; the former is used when automating
    certain tasks, such as user uploads, while the latter is, for example, shown in
    the course index:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**创建新类别**按钮或直接转到**网站管理** | **课程** | **添加类别**，在**类别名称**字段中输入新名称以添加新类别。**父类别**下拉菜单指示课程在层次结构中的位置。我们将将其设置为**顶级**，稍后回来。提供可选的**类别
    ID 号**和**描述**信息是良好的实践；前者用于自动化某些任务，例如用户上传，而后者例如在课程索引中显示：
- en: '![Figure 4.6 – Adding a course category ](img/Figure_4.06_B18779.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.6 – 添加课程类别](img/Figure_4.06_B18779.jpg)'
- en: Figure 4.6 – Adding a course category
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.6 – 添加课程类别
- en: Next up is the creation of course subcategories to create a category hierarchy.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是创建课程子类别以创建类别层次结构。
- en: Creating course subcategories
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建课程子类别
- en: As mentioned earlier, to improve the organization of courses, Moodle allows
    the creation of subcategories. You can create a subcategory by choosing an existing
    category and then selecting **Create new subcategory** from the drop-down menu
    in the options or adding a new category (as shown in the preceding screenshot)
    and moving it into a parent category using the drop-down menus on the **Course
    categories** page. For example, create the **Computing Year 1**, **Computing Year
    2**, and **Computing Year 3** subcategories in **Computing**, and then move them
    into **Computing** using the drop-down menu. Alternatively, you can select the
    correct parent category when creating the subcategory.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，为了提高课程的组织性，Moodle 允许创建子类别。您可以通过选择一个现有类别，然后从选项中的下拉菜单中选择**创建新子类别**，或者添加一个新类别（如前一张截图所示），并使用**课程类别**页面上的下拉菜单将其移动到父类别中，来创建一个子类别。例如，在**计算机**类别下创建**计算机一年级**、**计算机二年级**和**计算机三年级**子类别，然后使用下拉菜单将它们移动到**计算机**类别下。或者，您可以在创建子类别时选择正确的父类别。
- en: So far, we have created categories and subcategories. Now, let’s look at how
    to rearrange categories in case you need to modify your hierarchy.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经创建了类别和子类别。现在，让我们看看如何重新排列类别，以防您需要修改您的层次结构。
- en: Organizing courses and categories
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 组织课程和类别
- en: 'The logical arrangement of categories has three main purposes:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 类别的逻辑排列有三个主要目的：
- en: The category hierarchy or the order of categories is displayed on various pages
    in Moodle – for example, when you need to specify the category to which a course
    has to be restored.
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类别层次结构或类别顺序在 Moodle 的多个页面上显示 – 例如，当您需要指定课程需要恢复到的类别时。
- en: Access permissions can be granted to a category and all its subcategories –
    for instance, all users from the Math department have access to the Math category.
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以授予类别及其所有子类别的访问权限——例如，数学系的所有用户都有访问数学类别的权限。
- en: Easier maintenance of the category structure. This only applies to the site
    admins and category administrators.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更容易维护类别结构。这仅适用于网站管理员和类别管理员。
- en: 'There are two operations to (re-)organize categories: **sorting** and **moving**.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种操作来（重新）组织类别：**排序**和**移动**。
- en: 'Let’s start with **moving** categories around. The easiest way to change the
    position of categories is by using the standard up and down arrows. A more flexible
    way is to select one or many categories and then select a new location from the
    **Move selected categories to** drop-down before pressing the **Move** button.
    When you move a parent category, all the child categories will move with it:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从**移动**类别开始。改变类别位置的最简单方法是使用标准上下箭头。一种更灵活的方法是选择一个或多个类别，然后从**移动选定类别到**下拉菜单中选择一个新位置，在按下**移动**按钮之前。当您移动一个父类别时，所有子类别都会随之移动：
- en: '![Figure 4.7 – Sorting and moving categories and courses](img/Figure_4.07_B18779.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.7 – 排序和移动类别及课程](img/Figure_4.07_B18779.jpg)'
- en: Figure 4.7 – Sorting and moving categories and courses
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.7 – 排序和移动类别及课程
- en: You have various options to sort categories. From the **Sorting** menu, you
    can choose to order by **All categories**, by **Selected category**, or by **This
    category** (which represents the current one). Categories can be sorted by their
    **name** or **ID number** in ascending or descending order, and they can also
    be unsorted (that is, you can put them in the original order when they were created).
    Once you have selected your option, press the **Sort** button.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 您有多种排序类别的选项。从**排序**菜单中，您可以选择按**所有类别**、**选定类别**或**当前类别**（代表当前类别）排序。类别可以按其**名称**或**ID号**升序或降序排序，也可以不排序（即，您可以将它们放回创建时的原始顺序）。一旦您选择了选项，请按**排序**按钮。
- en: 'Alternatively, you can expedite this process by selecting a sorting option
    from the pull-down menu for each parent category. From the options menu, several
    actions can be triggered, and they are as follows in the table:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可以通过为每个父类别选择下拉菜单中的排序选项来加速此过程。从选项菜单中，可以触发几个操作，如下表所示：
- en: '![Figure 4.8 – Category options ](img/Figure_4.08_B18779.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.8 – 类别选项](img/Figure_4.08_B18779.jpg)'
- en: Figure 4.8 – Category options
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.8 – 类别选项
- en: You can also hide categories using the eye icon (such as `moodle/course:viewhiddencourses`
    capability.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用眼睛图标（例如`moodle/course:viewhiddencourses`权限）隐藏类别。
- en: Once you select a category, it shows all its courses in the course area, and
    depending on your device and screen size, this can be to its right or underneath
    the categories area.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您选择一个类别，它就会在课程区域显示所有课程，具体位置取决于您的设备和屏幕大小，可能是位于类别区域的右侧或下方。
- en: 'While you can use the up and down arrows to reorganize courses, you can use
    the crossbar at the left and drag each course to its new location – a very handy
    feature, indeed. Courses can be sorted in ascending and descending order by their
    **full name**, **short name**, **ID number**, and **time created** information,
    and you also have an option to modify the number of courses shown per page. Hiding
    and moving selected courses works in the same way as it does for categories:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然您可以使用上下箭头重新组织课程，但您可以使用左侧的横杠并将每个课程拖到其新位置——这是一个非常实用的功能。课程可以按其**全名**、**简称**、**ID号**和**创建时间**信息升序或降序排序，您还可以选择修改每页显示的课程数量。隐藏和移动选定课程的方式与类别相同：
- en: '![Figure 4.9 – Moving and sorting courses ](img/Figure_4.09_B18779.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.9 – 移动和排序课程](img/Figure_4.09_B18779.jpg)'
- en: Figure 4.9 – Moving and sorting courses
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.9 – 移动和排序课程
- en: To sort courses across categories, you must choose the **All categories** option
    from the **Sorting** menu in the **Course categories** section. The ordering options
    are the same as in the context menu shown in the previous screenshot.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 要跨类别排序课程，您必须从**课程类别**部分的**排序**菜单中选择**所有类别**选项。排序选项与之前截图中的上下文菜单中的选项相同。
- en: 'Now that we have dealt with creating, modifying, and rearranging course categories,
    only one operation is missing: removing.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经处理了创建、修改和重新排列课程类别，只剩下一个操作：删除。
- en: Deleting course categories
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除课程类别
- en: 'When deleting a course category using the respective option in the drop-down
    menu, you must decide **What to do** with courses and subcategories if any exist:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用下拉菜单中的相应选项删除课程类别时，您必须决定如果存在课程和子类别，**如何处理它们**：
- en: '**Move contents to another category**: You will need to select one from the
    **Move** **into** option.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**将内容移动到另一个类别**：您需要从**移动到**选项中选择一个。'
- en: '**Delete all – cannot be undone**: This step cannot be undone!'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除所有 – 无法撤销**：此步骤无法撤销！'
- en: '![Figure 4.10 – Deleting a course category ](img/Figure_4.10_B18779.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![图4.10 – 删除课程类别](img/Figure_4.10_B18779.jpg)'
- en: Figure 4.10 – Deleting a course category
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.10 – 删除课程类别
- en: This concludes the section on managing course categories. The next step is to
    move down a level from categories to courses and how to create them, which we
    will deal with in the next section.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了关于管理课程类别的部分。下一步是从类别级别向下移动到课程，以及如何创建它们，我们将在下一节中处理。
- en: Creating courses
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建课程
- en: Courses are fundamental in Moodle. Learners and trainers spend most of their
    time in courses since this is where teaching, learning, and collaboration take
    place.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在Moodle中，课程是基础。学习者和管理员大部分时间都在课程中度过，因为教学、学习和协作都发生在这里。
- en: Important note
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: 'We have mentioned it before, but because it is critical to administering Moodle,
    here it goes again: Moodle is a course-centric system!'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前已经提到过，但鉴于它对管理Moodle至关重要，所以我们再次强调：Moodle是一个以课程为中心的系统！
- en: Before we start creating our first course, let’s briefly look at a typical course
    creation workflow.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始创建第一个课程之前，让我们简要地看看一个典型的课程创建工作流程。
- en: Course creation workflows
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 课程创建工作流程
- en: 'Different types of organizations offer different types of courses. Courses
    in a school are usually linked to a syllabus, whereas courses a commercial online
    provider offers are driven by a catalog or provided on an ad hoc basis. However,
    several steps are common in most course creation workflows, shown in the following
    diagram, where the top row shows the tasks to be carried out and the bottom row
    the role that is usually responsible:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的组织类型提供不同类型的课程。学校中的课程通常与课程大纲相关联，而商业在线提供商提供的课程则由目录驱动或根据需要提供。然而，大多数课程创建工作流程中都有几个共同步骤，如下面的图表所示，其中顶部行显示要执行的任务，底部行显示通常负责的角色：
- en: '![Figure 4.11 – A typical course creation workflow ](img/Figure_4.11_B18779.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![图4.11 – 典型的课程创建工作流程](img/Figure_4.11_B18779.jpg)'
- en: Figure 4.11 – A typical course creation workflow
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.11 – 典型的课程创建工作流程
- en: 'The steps are as follows:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 步骤如下：
- en: '**Course request**: Somebody requests a new course, which is often driven by
    a syllabus or can be an ad hoc requirement by a teacher.'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**课程请求**：有人请求一个新的课程，这通常由课程大纲驱动，或者可以是由教师提出的临时需求。'
- en: '**Create course**: The course skeleton can be created manually or automatically;
    both options will be dealt with after introducing this course creation workflow.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**创建课程**：课程框架可以是手动或自动创建的；这两种选项将在介绍完此课程创建工作流程后处理。'
- en: '**Notify teacher**: Letting the requester know that the course has been added.
    Again, this can either be done manually or automatically.'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**通知教师**：让请求者知道课程已被添加。同样，这可以是手动或自动完成的。'
- en: '**Adjust settings**: The new course owner responsible for the course will add
    any missing information – for example, the course description.'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**调整设置**：负责课程的新的课程所有者将添加任何缺失的信息——例如，课程描述。'
- en: '**Populate course**: The course requester is handed over an empty course or
    a skeleton based on a course template. It is up to the teacher to populate the
    course with learning content, activities, and interdependencies.'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**填充课程**：课程请求者被交给一个空课程或基于课程模板的框架。教师负责用学习内容、活动和相互依赖性填充课程。'
- en: '**Enrol users**: There are various options for adding users to a course. This
    can either be an automated process driven by the admin, done manually by the teacher,
    or, depending on your setup, by the learners themselves. We have dedicated the
    entire second part of this chapter to course enrolments, so hang in there for
    now.'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**注册用户**：有各种选项可以将用户添加到课程中。这可以是管理员驱动的自动化过程，由教师手动完成，或者根据您的设置，由学习者自己完成。我们已经在本章的第二部分专门讨论了课程注册，所以现在请耐心等待。'
- en: '**Start course**: At some stage, the course will be let loose into the wild,
    either from a specific start date (for instance, the beginning of the semester)
    or flexibly with a more dynamic setup (for example, self-paced online courses).'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**开始课程**：在某个阶段，课程将被释放到野外，要么是从特定的开始日期（例如，学期的开始）或更灵活的动态设置（例如，自定步调的在线课程）。'
- en: This process is not written in stone and might look different in your organization.
    Additional steps might have been added, or the order of specific tasks might be
    different, such as when enrolment occurs. However, the steps outlined are usually
    present in most course creation workflows. OK, enough processes and procedures;
    let’s add the first course to your Moodle system.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程并不是一成不变的，可能在您的组织中看起来不同。可能已经添加了额外的步骤，或者特定任务的顺序可能不同，例如在注册时。然而，概述的步骤通常存在于大多数课程创建工作流程中。好的，足够的过程和程序；让我们将第一个课程添加到您的
    Moodle 系统中。
- en: Creating a new course
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建新课程
- en: Once the **Create new course** button has been pressed, Moodle directs you to
    the settings page where course details must be entered. When we created our first
    course, we already came across this screen in [*Chapter 3*](B18779_03.xhtml#_idTextAnchor059),
    *Exploring Courses, Users,* *and Roles*.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦按下**创建新课程**按钮，Moodle 将您引导到设置页面，在此页面必须输入课程详细信息。当我们创建第一个课程时，我们已经在这个屏幕上遇到了[*第
    3 章*](B18779_03.xhtml#_idTextAnchor059)，*探索课程、用户和角色*。
- en: 'The following settings are available in the **General** and **Description**
    sections:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 以下设置在**常规**和**描述**部分可用：
- en: '![Figure 4.12 – Course settings ](img/Figure_4.12_B18779.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.12 – 课程设置](img/Figure_4.12_B18779.jpg)'
- en: Figure 4.12 – Course settings
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.12 – 课程设置
- en: By default, the `moodle/course:change` using the **Filter** box). [*Chapter
    6*](B18779_06.xhtml#_idTextAnchor116), *Managing Permissions, Roles, and Capabilities*,
    will deal with this in more detail.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，使用**过滤器**框的`moodle/course:change`（见[*第 6 章*](B18779_06.xhtml#_idTextAnchor116)，*管理权限、角色和能力*）将更详细地处理这个问题。
- en: Course formats
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 课程格式
- en: 'The following section in the course settings lets you choose a **Course format**
    option. A course format dictates how course content will be presented to the learner.
    Moodle ships with four formats, but more can be installed (see the *Installing
    third-party add-ons* section in [*Chapter 8*](B18779_08.xhtml#_idTextAnchor168),
    *Understanding Moodle Plugins*). Once you have selected a course format, the screen
    refreshes to load the respective course format settings:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在课程设置中的下一节允许您选择**课程格式**选项。课程格式决定了课程内容将以何种方式呈现给学习者。Moodle 随带提供四种格式，但可以安装更多（见[*第
    8 章*](B18779_08.xhtml#_idTextAnchor168)，*理解 Moodle 插件*）中的*安装第三方插件*部分）。一旦选择了课程格式，屏幕将刷新以加载相应的课程格式设置：
- en: '**Single-activity format**: This only shows the selected activity in a course
    – for instance, a SCORM package, assignment, forum, quiz, and so on'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**单一活动格式**：这仅显示课程中的所选活动 – 例如，SCORM 包、作业、论坛、测验等'
- en: '**Social format**: This is one main (social) forum, which is listed on the
    main course page – for example, a notice board'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**社交格式**：这是一个主要（社交）论坛，列在主课程页面上 – 例如，公告板'
- en: '**Topics format**: This is similar to the weekly format, except that each week
    is called a topic, and no time restriction applies'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主题格式**：这与周格式类似，但每个周被称为一个主题，没有时间限制'
- en: '**Weekly format**: In this format, a course is organized week-by-week, with
    a start and a finish date'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**周格式**：在这个格式中，课程按周组织，有开始和结束日期'
- en: You can specify the default course format for new courses by going to **Site
    administration** | **Courses** | **Course** **default settings**.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过访问**网站管理** | **课程** | **课程默认设置**来指定新课程的默认课程格式。
- en: Course dates
  id: totrans-122
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 课程日期
- en: 'While most course fields are (almost) self-explanatory, the date-related settings
    probably need more explanation, especially when used in conjunction with the **Weekly
    format** option just mentioned:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然大多数课程字段几乎是自我解释的，但日期相关设置可能需要更多解释，尤其是在与刚刚提到的**周格式**选项结合使用时：
- en: '![Figure 4.13 – Course date settings ](img/Figure_4.13_B18779.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.13 – 课程日期设置](img/Figure_4.13_B18779.jpg)'
- en: Figure 4.13 – Course date settings
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.13 – 课程日期设置
- en: Somewhat surprisingly, Moodle course dates don’t allow or restrict course access;
    instead, **Course start date** and **Course end date** affect whether course logs
    are displayed, the heading of each topic when run in **Weekly format**, and the
    status of a user’s course (in progress, future, or past).
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 有点令人惊讶的是，Moodle课程日期不允许或限制课程访问；相反，**课程开始日期**和**课程结束日期**会影响课程日志的显示、在**周格式**下运行时每个主题的标题以及用户课程的状态（进行中、未来或过去）。
- en: 'By default, course dates are absolute; the start and end dates are the same
    for each user. Moodle also supports relative course dates, where each user is
    given an individual start and end date: the relative start date is equal to the
    user’s enrolment date unless the enrolment took place before the course begins,
    in which case, the individual start date is the one that has been specified manually,
    that is, the course start date.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，课程日期是绝对的；每个用户的开始和结束日期相同。Moodle还支持相对课程日期，其中每个用户都给定一个单独的开始和结束日期：相对开始日期等于用户的注册日期，除非注册发生在课程开始之前，在这种情况下，个人开始日期是已手动指定的那个，即课程开始日期。
- en: Important note
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Relative dates mode** cannot be changed once the course has been created.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**相对日期模式**一旦创建课程后就不能更改。'
- en: 'The following table summarizes the discussed date-related settings in a course:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格总结了课程中讨论的与日期相关的设置：
- en: '![Figure 4.14 – Course date settings ](img/Figure_4.14_B18779.jpg)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![图4.14 – 课程日期设置](img/Figure_4.14_B18779.jpg)'
- en: Figure 4.14 – Course date settings
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.14 – 课程日期设置
- en: 'The individual **course status** is calculated as follows, taking into account
    the dates and modes we have discussed:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 个人**课程状态**的计算如下，考虑到我们讨论的日期和模式：
- en: '`start date ≤ today [≤` `end date]`'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`开始日期 ≤ 今天 [≤` `结束日期]`'
- en: '`today >` `end date`'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`今天 >` `结束日期`'
- en: '`today <` `start date`'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`今天 <` `开始日期`'
- en: The **Calculate the end date from the number of sections** option only appears
    when you run the course in **Weekly format**. If enabled, the course end date
    is calculated automatically based on the course start date (relative or absolute)
    and the number of sections or weeks. If course sections or weeks are added or
    removed, the course end date is adjusted automatically. If this checkbox is ticked,
    the course end date cannot be set manually.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '**从课程节数计算结束日期**选项仅在您以**周格式**运行课程时出现。如果启用，课程结束日期将自动根据课程开始日期（相对或绝对）和节数或周数计算。如果添加或删除课程节或周，课程结束日期将自动调整。如果勾选此复选框，则无法手动设置课程结束日期。'
- en: Note that at the time of writing, **Relative dates mode** is an experimental
    setting, as it has not yet been implemented in all activities (such as Quiz) or
    features (for instance, restrict access). It must be enabled via the **Enable
    course relative dates** setting in **Site administration** | **Development** |
    **Experimental** | **Experimental settings**.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在撰写本文时，**相对日期模式**是一个实验性设置，因为它尚未在所有活动（例如测验）或功能（例如限制访问）中实现。它必须通过**站点管理** |
    **开发** | **实验** | **实验设置**中的**启用课程相对日期**设置来启用。
- en: Other course fields
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他课程字段
- en: 'The remaining options in the **Appearance**, **Files and uploads**, **Completion
    tracking**, and **Groups** sections are as follows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**外观**、**文件和上传**、**完成跟踪**和**分组**部分剩余的选项如下：'
- en: '![Figure 4.15 – Course settings ](img/Figure_4.15_B18779.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图4.15 – 课程设置](img/Figure_4.15_B18779.jpg)'
- en: Figure 4.15 – Course settings
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.15 – 课程设置
- en: Once a course has been created, you can assign users to various roles in the
    course (such as enrolling students and assigning teachers); we have briefly covered
    this in [*Chapter 3*](B18779_03.xhtml#_idTextAnchor059), *Exploring Courses, Users,
    and Roles*, and have dedicated the entire *Roles management* section in [*Chapter
    6*](B18779_06.xhtml#_idTextAnchor116), *Managing Permissions, Roles, and Capabilities*,
    to roles, and will therefore be ignoring the **Role renaming** part for now. The
    same holds for an optional **Tags** section, which is dealt with in [*Chapter
    9*](B18779_09.xhtml#_idTextAnchor181), *Configuring* *Educational Features*.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建课程，您可以将用户分配到课程中的各种角色（例如注册学生和分配教师）；我们已在[*第3章*](B18779_03.xhtml#_idTextAnchor059)“探索课程、用户和角色”中简要介绍了这一点，并在[*第6章*](B18779_06.xhtml#_idTextAnchor116)“管理权限、角色和能力”的整个**角色管理**部分中进行了专门介绍，因此现在将忽略**角色重命名**部分。同样，可选的**标签**部分在[*第9章*](B18779_09.xhtml#_idTextAnchor181)“配置教育功能”中进行处理。
- en: Internally, each course is given an ID. As mentioned before, a course always
    belongs to a single category and cannot belong to multiple categories or be without
    a category. However, the home page (`course id = 1`) is one exception to this
    rule. Internally, the home page is treated as a course that neither belongs to
    a category nor can be deleted.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在内部，每个课程都有一个ID。如前所述，课程始终属于一个单一类别，不能属于多个类别或没有类别。然而，主页（`课程ID = 1`）是这一规则的例外。在内部，主页被视为一个既不属于任何类别也不能被删除的课程。
- en: You can specify the course default settings for most parameters when creating
    new courses; you can find these in **Site administration** | **Courses** | **Course
    default settings**. The fields and values are identical to those described in
    the preceding screenshots.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建新课程时，你可以为大多数参数指定课程默认设置；你可以在**网站管理** | **课程** | **课程默认设置**中找到这些设置。字段和值与前面截图中所描述的相同。
- en: All course settings you have come across so far are part of Core Moodle. Custom
    course fields can be added to extend the list of options covered in the next section.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 你迄今为止遇到的所有课程设置都是核心Moodle的一部分。自定义课程字段可以添加到下一节中涵盖的选项列表中。
- en: Custom course fields
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自定义课程字段
- en: 'Course fields in Moodle are organized into course categories such as **General**,
    **Course format**, or **Appearance**. Additional categories can be created, and
    user-defined fields can then be placed within these new categories, which teachers
    can configure. You find this feature by navigating to **Site administration**
    | **Courses** | **Course** **custom fields**:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle中的课程字段组织到课程类别中，例如**常规**、**课程格式**或**外观**。可以创建额外的类别，然后可以将用户定义的字段放置在这些新类别中，教师可以配置这些类别。你可以通过导航到**网站管理**
    | **课程** | **课程** **自定义字段**来找到这个功能：
- en: '![Figure 4.16 – Custom course fields ](img/Figure_4.16_B18779.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![图4.16 – 自定义课程字段](img/Figure_4.16_B18779.jpg)'
- en: Figure 4.16 – Custom course fields
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.16 – 自定义课程字段
- en: 'In our demo system, we have already created a category called **Curriculum**
    with four course fields: **Notional learning hours**, **Course type**, **Link
    to syllabus**, and **Curriculum update**. To create a new category, click the
    **Add a new category** button and rename the default name (**Other fields**) using
    the standard **Edit** icon. Once a category has been created, five types of profile
    fields can be added via the **Add a new custom field** dropdown menu:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的演示系统中，我们已经创建了一个名为**课程大纲**的类别，包含四个课程字段：**理论学习小时数**、**课程类型**、**链接到教学大纲**和**课程更新**。要创建一个新类别，点击**添加新类别**按钮，并使用标准**编辑**图标重命名默认名称（**其他字段**）。一旦创建了一个类别，就可以通过**添加新自定义字段**下拉菜单添加五种类型的配置文件字段：
- en: '**Checkbox**: The values are true or false'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复选框**：值是“真”或“假”'
- en: '**Date and t****ime**: Contains the date and an optional time field'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期和时间**：包含日期和一个可选的时间字段'
- en: '**Dropdown menu**: Selection of a single value from a predefined list'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**下拉菜单**：从预定义列表中选择单个值'
- en: '**Short text**: A single line of text or a number'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**短文本**：一行文本或一个数字'
- en: '**Text area**: Multiline formatted text'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本区域**：多行格式化文本'
- en: At **Site administration** | **Plugins** | **Custom fields** | **Manage custom
    field types**, you can hide or uninstall custom field types. The latter is only
    recommended for field types that have been installed; for those, you might also
    find settings that do not exist for the five described core types.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在**网站管理** | **插件** | **自定义字段** | **管理自定义字段类型**中，你可以隐藏或卸载自定义字段类型。后者仅推荐用于已安装的字段类型；对于这些类型，你也可能找到不存在于五种描述的核心类型中的设置。
- en: 'Once you have chosen your field type, you are taken to a settings screen for
    that field, which contains three sections:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你选择了字段类型，你将被带到该字段的设置屏幕，其中包含三个部分：
- en: '**General** settings apply to all custom fields'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**常规**设置适用于所有自定义字段'
- en: '**Field settings** contain parameters that apply only to the chosen field type'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段设置**包含仅适用于所选字段类型的参数'
- en: '**Common course custom field settings** deal with permissions and visibility'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**常见课程自定义字段设置**处理权限和可见性'
- en: Let’s look at these three sections in a little more detail.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这三个部分。
- en: 'The **General** section contains the following fields: the **Name** field is
    the label displayed in the course settings and the **Short name** field is a unique
    field identifier. An optional **Description** field can be given, which is displayed
    underneath the field in the course settings. If the field is obligatory, the **Required**
    option must be set to **Yes**. If the value entered needs to be unique, the **Unique
    data** field must be changed accordingly:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.17 – Custom course fields (General and Common) ](img/Figure_4.17_B18779.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
- en: Figure 4.17 – Custom course fields (General and Common)
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
- en: 'In addition to the general field settings, specific settings have to be provided
    for each profile field type:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
- en: '**Checkbox**: This type has only a single setting. It specifies whether the
    checkbox will be **Checked by default** in new user profiles or not.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Date and time**: The **Minimum value** (the start date – by default, today)
    and **Maximum value** (end date – by default, also today) settings can be enabled
    and specified. An optional time field can be included by checking the **Include**
    **time** option.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Dropdown menu**: For this type, a list of **Menu options (one per line)**
    and an optional **Default value** must be provided. The list consists of a single
    item per line. If you wish to allow empty values, leave the first entry empty.
    In the following screenshot, three options (**Syllabus**, **Extra-curricular**,
    and **None**) have been entered, with **Syllabus** being the default:'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure 4.18 – Custom course fields in the dropdown settings ](img/Figure_4.18_B18779.jpg)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
- en: Figure 4.18 – Custom course fields in the dropdown settings
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
- en: '`$$` represents the parameter that will be replaced with the entered text.
    In the following screenshot, we have specified [https://yourorganization/syllabus/$$](https://yourorganization/syllabus/%24%24).
    The transformed link will be shown in the list of available courses or all courses.
    **Link target** specifies where this link will be opened once it’s selected:'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure 4.19 – Custom course field in the short text field settings ](img/Figure_4.19_B18779.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
- en: Figure 4.19 – Custom course field in the short text field settings
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
- en: '**Text area**: This type allows users to define an optional **Default value**
    in a free-form textbox.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'There are only two settings in the **Common course custom field** settings.
    The field can be **Locked**; that is, the teacher is prevented from modifying
    it. This option is useful when you have a central system for course management
    containing data such as internal course codes, which nobody should change. Locking
    is often used in conjunction with one of the following three **Visible** **to**
    options:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
- en: '**Everyone** (default): This is used for course information that teachers and
    students can see, and potentially users outside the course'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Teacher**: Fields containing sensitive information students should not see,
    which can be as trivial as the teacher’s course resources for preparation'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Nobody**: This is typically set by an administrator who wants to hold data
    on the courses, such as the aforementioned internal course code'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无人**: 这通常由想要在课程上保存数据的管理员设置，例如上述内部课程代码'
- en: Once all the required fields have been added, the order in which they will be
    displayed in the user profile can be changed using the up and down arrows.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦添加了所有必需的字段，就可以使用上下箭头更改它们在用户资料中显示的顺序。
- en: The management of custom course fields has been described in great detail here.
    The same mechanism is available for other custom parameters, such as the user
    profile or appointment custom fields (Moodle Workplace only).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在此处已详细描述了自定义课程字段的 管理。相同的机制也适用于其他自定义参数，例如用户资料或预约自定义字段（仅限Moodle Workplace）。
- en: So far, we have created courses manually, a potentially time-consuming and error-prone
    process. To tackle these shortcomings, you have two options – course requests
    and bulk upload – which we will cover in the subsequent two subsections. Let’s
    start by partly delegating the task to teachers using course requests.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已手动创建课程，这是一个可能耗时且易出错的过程。为了解决这些缺点，您有两个选项 – 课程请求和批量上传 – 我们将在接下来的两个子节中介绍。让我们首先通过课程请求部分委托给教师这项任务。
- en: Course requests – enabling teachers to ask for new courses
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 课程请求 – 允许教师请求新课程
- en: Only administrators or course creators (or any other role with course creation
    rights) have permission to create new courses. Moodle offers a course requesting
    facility to streamline the procedure for requesting courses, especially in larger
    organizations. This feature has to be enabled by going to **Site administration**
    | **Courses** | **Course request**.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 只有管理员或课程创建者（或任何具有课程创建权限的其他角色）才有权创建新课程。Moodle提供了一个课程请求功能，以简化请求课程的程序，尤其是在大型组织中。此功能必须通过访问**站点管理**
    | **课程** | **课程请求**来启用。
- en: 'You must specify the **Default category for course requests** setting, which
    controls where the courses created upon request will be placed. You can also disable
    **Prevent category selection** if your users are familiar with the course category
    structure. As the courses have to be approved, you can specify the **Course request**
    **notification** recipient(s):'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 您必须指定**课程请求默认类别**设置，该设置控制请求创建的课程将被放置的位置。如果您用户熟悉课程类别结构，您还可以禁用**防止类别选择**。由于课程必须经过批准，您可以指定**课程请求****通知**接收者：
- en: '![Figure 4.20 – Course requests ](img/Figure_4.20_B18779.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图4.20 – 课程请求](img/Figure_4.20_B18779.jpg)'
- en: Figure 4.20 – Course requests
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.20 – 课程请求
- en: 'Once the feature is enabled, each teacher can request new courses (via the
    **Request a course** option on the **My courses** screen). The information that
    has to be provided by the requestee is as follows:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦启用此功能，每位教师都可以请求新课程（通过**我的课程**屏幕上的**请求课程**选项）。请求者必须提供的信息如下：
- en: '**Course** **full name**'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程** **全名**'
- en: '**Course** **short name**'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程** **简称**'
- en: '**Course category** (if selected above)'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程类别**（如果在上文已选择）'
- en: '**Summary**'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**摘要**'
- en: '**Reasons for** **course request**'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程请求原因**'
- en: 'A new item, **Courses** | **Pending requests**, appears in the **Site administration**
    section. On selection, the list of requested courses is shown, which you can then
    **Approve** or **Reject** by selecting the appropriate button:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在**站点管理**部分出现了一个新的项目，**课程** | **待处理请求**。选择后，将显示请求的课程列表，你可以通过选择适当的按钮来**批准**或**拒绝**：
- en: '![Figure 4.21 – Course approval ](img/Figure_4.21_B18779.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![图4.21 – 课程批准](img/Figure_4.21_B18779.jpg)'
- en: Figure 4.21 – Course approval
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.21 – 课程批准
- en: When you approve a course, the familiar course settings screen appears. This
    screen already contains the provided course values specified in the system settings.
    Furthermore, users who have requested the course will be automatically enrolled,
    and, by default, they will be assigned the teacher role. If you reject a course,
    a reason must be given, which is emailed to the requester.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 当你批准一门课程时，熟悉的课程设置屏幕会出现。此屏幕已包含系统设置中指定的提供的课程值。此外，已请求该课程的用户将被自动注册，并且默认情况下，他们将分配教师角色。如果你拒绝一门课程，必须给出理由，并将此理由通过电子邮件发送给请求者。
- en: Course requests only semi-automate the course creation process because you still
    have to approve or reject them manually. Uploading courses in bulk introduces
    a versatile way to create, modify, and remove courses without further intervention.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 课程请求仅部分自动化课程创建过程，因为您仍然需要手动批准或拒绝它们。批量上传课程提供了一种灵活的方式来创建、修改和删除课程，而无需进一步干预。
- en: Managing courses in bulk
  id: totrans-199
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 批量管理课程
- en: So far, all the operations in this chapter have been carried out manually. However,
    this process should be automated in an organization with many courses and categories.
    In **Site administration** | **Courses** | **Upload courses**, Moodle provides
    us with a powerful tool to manage courses in bulk. This not only lets us create
    new courses but it also works for updating and deleting courses, importing courses,
    and restoring courses from backups and course templates.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，本章中所有操作都是手动执行的。然而，在拥有许多课程和类别的组织中，此过程应该自动化。在 **站点管理** | **课程** | **上传课程**
    中，Moodle 为我们提供了一个强大的工具来批量管理课程。这不仅让我们能够创建新课程，还适用于更新和删除课程、导入课程以及从备份和课程模板中恢复课程。
- en: 'To create courses in batch mode, you will need to create a CSV file, which
    contains the following fields (the complete list can be found at [docs.moodle.org/en/Upload_courses](http://docs.moodle.org/en/Upload_courses)):'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 要批量创建课程，您需要创建一个包含以下字段的 CSV 文件（完整列表可在 [docs.moodle.org/en/Upload_courses](http://docs.moodle.org/en/Upload_courses)
    找到）：
- en: '`customfield_<shortname>` – for instance, `customfield_duration`.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`customfield_<shortname>` – 例如，`customfield_duration`。'
- en: 'To specify the category in which the course has to be placed, you have three
    options (in order of precedence): `category` (internal ID), `category_idnumber`
    (ID number), and `category_path`, where a forward slash surrounded by spaces must
    separate subdirectories (`[category]<space>/<space>[subcategory]…`).'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 要指定课程必须放置的类别，您有三个选项（按优先级顺序）：`category`（内部 ID）、`category_idnumber`（ID 号码）和 `category_path`，其中必须使用空格包围的正斜杠分隔子目录（`[category]<space>/<space>[subcategory]…`）。
- en: 'The following is a sample file demonstrating all three options:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个演示所有三种选项的示例文件：
- en: '[PRE0]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Important note
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Categories cannot be created in batch mode; they must exist! Alternatively,
    use MOOSH, a Moodle Shell, explained in more detail in [*Chapter 17*](B18779_17.xhtml#_idTextAnchor325),
    *Working with Moodle* *Admin Tools*.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 类别不能在批量模式下创建；它们必须存在！或者，使用 MOOSH，一个 Moodle Shell，在 [*第 17 章*](B18779_17.xhtml#_idTextAnchor325)
    *使用 Moodle 管理员工具* 中更详细地解释。
- en: '**Enrolment fields**: These let you enable and configure enrolment plugins.
    We will be dealing with enrolments further down in this section, so here is a
    sample to configure self-enrolment:'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**注册字段**：这些允许您启用和配置注册插件。我们将在本节后面进一步处理注册，以下是一个配置自助注册的示例：'
- en: '[PRE1]'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: At the time of writing, only the manual, self, guest, and cohort enrolment methods
    are supported by course uploads. To monitor progress on this missing subfeature,
    monitor `MDL-73838` in the bug tracker database.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，只有手动、自助、访客和班级注册方法由课程上传支持。要监控此缺失子功能的进度，请监控 bug 跟踪数据库中的 `MDL-73838`。
- en: '**Role renaming**: This provides a means to rename standard roles. We will
    deal with roles in [*Chapter 5*](B18779_05.xhtml#_idTextAnchor092), *Managing
    Users, Cohorts,* *and Authentication*.'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**角色重命名**：这提供了一种重命名标准角色的方法。我们将在 [*第 5 章*](B18779_05.xhtml#_idTextAnchor092)
    *管理用户、班级和身份验证* 中处理角色。'
- en: 'In addition to these three field types, so-called course action fields can
    be specified to perform an action other than creating courses:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些三种字段类型之外，还可以指定所谓的课程操作字段以执行除创建课程之外的操作：
- en: '**delete**: “1” to delete a course.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除**：将“1”用于删除课程。'
- en: '**rename**: Add a new course short name.'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重命名**：添加一个新的课程简短名称。'
- en: '`.mbz`), used as a source. This can potentially lead to performance problems
    (check out `$CFG-> keeptempdirectoriesonbackup` in [*Appendix*](B18779_Appendix.xhtml#_idTextAnchor369),
    *Configuration Settings*).'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.mbz`），用作源。这可能导致性能问题（请参阅 [*附录*](B18779_Appendix.xhtml#_idTextAnchor369) *配置设置*
    中的 `$CFG-> keeptempdirectoriesonbackup`）。'
- en: '`shortname` of an existing course used as a source.'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 作为源使用的现有课程的`shortname`。
- en: '**reset**: “1” to reset the course and remove any user data.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重置**：将“1”用于重置课程并删除任何用户数据。'
- en: 'Once a file has been uploaded, you will have to change the **CSV delimiter**
    and **Encoding** file format settings if they are incorrect. You can further specify
    the number of **Preview rows**. Then, the following import options can be configured
    (depending on the upload mode selected, some settings will be shown or hidden):'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦文件已上传，如果设置不正确，您将不得不更改 **CSV 分隔符** 和 **编码** 文件格式设置。然后，您可以进一步指定 **预览行数**。然后，可以配置以下导入选项（根据选择的上传模式，某些设置将显示或隐藏）：
- en: '![Figure 4.22 – Uploading courses ](img/Figure_4.22_B18779.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.22 – 上传课程](img/Figure_4.22_B18779.jpg)'
- en: Figure 4.22 – Uploading courses
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.22 – 上传课程
- en: 'The counterpart on the screen looks as follows:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕上的对应内容如下：
- en: '![Figure 4.23 – Uploading courses ](img/Figure_4.23_B18779.jpg)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.23 – 上传课程](img/Figure_4.23_B18779.jpg)'
- en: Figure 4.23 – Uploading courses
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.23 – 上传课程
- en: 'When in preview mode, you will see these import options again and the **Course
    process** settings, **Default course values**, and, if custom course fields have
    been added, **Default values** for each custom course category. The latter two
    are the values used if not provided in the CSV file and an update mode is chosen
    that supports defaults. The course process supports two types of templates, which
    require some explanation:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 在预览模式下，您将再次看到这些导入选项以及**课程流程**设置、**默认课程值**，以及如果已添加自定义课程字段，则每个自定义课程类别的**默认值**。后两者是如果
    CSV 文件中没有提供并且选择了支持默认值的更新模式时使用的值。课程流程支持两种类型的模板，这需要一些解释：
- en: '`shortname` column, you can use template syntax to set the name, depending
    on either `idnumber (%i)` or `fullname (%f)`. For instance, the given `Packt %i`
    with `Packt_1`, `Packt_2`, and `Packt_3`, with our previously used input file.'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shortname` 列，您可以使用模板语法来设置名称，根据 `idnumber (%i)` 或 `fullname (%f)`。例如，给定的 `Packt
    %i` 将生成 `Packt_1`、`Packt_2` 和 `Packt_3`，使用我们之前使用的输入文件。'
- en: '`.mbz`. Suppose either option is chosen and you have opted to update existing
    courses. In that case, you should select the **Allow resets** and **Reset course
    after upload** options to remove any user data that has been added in the source
    course:'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.mbz`。假设选择了任一选项并且您已选择更新现有课程。在这种情况下，您应选择**允许重置**和**上传后重置课程**选项，以删除在源课程中添加的任何用户数据：'
- en: '![Figure 4.24 – Uploading courses ](img/Figure_4.24_B18779.jpg)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.24 – 上传课程](img/Figure_4.24_B18779.jpg)'
- en: Figure 4.24 – Uploading courses
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.24 – 上传课程
- en: 'After selecting the **Preview** button, the sneak-peak list at the top of the
    screen will be updated based on the values chosen, which is an excellent way to
    trial and error your way through your CSV file before uploading it. Once courses
    have been uploaded, you will see the summary of results:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择**预览**按钮后，屏幕顶部的预览列表将根据所选值更新，这是在上传之前通过试错法测试您的 CSV 文件的一个极好方法。一旦上传了课程，您将看到结果摘要：
- en: '![Figure 4.25 – Uploading courses ](img/Figure_4.25_B18779.jpg)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.25 – 上传课程](img/Figure_4.25_B18779.jpg)'
- en: Figure 4.25 – Uploading courses
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.25 – 上传课程
- en: 'There is also a CLI tool to perform course uploads from the command line. You
    can find it in `admin/tool/uploadcourse/cli/uploadcourse.php`. You will see all
    the supported parameters by calling the `help` mode:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有一个 CLI 工具可以从命令行执行课程上传。您可以在 `admin/tool/uploadcourse/cli/uploadcourse.php`
    中找到它。通过调用 `help` 模式，您将看到所有支持的参数：
- en: '[PRE2]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Here is an example of its usage:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是其使用的一个示例：
- en: '[PRE3]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: There is an entire section on the Moodle CLI in [*Chapter 17*](B18779_17.xhtml#_idTextAnchor325),
    *Working with Moodle* *Admin Tools*.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 关于 Moodle CLI 的整个部分在[*第 17 章*](B18779_17.xhtml#_idTextAnchor325) *使用 Moodle
    管理工具*中。
- en: This completes the first part of this chapter, where we dealt with the management
    of courses and categories. The second part deals with how users get access to
    courses via enrolment.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了本章的第一部分，其中我们处理了课程和类别的管理。第二部分将讨论用户如何通过注册获取课程访问权限。
- en: Understanding course enrolment
  id: totrans-238
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解课程注册
- en: 'In the introductory chapter, [*Chapter 3*](B18779_03.xhtml#_idTextAnchor059),
    *Exploring Courses, Users, and Roles*, we have already touched upon enrolment.
    Now, we will go into more detail and look at the different mechanisms that can
    be set up to grant users access to courses. You may recall the basic enrolment
    workflow presented in the third chapter. Let’s have a look at a more detailed
    version:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在介绍性章节[*第 3 章*](B18779_03.xhtml#_idTextAnchor059) *探索课程、用户和角色*中，我们已经提到了注册。现在，我们将更深入地探讨并查看可以设置的不同机制，以授予用户课程访问权限。您可能还记得第三章中提出的基本注册工作流程。让我们看看一个更详细的版本：
- en: '![Figure 4.26 – Forms of enrolment ](img/Figure_4.26_B18779.jpg)'
  id: totrans-240
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.26 – 注册形式](img/Figure_4.26_B18779.jpg)'
- en: Figure 4.26 – Forms of enrolment
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.26 – 注册形式
- en: Let’s start from the top left, where a user attempts to access a course. Access
    will be granted if the enrolment has already taken place. If the user is suspended,
    access will be denied. If enrolment has expired, the user will be unenrolled;
    otherwise, access will be granted. If the user is not enrolled, Moodle checks
    whether guest or self-enrolment access is allowed. If either is the case, the
    enrolment key will be checked. If the key is correct or not required, enrolment
    will take place for self-enrolment, and access will be granted. As a last option,
    Moodle checks whether a payment is accepted and, if approved, the user will be
    enrolled in the courses. You might want to return to this diagram when dealing
    with a specific enrolment mechanism.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: '让我们从左上角开始，那里用户尝试访问课程。如果选课已经发生，将授予访问权限。如果用户被暂停，将拒绝访问。如果选课已过期，用户将被取消选课；否则，将授予访问权限。如果用户未被选课，Moodle将检查是否允许访客或自助选课访问。如果任一情况成立，将检查选课密钥。如果密钥正确或不需要密钥，将进行自助选课，并授予访问权限。作为最后的选项，Moodle将检查是否接受支付，如果批准，用户将被选入课程。在处理特定的选课机制时，您可能需要回到这个图。 '
- en: Students need to be given access to a course before they are allowed to use
    it – or, in Moodle-speak, users need to be assigned a role in the course context.
    They can be assigned the role automatically via cohorts or external enrolment
    facilities, by self-enrolling, or manually via the **Participants** tab inside
    the course.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在允许学生使用课程之前，需要给他们提供课程访问权限——或者，用Moodle的话说，用户需要在课程上下文中分配一个角色。他们可以通过群体或外部选课设施自动分配角色，通过自助选课，或者通过课程内的**参与者**标签手动分配。
- en: Important note
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Granting access to a course is performed via an enrolment mechanism.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 通过选课机制执行课程访问权限的授予。
- en: The actual enrolment of students does not require administrator rights and is
    a task that teachers can carry out. The role of the administrator is to set up
    the enrolment mechanisms available sitewide. Moodle supports a wide range of enrolment
    options, discussed in the remainder of the chapter.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 实际的学生选课不需要管理员权限，这是教师可以执行的任务。管理员的职责是设置网站范围内可用的选课机制。Moodle支持广泛的选课选项，这些选项将在本章的剩余部分讨论。
- en: 'You can access the course enrolments configuration page via **Site administration**
    | **Plugins** | **Enrolments** | **Manage enrolment plugins**. Each supported
    enrolment mechanism is represented by an enrolment plugin that can be enabled
    and configured separately:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过**网站管理** | **插件** | **选课** | **管理选课插件**访问课程选课配置页面。每个支持的选课机制都由一个可以单独启用和配置的选课插件表示：
- en: '![Figure 4.27 – Enrolment plugins ](img/Figure_4.27_B18779.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![图4.27 – 选课插件](img/Figure_4.27_B18779.jpg)'
- en: Figure 4.27 – Enrolment plugins
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.27 – 选课插件
- en: For every plugin, the number of instances and enrolments are shown. Each plugin
    can be enabled or disabled separately.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个插件，都会显示其实例数和选课数。每个插件都可以单独启用或禁用。
- en: Important note
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Moodle supports multi-enrolment; that is, multiple plugins can be enabled simultaneously.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle支持多选课；也就是说，可以同时启用多个插件。
- en: The arrangement of plugins determines in which order user enrolments are checked
    when a user attempts to enter a course. It is recommended to give the plugins
    used by the majority of users higher priority over those only used sporadically,
    as this will benefit system performance.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 插件的排列顺序决定了当用户尝试进入课程时，检查用户选课的顺序。建议将大多数用户使用的插件优先级高于偶尔使用的插件，因为这会提高系统性能。
- en: All active plugins must be configured; we will deal with these settings when
    covering individual enrolment mechanisms. While it is possible to uninstall plugins,
    it is not recommended. If they are required at a later stage, they will have to
    be re-installed, and the preference is to simply leave them disabled.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 所有活动插件都必须进行配置；我们将在介绍单个选课机制时处理这些设置。虽然可以卸载插件，但并不推荐这样做。如果以后需要，它们将不得不重新安装，而首选的做法是简单地禁用它们。
- en: Important note
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Users need to have a user account before they can be enrolled in a course.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 用户在能够被选入课程之前需要拥有一个用户账户。
- en: Each enrolment type is covered in some detail, except MNet remote enrolments,
    which are covered in [*Chapter 19*](B18779_19.xhtml#_idTextAnchor344), *Setting
    Up Moodle Networking*, and **Publish as LTI** tool, which we deal with in [*Chapter
    9*](B18779_09.xhtml#_idTextAnchor181), *Configuring Educational Features*. We
    are also not covering the two legacy solutions **Category enrolments** (replaced
    by cohort synchronization) and **PayPal** (now a gateway in **Enrolment on payment**).
    The enrolment mechanism you choose depends entirely on the infrastructure you
    have in place – that is, where and in what format the enrolment data of learners
    is stored.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 每种注册类型都进行了详细说明，除了MNet远程注册，它将在[*第19章*](B18779_19.xhtml#_idTextAnchor344) *设置Moodle网络*和**发布为LTI**工具中介绍，我们在[*第9章*](B18779_09.xhtml#_idTextAnchor181)
    *配置教育功能*中处理。我们也没有介绍两个遗留解决方案**分类注册**（由群体同步取代）和**PayPal**（现在作为**支付注册**的网关）。您选择的注册机制完全取决于您现有的基础设施
    – 即学习者的注册数据存储的位置和格式。
- en: 'Once an enrolment form has been set up, it must be configured inside the course
    in which it will be used. Select the **Enrolment methods** options from the dropdown
    on the **Participants** tab, where you will see a list of all the active (shown)
    and inactive (hidden) enrolment plugins. Each enrolment method comes with a number
    of settings, which we will cover as part of the plugin itself:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置好注册表单，就必须在它将要使用的课程内进行配置。从**参与者**标签页上的下拉菜单中选择**注册方法**选项，您将看到所有活动（显示）和未活动（隐藏）的注册插件列表。每种注册方法都附带一些设置，我们将在插件本身的部分进行介绍：
- en: '![Figure 4.28 – Enrolment methods at the course level ](img/Figure_4.28_B18779.jpg)'
  id: totrans-259
  prefs: []
  type: TYPE_IMG
  zh: '![图4.28 – 课程级别的注册方法](img/Figure_4.28_B18779.jpg)'
- en: Figure 4.28 – Enrolment methods at the course level
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.28 – 课程级别的注册方法
- en: Any non-database enrolment method enabled and configured at the site level can
    be added via the **Add method** drop-down menu. Whether a plugin automatically
    appears in the list of new courses depends on the **Add instance to new courses**
    parameter. Some plugins, for example, **Self enrolment** and **PayPal**, can be
    added multiple times in the same course, which is helpful if you need to support
    multiple roles.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 在站点级别启用并配置的任何非数据库注册方法都可以通过**添加方法**下拉菜单添加。一个插件是否自动出现在新课程列表中取决于**将实例添加到新课程**参数。一些插件，例如**自助注册**和**PayPal**，可以在同一课程中添加多次，这在需要支持多个角色时很有帮助。
- en: 'So far, we have covered enrolment plugins in general. Now, it is time to kick
    off with the first type of course enrolment: internal.'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经介绍了注册插件的一般情况。现在，是时候开始介绍第一种课程注册类型：内部注册。
- en: Internal enrolment
  id: totrans-263
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 内部注册
- en: 'Internal enrolment means that Moodle handles all enrolment without any other
    systems involved. Moodle supports three types of internal enrolments:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 内部注册意味着Moodle处理所有注册，不涉及任何其他系统。Moodle支持三种内部注册类型：
- en: '**Manual enrolment**'
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**手动注册**'
- en: '**Self enrolment**'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自助注册**'
- en: '**Guest access**'
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**访客访问**'
- en: We are going to cover these three internal enrolment types in separate subsections.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将分别用小节来介绍这三种内部注册类型。
- en: Manual enrolment
  id: totrans-269
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 手动注册
- en: 'Manual enrolment is the default enrolment mechanism when Moodle is installed.
    The sitewide settings are configured at **Site administration** | **Plugins**
    | **Enrolments** | **Manual enrolments**:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 手动注册是Moodle安装时的默认注册机制。全局设置在**网站管理** | **插件** | **注册** | **手动注册**中进行配置：
- en: '![Figure 4.29 – Manual enrolment options ](img/Figure_4.29_B18779.jpg)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![图4.29 – 手动注册选项](img/Figure_4.29_B18779.jpg)'
- en: Figure 4.29 – Manual enrolment options
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.29 – 手动注册选项
- en: 'Once the plugin has been set up, you will see a very similar-looking screen
    under **Enrolment methods** | **Manual enrolments** | **Settings** on the **Participants**
    tab inside a course:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置好插件，您将在课程内的**注册方法** | **手动注册** | **设置**下看到一个非常相似的屏幕：
- en: '![Figure 4.30 – Manual enrolment options at the course level ](img/Figure_4.30_B18779.jpg)'
  id: totrans-274
  prefs: []
  type: TYPE_IMG
  zh: '![图4.30 – 课程级别的手动注册选项](img/Figure_4.30_B18779.jpg)'
- en: Figure 4.30 – Manual enrolment options at the course level
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.30 – 课程级别的手动注册选项
- en: 'The actual enrolment of users takes place in **Participants,** as we have already
    covered in the previous chapter. What we haven’t covered yet is the suspension
    and expiry of enrolments. You can change these individually via the **Edit** symbol
    in the **Status** column of your enrolled course users:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 实际的用户注册发生在**参与者**中，正如我们在上一章中已经讨论过的。我们还没有讨论的是注册的暂停和过期。您可以通过您已注册课程用户的**状态**列中的**编辑**符号单独更改这些设置：
- en: '![Figure 4.31 – Suspension and expiry of enrolments ](img/Figure_4.31_B18779.jpg)'
  id: totrans-277
  prefs: []
  type: TYPE_IMG
  zh: '![图4.31 – 注册的暂停和过期](img/Figure_4.31_B18779.jpg)'
- en: Figure 4.31 – Suspension and expiry of enrolments
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.31 – 注册的暂停和过期
- en: To modify the enrolment data of multiple users, select them in the list of participants
    and choose **Edit selected user enrolments** from the correct section in the **With
    selected users…** dropdown. Equally, unenrol individual users via the standard
    **Delete** icon or in batch via the **Delete selected user** **enrolments** option.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 要修改多个用户的注册数据，请在参与者列表中选择他们，并从**与选定的用户…**下拉菜单的正确部分选择**编辑选定用户注册**。同样，通过标准的**删除**图标或批量通过**删除选定用户注册**选项取消个别用户的注册。
- en: A teacher can carry out all these steps, but you might decide that these tasks
    should be performed centrally for consistency and also to simplify their workflows.
    If this is the case, their role should be modified so that only administrators
    or dedicated users can deal with enrolments.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 教师可以执行所有这些步骤，但您可能决定将这些任务集中执行以保持一致性，并简化他们的工作流程。如果是这种情况，他们的角色应该被修改，以便只有管理员或专门的用户可以处理注册。
- en: Self-enrolment
  id: totrans-281
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 自动注册
- en: 'The concept of self-enrolment is relatively simple: users choose which courses
    they want to participate in. A course can contain a password, known as the enrolment
    key. Anyone who knows this key is allowed to add themselves to a course. An open
    door icon is shown beside courses that allow guest access without a password;
    otherwise, a closed door icon is displayed.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 自动注册的概念相对简单：用户选择他们想参与的课程。课程可以包含一个密码，称为注册密钥。知道这个密钥的人可以将自己添加到课程中。对于允许无密码访问的课程的旁边会显示一个开放的门图标；否则，将显示一个关闭的门图标。
- en: The enrolment key is set at the course level. The teacher must inform the students
    about the key and ideally limit the enrolment period to an appropriate time frame
    to avoid misuse.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 注册密钥在课程级别设置。教师必须通知学生密钥，并理想情况下将注册期限限制在适当的时间范围内，以避免滥用。
- en: Once the enrolment key has been set, learners must enter it when they try to
    access the course for the first time. Access will be granted if the key is entered
    correctly; otherwise, it will be denied.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置了注册密钥，学习者首次尝试访问课程时必须输入它。如果输入正确，将允许访问；否则，将拒绝访问。
- en: Important note
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Self-enrolment requires manual enrolment to be enabled.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 自动注册需要启用手动注册。
- en: 'You find the sitewide settings for self-enrolments in **Site administration**
    | **Plugins** | **Enrolments** | **Self enrolment**:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在**网站管理** | **插件** | **注册** | **自动注册**中找到全站自动注册的设置：
- en: '![Figure 4.32 – Self-enrolment options ](img/Figure_4.32_B18779.jpg)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![图4.32 – 自动注册选项](img/Figure_4.32_B18779.jpg)'
- en: Figure 4.32 – Self-enrolment options
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.32 – 自动注册选项
- en: 'Once the plugin has been set up, you will be able to instantiate it at **Enrolment
    methods** | **Self enrolment** | **Settings** on the **Participants** tab inside
    a course:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置了插件，您将能够在课程内的**参与者**标签页上的**注册方法** | **自动注册** | **设置**中进行实例化：
- en: '![Figure 4.33 – Self-enrolment options at the course level ](img/Figure_4.33_B18779.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![图4.33 – 课程级别的自动注册选项](img/Figure_4.33_B18779.jpg)'
- en: Figure 4.33 – Self-enrolment options at the course level
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.33 – 课程级别的自动注册选项
- en: The settings are mostly identical to the sitewide settings described in the
    preceding table. The help icons next to each parameter display more details for
    each setting.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 这些设置与前面表格中描述的全站设置基本相同。每个参数旁边的帮助图标会显示每个设置的更多详细信息。
- en: You can create multiple instances of the self-enrolment method, which is why
    you need to assign a distinguishing **Custom instance name**. This is useful if
    you need to give different user groups access to the same course – for instance,
    students of different cohorts or learners from multiple customers.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以创建多个自动注册方法的实例，这就是为什么您需要分配一个区分性的**自定义实例名称**。如果您需要向不同的用户组提供对同一课程的访问权限，这很有用——例如，不同批次的或来自多个客户的学员。
- en: Guest access
  id: totrans-295
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 客户端访问
- en: Guest access can be seen as temporary enrolment. Whether authenticated on the
    system or not, users will be granted controlled (read-only) access to a course.
    Non-authenticated users will get there via the **Login as a guest** button on
    the login screen. Internally, they are being allocated a temporary user ID, which
    will be discarded afterward. The guest icon is shown beside courses that allow
    guest access.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端访问可以被视为临时注册。无论是否在系统上认证，用户都将被授予受控（只读）访问课程的权限。未经认证的用户将通过登录屏幕上的**以访客身份登录**按钮进入。内部，他们将被分配一个临时用户ID，之后将被丢弃。允许客户端访问的课程旁边会显示访客图标。
- en: 'The sitewide settings for guest access are found in **Site administration**
    | **Plugins** | **Enrolments** | **Guest access**:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端访问的全站设置位于**网站管理** | **插件** | **注册** | **客户端访问**：
- en: '![Figure 4.34 – Guest access options ](img/Figure_4.34_B18779.jpg)'
  id: totrans-298
  prefs: []
  type: TYPE_IMG
  zh: '![图4.34 – 客户端访问选项](img/Figure_4.34_B18779.jpg)'
- en: Figure 4.34 – Guest access options
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.34 – 客户端访问选项
- en: You can specify a password in the course settings for guest access. If you wish
    to make this compulsory, select **Require guest access password**. For newly-created
    courses, a random password will be generated (unmask the password in the course
    settings to view it). Removing guest access passwords from courses is not possible,
    but they can be modified.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在课程设置中为客户端访问指定密码。如果您希望强制要求，请选择**要求客户端访问密码**。对于新创建的课程，将生成一个随机密码（在课程设置中取消密码遮罩以查看它）。从课程中移除客户端访问密码是不可能的，但它们可以被修改。
- en: The **Enrolment instance defaults** settings are the same as the first two of
    the manual and self-enrolment methods.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '**注册实例默认设置**与手册和自助注册方法的前两种相同。'
- en: 'You can allow or disallow guest access at **Enrolment methods** | **Guest access**
    | **Settings** on the **Participants** tab inside a course. Here, you can also
    specify the password mentioned previously:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在课程内的**参与者**标签页上的**注册方法** | **客户端访问** | **设置**中允许或禁止客户端访问。在这里，您还可以指定之前提到的密码：
- en: Important note
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: For guest access to work for users without a login, ensure the **Guest login**
    button is set to **Show** in **Site administration** | **Plugins** | **Authentication**
    | **Manage authentication**. Otherwise, guest access will only work for authenticated
    users.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使访客访问对未登录的用户有效，请确保在**网站管理** | **插件** | **身份验证** | **管理身份验证**中将**访客登录**按钮设置为**显示**。否则，客户端访问将仅对认证用户有效。
- en: There are two good Moodle Academy videos featuring guest access at [docs.moodle.org/en/Guest_access](http://docs.moodle.org/en/Guest_access).
    Additional information is also available on topics such as auto-login guests.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 在[docs.moodle.org/en/Guest_access](http://docs.moodle.org/en/Guest_access)上有两个关于客户端访问的Moodle学院视频。有关自动登录访客等主题的更多信息也可用。
- en: 'This concludes the subsection on internal enrolment methods. Next up is an
    interesting enrolment method for enrolling the same group of users in multiple
    courses: cohort enrolment and synchronization.'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了关于内部注册方法的子节。接下来是关于在多个课程中注册相同用户组的有趣注册方法：班级注册和同步。
- en: Cohort enrolment and synchronization
  id: totrans-307
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 班级注册和同步
- en: Cohorts are sitewide or global groups. We will cover cohorts in detail in [*Chapter
    5*](B18779_05.xhtml#_idTextAnchor092), *Managing Users, Cohorts, and Authentication*,
    so for now, let’s simply assume that they are a collection of users.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 班级是全站或全局组。我们将在[*第五章*](B18779_05.xhtml#_idTextAnchor092)，*管理用户、班级和身份验证*中详细讨论班级，所以现在我们只需假设它们是一组用户的集合。
- en: 'Once cohorts have been created and members have been allocated, it is possible
    to enrol an entire cohort in a course or synchronize a cohort’s membership with
    a course. The two variants are shown in the following diagram:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建了班级并分配了成员，就可以在课程中注册整个班级或同步班级的成员与课程。以下图表显示了这两种变体：
- en: '![Figure 4.35 – Cohort enrolment versus cohort synchronization ](img/Figure_4.35_B18779.jpg)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
  zh: '![图4.35 – 班级注册与班级同步](img/Figure_4.35_B18779.jpg)'
- en: Figure 4.35 – Cohort enrolment versus cohort synchronization
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.35 – 班级注册与班级同步
- en: 'Let’s use an example to explain the figure, starting with **enrolment**: assume
    you have a class called 7c with 30 students, in a school. The same class must
    be enrolled in eight different courses, where each course represents a subject.
    We only have to create cohort 7c once and then we can enrol all cohort members
    in each course one by one.'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用一个例子来解释这个图，从**注册**开始：假设你有一个名为 7c 的班级，有 30 名学生，在一个学校里。这个班级必须在八门不同的课程中注册，其中每门课程代表一个科目。我们只需创建一次班级
    7c，然后我们可以逐个将班级成员注册到每门课程中。
- en: Alternatively, we can activate cohort **synchronization** with the eight courses,
    and Moodle will take care of the rest. If new pupils join the class, we only have
    to add their account to the cohort and the enrolment will be done automatically.
    Similarly, the pupil will be unenrolled if a cohort member is removed.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们可以通过八门课程激活班级**同步**，Moodle 将处理其余部分。如果新学生加入班级，我们只需将他们的账户添加到班级中，注册将自动完成。同样，如果班级成员被移除，学生也将被取消注册。
- en: So, when do you use one-off enrolment and when do you use permanent synchronization?
    If the cohort is likely to remain static and enrolment is a one-off, cohort enrolment
    is sufficient. If, however, the cohort is likely to have a high turnover and courses
    have to be kept in sync, you are better off using synchronization. Beware that
    the removal of a cohort membership not only triggers unenrolment from a course
    but also the deletion of certain learning progress data.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，何时使用一次性注册，何时使用永久同步？如果班级可能保持静态且注册是一次性的，则班级注册就足够了。然而，如果班级可能人员流动较大且课程需要保持同步，则使用同步会更好。请注意，移除班级成员不仅会触发从课程中取消注册，还会删除某些学习进度数据。
- en: Cohort sync is also great for organizations where groups move together between
    classes, such as an elementary school. Instead of moving individual users from
    one year to the next, you will only be dealing with cohorts of users, which is
    less time-consuming and more fault-tolerant.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 班级同步对于组织来说也非常好，例如，在小学中，小组在班级间移动。你只需处理用户群体，这比移动单个用户更节省时间，也更容错。
- en: 'The **Cohort sync** plugin (**Site administration** | **Plugins** | **Enrolments**
    | **Cohort sync**) only contains two parameters – the **Default role** value that
    is given to users when they are enrolled and what action to take when users are
    removed from an external enrolment source:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '**班级同步**插件（**网站管理** | **插件** | **注册** | **班级同步**）仅包含两个参数——当用户被注册时给予的**默认角色**值以及当用户从外部注册源被移除时采取的操作：'
- en: '![Figure 4.36 – Cohort synchronization options ](img/Figure_4.36_B18779.jpg)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.36 – 班级同步选项](img/Figure_4.36_B18779.jpg)'
- en: Figure 4.36 – Cohort synchronization options
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.36 – 班级同步选项
- en: We have to create a cohort and assign some members to see cohort synchronization
    in action. Go to **Site administration** | **Users** | **Accounts** | **Cohorts**
    and add a cohort by clicking on the **Add new cohort** tab. Give the cohort **Name**
    (in our case, **7c**) and, from the **Context** drop-down menu, select the category
    in which all the courses belong to class **7c**. Select **System** if that doesn’t
    apply. **Cohort ID** and **Description** are optional fields; ensure that **Visible**
    is checked. Once saved, you must assign members to the cohort by selecting the
    **Assign** icon beside it.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 我们必须创建一个班级并分配一些成员，以便看到班级同步的实际操作。转到**网站管理** | **用户** | **账户** | **班级**，通过点击**添加新班级**标签页添加一个班级。给出班级**名称**（在我们的例子中，**7c**），然后从**上下文**下拉菜单中选择所有课程属于班级**7c**的类别。如果不适用的，选择**系统**。**班级
    ID**和**描述**是可选字段；确保**可见**被勾选。一旦保存，你必须通过选择旁边的**分配**图标将成员分配到班级中。
- en: 'Once this has been successful, we can enrol the cohort (that is, all cohort
    members) in our course. Inside the course, go to the **Participants** tab, click
    on the **Enrol users** button, and select cohort **7c**:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦成功，我们就可以将班级（即所有班级成员）注册到我们的课程中。在课程内，转到**参与者**标签页，点击**注册用户**按钮，并选择班级**7c**：
- en: '![Figure 4.37 – Cohort enrolment ](img/Figure_4.37_B18779.jpg)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.37 – 班级注册](img/Figure_4.37_B18779.jpg)'
- en: Figure 4.37 – Cohort enrolment
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.37 – 班级注册
- en: Once you select **Enrol selected users and cohorts**, all cohort members will
    be enrolled in the course, similar to manual enrolment. However, no further synchronization
    is carried out – it is effectively the same as manually enrolling all 30 users,
    but in a single step.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦选择**注册选定的用户和批次**，所有批次成员都将注册到课程中，类似于手动注册。然而，不会进行进一步的同步 - 这实际上与手动注册所有30个用户相同，但只需一步。
- en: 'An alternative to this one-off exercise is a permanent arrangement where we
    set up an enrolment method instance via the familiar **Enrolment methods** link
    in the **Participants** tab and then select **Cohort Sync** from the **Add** **method**
    dropdown:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一次性练习的替代方案，我们可以建立一个永久性的安排，通过**参与者**标签中的熟悉**注册方法**链接设置注册方法实例，然后从**添加****方法**下拉菜单中选择**批次同步**：
- en: '![Figure 4.38 – Cohort synchronization ](img/Figure_4.38_B18779.jpg)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
  zh: '![图4.38 – 批次同步](img/Figure_4.38_B18779.jpg)'
- en: Figure 4.38 – Cohort synchronization
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.38 – 批次同步
- en: Once added, all users of the cohort will be enrolled. Moodle will automatically
    keep track of the cohort going forward—if users are added to the cohort, they
    will also be enrolled in the courses; if users are removed from the cohort, they
    will be unenrolled. As with self-enrolment, cohort synchronization allows multiple
    instances inside a course.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦添加，批次的所有用户都将被注册。Moodle将自动跟踪批次，如果用户被添加到批次中，他们也将注册到课程中；如果用户从批次中移除，他们将取消注册。与自助注册一样，批次同步允许在课程内存在多个实例。
- en: Cohort synchronization is a great way to organize your users if you have groups
    that must be enrolled in multiple courses. Another method that avoids manual enrolments
    is database-driven enrolment, which we will cover next.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有必须注册多个课程的组，则批次同步是组织用户的一个很好的方法。另一种避免手动注册的方法是数据库驱动注册，我们将在下一节中介绍。
- en: Database-driven enrolment
  id: totrans-329
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据库驱动注册
- en: In larger organizations, storing certain user-related information in a separate
    database or directory is common. If this information contains course-related information,
    it should be utilized for enrolment. In doing so, you minimize the necessary effort
    when using manual enrolment.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 在较大的组织中，将某些与用户相关的信息存储在单独的数据库或目录中是很常见的。如果这些信息包含课程相关信息，应将其用于注册。这样做可以最小化使用手动注册时所需的努力。
- en: Important note
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Unlike internal enrolment methods, database-driven enrolment cannot be configured
    at the course level. They are applied across the site once set up.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 与内部注册方法不同，数据库驱动注册不能在课程级别进行配置。一旦设置，它们将在整个站点上应用。
- en: 'Four enrolment methods fall into the database-driven enrolment category, which
    we will cover in the following order: LDAP, external databases, flat files, and
    IMS Enterprise files.'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 有四种注册方法属于数据库驱动注册类别，我们将按以下顺序介绍：LDAP、外部数据库、平面文件和IMS企业文件。
- en: LDAP
  id: totrans-334
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: LDAP
- en: '**Lightweight Directory Access Protocol** (**LDAP**) is an application standard
    for querying and modifying directory services. It is used by many organizations
    to store learner details and is, therefore, well-suited as an enrolment source
    for Moodle.'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: '**轻量级目录访问协议** (**LDAP**) 是一种用于查询和修改目录服务应用程序标准。许多组织用它来存储学习者的详细信息，因此非常适合作为Moodle的注册来源。'
- en: Important note
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: The PHP LDAP extension must be installed on the server for the enrolment to
    work.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器上必须安装PHP LDAP扩展，以便注册工作。
- en: If it is not installed, Moodle will display an error message. The module supports
    Microsoft’s implementation of LDAP, called **Active Directory**, and OpenLDAP,
    an open source implementation of the authentication mechanism. It is common for
    sites that use LDAP for enrolment to also use LDAP for authentication, which is
    discussed in detail in [*Chapter 5*](B18779_05.xhtml#_idTextAnchor092), *Managing
    Users, Cohorts,* *and Authentication*.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有安装，Moodle将显示错误消息。该模块支持微软的LDAP实现，称为**活动目录**，以及OpenLDAP，这是一种开源的认证机制实现。对于使用LDAP进行注册的网站，也通常使用LDAP进行认证，这在[*第5章*](B18779_05.xhtml#_idTextAnchor092)中详细讨论，*管理用户、批次和认证*。
- en: The principle of the enrolment method is rather simple but effective. The information
    stored in the data source about students, teachers, and courses is mapped to the
    Moodle counterparts. Enrolments are updated when a user logs in. All we have to
    provide are the mappings.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 注册方法的原理相当简单但有效。数据源中存储的学生、教师和课程信息映射到Moodle的对应部分。当用户登录时更新注册。我们只需要提供映射。
- en: 'Moodle makes several assumptions when working with LDAP enrolment:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle在处理LDAP注册时做出了一些假设：
- en: Your LDAP tree contains groups that map to courses
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each group has multiple membership entries to map to students
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Users have a valid **ID** **number** field
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The LDAP settings are located at **Site administration** | **Plugins** | **Enrolments**
    | **LDAP enrolments**. They have been annotated with detailed explanations, hence
    we will not repeat them; instead, we will provide additional information where
    applicable. Contact your system administrator if you are unsure where to locate
    some of the required information.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
- en: 'There are seven sections of parameters that have to be provided:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
- en: '**LDAP server settings** establish the connection to the directory. LDAP servers
    with TSL encryption are also supported.'
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Bind settings** specify details about the credentials to access the LDAP
    server – that is, the provided username and password.'
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Role mappings** specify how user-related information is stored in the LDAP
    server. The roles must be set, containing a context (usually the same as the one
    in the server settings) and the member attribute (user IDs). It is crucial to
    set **Search subcontexts** correctly. If it is set to **No**, subcontexts will
    not be searched, but the search is potentially faster, and vice versa. Also, ensure
    that the **User type** setting matches the type of server you use – for example,
    **MS** **Active Directory**.'
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Course enrolment settings** specify how course and module information is
    stored on the LDAP server. It also provides options for different forms of unenrolment.'
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Automatic course creation** is a potentially time-saving feature. A course
    is created for each entry on the LDAP server in the category specified. To expedite
    the process and guarantee consistency among courses, you should create a course
    with the preferred settings and use it (its course ID) as a template for all the
    newly-created courses.'
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`enrol/ldap/cli/sync.php`, is run.'
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Nested groups settings** let you configure support for groups of groups inside
    your LDAP server:'
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure 4.39 – LDAP enrolment options ](img/Figure_4.39_B18779.jpg)'
  id: totrans-353
  prefs: []
  type: TYPE_IMG
- en: Figure 4.39 – LDAP enrolment options
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
- en: Working with LDAP enrolments often requires a degree of trial and error. Creating
    a number of sample courses and enrolments in a playpen is recommended before applying
    the mechanism to your production server.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
- en: 'If you need to access multiple LDAP systems with different settings, there
    are two options:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
- en: You will need to duplicate the enrolment plugin at the system level and modify
    the source code accordingly. A programmer must carry out this task, as source
    code changes are required in the copied module.
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You will need to upgrade to Moodle Workplace, which supports multi-tenancy authentication.
    Details on this powerful feature can be found at [docs.moodle.org/en/Multi-tenancy_authentication](http://docs.moodle.org/en/Multi-tenancy_authentication).
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: External databases
  id: totrans-359
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Many organizations use a management information system, either proprietary or
    developed in-house, that holds information about staff and learners and the courses
    in which they are enrolled. It makes perfect sense to utilize this data for enrolment
    to Moodle. As all the information systems use a database at their core, all we
    have to do is to get access to the relevant data.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 许多组织使用一个管理信息系统，无论是专有的还是内部开发的，它包含有关员工和学员以及他们所注册的课程的信息。将此数据用于Moodle注册是完全合理的。因为所有信息系统在其核心都使用数据库，我们只需要获取相关数据即可。
- en: The bad news is that there is a plethora of database systems out there that
    need to be supported, from the two big commercial players, Oracle and Microsoft
    SQL Server, to the popular open source systems Maria DB and Postgres. The good
    news is that a layer called **ActiveX Data Objects** (**ADO**) exists, which does
    all the hard work for us. We only have to talk to the ADO layer and its internals
    will deal with the rest, no matter to which database it is talking.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 坏消息是，有许多数据库系统需要支持，从两个大型的商业玩家Oracle和Microsoft SQL Server，到流行的开源系统Maria DB和Postgres。好消息是存在一个名为**ActiveX数据对象**（**ADO**）的层，它为我们做了所有艰苦的工作。我们只需要与ADO层交谈，它的内部将处理其余部分，无论它与哪个数据库交谈。
- en: The database must contain information on the course ID and the user ID. These
    two fields are compared with their counterparts you choose in the local course
    and user tables.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库必须包含有关课程ID和用户ID的信息。这两个字段将与您在本地课程和用户表中选择的对应字段进行比较。
- en: Important note
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Getting your database administrator to set up a read-only view of the relevant
    data is highly recommended. That way, your enrolment mechanism is nicely decoupled
    from the database itself.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 建议您让数据库管理员设置相关数据的只读视图。这样，您的注册机制就可以很好地与数据库本身解耦。
- en: 'To configure database-driven enrolment, go to **Site administration** | **Plugins**
    | **Enrolments** | **External** **database connection**:'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置数据库驱动注册，请转到**站点管理** | **插件** | **注册** | **外部数据库连接**：
- en: '![Figure 4.40 – External database enrolment options ](img/Figure_4.40_B18779.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![图4.40 – 外部数据库注册选项](img/Figure_4.40_B18779.jpg)'
- en: Figure 4.40 – External database enrolment options
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.40 – 外部数据库注册选项
- en: The database connection settings have been annotated on the screen with good
    explanations, which we will not repeat here. Contact your database administrator
    if you are unsure where to locate some of the required information.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库连接设置已在屏幕上用良好的说明进行了注释，我们在此不再重复。如果您不确定如何找到一些所需信息，请联系您的数据库管理员。
- en: Important note
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Some databases, such as Oracle, are case-sensitive; that is, field names must
    be provided with the correct casing for the database link to work correctly.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 一些数据库，如Oracle，是区分大小写的；也就是说，必须提供正确的首字母大小写来确保数据库链接正确工作。
- en: It is possible to test your external database settings via the respective link
    at **Site administration** | **Plugins** | **Enrolments** | **Manage enrolment
    plugins**. The thrown error messages will help you debug your settings until a
    valid connection is established.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过**站点管理** | **插件** | **注册** | **管理注册插件**中的相应链接测试您的外部数据库设置。抛出的错误信息将帮助您调试设置，直到建立有效的连接。
- en: Flat files
  id: totrans-372
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 平面文件
- en: 'Moodle provides a flat file enrolment mechanism configured at **Site administration**
    | **Plugins** | **Enrolments** | **Flat file (CSV)**. The method will repeatedly
    (via the Moodle cron process) check for and process a specially-formatted CSV
    file in the location that you specify. The format of the file is as follows:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle提供了一个配置在**站点管理** | **插件** | **注册** | **平面文件（CSV）**的平面文件注册机制。该方法将反复（通过Moodle
    cron进程）检查并处理您指定的位置中的特殊格式CSV文件。文件的格式如下：
- en: '![Figure 4.41 – CSV enrolment file format ](img/Figure_4.41_B18779.jpg)'
  id: totrans-374
  prefs: []
  type: TYPE_IMG
  zh: '![图4.41 – CSV注册文件格式](img/Figure_4.41_B18779.jpg)'
- en: Figure 4.41 – CSV enrolment file format
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.41 – CSV注册文件格式
- en: 'The following is a sample file snippet:'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个示例文件片段：
- en: '[PRE4]'
  id: totrans-377
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-378
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-379
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-380
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The start and end times have to be provided together. It is recommended to use
    an online converter to generate the numbers since epoch.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 开始和结束时间必须一起提供。建议使用在线转换器生成自纪元以来的数字。
- en: 'In the text file settings at **Site administration** | **Plugins | Enrolments**
    | **Flat file (CSV)**, you have to provide the absolute file location on the server.
    Moodle has to be able to read the file and delete it once it has been processed!
    You can choose to send a log file to the administrator and a notification to the
    user responsible for enrolments and students. **External unenrol action** specifies
    what happens when a user has been removed from the source file. Similarly, **Enrolment
    expiration action** specifies what happens to users once their enrolment has expired.
    The default roles in the **Flat file role mapping** section can be overridden
    with other values if required:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.42 – CSV enrolment options ](img/Figure_4.42_B18779.jpg)'
  id: totrans-383
  prefs: []
  type: TYPE_IMG
- en: Figure 4.42 – CSV enrolment options
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
- en: The IMS Enterprise file
  id: totrans-385
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The IMS Global Learning Consortium has specified an XML file format representing
    student and course information. Moodle can use any file that conforms to the format
    as its enrolment source. As with the flat file format, Moodle regularly checks
    for its presence; if found, it will process the file and delete it. You find details
    of its basic structure at [docs.moodle.org/en/IMS_Enterprise](http://docs.moodle.org/en/IMS_Enterprise).
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
- en: The plugin can also create user accounts if they aren’t yet created or change
    user details if requested. Furthermore, new courses can also be created if they
    are not found on Moodle.
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
- en: All other fields, including role mappings, are well-explained on screen and
    can be accessed at **Site administration** | **Plugins** | **Enrolments** | **IMS**
    **Enterprise file**.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
- en: This concludes the section on database-driven enrolment. Next up is a unique
    form of enrolment via so-called meta courses.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
- en: Meta courses – sharing enrolment across courses
  id: totrans-390
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Meta courses are courses that take their enrolment from other courses. They
    populate many courses from one enrolment or one course from many enrolments. There
    are two main scenarios when this is useful:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
- en: Multiple courses want to share information or resources (meta course)
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A course is part of a qualification where students have to be enrolled in a
    number of courses; each course is set up as a meta course
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Both scenarios are depicted in the following diagram:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.43 – Meta course scenarios ](img/Figure_4.43_B18779.jpg)'
  id: totrans-395
  prefs: []
  type: TYPE_IMG
- en: Figure 4.43 – Meta course scenarios
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to **Site administration** | **Plugins** | **Enrolments** | **Course meta
    link**. The list contains any roles that are not synchronized; that is, users
    with those roles in child courses will also be given access to their parent courses.
    **Synchronise all enrolled users** means that users will also be enrolled if they
    do not have a role in any parent courses. **External unenrol action** specifies
    what happens when a user has been removed from the external enrolment source –
    for instance, a CSV file or LDAP. The **Sort course list** parameter determines
    whether courses are being ordered as specified at **Site administration** | **Courses**
    | **Manage courses and categories** or by one of the selected sort criteria:'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.44 – Course meta link enrolment options ](img/Figure_4.44_B18779.jpg)'
  id: totrans-398
  prefs: []
  type: TYPE_IMG
- en: Figure 4.44 – Course meta link enrolment options
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
- en: Teachers have the right to set up meta courses and manage their dependents via
    **Course meta link** under **Enrolment method** in the **Users** section of a
    course. While it is the role of the teacher to manage meta courses, experience
    has shown that the administrator is frequently asked to set these up on behalf
    of others.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
- en: A child course gives its enrolments to the parent course. Create a link from
    the parent course to the child course.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
- en: 'To set up the first scenario, as shown in the earlier diagram, where the meta
    course holds shared resources, you have to create all the four courses first and
    create a new course meta link instance from within the **Computer Science Resources**
    course (via **Enrolment methods** on the **Participants** tab). This instance
    has to link to all child courses – in our case, the three mentioned programming
    courses:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.45 – Configuring child courses ](img/Figure_4.45_B18779.jpg)'
  id: totrans-404
  prefs: []
  type: TYPE_IMG
- en: Figure 4.45 – Configuring child courses
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
- en: To model the second scenario, you will have to create all 13 courses (one course
    for **MSc Software Engineering** and a course for each unit) and add a course
    meta link method in each of the 12 parent courses to the **MSc Software** **Engineering**
    course.
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
- en: Meta courses are a great way to synchronize users across courses. There are
    scenarios where you can achieve the same with cohorts and cohort synchronization.
    If this is the case, working with cohorts is usually the preferred option, as
    they are easier to manage, particularly on larger sites.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
- en: Another alternative to meta courses is **Programs** in Moodle Workplace, where
    courses can be bundled flexibly via sets, including support for hierarchical sequences
    of courses. You will find a good introduction to programs at [docs.moodle.org/en/Programs](http://docs.moodle.org/en/Programs).
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
- en: So far, all enrolment methods have been driven by organizational parameters,
    such as course access, passwords, or time. The last type of enrolment we want
    to dedicate some time to is payment.
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
- en: Enrolment with payment
  id: totrans-410
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Moodle comes with a basic payment mechanism that allows you to charge users
    for courses via different payment systems. The concept behind Moodle payments
    is as follows:'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
- en: A **payment gateway** represents a payment service – for instance, PayPal, Stripe,
    or Alipay
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A **payment account** supports one or many payment systems
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Paid course enrolment** is tied to a payment account'
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following table visualizes the three mentioned mechanisms:'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.46 – Moodle payments ](img/Figure_4.46_B18779.jpg)'
  id: totrans-416
  prefs: []
  type: TYPE_IMG
- en: Figure 4.46 – Moodle payments
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
- en: To create your first payment account, navigate to **Site administration** |
    **General** | **Payments** | **Payment accounts**, and press the **Create payment
    account** button. You must provide an **Account name** that will be used when
    the enrolment instance is set up later. Optionally, you can also provide an **ID
    number**, which is only necessary when the account is matched against an external
    system.
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
- en: 'You can create multiple payment accounts if your organization requires separate
    payment gateways for different courses. On our system, we have also created a
    test account, which has been disabled:'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.47 – Payment accounts ](img/Figure_4.47_B18779.jpg)'
  id: totrans-420
  prefs: []
  type: TYPE_IMG
- en: Figure 4.47 – Payment accounts
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
- en: Moodle ships with a single payment gateway, namely PayPal. Additional gateways
    can be installed via [moodle.org/plugins/?q=type:paygw](http://moodle.org/plugins/?q=type:paygw).
    We will deal with installing plugins in [*Chapter 8*](B18779_08.xhtml#_idTextAnchor168),
    *Understanding* *Moodle Plugins*.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
- en: 'For each payment account, all payment gateways are shown, including ticks or
    crosses, to indicate whether a gateway has been configured or not. So, how do
    you configure a payment gateway? You simply click on the gateway’s name, which
    gets you to the configuration for this particular payment account. Here, we are
    only going to cover the PayPal gateway since it ships with Moodle:'
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.48 – PayPal gateway configuration ](img/Figure_4.48_B18779.jpg)'
  id: totrans-424
  prefs: []
  type: TYPE_IMG
- en: Figure 4.48 – PayPal gateway configuration
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
- en: '**Brand name** is optional and overrides the business name on the PayPal site.
    PayPal provides the **Client ID** and **Secret** information via [developer.paypal.com/api/rest](http://developer.paypal.com/api/rest).
    You will be shown the two values once you have logged in. Bear in mind that you
    require a PayPal business account to go live. Finally, you can change **Environment**
    from **Live** to **Sandbox** for testing purposes.'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
- en: Before payment plugins can be used for enrolment, you must enable them in **Site
    administration** | **Plugins** | **Enrolments** | **Manage enrolment plugins**.
    Technically, this is all you have to do to set up payment accounts and gateways
    as an administrator.
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
- en: 'For completeness, here is the final step to create a payment instance inside
    a course (as usual, via the **Enrolment methods** option **Enrolment on payment**
    in **Participants**):'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.49 – Enrolment on payment configuration ](img/Figure_4.49_B18779.jpg)'
  id: totrans-429
  prefs: []
  type: TYPE_IMG
- en: Figure 4.49 – Enrolment on payment configuration
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
- en: 'The only fields that deviate from the standard fields of other enrolment methods
    are the following:'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
- en: '**Payment account**: Select one of the payment accounts you have set up.'
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Enrolment fee**: The amount you charge for the course.'
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Currency**: The currency of your fee. You must create separate enrolment
    method instances for each currency to charge users in different currencies.'
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Multiple instances can be created for the **Enrolment on payment** method. This
    setup is useful if you wish to charge different amounts in different currencies
    or roles or if you have a mixture of paying and non-paying learners.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
- en: 'Once a user wants to enrol in a pay-for course, the following dialogue will
    appear (our chosen payment account also includes the third-party payment gateway,
    Stripe):'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.50 – User’s payment selection ](img/Figure_4.50_B18779.jpg)'
  id: totrans-437
  prefs: []
  type: TYPE_IMG
- en: Figure 4.50 – User’s payment selection
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
- en: Once the payment has been successful, the user will be enrolled in the course.
    You might have spotted the 2% surcharge displayed at the bottom. You can specify
    the surcharge for each payment gateway at **Site administration** | **Plugins**
    | **Payment gateways** | **Manage payment gateways** | **Settings**. On this screen,
    you can also see the currencies each payment gateway supports.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
- en: '**Enrolment by payment** provides a flexible means to offer a mix of chargeable
    and non-chargeable courses. If you require a more advanced shopping cart solution
    to be integrated into Moodle, you might want to consider commercial services such
    as Course Merchant or Magento. These systems support more sophisticated workflows,
    such as bulk purchasing, payment on tax invoice, and price bandings.'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
- en: This concludes the comprehensive section on enrolments, where we introduced
    enrolment principles and covered enrolment plugins. By now, you should be able
    to set up and configure the mix of enrolment mechanisms that is right for your
    organization and Moodle system.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-442
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Phew! That was a lot to take in. The complexity of courses, their management,
    and various facets of enrolments demonstrate a typical Moodle conundrum: the features
    are very powerful and flexible, but this versatility comes at a price in the form
    of complexity. Moodle has done a great job in mastering this balancing act, but
    nonetheless, there is usually a steep learning curve to be mastered.'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, you learned everything about courses and categories. As we
    have discovered, courses are fundamental to Moodle, as they contain all the learning
    activities and content prepared by teachers and used by students. Even Moodle’s
    home page is a course, but we will deal with this later when we customize the
    look and feel of your LMS.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
- en: While it is possible to delegate many course-related tasks to non-administrators
    – we will deal with this in [*Chapter 6*](B18779_06.xhtml#_idTextAnchor116), *Managing
    Permissions, Roles, and Capabilities* – you, as the administrator, are often required
    to set up the overall course and category structure. There are also plenty of
    course- and category-related settings that we deliberately did not deal with in
    this section but will cover throughout the book. Examples are various options
    in **Site administration** | **Appearance** | **Navigation** that drive what is
    shown in the navigation bar, and **Site administration** | **Appearance** | **Courses**
    where there is information about how the course catalog is structured. Both topics
    will be discussed in [*Chapter 7*](B18779_07.xhtml#_idTextAnchor140), *Enhancing
    Moodle’s Look* *and Feel*.
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
- en: Closely related to courses is the enrolment of users; it is important to understand
    the difference between enrolment, which we covered in this chapter, and authentication,
    which we will discuss in detail in the next chapter dealing with user management.
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL

["```php\nadd_action( 'add_meta_boxes', 'ch5_psl_register_meta_box' );\n```", "```php\nfunction ch5_psl_register_meta_box() { \n    add_meta_box( 'ch5_psl_source_meta_box', 'Post/Page Source',\n                  'ch5_psl_source_meta_box', 'post', 'normal'); \n    add_meta_box( 'ch5_psl_source_meta_box', 'Post/Page Source',\n                  'ch5_psl_source_meta_box', 'page', 'normal'); \n} \n```", "```php\nfunction ch5_psl_source_meta_box( $post ) {  \n    // Retrieve current source name and address for post \n    $post_source_name =\n        esc_html( get_post_meta( $post->ID, 'post_source_name',\n                                 true ) ); \n    $post_source_address =\n        esc_html( get_post_meta( $post->ID, \n                                 'post_source_address', \n                                 true ) ); \n    ?> \n    <!-- Display fields to enter source name and address --> \n    <table> \n        <tr> \n            <td style=\"width: 100px\">Source Name</td> \n            <td> \n                <input type=\"text\" size=\"40\" \n                       name=\"post_source_name\"\n                       value=\"<?php echo $post_source_name; ?>\" /> \n            </td> \n        </tr> \n        <tr> \n            <td>Source Address</td> \n            <td> \n                <input type=\"text\" size=\"40\" \n                       name=\"post_source_address\"\n                       value=\"<?php echo $post_source_address; ?>\"\n                /> \n            </td> \n        </tr> \n    </table> \n<?php } \n```", "```php\nadd_action( 'save_post', 'ch5_psl_save_source_data', 10, 2 ); \n```", "```php\nfunction ch5_psl_save_source_data( $post_id = false,  \n                                   $post = false ) { \n    // Check post type for posts or pages \n    if ( 'post' == $post->post_type || \n         'page' == $post->post_type ) { \n        // Store data in post meta table if present in post data \n        if ( isset( $_POST['post_source_name'] ) ) {\n            update_post_meta( $post_id, 'post_source_name', \n                sanitize_text_field(\n                    $_POST['post_source_name'] ) ); \n        }\n\n        if ( isset( $_POST['post_source_address'] ) ) {\n            update_post_meta( $post_id, 'post_source_address', \n                esc_url( $_POST['post_source_address'] ) ); \n        }\n    } \n} \n```", "```php\nfunction ch5_psl_register_meta_box() { \n    $post_types = get_post_types( array(), 'objects' ); \n    foreach ( $post_types as $post_type ) { \n        add_meta_box( 'ch5_psl_post_source_meta_box', \n                      'Post/Page Source', \n                      'ch5_psl_source_meta_box', \n                      $post_type->name, 'normal' );  \n    } \n} \n```", "```php\nadd_filter( 'the_content', 'ch5_psl_display_source_link' );\n```", "```php\nfunction ch5_psl_display_source_link ( $content ) { \n    $post_id = get_the_ID();\n\n    if ( !empty( $post_id ) ) {\n        if ( 'post' == get_post_type( $post_id ) ||\n             'page' == get_post_type( $post_id ) ) {\n\n            // Retrieve current source name and address for post \n            $post_source_name =\n                get_post_meta( $post_id, 'post_source_name', \n                               true ); \n            $post_source_address =\n                get_post_meta( $post_id, 'post_source_address', \n                               true ); \n\n            // Output information to browser \n            if ( !empty( $post_source_name ) && \n                 !empty( $post_source_address ) ) { \n                $content .= '<div class=\"source_link\">Source: '; \n                $content .= '<a href=\"';\n                $content .= esc_url( $post_source_address ); \n                $content .= '\">' . esc_html( $post_source_name );\n                $content .= '</a></div>';\n            } \n        }\n    }\n    return $content;\n} \n```", "```php\nadd_action( 'add_meta_boxes', \n            'ch5_hcf_remove_custom_fields_metabox' ); \n```", "```php\nfunction ch5_hcf_remove_custom_fields_metabox() { \n    remove_meta_box( 'postcustom', 'post', 'normal' ); \n    remove_meta_box( 'postcustom', 'page', 'normal' ); \n} \n```", "```php\nremove_meta_box( $id, $page, $context );  \n```", "```php\nadd_action( 'post_edit_form_tag', 'ch5_cfu_form_add_enctype' ); \n```", "```php\nfunction ch5_cfu_form_add_enctype() {   \n    echo ' enctype=\"multipart/form-data\"';   \n} \n```", "```php\nadd_action( 'add_meta_boxes', 'ch5_cfu_register_meta_box' ); \n```", "```php\nfunction ch5_cfu_register_meta_box() { \n    add_meta_box( 'ch5_cfu_upload_file', 'Upload File', \n                  'ch5_cfu_upload_meta_box', 'post', 'normal' ); \n    add_meta_box( 'ch5_cfu_upload_file', 'Upload File', \n                  'ch5_cfu_upload_meta_box', 'page', 'normal' ); \n} \n```", "```php\nfunction ch5_cfu_upload_meta_box( $post ) { ?> \n    <table> \n        <tr> \n            <td style=\"width: 150px\">PDF Attachment</td> \n            <td> \n            <?php \n            // Retrieve attachment data for post \n            $attachment_data = get_post_meta( $post->ID, \n                                              'attach_data', \n                                              true ); \n\n            // Display post link if data is present \n            if ( empty ( $attachment_data ) ) { \n                echo 'No Attachment Present'; \n            } else { \n                echo '<a target=\"_blank\" href=\"'; \n                echo esc_url( $attachment_data['url'] ); \n                echo '\">' . 'Download Attachment</a>'; \n            }                 \n            ?> \n            </td> \n        </tr> \n        <tr> \n            <td>Upload File</td> \n            <td><input name=\"upload_pdf\" type=\"file\" /></td> \n        </tr> \n        <tr> \n            <td>Delete File</td> \n            <td><input type=\"submit\" name=\"delete_attachment\" \n                       class=\"button-primary\"\n                       id=\"delete_attachment\" \n                       value=\"Delete Attachment\" /></td> \n        </tr> \n    </table> \n<?php } \n```", "```php\nadd_action( 'save_post', 'ch5_cfu_save_uploaded_file', 10, 2 ); \n```", "```php\nfunction ch5_cfu_save_uploaded_file( $post_id = false,  \n                                     $post = false ) { \n    if ( isset($_POST['delete_attachment'] ) ) { \n        $attach_data = get_post_meta( $post_id, 'attach_data', \n                                      true ); \n\n        if ( !empty( $attach_data ) ) { \n            unlink( $attach_data['file'] ); \n            delete_post_meta( $post_id, 'attach_data' ); \n        } \n    } elseif ( 'post' == $post->post_type ||\n               'page' == $post->post_type ) { \n\n        // Look to see if file has been uploaded by user \n        if( array_key_exists( 'upload_pdf', $_FILES ) && \n            !$_FILES['upload_pdf']['error'] ) { \n\n            // Retrieve file type and store lower-case version \n            $file_type_array = wp_check_filetype( basename( \n                 $_FILES['upload_pdf']['name'] ) );            \n            $file_ext = strtolower( $file_type_array['ext'] );  \n\n            // Display error message if file is not a PDF \n            if ( 'pdf' != $file_ext ) { \n                wp_die( 'Only files of PDF type are allowed.' ); \n                exit; \n            } else { \n                // Send uploaded file data to upload directory  \n                $upload_return = wp_upload_bits( \n                    $_FILES['upload_pdf']['name'], null, \n                    file_get_contents( \n                    $_FILES['upload_pdf']['tmp_name'] ) ); \n\n                // Replace backslashes with slashes for Windows\n                // web servers\n                $upload_return['file'] =  \n                    str_replace( '\\\\', '/', \n                                 $upload_return['file'] ); \n\n                // Set upload path data if successful. \n                if ( isset( $upload_return['error'] ) && \n                            $upload_return['error'] != 0 ) { \n                    $errormsg = 'There was an error uploading'; \n                    $errormsg .= 'your file. The error is: '; \n                    $errormsg .= $upload_return['error']; \n                    wp_die( $errormsg );   \n                    exit; \n                } else { \n                    $attach_data = get_post_meta( $post_id,\n                                                  'attach_data', \n                                                  true ); \n\n                    if ( !empty( $attach_data ) ) {\n                        unlink( $attach_data['file'] ); \n                    } \n                    update_post_meta( $post_id, 'attach_data', \n                                      $upload_return ); \n                }  \n            } \n        } \n    } \n} \n```", "```php\nadd_filter( 'the_content', 'ch5_cfu_display_pdf_link' );\n```", "```php\nfunction ch5_cfu_display_pdf_link ( $content ) { \n    $post_id = get_the_ID();\n\n    if ( !empty( $post_id ) ) {\n        if ( 'post' == get_post_type( $post_id ) ||\n             'page' == get_post_type( $post_id ) ) {\n\n            $attachment_data =\n                get_post_meta( $post_id, 'attach_data', true ); \n\n            if ( !empty( $attachment_data ) ) { \n                $content .= '<div class=\"file_attachment\">';\n                $content .= '<a target=\"_blank\" href=\"'; \n                $content .= esc_url( $attachment_data['url'] ); \n                $content .= '\">' . 'Download additional '; \n                $content .= 'information</a></div>'; \n            } \n        }\n    }\n    return $content;\n} \n```"]
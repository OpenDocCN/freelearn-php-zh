<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Basic Content"><div class="titlepage"><div><div><h1 class="title"><a id="ch06"/>Chapter 6. Basic Content</h1></div></div></div><p>Everything we have dealt with so far, as important as it may be in terms of creating our own unique site, must take a back seat when it comes to the topic of content and content management in Drupal. After all, content<span class="emphasis"><em> is</em></span> what this is all about! With the explosion in the number of sites offering dynamic content, it is now an absolute necessity to provide meaningful, dynamic, and relevant information on your site in order to prosper. How this is done behind the scenes is really of no concern to a site's users, but if you can make their browsing experience hassle free and relevant to them, they will stick with you.</p><p>
<span class="emphasis"><em>What does hassle free mean in this context?</em></span> Content needs to be easy to find, which in turn means it needs to be well organized. It needs to be well presented and easy to interact with—in other words, simple to use. Most of this is taken care of already by Drupal, and for very little additional effort, we can provide some very powerful functionality. However, before we look at adding more functionality, we should really ensure that we have a good grasp of how to use what is already in place.</p><p>To this end, this chapter will provide a good grounding in the basics of content management before it moves on to look at a few interesting and powerful features of Drupal. Specifically, we will look at the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Content types</li><li class="listitem" style="list-style-type: disc">Working with content</li><li class="listitem" style="list-style-type: disc">Content-related modules</li></ul></div><p>Once we are done here, it will be time to look at how to put together some neat pages using HTML and PHP, as well as the all important task of working out how to classify and categorize all your data to provide a sophisticated and intuitive content management system. All this is to come in the following chapter. For now, let's get on with familiarizing ourselves with Drupal and its content.</p><div class="section" title="Content Types"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec01"/>Content Types</h1></div></div></div><p>You have already been exposed to some of Drupal's content types' structure and usage. This is actually fairly useful because it means we can spend time focusing on more important issues in lieu of giving a broader overview of content and content management in Drupal. That's not to say that everything in this section, and the one that follows, has already been covered, though.</p><p>For a start, we need to have a good idea of the types of content that can be created in Drupal, and then we need to look at the various ways these content types can be put to use. Knowing this will help you determine the best way to go about implementing whatever functionality you have in mind for your site.<a class="indexterm" id="id189"/>
</p><p>The following table lists the content types that ship with Drupal by default:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>blog entry</p>
</td><td style="text-align: left" valign="top">
<p>A blog, or weblog, is an author-specific content type that is used as a journal or diary, among other things, by individuals. In Drupal, each blog writer can, depending on the site's settings and their permissions, add attachments, HTML, or PHP code to their blog.</p>
<p>A good example of a blog can be found at:<a class="ulink" href="http://googleblog.blogspot.com/"> http://googleblog.blogspot.com/</a>, which demonstrates an interesting use of the blog content format.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Book Page</p>
</td><td style="text-align: left" valign="top">
<p>A book is an organized set of book page types (actually any type can be used nowadays), which are intended to be used for collaborative authoring. Book pages may be added by different people in order to make up one single book, which can then be structured into chapters and pages, or in whatever structure is most appropriate, provided it is in a hierarchical structure.</p>
<p>Because pretty much any data type can be added to a book, there is plenty of scope for exciting content (think of narrated or visual content complementing dynamic book pages, created with PHP and Flash animations, to create a truly unique Internet-based book—the possibilities are endless!).</p>
<p>A good example of a book is the documentation provided for developers on the Drupal site, found at:<a class="ulink" href="http://drupal.org/node/316">http://drupal.org/node/316</a>. This has been built up over time by a number of different authors.</p>
<p>You will notice that if you have the book module enabled, an additional outline tag is presented above all/most of the site's posts. Clicking on this tab allows you to add that post to a book—in this way, books can be built up from content posted to the site.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Comments</p>
</td><td style="text-align: left" valign="top">
<p>Comments are slightly different in that they aren't really nodes like the other types. In other words, you can't create a comment in the way that you create any other content. Instead, you can tack comments on to other content types, and these are very popular as a means to stimulate discussion among users.</p>
<p>You can see comments in action by logging in to the Drupal forums,<a class="ulink" href="http://drupal.org/forum"> http://drupal.org/forum</a> , and posting or viewing comments on the various topics there.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>forum topic</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Forum topics are the building blocks of forums. Forums can only consist of forum topics and their comments, unlike books, which can consist of pretty much any content type. Information in forums is categorized in a hierarchical structure, and they are extremely useful for hosting discussions as well as community-based support and learning.</p>
<p>Forums are abundant on the Internet and you can also visit the Drupal forums to get a feel for how they operate.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>page</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>The page type is meant to allow you to add basic, run-of-the-mill web pages that can be found on any site.<span class="emphasis"><em> About us</em></span> or<span class="emphasis"><em> Terms of use</em></span> pages are good candidates for the page type, although you can spruce these up with a bit of dynamic content and HTML.</p>
<p>Just look on any website to see examples of such pages.</p>
</td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Content Type</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>poll</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>The poll type provides the facility to ask questions, and supply a set of answers that are then presented in graph format. Many different enterprises make use of polls in order to collect political or marketing information, or to conduct research, among other things.</p>
<p>Polls by nature generally have a limited life span; so you will have to search for your own examples. Many news sites such as Time magazine conduct polls to determine public opinion; so these may be your best bet for seeing how polls can be put to good use.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>story</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>A story page is more or less the same thing as a standard page type. However, you might want to distinguish the two by using story types for short-lived pages, such as news or notices.</p>
</td></tr></tbody></table></div><p>The following table looks at some of the content types that are available as contributions:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Content Type</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Acidfree</p>
</td><td style="text-align: left" valign="top">
<p>Albums and media item types provided with the Acidfree contribution allow you to work with image and video content. The contribution also provides facilities to manage your media files.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Daily</p>
</td><td style="text-align: left" valign="top">
<p>The daily contribution provides two new node types, called daily item and daily container. These are used to facilitate browsing of content items by date, or even controlling when content items are made available on the site in the future.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Flexinode</p>
</td><td style="text-align: left" valign="top">
<p>This contribution allows users to define and edit their own content types.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Front Page</p>
</td><td style="text-align: left" valign="top">
<p>While not technically a node/content type, Front Page does allow users to create a front page, which does not have to conform to the standard page layout of the rest of the Drupal site. Useful if you would like to add an introductory page to your site.</p>
</td></tr></tbody></table></div><p>Every time you create new content for your site, there are several options available for you to make the appropriate decisions over, and these are displayed in the list that appears below the body of the post. Depending on the permissions of a given user, they will also have some, although hopefully not all, options available to them. For example, if upload permissions are enabled for authenticated users, then they will be able to decide whether to attach a file to any content they create.</p><p>As the administrator, your powers are more substantial; so let's go through the default options available when creating a standard page content type. Be aware that different types of content may also have additional options available for them. For example, if you create a new poll, you will have to decide how long the poll is to run for by setting the<span class="strong"><strong> Poll duration</strong></span> in the poll type's unique<span class="strong"><strong> Settings</strong></span> section.</p><p>The content options discussed in the following section are representative of most types.</p></div></div>
<div class="section" title="Working with Content"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec02"/>Working with Content</h1></div></div></div><p>Knowing<span class="emphasis"><em> what</em></span> is and is not available for use in terms of content doesn't necessarily mean that you automatically know<span class="emphasis"><em> how</em></span> to work with the content. This section will therefore take a slightly more in-depth look at how to both edit and configure content to reflect the needs of the site. We have already worked with content in previous chapters, and so are familiar with bits and pieces of this section already. However, the intention here is to give you a single, cohesive point of reference from which to learn.<a class="indexterm" id="id190"/>
</p><p>There are a few different aspects to working with content, and we will begin by looking at how to set up the correct default options whenever you create something new. Following this, it is important to look at the content<span class="strong"><strong> administer</strong></span> facility, and to round everything off, we will have brief discussion on issues to look out for in general since working with content can be quite confusing at times.<a class="indexterm" id="id191"/>
</p><div class="section" title="Content Options"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec01"/>Content Options</h2></div></div></div><p>When creating new content, we have the<span class="strong"><strong> Input format</strong></span> section presented as follows (if the<span class="strong"><strong> Input format</strong></span> link is minimized, click on it to bring up the full version):<a class="indexterm" id="id192"/>
</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_01.jpg"/></div><p>By default, the<span class="strong"><strong> Filtered HTML</strong></span> option is selected. Unless you have a good reason to use one of the other options available, stick to this. Especially be wary of allowing any user to add PHP to their content, as this could put your site at serious risk. Remember that even<span class="strong"><strong> Filtered HTML</strong></span> is not entirely safe, as users could still add links to malicious web addresses to their pages, which amounts to the same thing as having it on your site.</p><p>Here's an example of how a user could gain information about your site (assuming the<span class="strong"><strong> PHP code</strong></span> option is enabled) before making an attack. In the body text of a page, add the following snippet of code to your page:</p><div class="informalexample"><pre class="programlisting">&lt;?
Phpinfo();
?&gt;
</pre></div><p>Ensure the<span class="strong"><strong> PHP code</strong></span> option is enabled, and after supplying a<span class="strong"><strong> Title</strong></span> for the page, click<span class="strong"><strong> Preview</strong></span>. You should see something like this:</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_02.jpg"/></div><p>While the server information in this screenshot may not be clear enough to read, it is certainly clear enough for someone viewing the page online to find out everything about your server. In this case, it is better to be safe than sorry, and you should leave the default option for this type of setting as<span class="strong"><strong> Filtered HTML.</strong></span> All this goes to reiterate a point we discussed earlier when we looked at users and permissions:<a class="indexterm" id="id193"/>
</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note23"/>Note</h3><p>Make sure you only give trusted users just enough permissions to fulfill their roles—and no more!</p></div></div><p>Before continuing, I should mention that in the following chapter we will discuss how to create custom input formats, because the default options might not always be suitable for the site's requirements.</p><p>
<span class="strong"><strong>Following on, Authoring information</strong></span> has only two options. The first names the author of the content, and the second gives the date on which the content was first created. Naturally, modifying the content will not change the<span class="strong"><strong> Authored on</strong></span> date. If, however, you were modifying a page that has already been created, then you would come across a logging option (this may also be available when the content is first created).<a class="indexterm" id="id194"/>
</p><p>For example, a typical log message might be something like the following:</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_03.jpg"/></div><p>If you are wondering why I have not bothered to add a date to this log message, it is because Drupal will make this clear when viewing revisions of the content automatically. Wait until we have discussed revisions before taking a look at the effect that log messages have on their content.</p><p>This log facility is quite simple, but should suffice for most people's needs. It is possible that a new, more sophisticated system of logging will be introduced for Drupal in the future, so keep an eye out for that.</p><p>The<span class="strong"><strong> Publishing options</strong></span> can be tricky to get right, depending on how things are set up. This is what they look like at the moment:<a class="indexterm" id="id195"/>
</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_04.jpg"/></div><p>As you will see in the following section on<span class="emphasis"><em> Administering Content,</em></span> it is possible to decide whether content of certain types coming from certain users needs to be moderated before it can be allowed on to the site for general consumption. If this is the case, you or a designated user will have the ability to go through a moderation queue in order to confirm that any and all the content meets the site's requirements.<a class="indexterm" id="id196"/>
</p><p>In the previous screenshot, the content being added is being published directly without the need for moderation. Enabling the second option,<span class="strong"><strong> In moderation queue</strong></span>, would force the content to be approved before publication. The third option has been selected, and this will cause the content being created to appear on the front page of the website when it is first published (unless you have set a specific node to be displayed here already).</p><p>It is unlikely that by default you would want, for example, new book pages to appear on the front page ahead of say blogs from industry experts; so enable this option only for the content types that should steal some of the limelight.</p><p>The fourth option,<span class="strong"><strong> Sticky at top of lists</strong></span>, causes the node to remain at the top of its list regardless of how many other postings there are. This is extremely useful for posting important messages to forums. For example, if there is some confusion about how to do something on a given forum, write a note explaining how things are done, and select this option to pin it to the top of the forum. In this way you ensure that it is the first thing everyone sees when they access that forum.</p><p>The final option,<span class="strong"><strong> Create new revision</strong></span>, causes Drupal to create a new version of the content if it is being updated or revised. This means that you maintain the old version of the content as well as making a new version. This is useful if you want to keep track of what changes are being made to your documents. If a new revision has been created and tracked, then the next time you look at the content (assuming you have sufficient permissions) you will notice a new<span class="strong"><strong> revisions</strong></span> tab on the page as follows:<a class="indexterm" id="id197"/>
</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_05.jpg"/></div><p>Using this<span class="strong"><strong> revisions</strong></span> page, it is now possible to work with your content quite easily. For example, you can decide which revision should be the active one (displayed to others) by clicking on<span class="strong"><strong> revert</strong></span>, or you can<span class="strong"><strong> delete</strong></span> revisions altogether. Notice that the log message that was added to the content type is also displayed at the bottom of each revision. From this you can see that they are actually quite important for maintaining good version control in content that is often modified. In this case, the log message for the revised version of the book page content mentions a change in the title.<a class="indexterm" id="id198"/>
</p><p>Moving along, the next section,<span class="strong"><strong> Comment settings,</strong></span> simply allows you to determine whether other users will be able to add comments to the content or not, as shown here:<a class="indexterm" id="id199"/>
</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_06.jpg"/></div><p>The first option,<span class="strong"><strong> Disabled</strong></span>, is useful if you are posting content for which comments are not appropriate—perhaps, like me, you are averse to criticism about your poetry, or something similar. The second allows only those with administration rights to post comments to this content, although other users can view the comments, and the final option allows all users with sufficient permissions to pass comment on your wonderful poetry (or whatever).</p><p>The following set of options deals with adding content to a menu. The next screenshot shows how a typical<span class="strong"><strong> about us</strong></span> page might be added to the<span class="strong"><strong> Navigation</strong></span> menu:<a class="indexterm" id="id200"/>
</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_07.jpg"/></div><p>In this case, a fairly hefty weight has been assigned to this page as we only ever want it to be shown after the actual content posts so that is doesn't detract from the main focus of the website. If you now take a look at the main menu and hover the cursor over the new<span class="strong"><strong> about us</strong></span> link, you'll see the following:</p><div class="mediaobject"><img alt="Content Options" src="graphics/1800_06_08.jpg"/></div><p>If you ever wish to remove or edit this menu item again, simply look at the same<span class="strong"><strong> Menu settings</strong></span> section, and there will be a new checkbox, automatically available, to delete it.<a class="indexterm" id="id201"/>
</p><p>The final option available concerns the use of file uploads; it is easy to work with and we have already seen it in action, and so we'll discuss it no further here. That about wraps it up for default content options—there's plenty more to learn, however, so keep your thinking cap on as we venture into the world of content administration.</p></div><div class="section" title="Administering Content"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec02"/>Administering Content</h2></div></div></div><p>We saw in<a class="link" href="ch04.html" title="Chapter 4. Basics II: Adding Functionality"> Chapter 4</a>, that in the<span class="strong"><strong> settings</strong></span> section, under<span class="strong"><strong> administer</strong></span>, it was possible to set default options for a content type. Head back over there, and disable all the<span class="strong"><strong> Publishing options</strong></span> with the exception of<span class="strong"><strong> In moderation queue</strong></span> for the<span class="strong"><strong> page</strong></span> content type (or any type that can be created using the authenticated user) and save the changes. Log out of the administrator account and log in using a standard account, and then create a new page.<a class="indexterm" id="id202"/>
</p><p>Assuming the authenticated user does not have<span class="strong"><strong> administer</strong></span> permissions enabled on nodes, he or she will not have the power to modify the<span class="strong"><strong> Publishing options</strong></span>, and will simply have to click<span class="strong"><strong> Submit</strong></span> in order to send their page for moderation. Now look through all the available content on the site; the page just submitted will not appear yet because it has not been published. In order to see what's going on, we need to visit the<span class="strong"><strong> content</strong></span> page under<span class="strong"><strong> administer</strong></span>, which shows a list of all the content on the site along with a variety of options in order to work with it, like so:</p><div class="mediaobject"><img alt="Administering Content" src="graphics/1800_06_09.jpg"/></div><p>Notice that in this screenshot the top two submissions were posted by the user<span class="strong"><strong> David</strong></span> (whereas, in the case of the demo site, the administrator is<span class="strong"><strong> David Mercer)</strong></span>. Neither of these page nodes has yet been published because the default settings require them to first be moderated. Notice also that<span class="strong"><strong> new</strong></span> has been tacked onto the latest submission to distinguish it from posts we have already seen—useful when you have tonnes and tonnes of nodes to go through.</p><p>Now, the content filter shown towards the top of the page, above<span class="strong"><strong> Update options</strong></span>, is a very important tool in your administrative workshop. It allows you to display only those nodes that satisfy certain requirements. There are three filter criteria provided:<span class="strong"><strong> status, type</strong></span>, and<span class="strong"><strong> category</strong></span>. These allow you to filter the whole list, presenting only those items that meet the specific requirement set in the drop-down list to the right of the selected method.<a class="indexterm" id="id203"/>
</p><p>If we wanted to locate a node that has already been published, we would check the<span class="strong"><strong> status</strong></span> criterion, and then select the<span class="strong"><strong> published</strong></span> option from the drop-down list (as shown in the previous screenshot) before clicking<span class="strong"><strong> Filter</strong></span>. The displayed list would then be filtered and only the relevant results displayed on the page. Easy enough to do!</p><p>That's all good and well, but where is the moderation queue? Well, if you look at the drop-down list provided with the<span class="strong"><strong> status</strong></span> criterion, you will notice that there is an<span class="strong"><strong> in moderation</strong></span> option. Selecting this and clicking<span class="strong"><strong> Filter</strong></span> will present us with the following results:</p><div class="mediaobject"><img alt="Administering Content" src="graphics/1800_06_10.jpg"/></div><p>None of these pages have been published yet, because the<span class="strong"><strong> publishing option was disabled and in moderation queue</strong></span> was set for all of them.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note24"/>Note</h3><p>Note that is possible to use the filters several times in order to refine your results!</p></div></div><p>It is now possible for the administrator to edit the node, and once all is well, the node can be published. Doing this is simple enough! Let's say we wanted to allow the<span class="strong"><strong> Administer me</strong></span> page to be published because after a bit of editing we are happy with it. Simply select the box to the left of the<span class="strong"><strong> Title</strong></span>, and then, in the<span class="strong"><strong> Update options</strong></span> section directly above the list, select the relevant option as shown here:<a class="indexterm" id="id204"/>
</p><div class="mediaobject"><img alt="Administering Content" src="graphics/1800_06_11.jpg"/></div><p>Clicking on<span class="strong"><strong> Update</strong></span> will ensure that the page is now published as intended. You can confirm this by logging out and viewing the page as either an anonymous user or as an authenticated user depending on your permissions.<a class="indexterm" id="id205"/>
</p><p>It's worth noting that there are quite a few options available when it comes to updating posts. You can promote the posting to the front page, or can demote it if you so choose. You can make the post sticky (in other words, it will stick to the front of its list) as shown here:</p><div class="mediaobject"><img alt="Administering Content" src="graphics/1800_06_12.jpg"/></div><p>With the<span class="strong"><strong> Make the selected posts sticky</strong></span> under<span class="strong"><strong> Update options</strong></span> enabled for the<span class="strong"><strong> A new topic</strong></span> forum post, you can see that there is a pinned icon to the left and that the latest post, which is not sticky, appears below it. You can also unpublish and delete posts, both of which prevent users with insufficient permissions viewing the post on the site. The difference is that the<span class="strong"><strong> Delete the selected posts</strong></span> option removes the post from the system entirely, whereas an unpublished post can be re‑published at a later date—useful for simply taking a post offline in the event you need to correct or modify it without getting rid of it.</p><p>Finally, in the event that it is not possible to easily locate content, there is a search tool provided under the<span class="strong"><strong> search</strong></span> tab of the content page, which allows you to search by keyword. Bear in mind that you can make use of the<code class="literal"> *</code> wildcard character to match any characters in order to broaden your search. The<span class="strong"><strong> Advanced search</strong></span> link on this page also provides you with several other options to specify conditions for your search.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note25"/>Note</h3><p>New content will not be searchable until your cron run has been completed! Cron and scheduled tasks are discussed in detail in<a class="link" href="ch10.html" title="Chapter 10. Running Your Website"> Chapter 10</a>.</p></div></div><p>Finally, you are strongly urged to play around with the search options in order to become familiar with how each option functions.</p></div></div>
<div class="section" title="Content-Related Modules"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec03"/>Content-Related Modules</h1></div></div></div><p>As well as talk about content-related modules, this section will also serve to give you a better idea of what is available to work with, and therefore what is possible to accomplish using both default and contributed modules.<a class="indexterm" id="id206"/>
</p><p>We already know how to install modules, so we won't show how to install every contribution we discuss. If and when there are any noteworthy deviations from the usual installation methods they will be mentioned here—otherwise, please install and enable each module, remembering to check if there are any special permissions that need to be set as you go.</p><p>
<a class="link" href="ch09.html" title="Chapter 9. Advanced Features and Modifications">Chapter 9</a> deals with more advanced topics, and it is there that we discuss the<span class="strong"><strong> Flexinode</strong></span> module, which constitutes the last bit of information directly related to content; so remember to also check there before<span class="emphasis"><em> closing the book</em></span> on content.</p><div class="section" title="Aggregator"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec03"/>Aggregator</h2></div></div></div><p>One of the greatest opportunities available to web-based communities is the ability to share information. All you really need is a set of guidelines for how that information is to be presented, and once you have that, the rest is easy. So easy in fact that it is now possible for you to include news and articles of interest on your site from many well known sources with just a few clicks.</p><p>What makes it so easy to include other people's news, documents, articles, or any other content easy is a standard called<span class="strong"><strong> Rich Site Summary (RSS)</strong></span> . This allows aggregators (programs that consume RSS feeds) to understand how to present content on web pages due to the way in which the RSS feed is structured. Drupal comes with one of these aggregators built in—simply enable it in the<span class="strong"><strong> modules</strong></span> section under<span class="strong"><strong> administer</strong></span>, and you will find that a few extra menu items pop up, allowing you to administer and view the content once it has been added.<a class="indexterm" id="id207"/>
</p><p>Let's assume that the demo site would like to provide some news relating to wildlife from the<span class="emphasis"><em> National Geographic</em></span> website. We pop along to the news site at<a class="ulink" href="http://news.nationalgeographic.com/"> http://news.nationalgeographic.com/</a> and look for where the RSS feed icons are presented on the site. In this case they look like the following:</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_13.jpg"/></div><p>Clicking on the<span class="strong"><strong> RSS</strong></span> link here will bring up the following page—luckily Drupal takes care of all the dirty work for us, and we don't even need to understand the XML in order to consume this feed:</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_14.jpg"/></div><p>This may not mean much to you at the moment, but it serves to confirm that there is a feed available for use at the address given in the URL. Knowing this, we can now head over to our site and look for the<span class="strong"><strong> aggregator</strong></span> link under<span class="strong"><strong> administer</strong></span> in order to begin adding this feed to the site. This will bring up the as yet blank list of feeds along with everything else we need. On this page, clicking on the<span class="strong"><strong> add category</strong></span> tab brings up the following form:<a class="indexterm" id="id208"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_15.jpg"/></div><p>Assuming you intend to make use of a variety of feeds, it is probably prudent to categorize your content right from the start. Remember, providing access to timely and interesting news is a value‑added service for your site and encourages users to return time and again. With this in mind, it is probably quite valuable to have a variety of relevant feeds available.<a class="indexterm" id="id209"/>
</p><p>Once you are done, click<span class="strong"><strong> Submit</strong></span>, and then click on the<span class="strong"><strong> add feed</strong></span> tab to bring up the following:<a class="indexterm" id="id210"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_16.jpg"/></div><p>As you can see, we have:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Specified a title for the new feed</li><li class="listitem">Supplied Drupal with the location of the RSS feed (check this against the URL of the RSS feed page we visited on the actual National Geographic site a bit earlier)</li><li class="listitem">Given an<span class="strong"><strong> Update interval</strong></span> of one day, making this a daily news feed</li><li class="listitem">Associated this feed with the newly created<span class="strong"><strong> Commercial</strong></span> category</li></ol></div><p>There are a number of things to consider when filling out this form. First, you need to ensure that you are not infringing any licensing issues that will be supplied by the creator of the source feed. If there are restrictions as to what can and cannot be done with the feed, please ensure you abide by those restrictions.</p><p>Next, there is no point in setting an update interval of one hour if you are only running the cron script once a day—the cron can at most only update the script once a day in this case. By the same token, there is no point in using the cron to update your feed every ten minutes if the feed itself is only updated on a weekly basis—check with the providers of the feed how often they recommend you update your feed.</p><p>Having taken these factors into account you can now click on<span class="strong"><strong> Submit</strong></span> to add the feed to your site. Now the aggregator homepage has something to tell us, and should look something like this:<a class="indexterm" id="id211"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_17.jpg"/></div><p>As yet there are no items in the feed because the<code class="literal"> cron.php</code> script hasn't been run. You can either wait for it to be accessed by your scheduled task or crontab, or if you are not keen to hang around, simply navigate to<code class="literal"> http://localhost/drupal/cron.php</code> in your browser (if the path to your<code class="literal"> cron.php</code> script is different, ensure you change this URL to suit your site). Remember that<code class="literal"> cron.php</code> is just a script, with no HTML; so you will not see anything displayed on this page even if it is working correctly.</p><p>Once you have done that, click<span class="strong"><strong> refresh</strong></span> on the aggregator page to see the results. You should get something like this, assuming everything has worked correctly:</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_18.jpg"/></div><p>Success! From this you can see that the feed now contains<span class="strong"><strong> 9 items</strong></span> as of the last update, which occurred<span class="strong"><strong> 6 sec ago</strong></span>. As well as this, you can<span class="strong"><strong> edit</strong></span> the feed,<span class="strong"><strong> remove items</strong></span> from the feed, or manually update the feed by clicking<span class="strong"><strong> update items</strong></span>—in this case, the feed can be modified to reflect any changes on the source site. That's all there is to it!<a class="indexterm" id="id212"/>
</p><p>You can, of course, now view the content of the feed on the site. For the demo site, permission to access the feeds has been granted to anonymous and authenticated users alike. So when someone visits the site and clicks on the<span class="strong"><strong> news aggregator</strong></span> link in the main menu, they are presented with something like the following:</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_19.jpg"/></div><p>Now all users have instant access to all the content provided by<span class="emphasis"><em> National Geographic</em></span>. Nothing stops you from gathering information from any number of other feeds, and what is interesting is that provided you are not infringing any licenses, you can make your feeds available to other sites. Doing this is easy (remember to enable the syndication block before trying to work with it)! Scroll down to the bottom of the page until you see a small icon that looks like this:</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_20.jpg"/></div><p>Clicking on it brings up the feed page that is provided at the following URL (in the case of the demo site):<code class="literal"> http://localhost/drupal/aggregator/rss</code>, and in this way content can be syndicated. You aren't limited to syndicating online feeds you have obtained—any content can be syndicated.</p><p>It's worth noting that your sources can be revealed in the navigation column by clicking on the<span class="strong"><strong> sources</strong></span> link under<span class="strong"><strong> news aggregator</strong></span>. In this case, we are presented with the following; note that I have added a feed from the WWF (World Wide Fund for Nature, formerly World Wildlife Fund):</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_21.jpg"/></div><p>This presents us with a nice summary of feeds from each source. So far so good, but<span class="emphasis"><em> what does the</em></span>
<span class="strong"><strong> more</strong></span>
<span class="emphasis"><em> link do?</em></span> Clicking on the<span class="strong"><strong> more</strong></span> link for the WWF source brings up the following page:<a class="indexterm" id="id214"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_22.jpg"/></div><p>From here it is possible to click on the name of the feed in order to go to the source website, in this case<a class="ulink" href="http://www.panda.org"> http://www.panda.org</a>. The feeds associated with this source are listed on the page below the title box for easy access to feeds by source. Clicking on the orange syndicate icon at the top right of the box takes the browser to the actual feed page. In this case it is<a class="ulink" href="http://www.panda.org/rss/news.cfm?Press%20Office"> http://www.panda.org/rss/news.cfm?Press%20Office</a>.<a class="indexterm" id="id215"/>
</p><p>As well as this, there are two tabs at the top of the page. The<span class="strong"><strong> categorize</strong></span> tab opens up the following screenshot, which allows us to put individual feed items into a variety of categories (assuming you have a variety of categories available).</p><p>This screenshot shows the second feed item being assigned two categories, namely<span class="strong"><strong> Commercial</strong></span> and<span class="strong"><strong> Special</strong></span>. In this case, the<span class="strong"><strong> Special</strong></span> category was created with a specific purpose in mind. Because there is news every now and then that warms one's heart, all items that are tagged in the<span class="strong"><strong> Special</strong></span> category should be displayed in a special block on the website so that every user can see the good news when viewing any page on the site.<a class="indexterm" id="id216"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_23.jpg"/></div><p>The final tab on the<span class="strong"><strong> sources</strong></span> page simply brings up the same page that was used in order to create the feed. From here you can make any changes you require to the feed with ease.</p><p>Since we have not yet covered taxonomy and categorization, you may wish to come back to what follows in this section once you have read<a class="link" href="ch07.html" title="Chapter 7. Advanced Content"> Chapter 7</a> as there may be a few things that are not clear now. For example, we add a module to display content based on its category later on in this chapter, which is why we can work with the<span class="strong"><strong> Special</strong></span> category in the manner shown next. The information presented here is simply to give you an idea of what you will be able to do—hopefully it will not be too confusing now.</p><p>Remembering that it is entirely possible you would like to display some of the latest feeds in a block somewhere on the site, head on over to the<span class="strong"><strong> blocks</strong></span> category under the<span class="strong"><strong> administer</strong></span> link and enable one of the new blocks so that it displays its latest items—notice that it also possible to display the latest feeds in a category too:<a class="indexterm" id="id217"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_24.jpg"/></div><p>Once this is done, you will see the new feed, along with a selection of its items on your web pages. You can configure the number of news items displayed in the<span class="strong"><strong> Block specific settings</strong></span> on its configuration page (click on<span class="strong"><strong> configure</strong></span> to open this up)—for our purposes, the default option of five feeds is just fine.</p><p>Now, assuming that a user has blogging permissions and the feed license allows your site to do so, you can add feed items to blogs, by clicking on the little<span class="strong"><strong> b</strong></span> icon that appears next to each item, as shown here:</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_25.jpg"/></div><p>Adding a news item to your blogs gives the article more permanency as it will not be lost when or if the list of items in the feed is cleared. Of course, if you are going to build up lots of content over time, then it is highly likely that you will need to make use of the archive module.</p><p>The aggregator has one more important section to look at—configuration! If you click on<span class="strong"><strong> aggregator</strong></span> under the<span class="strong"><strong> settings</strong></span> link in the main menu, the following page is displayed:<a class="indexterm" id="id218"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_26.jpg"/></div><p>This interface provides control over the type of HTML that is allowed within the feeds that are to be consumed by your site. This should be sufficient for most if not all the feeds you want to aggregate, but on the off chance that there are problems with some feeds, it is likely that they are using tags that are not specified in this section. When in doubt, leave it as is!</p><p>Next, the number of items to be shown with each feed in general as well as how long to hold on to old feed items are presented, and it is easy enough to make sensible selections here. The final section stipulates whether the category selection interface (on the<span class="strong"><strong> categorize</strong></span> tab of the<span class="strong"><strong> sources</strong></span> page) should use checkboxes or the multiple selector. We have already seen checkboxes in use, and they are fine for the purposes of the demo site. If, however,<span class="strong"><strong> multiple selector</strong></span> was enabled, the category selections would look like this:<a class="indexterm" id="id219"/>
</p><div class="mediaobject"><img alt="Aggregator" src="graphics/1800_06_27.jpg"/></div><p>Before we move on, it is worth mentioning again that if at some stage you feel the urge to syndicate your site's content, you can enable the syndicate block to force Drupal to show the orange syndicate icon. Further, if you would like to enhance the control of the site's syndication, you can take a look at the syndication module provided at<a class="ulink" href="http://drupal.org/project/syndication"> http://drupal.org/project/syndication  </a>.<a class="indexterm" id="id220"/>
</p></div><div class="section" title="Archive"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec04"/>Archive</h2></div></div></div><p>The<span class="strong"><strong> archive</strong></span> module is simple and to the point! Enable it in the<span class="strong"><strong> modules</strong></span> section under<span class="strong"><strong> administer</strong></span>. Then, go to the<span class="strong"><strong> blocks</strong></span> section and enable the option entitled<span class="strong"><strong> Calendar to browse archives</strong></span>, placing it wherever is most appropriate, and away you go. In the case of the demo site, it is envisaged that a lot of content will be added on a daily basis, so the archive calendar will be a great way to locate content chronologically. For this reason, the<span class="strong"><strong> Calendar to browse archives</strong></span> block was given a low rating so that it always appears on top of the right-hand sidebar. Once the changes are submitted, the user can navigate to an item by searching through the calendar for when it was posted:<a class="indexterm" id="id221"/>
</p><div class="mediaobject"><img alt="Archive" src="graphics/1800_06_28.jpg"/></div><p>Not that much to it; however, it is worth noting that clicking on a date or changing the month shown on the calendar will immediately bring up a form in the content section allowing users to search using drop-down lists like so:<a class="indexterm" id="id222"/>
</p><div class="mediaobject"><img alt="Archive" src="graphics/1800_06_29.jpg"/></div><p>It's a testament to the excellent design of Drupal that such powerful functionality can be so easily implemented. If this doesn't impress you, not much will!</p></div><div class="section" title="Similar Entries"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec05"/>Similar Entries</h2></div></div></div><p>I don't know about you, but I often find that when reading news stories I end up following the<span class="strong"><strong> similar/related stories</strong></span> links in order to try to find out more about a given bit of news, or simply get a more rounded view on whatever it is I am looking at. Having the ability to display related items is fairly useful functionality to have, and it should come as no surprise that it is very easy to use on Drupal by installing the<span class="strong"><strong> Similar Entries</strong></span> module.</p><p>Download the module from the Drupal website and extract it to your<code class="literal"> modules</code> folder. With that done you need to now enable the module in the<span class="strong"><strong> modules</strong></span> section under the<span class="strong"><strong> administer</strong></span> menu item—search for the new module entitled<span class="strong"><strong> similar</strong></span>. It is important to go through the<code class="literal"> readme</code> file in this case as it may affect how you install this module depending on your system's setup.<a class="indexterm" id="id223"/>
</p><p>The next task is to decide how many related items you would like to display on the site, among other things. In order to do this, head on over to the<span class="strong"><strong> blocks</strong></span> section under<span class="strong"><strong> administer</strong></span> and click on<span class="strong"><strong> configure</strong></span> adjacent to the<span class="strong"><strong> Similar entries</strong></span> block to set the number, before enabling the block and setting its<span class="strong"><strong> Placement</strong></span> and<span class="strong"><strong> Weight.</strong></span> The demo site used the default settings:<a class="indexterm" id="id224"/>
</p><div class="mediaobject"><img alt="Similar Entries" src="graphics/1800_06_30.jpg"/></div><p>If certain content types are not available for selection, then this is most probably because there is no content of that particular type on the site yet. As soon as you create content of a certain type, it will appear in the<span class="strong"><strong> node types to display</strong></span> drop-down list. Further, assuming the taxonomy module is enabled (which it should be), there are three options related to how the Similar Entries module finds its related content. The default options are fine in this case as we are not concerned about category filtering. If, however, I wanted to show related content only from the<span class="strong"><strong> Conservation</strong></span> forum container, then the following settings would need to be made:<a class="indexterm" id="id225"/>
</p><div class="mediaobject"><img alt="Similar Entries" src="graphics/1800_06_31.jpg"/></div><p>The rest of the settings on this page are standard for each and every block, and we have already seen how to work with these. With the configuration out of the way, simply enable the block and place it where you want. Now when users view any content on the site, the module presents any related content by searching for other posts with similarities. For example, when viewing the following post, notice that there is now a new block present in the right-hand sidebar:</p><div class="mediaobject"><img alt="Similar Entries" src="graphics/1800_06_32.jpg"/></div><p>As you can see, three of the five related items presented have<span class="strong"><strong> hunting</strong></span> in their titles, so we expect them to be shown in this list.<span class="emphasis"><em> What about the other two?</em></span> If you look closely, the content of the post mentions both snaring and gin-traps, which relate to the titles of the two items that do not explicitly mention hunting.</p><p>So, from this we can see that in order to present a list of similar posts or items, the Similar Entries module searches all the titles posted to the site and lists those that have any similarities in the title. Not content with that, it also searches the posts' body content for similarities, and presents those (assuming there is enough space in the block). This is obviously very useful for people doing research, or for a news-like site.<a class="indexterm" id="id226"/>
</p></div><div class="section" title="Taxonomy Block"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec06"/>Taxonomy Block</h2></div></div></div><p>The final module we will discuss here relates to the<span class="strong"><strong> taxonomy</strong></span> module. Unfortunately, this relies on the fact that categorization is enabled on your site already. Because of this, you may want to skip this section until you have read through the chapter on<span class="emphasis"><em> Advanced Content</em></span>, which follows directly after this one.<a class="indexterm" id="id227"/>
</p><p>Like the previous module discussed, this module also presents similar topics to the user, depending on what they are viewing. In this case, though,<span class="emphasis"><em> taxonomy block</em></span> displays a list of recently posted items based on their category. Now, you should think carefully about whether you prefer this module or the previous one to provide readers with related topics. Having both displayed on your page will create some redundancy as there will obviously be some overlap in the content of the blocks.<a class="indexterm" id="id228"/>
</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note26"/>Note</h3><p>Functionality must reflect and meet the requirements of the site. Anything else is redundant!</p></div></div><p>In other words, don't clutter up your web pages with information or functionality that is not really necessary; this hurts the usability of the site, and therefore, indirectly, its popularity.</p><p>The installation of the module is fairly basic—simply extract the contents of the download to the<code class="literal"> modules</code> folder. You will need to execute a<code class="literal"> .mysql</code> script against your database, so once again, ensure you have a recent backup before making any changes like this. You can run the script by executing the following command at the command line (remember to use the correct username and database for your system):<a class="indexterm" id="id229"/>
</p><div class="informalexample"><pre class="programlisting">$ mysql u<span class="strong"><strong>&lt;username&gt;</strong></span> -p drupal &lt; C:\apache2triad\htdocs\drupal\modules\taxonomy_block\taxonomy_block.mysql
</pre></div><p>Change the file path to the one that suits your system if this is not where the<code class="literal"> taxonomy_block.mysql</code> script is held on your machine. Assuming that the command executes without any hassle, you can now head on over to the<span class="strong"><strong> modules</strong></span> section to enable the new addition to the site—look for<span class="strong"><strong> taxonomy_block</strong></span> in the list. Once the module is enabled, you will need to decide where it should be presented on the site, using the<span class="strong"><strong> blocks</strong></span> page under<span class="strong"><strong> administer</strong></span>.</p><p>Unlike other modules, the taxonomy block doesn't automatically appear in the list of blocks to be enabled—instead you will find a link to it in the main menu underneath the<span class="strong"><strong> blocks</strong></span> menu item. This link opens up a block creation page, from which you can stipulate the type of information you would like to display based on which category you wish to associate this block with, like so:<a class="indexterm" id="id230"/>
</p><div class="mediaobject"><img alt="Taxonomy Block" src="graphics/1800_06_33.jpg"/></div><p>In this case, we have chosen to present a block containing information relating to the contentious issue of canned lion hunting. The<span class="strong"><strong> Block Description</strong></span> option allows you to enter the name of the block as it will appear in the list of blocks on the parent<span class="strong"><strong> blocks</strong></span> page. The<span class="strong"><strong> Teaser Length</strong></span> sets the number of characters you wish to show for each post that appears in the block. In this case, I have decided to show<span class="strong"><strong> 50</strong></span> characters for each post, but limit the number of related topics shown to only<span class="strong"><strong> 3</strong></span> in order not to take up too much space with this block. Finally, the block is associated with the<span class="strong"><strong> Hunting - Canned</strong></span> category as expected.</p><p>Clicking on<span class="strong"><strong> Create Block</strong></span> saves these changes, and now we can venture to the<span class="strong"><strong> blocks</strong></span> page in order to enable the block and have it displayed on the site. Search through the list of<span class="strong"><strong> Disabled</strong></span> blocks for the<span class="strong"><strong> Block Description</strong></span> you entered on the previous page. Once you have found it, make your choices regarding where it should be displayed and what weight it holds, and click on<span class="strong"><strong> Save blocks</strong></span>. You now have taxonomy-based related content up and running on your site. In the case of the demo site, the similar entries block was disabled and this one enabled in its place.</p><p>Now when a user views anything related to canned hunting, they see something like this:</p><div class="mediaobject"><img alt="Taxonomy Block" src="graphics/1800_06_34.jpg"/></div><p>Of course, you can have wildly varying results depending on the way in which you create the block. You might find that you simply want to leave out the teaser entirely, in which case you will end up with only the titles of each post being displayed. Whatever your choice, you now have some fairly powerful functionality at your disposal. Just remember not to get carried away and add blocks simply because they work nicely.<a class="indexterm" id="id231"/>
</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec04"/>Summary</h1></div></div></div><p>Knowing how to deal with content efficiently and quickly is a highly desirable trait when it comes to working with CMS systems such as Drupal. To this end, this chapter set the foundation for you to work from by giving an overview of the fundamentals as well as a taste of what else is available. To start with, we took a brief look at the various types of content that can be implemented using Drupal and then discussed how to work with that content using the administration tool.</p><p>One of the most important jobs you will take on when running a website is administering the content of the site. At the moment it might seem fairly straightforward, but as the site grows larger, the job becomes slightly harder. Ensuring that you spend time learning your way around the content-related administrative areas of the<span class="strong"><strong> administer</strong></span> menu will ensure that you stay on top of things as and when your site becomes more widely used, or when you begin attempting more complex content-oriented tasks.</p><p>The second half of this chapter demonstrated some of the powerful functionality that ships with Drupal or is provided by contributions. We saw that it is possible to aggregate RSS feeds with relative ease, and in turn syndicate content so that it is made available to other sites to consume. Having the ability to do this with only the minimum of fuss is a quantum leap for the Internet as a whole and hopefully you will spread the good word about how easy it is to work with Drupal.</p><p>Armed with a solid understanding of how to work with content as well as the type of things available to use, we are now ready to look at some slightly more advanced content issues. The next chapter will talk about how to create your own dynamic and attractive content, as well as talk about how to categorize content through the use of the taxonomy module.</p></div></body></html>
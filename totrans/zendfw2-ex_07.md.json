["```php\n    $ cd /var/www/CommunicationApp/\n    vendor/\n\n    ```", "```php\n    $ git clone https://github.com/zendframework/ZendSearch.git ZendSearch\n\n    ```", "```php\n    $ cd ZendSearch/\n    $ curl -s https://getcomposer.org/installer | php\n    $ php composer.phar install\n\n    ```", "```php\n       // MODULE CONFIGURATIONS\n       'module_config' => array(\n          'upload_location'        => __DIR__ . '/../data/uploads',\n          'image_upload_location'  => __DIR__ . '/../data/images',\n     'search_index'         => __DIR__ . '/../data/search_index'\n       ),\n    ```", "```php\n    use ZendSearch\\Lucene;\n    use ZendSearch\\Lucene\\Document;\n    use ZendSearch\\Lucene\\Index;\n    ```", "```php\n    public function getIndexLocation()\n    {\n      // Fetch Configuration from Module Config\n      $config  = $this->getServiceLocator()->get('config');\n      if ($config instanceof Traversable) {\n        $config = ArrayUtils::iteratorToArray($config);\n      }\n      if (!empty($config['module_config']['search_index'])) {\n        return $config['module_config']['search_index'];\n      } else {\n        return FALSE;\n      }\n    }\n    ```", "```php\n    public function generateIndexAction()\n    {\n      $searchIndexLocation = $this->getIndexLocation();\n      $index = Lucene\\Lucene::create($searchIndexLocation);\n\n      $userTable = $this->getServiceLocator()->get('UserTable');\n      $uploadTable = $this->getServiceLocator()->get('UploadTable');\n      $allUploads = $uploadTable->fetchAll();  \n      foreach($allUploads as $fileUpload) {\n        //\n        $uploadOwner = $userTable->getUser($fileUpload->user_id);\n\n        // create lucene fields\n        $fileUploadId = Document\\Field::unIndexed(\n                              'upload_id', $fileUpload->id);\n        $label = Document\\Field::Text(\n                              'label', $fileUpload->label);\n        $owner = Document\\Field::Text(\n                              'owner', $uploadOwner->name);\n\n        // create a new document and add all fields\n        $indexDoc = new Lucene\\Document();\n        $indexDoc->addField($label);\n        $indexDoc->addField($owner);\n        $indexDoc->addField($fileUploadId);\n        $index->addDocument($indexDoc);\n      }\n      $index->commit();\n    }\n    ```", "```php\n    owner:Anne\n    ```", "```php\n    report AND owner:Anne\n    ```", "```php\n    report -owner:Anne\n    ```", "```php\n    <h3>Document Search</h3>\n    <?php \n    // Search Form\n    echo $this->form()->openTag($form);\n    foreach ($form as $element) {\n        echo $this->formElement($element);       \n        echo $this->formElementErrors($element);\n    }\n    echo $this->form()->closeTag();\n\n    // Search Results\n    if (count($searchResults)) {\n    ?>\n    <h5>Results</h5>\n    <table  style=\"width: 600px; border:1px solid #f5f5f5;\">\n      <tr>\n        <th width=\"30%\" align=\"left\"> Label</th>\n        <th width=\"30%\" align=\"left\"> Owner</th>\n        <th align=\"left\"> File</th>\n      </tr>\n      <?php   foreach ($searchResults as $searchResult) {\n      ?>\n      <tr>\n        <td><?php echo $searchResult->label; ?></td>\n        <td><?php echo $searchResult->owner; ?></td>\n        <td><a href=\"<?php echo $this->escapeHtml($this->url('users/upload-manager',\n                array('action'=>'fileDownload', 'id' => $searchResult->upload_id)));?>\">Download</a></td>\n      </tr>\n      <?php \n      }\n      ?>\n    </table>\n    <?php }?>\n    ```", "```php\n    public function indexAction()\n    {\n      $request = $this->getRequest();\n      if ($request->isPost()) {\n     $queryText = $request->getPost()->get('query');\n     $searchIndexLocation = $this->getIndexLocation();\n     $index = Lucene\\Lucene::open($searchIndexLocation);\n     $searchResults = $index->find($queryText);\n      }\n\n      // prepare search form\n      $form  = new \\Zend\\Form\\Form();\n      $form->add(array(\n        'name' => 'query',\n        'attributes' => array(\n          'type'  => 'text',\n          'id' => 'queryText',\n          'required' => 'required'\n        ),\n        'options' => array(\n          'label' => 'Search String',\n        ),\n      ));\n      $form->add(array(\n              'name' => 'submit',\n              'attributes' => array(\n                  'type'  => 'submit',\n                  'value' => 'Search'\n              ),\n      ));\n\n      $viewModel  = new ViewModel(array(\n          'form' => $form, \n     'searchResults' => $searchResults\n        )    \n      );\n      return $viewModel;\n    }\n    ```", "```php\n    ZendSearch\\Lucene\\Document\\Html::loadHTMLFile($filename)\n    ZendSearch\\Lucene\\Document\\Html::loadHTML($htmlString)\n    ```", "```php\n    ZendSearch\\Lucene\\Document\\Docx::loadDocxFile($filename)\n    ```", "```php\n    ZendSearch\\Lucene\\Document\\Pptx::loadPptxFile($filename)\n    ```", "```php\n    ZendSearch\\Lucene\\Document\\Xlsx::loadXlsxFile($filename)\n    ```", "```php\n    if (substr_compare($fileUpload->filename, \n            \".xlsx\", \n            strlen($fileUpload->filename) - strlen(\".xlsx\"), \n            strlen(\".xlsx\")) === 0) {\n      // index excel sheet\n      $uploadPath = $this->getFileUploadLocation();\n     $indexDoc = Lucene\\Document\\Xlsx::loadXlsxFile(\n     $uploadPath .\"/\" . $fileUpload->filename);\n    } else if (substr_compare($fileUpload->filename, \n            \".docx\", \n            strlen($fileUpload->filename) - strlen(\".docx\"), \n            strlen(\".docx\")) === 0) {\n      // index word doc\n      $uploadPath= $this->getFileUploadLocation();\n     $indexDoc = Lucene\\Document\\Docx::loadDocxFile(\n     $uploadPath .\"/\" . $fileUpload->filename);\n    } else {\n      $indexDoc = new Lucene\\Document();\n    }\n\n    $indexDoc->addField($label);\n    $indexDoc->addField($owner);\n    $indexDoc->addField($fileUploadId);\n    $index->addDocument($indexDoc);\n    ```"]
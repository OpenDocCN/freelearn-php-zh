<html><head></head><body><div class="preface" id="7K4G1-ae331331bc644dc9b658d3634f0748da" title="Preface"><div class="titlepage" id="aid-7K4G2"><div><div><h1 class="title"><a id="pref06"/>Preface</h1></div></div></div><p>Yii is a free, open source web application development framework, written in PHP5, that promotes clean DRY design and encourages rapid development. It works to streamline your application development time and helps to ensure an extremely efficient, extensible, and maintainable end product. Being extremely performance-optimized, Yii is a perfect choice for any size project. However, it has been built with sophisticated, enterprise applications in mind. You have full control over the configuration from head-to-toe (presentation-to-persistence) to conform to your enterprise development guidelines. It comes packaged with tools to help test and debug your application, and has clear and comprehensive documentation.</p><p>This book is a collection of Yii2 recipes. Each recipe is represented as a full and independent item, which showcases solutions from real web applications. So you can easily reproduce them in your environment and learn Yii2 fast and without tears. All recipes are explained with step-by-step code examples and clear screenshots. Yii2 is like a suit that looks great off the rack, but is also very easy to tailor to fit your needs. Virtually every component of the framework is extensible. This book will show how to use official extensions, extend any component, or write a new one.</p><p>This book will help you create modern web applications quickly, and make sure they perform well using examples and business logic from real life. You will deal with the Yii command line, migrations, and assets. You will learn about role-based access, security, and deployment. We'll show you how to easily get started, configure your environment, and be ready to write web applications efficiently and quickly.</p><div class="section" title="What this book covers"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec02"/>What this book covers</h1></div></div></div><p>
<a class="link" href="part0015.xhtml#E9OE1-ae331331bc644dc9b658d3634f0748da" title="Chapter 1. Fundamentals">Chapter 1</a>, <span class="emphasis"><em>Fundamentals</em></span>, covers how to install the Yii Framework and different ways to install it. We will introduce you to application templates: basic and advanced and what is difference between them. Then you will learn about dependency injection container. This chapter contains info about model events, which are triggered after some simple actions such as model saving and updating and another. We will learn how to use external code which will include ZendFramework, Laravel, and Sympony in examples. We will also learn how to update your yii-1.x.x based application to yii2 step-by-step. A few more recipes are available at <a class="ulink" href="https://www.packtpub.com/sites/default/files/downloads/4270OS_Chapter1.pdf">https://www.packtpub.com/sites/default/files/downloads/4270OS_Chapter1.pdf</a>.</p><p>
<a class="link" href="part0024.xhtml#MSDG1-ae331331bc644dc9b658d3634f0748da" title="Chapter 2. Routing, Controllers, and Views">Chapter 2</a>, <span class="emphasis"><em>Routing, Controllers, and Views</em></span>, teaches some handy things about the Yii URL router, controllers, and views. You will be able to make your controllers and views more flexible.</p><p>
<a class="link" href="part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da" title="Chapter 3. ActiveRecord, Model, and Database">Chapter 3</a>, <span class="emphasis"><em>ActiveRecord, Model, and Database</em></span>, discusses the three main methods to work with databases in Yii: Active Record, query builder, and direct SQL queries through DAO. All three are different in terms of syntax, features, and performance. In this chapter we will learn how to work with the database efficiently, when to use models and when not to, how to work with multiple databases, how to automatically preprocess Active Record fields, and how to use powerful database criteria.</p><p>
<a class="link" href="part0050.xhtml#1FLS41-ae331331bc644dc9b658d3634f0748da" title="Chapter 4. Forms">Chapter 4</a>, <span class="emphasis"><em>Forms</em></span>, covers how Yii makes working with forms a breeze and the documentation on it is almost complete. Still, there are some areas that need clarification and examples.</p><p>
<a class="link" href="part0062.xhtml#1R42S1-ae331331bc644dc9b658d3634f0748da" title="Chapter 5. Security">Chapter 5</a>, <span class="emphasis"><em>Security</em></span>, discusses how to keep your application secure according to the general web application security principle "filter input, escape output." We will cover topics such as creating your own controller filters, preventing XSS, CSRF, and SQL injections, escaping output, and using role-based access control.</p><p>
<a class="link" href="part0070.xhtml#22O7C1-ae331331bc644dc9b658d3634f0748da" title="Chapter 6. RESTful Web Services">Chapter 6</a>, <span class="emphasis"><em>RESTful Web Services</em></span>, covers how to write RESTful Web Services using Yii2 and built-in features.</p><p>
<a class="link" href="part0076.xhtml#28FAO1-ae331331bc644dc9b658d3634f0748da" title="Chapter 7. Official Extensions">Chapter 7</a>, <span class="emphasis"><em>Official Extensions</em></span>, explains us how to install and use official extensions in your project. You will learn how to write your own extension and share it for another developers.</p><p>
<a class="link" href="part0086.xhtml#2I0GC1-ae331331bc644dc9b658d3634f0748da" title="Chapter 8. Extending Yii">Chapter 8</a>, <span class="emphasis"><em>Extending Yii</em></span>, covers not only how to implement your own Yii extension, but also how to make your extension reusable and useful for the community. In addition, we will focus on many things you should do in order to make your extension as efficient as possible.</p><p>
<a class="link" href="part0099.xhtml#2UD7M2-ae331331bc644dc9b658d3634f0748da" title="Chapter 9. Performance Tuning">Chapter 9</a>, <span class="emphasis"><em>Performance Tuning</em></span>, teaches some best practices of developing an application that will run smoothly until you have very high loads. Yii is one of the fastest frameworks out there. Still, when developing and deploying an application, it is good to have some extra performance for free, as well as following best practices for the application itself. In this chapter, we will see how to configure Yii to gain extra performance. In addition, we will learn some best practices for developing an application that will run smoothly until we have very high loads.</p><p>
<a class="link" href="part0106.xhtml#352RK1-ae331331bc644dc9b658d3634f0748da" title="Chapter 10. Deployment">Chapter 10</a>, <span class="emphasis"><em>Deployment</em></span>, covers various tips, which are especially useful on application deployment and when developing an application in a team, or when you just want to make your development environment more comfortable.</p><p>
<a class="link" href="part0115.xhtml#3DLGM1-ae331331bc644dc9b658d3634f0748da" title="Chapter 11. Testing">Chapter 11</a>, <span class="emphasis"><em>Testing</em></span>, teaches us how to use the best technologies for testing such as Codeception, PhpUnit, Atoum, and Behat. You will be introduced how to write simple tests and how to avoid regression errors in your applicaiton.</p><p>
<a class="link" href="part0120.xhtml#3IE3G1-ae331331bc644dc9b658d3634f0748da" title="Chapter 12. Debugging, Logging, and Error Handling">Chapter 12</a>, <span class="emphasis"><em>Debugging, Logging, and Error Handling</em></span>, discusses review logging, analyzing the exception stack trace, and implementing our own error handler. It is not possible to create a bug-free application if it is relatively complex, so developers have to detect errors and deal with them as fast as possible. Yii has a good set of utility features to handle logging and handling errors. Moreover, in the debug mode, Yii gives you a stack trace if there is an error. Using it, you can fix errors faster.</p></div></div>
<div class="section" id="8IL21-ae331331bc644dc9b658d3634f0748da" title="What you need for this book"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec03"/>What you need for this book</h1></div></div></div><p>In order to run the examples in this book, the following software will be required:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Web server</li><li class="listitem">Database server</li><li class="listitem">PHP</li><li class="listitem">Yii2</li></ul></div></div>
<div class="section" id="9H5K1-ae331331bc644dc9b658d3634f0748da" title="Who this book is for"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec04"/>Who this book is for</h1></div></div></div><p>This book is for developers with good PHP5 knowledge and MVC-frameworks who have tried to develop applications using the Yii 1.x.x version. This book will be very useful for all those who would like to try Yii2, or those who are afraid to move from Yii 1.x.x. to Yii2. If you have still not tried Yii2, this book is definitely for you!</p></div>
<div class="section" id="AFM61-ae331331bc644dc9b658d3634f0748da" title="Sections"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec05"/>Sections</h1></div></div></div><p>In this book, you will find several headings that appear frequently (Getting ready, How to do it..., How it works..., There's more..., and See also).</p><p>To give clear instructions on how to complete a recipe, we use these sections as follows:</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec02"/>Getting ready</h2></div></div></div><p>This section tells you what to expect in the recipe, and describes how to set up any software or any preliminary settings required for the recipe.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec03"/>How to do it…</h2></div></div></div><p>This section contains the steps required to follow the recipe.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec04"/>How it works…</h2></div></div></div><p>This section usually consists of a detailed explanation of what happened in the previous section.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec05"/>There's more…</h2></div></div></div><p>This section consists of additional information about the recipe in order to make the reader more knowledgeable about the recipe.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec06"/>See also</h2></div></div></div><p>This section provides helpful links to other useful information for the recipe.</p></div></div>
<div class="section" id="BE6O1-ae331331bc644dc9b658d3634f0748da" title="Conventions"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec06"/>Conventions</h1></div></div></div><p>In this book, you will find a number of text styles that distinguish between different kinds of information. Here are some examples of these styles and an explanation of their meaning.</p><p>Code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "we are defining an alias parameter that should be specified in the URL after <code class="literal">/page/</code>."</p><p>A block of code is set as follows:</p><div class="informalexample"><pre class="programlisting">'urlManager' =&gt; array(
    'enablePrettyUrl' =&gt; true,
    'showScriptName' =&gt; false,
),</pre></div><p>When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p><div class="informalexample"><pre class="programlisting">'urlManager' =&gt; array(
<span class="strong"><strong>    'enablePrettyUrl' =&gt; true,</strong></span>
<span class="strong"><strong>    'showScriptName' =&gt; false,</strong></span>
),</pre></div><p>Any command-line input or output is written as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>./yii migrate up</strong></span>
</pre></div><p>
<span class="strong"><strong>New terms</strong></span> and <span class="strong"><strong>important words</strong></span> are shown in bold. Words that you see on the screen, for example, in menus or dialog boxes, appear in the text like this: "Generate a <code class="literal">Post</code> model using Gii with an enabled <span class="strong"><strong>Generate ActiveQuery</strong></span> option that generates the <code class="literal">PostQuery</code> class."</p><div class="note" title="Note"><h3 class="title"><a id="note01"/>Note</h3><p>Warnings or important notes appear in a box like this.</p></div><div class="note" title="Note"><h3 class="title"><a id="tip01"/>Tip</h3><p>Tips and tricks appear like this.</p></div></div>
<div class="section" id="CCNA1-ae331331bc644dc9b658d3634f0748da" title="Reader feedback"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec07"/>Reader feedback</h1></div></div></div><p>Feedback from our readers is always welcome. Let us know what you think about this book—what you liked or disliked. Reader feedback is important for us as it helps us develop titles that you will really get the most out of.</p><p>To send us general feedback, simply e-mail <code class="email">&lt;<a class="email" href="mailto:feedback@packtpub.com">feedback@packtpub.com</a>&gt;</code>, and mention the book's title in the subject of your message.</p><p>If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, see our author guide at <a class="ulink" href="http://www.packtpub.com/authors">www.packtpub.com/authors</a>.</p></div>
<div class="section" id="DB7S1-ae331331bc644dc9b658d3634f0748da" title="Customer support"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec08"/>Customer support</h1></div></div></div><p>Now that you are the proud owner of a Packt book, we have a number of things to help you to get the most from your purchase.</p><div class="section" title="Downloading the example code"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec07"/>Downloading the example code</h2></div></div></div><p>You can download the example code files for this book from your account at <a class="ulink" href="http://www.packtpub.com">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p><p>You can download the code files by following these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in or register to our website using your e-mail address and password.</li><li class="listitem">Hover the mouse pointer on the <span class="strong"><strong>SUPPORT</strong></span> tab at the top.</li><li class="listitem">Click on <span class="strong"><strong>Code Downloads &amp; Errata</strong></span>.</li><li class="listitem"> Enter the name of the book in the <span class="strong"><strong>Search</strong></span> box.</li><li class="listitem">Select the book for which you're looking to download the code files.</li><li class="listitem">Choose from the drop-down menu where you purchased this book from.</li><li class="listitem">Click on <span class="strong"><strong>Code Download</strong></span>.</li></ol><div style="height:10px; width: 1px"/></div><p>Once the file is downloaded, please make sure that you unzip or extract the folder using the latest version of:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">WinRAR / 7-Zip for Windows</li><li class="listitem">Zipeg / iZip / UnRarX for Mac</li><li class="listitem">7-Zip / PeaZip for Linux</li></ul></div><p>The code bundle for the book is also hosted on GitHub at <a class="ulink" href="https://github.com/PacktPublishing/Yii2-Application-Development-Cookbook-Third-Edition">https://github.com/PacktPublishing/Yii2-Application-Development-Cookbook-Third-Edition</a>. We also have other code bundles from our rich catalog of books and videos available at <a class="ulink" href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p></div><div class="section" title="Downloading the color images of this book"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec08"/>Downloading the color images of this book</h2></div></div></div><p>We also provide you with a PDF file that has color images of the screenshots/diagrams used in this book. The color images will help you better understand the changes in the output. You can download this file from <a class="ulink" href="http://www.packtpub.com/sites/default/files/downloads/Yii2ApplicationDevelopmentCookbookThirdEdition_ColorImages.pdf">http://www.packtpub.com/sites/default/files/downloads/Yii2ApplicationDevelopmentCookbookThirdEdition_ColorImages.pdf</a>.</p></div><div class="section" title="Errata"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec09"/>Errata</h2></div></div></div><p>Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you find a mistake in one of our books—maybe a mistake in the text or the code—we would be grateful if you could report this to us. By doing so, you can save other readers from frustration and help us improve subsequent versions of this book. If you find any errata, please report them by visiting <a class="ulink" href="http://www.packtpub.com/submit-errata">http://www.packtpub.com/submit-errata</a>, selecting your book, clicking on the <span class="strong"><strong>Errata Submission Form</strong></span> link, and entering the details of your errata. Once your errata are verified, your submission will be accepted and the errata will be uploaded to our website or added to any list of existing errata under the Errata section of that title.</p><p>To view the previously submitted errata, go to <a class="ulink" href="https://www.packtpub.com/books/content/support">https://www.packtpub.com/books/content/support</a> and enter the name of the book in the search field. The required information will appear under the <span class="strong"><strong>Errata</strong></span> section.</p></div><div class="section" title="Piracy"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec10"/>Piracy</h2></div></div></div><p>Piracy of copyrighted material on the Internet is an ongoing problem across all media. At Packt, we take the protection of our copyright and licenses very seriously. If you come across any illegal copies of our works in any form on the Internet, please provide us with the location address or website name immediately so that we can pursue a remedy.</p><p>Please contact us at <code class="email">&lt;<a class="email" href="mailto:copyright@packtpub.com">copyright@packtpub.com</a>&gt;</code> with a link to the suspected pirated material.</p><p>We appreciate your help in protecting our authors and our ability to bring you valuable content.</p></div><div class="section" title="Questions"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec11"/>Questions</h2></div></div></div><p>If you have a problem with any aspect of this book, you can contact us at <code class="email">&lt;<a class="email" href="mailto:questions@packtpub.com">questions@packtpub.com</a>&gt;</code>, and we will do our best to address the problem.</p></div></div></body></html>
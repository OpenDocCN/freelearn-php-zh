["```php\napplication/\n├── controllers/\n│   ├── shop.php\n├── models/\n│   ├── shop_model.php\n├── views/shop/\n│   ├── display_products.php\n│   ├── display_cart.php\n│   ├── user_details.php\n├── views/nav/\n│   ├── top_nav.php\n├── language/english/\n│   ├── en_admin_lang.php\n```", "```php\nCREATE DATABASE `shopdb`;\nUSE DATABASE `shopdb`;\n\nCREATE TABLE `categories` (\n  `cat_id` int(11) NOT NULL AUTO_INCREMENT,\n  `cat_name` varchar(50) NOT NULL,\n  `cat_url_name` varchar(15) NOT NULL,\n  PRIMARY KEY (`cat_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;\n\nINSERT INTO `categories` VALUES (1,'Shirts','shirts'),(2,'Footware','footware'),(3,'Books','books'),(4,'Beauty','beauty'),(5,'Software','software'),(6,'Computers','computers'),(7,'Kitchen Ware','kitchenware'),(8,'Luggage','luggage'),(9,'Camping','camping'),(10,'Sports','sports');\n\nCREATE TABLE `ci_sessions` (\n  `session_id` varchar(40) COLLATE utf8_bin NOT NULL DEFAULT '0',\n  `ip_address` varchar(16) COLLATE utf8_bin NOT NULL DEFAULT '0',\n  `user_agent` varchar(120) COLLATE utf8_bin DEFAULT NULL,\n  `last_activity` int(10) unsigned NOT NULL DEFAULT '0',\n  `user_data` text COLLATE utf8_bin NOT NULL\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;\n\nCREATE TABLE `customer` (\n  `cust_id` int(11) NOT NULL AUTO_INCREMENT,\n  `cust_first_name` varchar(125) NOT NULL,\n  `cust_last_name` varchar(125) NOT NULL,\n  `cust_email` varchar(255) NOT NULL,\n  `cust_created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `cust_address` text NOT NULL COMMENT 'card holder address',\n  PRIMARY KEY (`cust_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;\n\nCREATE TABLE `orders` (\n  `order_id` int(11) NOT NULL AUTO_INCREMENT,\n  `cust_id` int(11) NOT NULL,\n  `order_details` text NOT NULL,\n  `order_subtotal` int(11) NOT NULL,\n  `order_created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `order_closed` int(1) NOT NULL COMMENT '0 = open, 1 = closed',\n  `order_fulfilment_code` varchar(255) NOT NULL COMMENT 'the unique code sent to a payment provider',\n  `order_delivery_address` text NOT NULL,\n  PRIMARY KEY (`order_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;\n\nCREATE TABLE `products` (\n  `product_id` int(11) NOT NULL AUTO_INCREMENT,\n  `product_name` varchar(255) NOT NULL,\n  `product_code` int(11) NOT NULL,\n  `product_description` varchar(255) NOT NULL,\n  `category_id` int(11) NOT NULL,\n  `product_price` int(11) NOT NULL,\n  PRIMARY KEY (`product_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=latin1;\n\nINSERT INTO `products` VALUES (1,'Running Shoes',423423,'These are some shoes',2,50),(2,'Hawaiian Shirt',34234,'This is a shirt',1,25),(3,'Slippers',23134,'Nice comfortable  slippers',2,4),(4,'Shirt',2553245,'White Office Shirt',1,25),(5,'CodeIgniter Blueprints',5442342,'Some excellent projects to make and do (in CodeIgniter) - it\\'s good value too!',3,25),(6,'Office Suite',34234123,'Writer, Calc, Presentation software',5,299),(7,'Anti-Virus',324142,'Get rid of those pesky viruses from your computer',5,29),(8,'Operating System',12341,'This can run your computer',5,30),(9,'Web Browser',42412,'Browse the web with a web browser (that\\'s what they\\'re for)',5,5),(10,'Dinner set',3241235,'6 dinner plates, 6 side plates, 6 cups',7,45),(11,'Champagne Glasses',1454352,'Crystal glasses to drink fizzy French plonk from ',7,45),(12,'Toaster',523234,'Capable of toasting 4 slices at once!',7,35),(13,'Kettle',62546245,'Heat water with this amazing kettle',7,25);\n```", "```php\n$db['default']['hostname'] = 'localhost';\n$db['default']['username'] = 'your username';\n$db['default']['password'] = 'your password';\n$db['default']['database'] = 'shopdb';\n```", "```php\n    $config['encryption_key'] = '';\n    ```", "```php\n    $config['encryption_key'] = 'a-random-string-of-alphanum-characters';\n    ```", "```php\n    $config['sess_cookie_name'] = 'ci_session';\n    $config['sess_expiration'] = 7200;\n    $config['sess_expire_on_close'] = FALSE;\n    $config['sess_encrypt_cookie'] = FALSE;\n    $config['sess_use_database'] = FALSE;\n    $config['sess_table_name'] = 'ci_sessions';\n    $config['sess_match_ip'] = FALSE;\n    $config['sess_match_useragent'] = TRUE;\n    $config['sess_time_to_update'] = 300;\n    ```", "```php\n    $config['sess_cookie_name'] = 'ci_session';\n    $config['sess_expiration'] = 7200;\n    $config['sess_expire_on_close'] = TRUE;\n    $config['sess_encrypt_cookie'] = TRUE;\n    $config['sess_use_database'] = TRUE;\n    $config['sess_table_name'] = 'ci_sessions';\n    $config['sess_match_ip'] = TRUE;\n    $config['sess_match_useragent'] = TRUE;\n    $config['sess_time_to_update'] = 300;\n    ```", "```php\n    $route['default_controller'] = \"welcome\";\n    $route['404_override'] = '';\n    ```", "```php\n    $route['default_controller'] = \"welcome\";\n    ```", "```php\n    $route['default_controller'] = \"shop\";\n    $route['404_override'] = '';\n    ```", "```php\n<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); \n\nclass Shop_model extends CI_Model { \n  function __construct() { \n    parent::__construct(); \n    $this->load->helper('url');\n  } \n\n  public function get_product_details($product_id) { \n    $this->db->where('product_id', $product_id); \n    $query = $this->db->get('products'); \n    return $query; \n  }\n```", "```php\n  $q\npublic function get_all_uery = $this->db->get('products'); \n  return $query; \n}\n```", "```php\npublic function get_all_products_by_category_name($cat_url_name = null) {\n  if ($cat_url_name) {\n    $this->db->where('cat_url_name', $cat_url_name);\n    $cat_query = $this->db->get('categories');\n\n    foreach ($cat_query->result() as $row) {\n      $category_id = $row->cat_id;\n    }\n\n    $this->db->where('category_id', $category_id);\n  }\n\n  $query = $this->db->get('products'); \n  return $query; \n}\n```", "```php\npublic function get_all_categories($cat_url_name = null) {\n  if ($cat_url_name) {\n    $this->db->where('cat_url_name', $cat_url_name);\n  }\n\n  $query = $this->db->get('categories');\n  return $query;\n}\n```", "```php\n  public function save_cart_to_database($cust_data, $order_data) { \n    $this->db->insert('customer', $cust_data); \n    $order_data['cust_id'] = $this->db->insert_id(); \n    if ($this->db->insert('orders', $order_data)) {\n      return true;\n    } else {\n      return false;\n    }\n  } \n}\n```", "```php\n<div class=\"row row-offcanvas row-offcanvas-right\">\n\n  <div class=\"col-xs-12 col-sm-9\">\n    <div class=\"row\">\n      <?php foreach ($query->result() as $row) : ?> \n        <div class=\"col-6 col-sm-6 col-lg-4\">\n          <h2><?php echo $row->product_name ; ?></h2>\n          <p>&pound;<?php echo $row->product_price ; ?></p>\n          <p><?php echo $row->product_description ; ?></p>\n          <?php echo anchor('shop/add/'.$row->product_id, $this->lang->line('index_add_to_cart'), 'class=\"btn btn-default\"') ; ?>\n        </div>\n      <?php endforeach ; ?> \n    </div>\n  </div>\n```", "```php\n  <div class=\"col-xs-6 col-sm-3 sidebar-offcanvas\" id=\"sidebar\" role=\"navigation\">\n    <div class=\"list-group\">\n      <?php echo anchor(base_url(), $this->lang->line('index_all_categories'), 'class=\"list-group-item\"') ; ?>\n      <?php foreach ($cat_query->result() as $row) : ?>\n        <?php echo anchor('shop/index/'.$row->cat_url_name, $row->cat_name, 'class=\"list-group-item\"') ; ?>\n      <?php endforeach ; ?>\n    </div>\n  </div>\n</div>\n```", "```php\n<?php echo anchor('shop/user_details', $this->lang->line('display_cart_proceed_to_checkout'), 'type=\"button\" class=\"btn btn-primary btn-lg\"') ; ?> \n<br /><br />\n<?php echo form_open('shop/update_cart'); ?> \n\n<table class=\"table\"> \n\n  <tr> \n    <th><?php echo $this->lang->line('display_cart_quantity') ; ?></th> \n    <th><?php echo $this->lang->line('display_cart_description') ; ?></th> \n    <th><?php echo $this->lang->line('display_cart_item_price') ; ?></th> \n    <th><?php echo $this->lang->line('display_cart_sub_total') ; ?></th> \n  </tr> \n```", "```php\n  <?php $i = 1; ?> \n```", "```php\n  <?php foreach ($this->cart->contents() as $items): ?> \n\n    <?php echo form_hidden($i . '[rowid]', $items['rowid']); ?> \n\n    <tr> \n      <td><?php echo form_input(array('name' => $i . '[qty]', 'value' => $items['qty'], 'maxlength' => '3', 'size' => '5')); ?></td> \n      <td> \n        <?php echo $items['name']; ?> \n\n        <?php if ($this->cart->has_options($items['rowid']) == TRUE): ?> \n\n          <p> \n            <?php foreach ($this->cart->product_options($items['rowid']) as $option_name => $option_value): ?> \n\n              <strong><?php echo $option_name; ?>:</strong> <?php echo $option_value; ?><br /> \n\n            <?php endforeach; ?> \n          </p> \n\n        <?php endif; ?> \n\n      </td> \n      <td><?php echo $this->cart->format_number($items['price']); ?></td> \n      <td>&pound;<?php echo $this->cart->format_number($items['subtotal']); ?></td> \n    </tr> \n\n    <?php $i++; ?> \n\n  <?php endforeach; ?> \n\n  <tr> \n    <td colspan=\"2\"> </td> \n    <td><strong>Total</strong></td> \n    <td>&pound<?php echo $this->cart->format_number($this->cart->total()); ?></td> \n  </tr> \n\n</table> \n```", "```php\n<p><?php echo form_submit('', $this->lang->line('display_cart_update_cart'), 'class=\"btn btn-success\"'); ?></p> \n<?php echo form_close() ; ?>\n```", "```php\n<div class=\"row row-offcanvas row-offcanvas-right\">\n  <div class=\"col-xs-12 col-sm-9\">\n    <div class=\"row\">\n      <?php echo validation_errors(); ?> \n      <?php echo form_open('/shop/user_details') ; ?> \n      <?php echo form_input($first_name); ?><br /> \n      <?php echo form_input($last_name); ?><br /> \n      <?php echo form_input($email); ?><br /> \n      <?php echo form_input($email_confirm); ?><br /> \n      <?php echo form_textarea($payment_address); ?><br /> \n      <?php echo form_textarea($delivery_address); ?><br /> \n      <?php echo form_submit('', $this->lang->line('common_form_elements_go'), 'class=\"btn btn-success\"') ; ?><br /> \n      <?php echo form_close() ; ?> \n    </div>\n  </div>\n</div>\n```", "```php\n<!-- Fixed navbar -->\n<div class=\"navbar navbar-inverse navbar-fixed-top\" role=\"navigation\">\n  <div class=\"container\">\n    <div class=\"navbar-header\">\n      <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n        <span class=\"sr-only\">Toggle navigation</span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n      </button>\n      <a class=\"navbar-brand\" href=\"<?php echo base_url() ; ?>\"><?php echo $this->lang->line('system_system_name'); ?></a>\n    </div>\n    <div class=\"navbar-collapse collapse\">\n      <ul class=\"nav navbar-nav\">\n        <li class=\"active\"><?php echo anchor('shop', $this->lang->line('nav_home')) ; ?></li>\n        <li><?php echo anchor('shop/display_cart', ($items > 0) ? $this->lang->line('nav_cart_count') . '(' . $items . ')' : $this->lang->line('nav_cart_count') .'(0)') ; ?></li>\n      </ul>\n    </div><!--/.nav-collapse -->\n  </div>\n</div>\n<div class=\"container theme-showcase\" role=\"main\">\n```", "```php\n<li>\n  <?php \n    echo anchor('shop/display_cart', \n    ($items > 0) ? $this->lang->line('nav_cart_count') . \n    '(' . $items . ')' : $this->lang->line('nav_cart_count').'(0)') ; \n  ?>\n</li>\n```", "```php\n...\n$cart_contents = $this->session->userdata('cart_contents');\n$data['items'] = $cart_contents['total_items'];\n\n$this->load->view('common/header');\n$this->load->view('nav/top_nav', $data);\n...\n```", "```php\n<?php if (!defined('BASEPATH')) exit('No direct script access allowed'); \n\nclass Shop extends MY_Controller {\n  function __construct() { \n    parent::__construct(); \n    $this->load->library('cart'); \n    $this->load->helper('form'); \n    $this->load->helper('url'); \n    $this->load->helper('security'); \n    $this->load->model('Shop_model');\n    $this->load->library('form_validation');\n    $this->form_validation->set_error_delimiters('<div class=\"alert alert-danger\">', '</div>');\n  } \n\n  public function index() {\n```", "```php\nif (!$this->uri->segment(3)) {\n  $data['query'] = $this->Shop_model->get_all_products();\n} else {\n  $data['query'] = $this->Shop_model->get_all_products_by_category_name($this->uri->segment(3));\n}\n```", "```php\n$data['cat_query'] = $this->Shop_model->get_all_categories();\n```", "```php\n  $cart_contents = $this->session->userdata('cart_contents');\n  $data['items'] = $cart_contents['total_items'];\n\n  $this->load->view('common/header');\n  $this->load->view('nav/top_nav', $data);\n  $this->load->view('shop/display_products', $data); \n  $this->load->view('common/footer');\n}\n```", "```php\npublic function add() { \n  $product_id = $this->uri->segment(3);\n  $query = $this->Shop_model->get_product_details($product_id); \n  foreach($query->result() as $row) { \n    $data = array( \n      'id'   => $row->product_id, \n      'qty' => 1, \n      'price'  => $row->product_price, \n      'name' => $row->product_name, \n     ); \n  } \n```", "```php\n$this->cart->insert($data);\n```", "```php\n  $data['cat_query'] = $this->Shop_model->get_all_categories();\n  $cart_contents = $this->session->userdata('cart_contents');\n  $data['items'] = $cart_contents['total_items'];\n\n  $this->load->view('common/header');\n  $this->load->view('nav/top_nav', $data);\n  $this->load->view('shop/display_cart', $data); \n  $this->load->view('common/footer');\n}\n```", "```php\npublic function update_cart() { \n  $data = array(); \n  $i = 0; \n```", "```php\nforeach($this->input->post() as $item) { \n  $data[$i]['rowid']  = $item['rowid']; \n  $data[$i]['qty']    = $item['qty'];\n  $i++;\n} \n```", "```php\n  $this->cart->update($data); \n  redirect('shop/display_cart'); \n} \n```", "```php\npublic function display_cart() { \n  $data['cat_query'] = $this->Shop_model->get_all_categories();\n  $cart_contents = $this->session->userdata('cart_contents');\n  $data['items'] = $cart_contents['total_items'];\n  $this->load->view('common/header');\n  $this->load->view('nav/top_nav', $data);\n  $this->load->view('shop/display_cart', $data); \n  $this->load->view('common/footer');\n}\n\npublic function clear_cart() { \n  $this->cart->destroy(); \n  redirect('index');\n}\n```", "```php\npublic function user_details() { \n    // Set validation rules \n    $this->form_validation->set_rules('first_name', $this->lang->line('user_details_placeholder_first_name'), 'required|min_length[1]|max_length[125]'); \n    $this->form_validation->set_rules('last_name', $this->lang->line('user_details_placeholder_last_name'), 'required|min_length[1]|max_length[125]'); \n    $this->form_validation->set_rules('email', $this->lang->line('user_details_placeholder_email'), 'required|min_length[1]|max_length[255]|valid_email'); \n    $this->form_validation->set_rules('email_confirm', $this->lang->line('user_details_placeholder_email_confirm'), 'required|min_length[1]|max_length[255]|valid_email|matches[email]'); \n    $this->form_validation->set_rules('payment_address', $this->lang->line('user_details_placeholder_payment_address'), 'required|min_length[1]|max_length[1000]'); \n    $this->form_validation->set_rules('delivery_address', $this->lang->line('user_details_placeholder_delivery_address'), 'min_length[1]|max_length[1000]'); \n```", "```php\nif ($this->form_validation->run() == FALSE) { \n  $data['first_name'] = array('name' => 'first_name', 'class' => 'form-control', 'id' => 'first_name', 'value' => set_value('first_name', ''), 'maxlength' => '100', 'size' => '35', 'placeholder' => $this->lang->line('user_details_placeholder_first_name'));\n  $data['last_name'] = array('name' => 'last_name', 'class' => 'form-control', 'id' => 'last_name', 'value' => set_value('last_name', ''), 'maxlength' => '100', 'size' => '35', 'placeholder' => $this->lang->line('user_details_placeholder_last_name'));\n  $data['email'] = array('name' => 'email', 'class' => 'form-control', 'id' => 'email', 'value' => set_value('email', ''), 'maxlength'   => '100', 'size' => '35', 'placeholder' => $this->lang->line('user_details_placeholder_email'));\n  $data['email_confirm'] = array('name' => 'email_confirm', 'class' => 'form-control', 'id' => 'email_confirm', 'value' => set_value('email_confirm', ''), 'maxlength' => '100', 'size' => '35', 'placeholder' => $this->lang->line('user_details_placeholder_email_confirm'));\n  $data['payment_address'] = array('name' => 'payment_address', 'class' => 'form-control', 'id' => 'payment_address', 'value' => set_value('payment_address', ''), 'maxlength' => '100', 'size' => '35', 'placeholder' => $this->lang->line('user_details_placeholder_payment_address'));\n  $data['delivery_address'] = array('name' => 'delivery_address', 'class' => 'form-control', 'id' => 'delivery_address', 'value' => set_value('delivery_address', ''), 'maxlength' => '100', 'size' => '35', 'placeholder' => $this->lang->line('user_details_placeholder_delivery_address'));\n```", "```php\n  $cart_contents = $this->session->userdata('cart_contents');\n  $data['items'] = $cart_contents['total_items'];\n  $this->load->view('common/header');\n  $this->load->view('nav/top_nav', $data);\n  $this->load->view('shop/user_details', $data); \n  $this->load->view('common/footer'); \n} else { \n```", "```php\n$cust_data = array( \n'cust_first_name' => $this->input->post('cust_first_name'), \n'cust_last_name' => $this->input->post('cust_last_name'), \n'cust_email'=> $this->input->post('cust_email'), \n'cust_address'  => $this->input->post('payment_address')); \n```", "```php\n$payment_code = mt_rand(); \n```", "```php\n$order_data = array( \n'order_details' => serialize($this->cart->contents()), \n'order_delivery_address' => $this->input->post('delivery_address'),\n'order_closed' => '0', \n'order_fulfilment_code' => $payment_code,\n'order_delivery_address' => $this->input->post('payment_address')); \n```", "```php\n      if ($this->Shop_model->save_cart_to_database($cust_data, $order_data)) {\n        echo $this->lang->line('user_details_save_success');\n      } else {\n        echo $this->lang->line('user_details_save_error');\n      }\n    }\n  }\n}\n```", "```php\n<?php if (!defined('BASEPATH')) exit('No direct script access allowed');\n\n// General\n$lang['system_system_name'] = \"Shop\";\n\n// nav\n$lang['nav_cart_count'] = \"Cart \";\n$lang['nav_home'] = \"Home\";\n\n// index()\n$lang['index_all_categories'] = \"All categories\";\n$lang['index_add_to_cart'] = \"Add to cart\";\n\n// display_cart()\n$lang['display_cart_proceed_to_checkout'] = \"Proceed to checkout\";\n$lang['display_cart_quantity'] = \"Quantity\";\n$lang['display_cart_description'] = \"Description\";\n$lang['display_cart_item_price'] = \"Item Price\";\n$lang['display_cart_sub_total'] = \"Sub-Total\";\n$lang['display_cart_update_cart'] = \"Update Cart\";\n\n// user_details()\n$lang['user_details_placeholder_first_name'] = \"First Name\";\n$lang['user_details_placeholder_last_name'] = \"Last Name\";\n$lang['user_details_placeholder_email'] = \"Email\";\n$lang['user_details_placeholder_email_confirm'] = \"Confirm Email\";\n$lang['user_details_placeholder_payment_address'] = \"Payment Address\";\n$lang['user_details_placeholder_delivery_address'] = \"Delivery Address\";\n$lang['user_details_save_success'] = \"Order and Customer saved to DB\";\n$lang['user_details_save_error'] = \"Could not save to DB\";\n```"]
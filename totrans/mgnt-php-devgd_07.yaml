- en: Chapter 7. Deployment and Distribution
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章：部署和分发
- en: Welcome to the last chapter of this book; we have come far and learned a lot
    along the way. By now, you should have a clear idea about everything involved
    in working with and developing custom extensions for Magento—well, almost everything.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到本书的最后一章；我们在旅途中已经走得很远，学到了很多。到现在，您应该对与Magento一起工作和开发自定义扩展所涉及的所有内容都有一个清晰的认识——嗯，几乎是这样。
- en: As for any other Magento developer, your code will eventually need to be promoted
    to production or maybe packaged for distribution. In this chapter, we will see
    the different techniques, tools, and strategies that are available to us.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何其他Magento开发者来说，您的代码最终都需要被提升到生产环境，或者可能需要打包以供分发。在本章中，我们将看到我们可用的不同技术、工具和策略。
- en: The final objective of this chapter is to give you the tools and skills to perform
    deployments with confidence and with little or no downtime.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的最终目标是为您提供工具和技能，以便您能够自信地进行部署，并且停机时间尽可能短或没有停机。
- en: The road toward zero-downtime deployment
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 零停机时间部署的道路
- en: Deploying to production is probably one of the most dreaded tasks for developers,
    and more often than not, it will be done improperly.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 将应用部署到生产环境可能是开发者最害怕的任务之一，而且往往会被错误地执行。
- en: But what is zero-downtime deployment? Promoting to production with the confidence
    that the code has been properly tested and is ready the ideal that all Magento
    developers should aspire to achieve.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 但什么是零停机时间部署？在代码经过适当测试并准备就绪的情况下将其提升到生产环境，这是所有Magento开发者都应该努力实现的目标。
- en: 'This is achieved not by a single process or tool, but by a combination of techniques,
    standards, and tools. In this chapter, we will learn the following:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这不是通过单一的过程或工具实现的，而是通过一系列技术、标准和工具的组合。在本章中，我们将学习以下内容：
- en: Distributing our extension through Magento Connect
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过Magento Connect分发我们的扩展
- en: The role of version control systems on deployment
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 版本控制系统在部署中的作用
- en: Proper practices to branch and merge changes
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正确的分支和合并更改的实践
- en: Making it right from scratch
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从头开始做对
- en: In the previous chapter, we learned how testing can not only enhance our workflow,
    but also save us from future headaches, unit tests, and integration tests; automated
    tools are at our disposition to ensure that our code is properly tested.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们学习了测试如何不仅能够增强我们的工作流程，还能帮助我们避免未来的麻烦，单元测试和集成测试；自动化工具就在我们身边，以确保我们的代码得到适当的测试。
- en: Writing tests means more than just putting together a few tests and calling
    it done; we are responsible for thinking about all the possible edge cases that
    might affect our code and writing tests for each for them.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 编写测试不仅仅是编写几个测试并称之为完成；我们负责考虑所有可能影响我们代码的边缘情况，并为每个情况编写测试。
- en: Ensure that what you see is what you get
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 确保您看到的就是您得到的
- en: In the first chapter of this book, we dived right into setting up our development
    environment, which is a very important task. In order for us to guarantee that
    we deliver quality and tested code, we must be able to develop and test our code
    in an environment as close to production as possible.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的第一章中，我们直接进入了设置我们的开发环境，这是一个非常重要的任务。为了确保我们交付高质量的测试代码，我们必须能够在尽可能接近生产环境的环境中开发和测试我们的代码。
- en: To illustrate the importance of this environment, I'll use an example. In the
    early days of Magento, I often heard that developers would work on their local
    environments, creating new extensions from scratch. They finished development
    and testing on their local staging, and everything seemed to be working properly.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明这个环境的重要性，我将举一个例子。在Magento的早期阶段，我经常听到开发者会在他们的本地环境中工作，从头开始创建新的扩展。他们在本地预发布环境中完成开发和测试，一切似乎都运行正常。
- en: 'One of the commonly accepted workflows is:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一种常见的流程是：
- en: Start development on the developer's local machine, which is running a virtual
    machine that resembles the production environment as much as possible
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尽可能类似于生产环境的虚拟机上开始开发，该虚拟机运行在开发者的本地机器上
- en: Changes are tested and approved on a staging environment that is an as close
    as possible copy of production
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尽可能接近生产环境的预发布环境中测试和批准更改
- en: Finally, changes are deployed to the production environment
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，更改被部署到生产环境中
- en: So, it was now time for the developers to promote their code to production,
    and they confidently did that. Of course, it was working on the local system,
    so it had to work in production, right? In these particular situations, this wasn't
    the case; what happened instead was that as soon the new code was loaded into
    production, the store would crash, saying the autoloader wasn't able to find the
    class.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，现在是开发者将他们的代码提升到生产环境的时候了，他们自信地那样做了。当然，它在本地系统上是工作的，所以它必须在生产环境中工作，对吧？在这些特定情况下，情况并非如此；相反发生的是，一旦新的代码被加载到生产环境中，商店就会崩溃，说自动加载器找不到类。
- en: What happened? Well, here, the problem was that the developers' local environment
    was Windows and the name of the extension folder was in **CamelCase**, for example
    `MyExtension`, but they were using **capitalized** text (`Myextension`) internally
    in the class names.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 发生了什么？嗯，在这里，问题在于开发者的本地环境是Windows，扩展文件夹的名称是**驼峰式命名**，例如`MyExtension`，但他们内部在类名称中使用的是**大写**文本（`Myextension`）。
- en: Now, this will work just fine in Windows because the file does not distinguish
    between uppercased, capitalized, or lowercased folder names, while a Unix-based
    system, such as most of the web servers, does make a distinction on the folder
    and file naming.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，这将在Windows上工作得很好，因为文件不区分大写、小写或混合大小写的文件夹名称，而基于Unix的系统，如大多数的Web服务器，确实会在文件夹和文件命名上做出区分。
- en: While this example may look silly, it illustrates the need for a standardized
    development environment quite well. There are many parts and "moving pieces" in
    a Magento installation; a different version of PHP or an extra Apache module that
    is enabled in production but not staging, can make a world of difference.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这个例子可能看起来很愚蠢，但它很好地说明了标准化开发环境的需求。在Magento安装中有很多部分和"移动部件"；PHP的不同版本或一个在生产环境中启用但在测试环境中未启用的Apache模块，可能会产生巨大的差异。
- en: Magento naming conventions
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Magento命名约定
- en: Magento uses standardized class naming conventions based on the class location
    in the filesystem. This standardization enables automatic class loading instead
    of using the more traditional `require_once` and `include_once` functions.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Magento使用基于文件系统中类位置的标准化类命名约定。这种标准化使得自动类加载成为可能，而不是使用更传统的`require_once`和`include_once`函数。
- en: For example, the `Mage_Catalog_Model_Product` class is located in the `app/code/core/Mage/Catalog/Model/Product.php`
    location; the Magento autoloader is smart enough to replace the underscore (`_`)
    characters with the directory separators.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，`Mage_Catalog_Model_Product`类位于`app/code/core/Mage/Catalog/Model/Product.php`位置；Magento自动加载器足够智能，可以将下划线（`_`）字符替换为目录分隔符。
- en: Ready means ready
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就是准备
- en: When do we decide that our code is actually ready to enter production, and what
    does "ready" really mean? Each developer might have a different definition of
    what ready and "done" actually mean. When working on a new module or extending
    Magento, we should always define what ready means for this particular feature/code.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们何时决定我们的代码实际上已经准备好进入生产环境，"准备好"到底意味着什么？每个开发者可能对"准备好"和"完成"有不同的定义。当我们开发一个新模块或扩展Magento时，我们应该始终定义这个特定功能/代码的"准备好"的含义。
- en: 'So, we are getting somewhere now, and we know that in order move to production,
    we have to:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们现在正在取得进展，并且我们知道为了转移到生产环境，我们必须：
- en: Test our code and make sure we have covered all the edge cases
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试我们的代码并确保我们已经覆盖了所有边缘情况
- en: Make sure the code follows the standards and guidelines
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保代码遵循标准和指南
- en: Make sure it has been tested and developed in an environment as close to production
    as possible
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保它已经在尽可能接近生产环境的环境中进行了测试和开发
- en: Version control systems
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 版本控制系统
- en: '**Version control systems** (**VCS**) are the lifeblood of any developer, and
    while the field might be a bit divided among Git and SVN enthusiasts (no mention
    for you, mercurial guys), the basic functionalities are still the same.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**版本控制系统**（**VCS**）是任何开发者的生命线，尽管在Git和SVN爱好者之间这个领域可能有些分歧（不会提到你们，Mercurial的朋友们），但基本功能仍然是相同的。'
- en: Let's quickly go over the differences between each VCS and the advantages and
    disadvantages of each.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速了解一下每个VCS之间的差异以及每个VCS的优点和缺点。
- en: Subversion
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Subversion
- en: '**Subversion** (**SVN**) is a powerful system and has been around for quite
    some time, is very well known, and is and widely used.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**Subversion**（**SVN**）是一个强大的系统，已经存在了相当长的时间，非常知名，并且被广泛使用。'
- en: SVN is a centralized VCS; by this we mean that there is single main source that
    is recognized as "good" all developers' checkout and push changes to and from
    this central source.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: SVN是一个集中式VCS；我们这样说的意思是，有一个单一的主源被认可为“良好”，所有开发者从这里检出和推送更改。
- en: 'While this makes changes easier to track and maintain, it has a serious disadvantage.
    As it is centralized, it means that we have to be in constant touch with the central
    repository, working remotely or without an Internet connection, which is not possible.
    This is illustrated in the following figure:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这使得更改更容易跟踪和维护，但它有一个严重的缺点。由于它是集中的，这意味着我们必须始终与中央仓库保持联系，无论是远程工作还是没有互联网连接，这是不可能的。这在下图中得到了说明：
- en: '![Subversion](img/4172_07_01.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![Subversion](img/4172_07_01.jpg)'
- en: Git
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Git
- en: Git is a much younger VCS and has been rising in popularity for a few years
    now, mostly due to the wide adoption by the open source community and the popularity
    of GitHub([www.github.com](http://www.github.com)).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: Git是一个较新的VCS，近年来由于开源社区的广泛采用和GitHub（[www.github.com](http://www.github.com)）的流行而越来越受欢迎。
- en: A critical difference between SVN and Git is that Git is a decentralized version
    control system. By this, we mean that there is no central authority or main repo;
    each developer has a full copy of the repository locally.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: SVN和Git之间的一个关键区别是Git是一个去中心化的版本控制系统。我们这样说的意思是，没有中央权威或主仓库；每个开发者都有本地仓库的完整副本。
- en: 'The decentralization makes Git faster, in addition to having a better and more
    powerful **branching** system other than VCS. Also, working remotely or without
    an Internet connection is possible:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 去中心化使得Git更快，除了拥有比VCS更好的和更强大的**分支**系统之外。此外，远程工作或在没有互联网连接的情况下工作也是可能的：
- en: '![Git](img/4172_07_02.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![Git](img/4172_07_02.jpg)'
- en: 'Regardless of which VCS we choose, the most powerful and sometimes overlooked
    feature of any VCS is still available: the ability to create branches or branching.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我们选择哪种版本控制系统（VCS），任何VCS最强大且有时被忽视的功能仍然可用：创建分支或分支的能力。
- en: Branching allows us to experiment and work on new features without breaking
    the stable code in our trunk or master. Creating a branch takes a snapshot of
    the current trunk/master code where we can make any changes and tests.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 分支允许我们在不影响主分支或master中的稳定代码的情况下，进行实验和工作在新功能上。创建分支是对当前主分支/master代码的快照，我们可以在这里进行任何更改和测试。
- en: Now, branching is only part of the equation. Once we are comfortable with our
    code changes and we have properly tested every edge case, we need a way to reintegrate
    these changes into our main code base.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，分支只是方程的一部分。一旦我们对代码更改感到满意，并且我们已经正确测试了每个边缘情况，我们需要一种方法将这些更改重新集成到我们的主代码库中。
- en: '**Merging** give us this ability to reintegrate all our branch modifications
    by running a few commands.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**合并**通过运行几个命令，给我们重新集成所有分支修改的能力。'
- en: By integrating branches and merging changes into our workflow, we gain flexibility
    and the freedom to work on a different set of changes, features, and bug fixes
    without interfering with experimental or work in progress code.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将分支和合并更改集成到我们的工作流程中，我们获得了灵活性和自由，可以在不干扰实验或进行中的代码的情况下，对不同的更改集、功能和错误修复进行工作。
- en: Also, as we will learn, version control can also help us perform seamless promotions
    and keep our code up to work across multiple Magento installations with ease.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，正如我们将要学习的，版本控制还可以帮助我们执行无缝升级，并轻松地将代码更新到多个Magento安装中。
- en: Distribution
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分发
- en: You might want to freely distribute your extension or maybe make it available
    commercially, but how could you guarantee that the code is properly installed
    each time without having to check it yourself? And what about the updates or upgrades?
    Not all storeowners are tech savvy or capable of changing files on their own.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能想要自由分发你的扩展，或者可能想要将其作为商业产品提供，但你怎么能保证每次安装代码都是正确安装的，而无需亲自检查？还有更新或升级怎么办？并非所有店主都精通技术或能够自己更改文件。
- en: Fortunately, Magento comes out of the box with its package manager and extension
    marketplace called Magento Connect.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，Magento自带其包管理器和扩展市场，称为Magento Connect。
- en: 'Magento Connect allows developers and solution partners to share their open
    source and commercial contributions with the community and is not restricted to
    only custom modules; we can find the following types of resources in the Magento
    Connect marketplace:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Magento Connect允许开发者和解决方案合作伙伴与社区分享他们的开源和商业贡献，并且不仅限于自定义模块；我们可以在Magento Connect市场中找到以下类型的资源：
- en: Modules
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块
- en: Language packs
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 语言包
- en: Custom themes
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义主题
- en: Packing our extension
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 打包我们的扩展
- en: One of the core features of Magento Connect is that it allows us to package
    our extensions directly from the Magento backend.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Magento Connect的核心功能之一是它允许我们从Magento后端直接打包我们的扩展。
- en: 'To package our extension, perform the following steps:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 要打包我们的扩展，请执行以下步骤：
- en: Log in to the Magento backend.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到Magento后端。
- en: From the backend, navigate to **System** | **Magento Connect** | **Package Extensions**.![Packing
    our extension](img/4172_07_03.jpg)
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从后端导航到**系统** | **Magento Connect** | **包扩展**。![打包我们的扩展](img/4172_07_03.jpg)
- en: As we can see, the **Create Extension Package** section is composed of six different
    sections.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，**创建扩展包**部分由六个不同的部分组成。
- en: Package Info
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 包信息
- en: '**Package Info** is used to specify the general extension information, such
    as the name, description, and versions of Magento that are supported. The subsections
    are:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**包信息**用于指定一般扩展信息，例如名称、描述以及支持的Magento版本。子部分包括：'
- en: '**Name**: The standard practice is to keep the name simple and use words'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**: 标准做法是保持名称简单并使用单词'
- en: '**Channel**: This refers to the code pool for the extension; as we mentioned
    in previous chapters, extensions designed for distribution should use the **community**
    channel'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通道**: 这指的是扩展的代码库；正如我们在前面的章节中提到的，为分发而设计的扩展应使用**社区**通道'
- en: '**Supported releases**: Select which version of Magento should be supported
    for our extension'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**支持版本**: 选择应支持我们扩展的Magento版本'
- en: '**Summary**: This is a brief description of the extension used for the extension
    review process'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**摘要**: 这是用于扩展审查过程的简要描述'
- en: '**Description**: This is a detailed description of the extension and its functionality'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**: 这是扩展及其功能的详细描述'
- en: '**License**: This is used for the extension, and some of the available options
    are:'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**许可证**: 这用于扩展，其中一些可用的选项包括：'
- en: '**Open Software License** (**OSL**)'
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开源软件许可证** (**OSL**)'
- en: '**Mozilla Public License** (**MPL**)'
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Mozilla公共许可证** (**MPL**)'
- en: '**Massachusetts Institute of Technology License** (**MITL**)'
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**麻省理工学院许可证** (**MITL**)'
- en: GNU **General Public License** (**GPL**)
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: GNU **通用公共许可证** (**GPL**)
- en: Any other license if your extension is to be distributed commercially
  id: totrans-78
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您的扩展要商业分发，则任何其他许可证
- en: '**License Url**: This is the link to the license text'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**许可证URL**: 这是许可证文本的链接'
- en: Note
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information on the different license types can be found at [http://www.magedevguide.com/license-types](http://www.magedevguide.com/license-types).
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 关于不同许可证类型的更多信息可以在[http://www.magedevguide.com/license-types](http://www.magedevguide.com/license-types)找到。
- en: Release Info
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布信息
- en: 'The following screenshot shows the screen for **Release** **Info**:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了**发布信息**的屏幕：
- en: '![Release Info](img/4172_07_04.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![发布信息](img/4172_07_04.jpg)'
- en: 'The **Release Info** section contains important data about the current package
    release:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**发布信息**部分包含有关当前包发布的的重要数据：'
- en: '**Release Version**: In the initial release, this can be any arbitrary number;
    however, it is important that the version is incremented with each release. Magento
    Connect will not allow you to update the same version twice.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布版本**: 在初始发布中，这可以是任何任意数字；然而，每次发布时版本都需要递增。Magento Connect不允许您更新相同的版本两次。'
- en: '**Release Stability**: Three options are available (**Stable**, **Beta** and
    **Alpha**).'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布稳定性**: 有三个选项可用（**稳定**、**Beta**和**Alpha**）。'
- en: '**Notes**: With this, we can release all the specific notes, if any.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**备注**: 通过这种方式，我们可以发布所有具体的备注，如果有的话。'
- en: Authors
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 作者
- en: 'The following screenshot shows the screen for **Authors**:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了**作者**的屏幕：
- en: '![Authors](img/4172_07_05.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![作者](img/4172_07_05.jpg)'
- en: 'In this section, the author(s) information is specified; each author information
    has the following fields:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，指定了作者（们）的信息；每个作者信息包含以下字段：
- en: '**Name**: This specifies the author''s full name'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**: 这指定了作者的完整姓名'
- en: '**User**: This specifies the Magento username'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**: 这指定了Magento的用户名'
- en: '**Email**: This specifies the contact e-mail address'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**电子邮件**: 这指定了联系电子邮件地址'
- en: Dependencies
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 依赖项
- en: 'The following screenshot shows the screen for **Dependencies**:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了**依赖项**的屏幕：
- en: '![Dependencies](img/4172_07_06.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![依赖项](img/4172_07_06.jpg)'
- en: 'There are three types of dependencies that are used when packaging a Magento
    extension:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在打包Magento扩展时，使用了三种类型的依赖项：
- en: '**PHP Version**: This is the **Minimum** and **Maximum** version of the PHP
    that is supported for this extension'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**PHP版本**: 这是支持此扩展的PHP的**最小**和**最大**版本'
- en: '**Packages**: This is used to specify any other packages that are required
    for this extension'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**包**：这用于指定此扩展所需的任何其他包'
- en: '**Extensions**: With this, we can specify whether a specific PHP extension
    is required for our extension to work'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**扩展**：通过这个，我们可以指定是否需要特定的PHP扩展才能使我们的扩展工作'
- en: If a package dependency is not met, Magento Connect will offer to install the
    required extension because PHP extensions' Magento Connect will throw an error
    and will stop the installation.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 如果未满足包依赖关系，Magento Connect将提供安装所需扩展，因为PHP扩展的Magento Connect将抛出错误并停止安装。
- en: Contents
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 内容
- en: 'The following screenshot shows the screen for **Contents**:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了**内容**屏幕：
- en: '![Contents](img/4172_07_07.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![内容](img/4172_07_07.jpg)'
- en: The **Contents** section allows us to specify each file and folder that forms
    part of the extension package.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**内容**部分允许我们指定构成扩展包一部分的每个文件和文件夹。'
- en: Note
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This is the most important section in the extension packaging process, and it's
    also the easiest to mess up.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这是扩展打包过程中的最重要部分，也是最容易被搞错的部分。
- en: 'Each content entry has the following fields:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 每个内容条目都有以下字段：
- en: '**Target**: This is the target base directory; it is used to specify the base
    path to search the file. The following options are available:'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**目标**：这是目标基本目录；它用于指定搜索文件的基路径。以下选项可用：'
- en: '**Magento Core team module file - ./app/code/core**'
  id: totrans-112
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento核心团队模块文件 - ./app/code/core**'
- en: '**Magento Local module file - ./app/code/local**'
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento本地模块文件 - ./app/code/local**'
- en: '**Magento Community module file - ./app/code/community**'
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento社区模块文件 - ./app/code/community**'
- en: '**Magento Global Configuration - ./app/etc**'
  id: totrans-115
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento全局配置 - ./app/etc**'
- en: '**Magento Locale language file - ./app/locale**'
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento区域语言文件 - ./app/locale**'
- en: '**Magento User Interface (layouts, templates) - ./app/design**'
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento用户界面（布局、模板）- ./app/design**'
- en: '**Magento Library file - ./lib**'
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento库文件 - ./lib**'
- en: '**Magento Media library - ./media**'
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento媒体库 - ./media**'
- en: '**Magento Theme Skin (Images, CSS, JS) - ./skin**'
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento主题皮肤（图像、CSS、JS）- ./skin**'
- en: '**Magento Other web accessible file - ./**'
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento其他可访问的Web文件 - ./**'
- en: '**Magento PHPUnit test - ./tests**'
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento PHPUnit测试 - ./tests**'
- en: '**Magento other - ./**'
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Magento其他 - ./**'
- en: '**Path**: This is the filename and/or path relative to our the specified target'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**路径**：这是相对于指定目标的文件名和/或路径'
- en: '**Type**: Two options are available for us, **File** or **Recursive dir**'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类型**：我们有两个选项，**文件**或**递归目录**'
- en: '**Include**: This field takes a regular expression that allows us to specify
    which files are to be included'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**包含**：此字段接受一个正则表达式，允许我们指定要包含的文件'
- en: '**Ignore**: This field takes a regular expression that allows to specify which
    files are to be excluded'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**忽略**：此字段接受一个正则表达式，允许我们指定要排除的文件'
- en: Load Local Package
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 加载本地包
- en: 'The following screenshot shows the screen for **Load Local Package**:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了**加载本地包**屏幕：
- en: '![Load Local Package](img/4172_07_08.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![加载本地包](img/4172_07_08.jpg)'
- en: This section allows us to load packaged extensions; as we have not packaged
    any extensions, the list is currently empty.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 此部分允许我们加载打包的扩展；由于我们没有打包任何扩展，列表目前为空。
- en: Let's go ahead and package our gift registry extension; ensure that you fill
    in all the fields and then click on **Save Data and Create Package**. This will
    package and save the extension in the `magento_root/var/connect/` folder.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续打包我们的礼品注册扩展；确保您填写了所有字段，然后点击**保存数据和创建包**。这将打包并保存扩展到`magento_root/var/connect/`文件夹中。
- en: The extension package file contains all the sources files and source code needed;
    additionally, a new file is created with each package, called `package.xml`. This
    file contains all the information about the extension and the detailed structure
    of the files and folders.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展包文件包含所有所需源文件和源代码；此外，每个包都会创建一个新文件，称为`package.xml`。此文件包含有关扩展以及文件和文件夹详细结构的所有信息。
- en: Publishing our extension
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发布我们的扩展
- en: Finally, in order to make our extension available, we have to create an extension
    profile in Magento Connect.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，为了使我们的扩展可用，我们必须在Magento Connect中创建一个扩展配置文件。
- en: 'To create an extension profile, perform the following steps:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个扩展配置文件，请执行以下步骤：
- en: Log in to [magentocommerce.com](http://magentocommerce.com).
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到[magentocommerce.com](http://magentocommerce.com)。
- en: Click on the **MY ACCOUNT** .link.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**我的账户**链接。
- en: Click on the **Developers** link in the left-side navigation.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击左侧导航中的**开发者**链接。
- en: Click on **Add a New Extension**.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新扩展**。
- en: 'The **Add new extension** screen looks something like the following:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**添加新扩展**的屏幕看起来大致如下：'
- en: '![Publishing our extension](img/4172_07_09.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![发布我们的扩展](img/4172_07_09.jpg)'
- en: It is important to notice that the extension key field must be the exact same
    name you used while generating the package.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，扩展密钥字段必须与生成包时使用的确切名称相同。
- en: Once the extension profile has been created, we can proceed to upload our extension
    package; all the fields should match the ones specified during the extension packaging
    process.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建了扩展配置文件，我们就可以上传我们的扩展包；所有字段都应该与扩展打包过程中指定的字段相匹配。
- en: '![Publishing our extension](img/4172_07_10.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![发布我们的扩展](img/4172_07_10.jpg)'
- en: 'Finally, once we are done, we can click on the **Submit for Approval** button.
    An extension can have the following statuses:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，一旦我们完成，我们可以点击**提交审核**按钮。扩展可以有以下状态：
- en: '**Submitted**: This means the extension was submitted for review'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**已提交**: 这意味着扩展已提交进行审核。'
- en: '**Not Approved**: This means there was a problem with the extension; you will
    also receive an e-mail explaining the reason why the extension was not approved'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**未批准**: 这意味着扩展存在问题；您还将收到一封电子邮件解释扩展未批准的原因。'
- en: '**Live**: This means the extension has been approved and is available through
    Magento Connect'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在线**: 这意味着扩展已被批准，并通过Magento Connect提供。'
- en: '**Offline**: You can take your extension offline at any time from your account
    extension manager'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**离线**: 您可以从账户扩展管理器随时将您的扩展离线。'
- en: Summary
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned how to deploy and share our custom extensions. There
    are many different methods that we can use to share and deploy our code to production
    environments.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了如何部署和共享我们的自定义扩展。我们可以使用许多不同的方法来共享和部署我们的代码到生产环境。
- en: This is the book's final chapter. We learned a lot about Magento development,
    and while we covered a lot of ground, this book is only meant to be a stepping
    stone on a long journey.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 这是本书的最后一章。我们学到了很多关于Magento开发的知识，虽然我们覆盖了很多内容，但本书仅旨在作为漫长旅程的垫脚石。
- en: Magento is not an easy framework to learn, and while it can be a daunting experience,
    I encourage you to keep trying and learning.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Magento不是一个容易学习的框架，虽然它可能是一个令人畏惧的经历，但我鼓励您继续尝试和学习。

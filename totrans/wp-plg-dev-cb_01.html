<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Preparing a Local Development Environment</h1>
                </header>
            
            <article>
                
<p>We will cover the following topics in this chapter:</p>
<ul>
<li>Installing a web server on your computer</li>
<li>Downloading and configuring a local WordPress installation</li>
<li>Creating a local Subversion repository</li>
<li>Importing initial files to a local Subversion repository</li>
<li>Checking out files from a Subversion repository</li>
<li>Committing changes to a Subversion repository</li>
<li>Installing a dedicated code/text editor</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p>Before we start writing our first WordPress plugin, it is important to have a good set of tools in place that will allow you to work locally on your computer and be more efficient in your work. While it is possible to perform some development tasks with the built-in tools that are provided with the operating system, creating a solid local development environment will help you develop plugins quickly and have full control over your server settings to be able to test different configurations.</p>
<p>This chapter proposes a set of free tools that can easily be installed on your computer, regardless of your preferred operating system, to facilitate the development of your future WordPress plugins. These tools include a local web server to speed up page access and avoid sending files constantly to a remote server, a version control system to keep incremental backups of your work, and a code editor to enhance your editing capabilities. In addition to installing and learning how to use these tools, this chapter also shows how to download and configure a local WordPress installation on a local web server.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing a web server on your computer</h1>
                </header>
            
            <article>
                
<p>The first step to configure a local development environment is to install a local web server on your computer. This will transform your computer into a system capable of displaying web pages and performing all tasks related to rendering a WordPress website locally.</p>
<p>Having a local web server has many benefits, as follows:</p>
<ul>
<li>It provides a quick response to the frequent page refreshes that are made as plugin code is written, tested, and refined, since all information is processed locally</li>
<li>It removes the need to constantly upload new plugin file versions to a remote web server to validate code changes</li>
<li>It allows development to take place when no internet connection is available (for example, when traveling on an airplane)</li>
<li>It offers a worry-free programming environment, where you cannot bring down a live website with a programming error or an infinite loop</li>
</ul>
<p>There are many free packages available online that contain all of the web server components necessary to run a WordPress installation. This recipe shows you how to easily install one of these packages.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Visit the XAMPP website (<a href="https://www.apachefriends.org/"><span class="URLPACKT">https://www.apachefriends.org/</span></a>) and download the appropriate XAMPP package for your computer.</li>
</ol>
<div class="packt_infobox">XAMPP is available for Windows, macOS, and Linux platforms. The screenshots in this recipe were taken from XAMPP version 5.6.30 on Windows 10. The installation steps and exact dialog content might vary based on your choice of platform.</div>
<ol start="2">
<li>Optional on Windows: Disable the Windows <span class="packt_screen">User Access Control (UAC)</span> feature to give full permissions to XAMPP to install itself on your system (look up the steps to perform this procedure on your favorite search engine).</li>
<li>Launch the XAMPP installer (<kbd>xampp-win32-5.6.30-0-VC11-installer.exe</kbd> on the Windows platform).</li>
<li>Acknowledge the warning message about <strong>User Access Control</strong> (<strong>UAC</strong>) and click on <span class="packt_screen">Next</span> to start the installation process.</li>
<li>On the following screen, which lists all of the components that can be installed, uncheck the boxes for <span class="packt_screen">FileZilla FTP Server</span>, <span class="packt_screen">Mercury Mail Server</span>, <span class="packt_screen">Tomcat</span>, <span class="packt_screen">Perl</span>, and <span class="packt_screen">Webalizer</span>, then click on <span class="packt_screen">Next</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="349" width="412" class="image-border" src="assets/5e708416-ab07-4444-9826-c46ef72dd1b6.png"/></div>
<ol start="6">
<li>On the <span class="packt_screen">Installation folder</span> screen, leave the default value for the installation directory if possible (<kbd>c:\xampp</kbd>), since some references to this folder will be made in this book, then click on <span class="packt_screen">Next</span>.</li>
<li>Click on the <span class="packt_screen">Next</span> button to proceed with the web server installation.</li>
<li>Make sure that the option to start the <span class="packt_screen">Control Panel</span> is checked and click on <span class="packt_screen">Finish</span> once the installation is complete.</li>
<li>Select your preferred language for the <span class="packt_screen">XAMPP Control Panel</span> and click on <span class="packt_screen">Save</span> to launch the application.</li>
<li>Click the <span class="packt_screen">Start</span> buttons for <span class="packt_screen">Apache</span> and <span class="packt_screen">MySQL</span> to launch these modules. Their names will be highlighted in green once they have been successfully started, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="348" width="536" class="image-border" src="assets/171eb4c5-79a9-40ed-8ffc-8a1c85584ae0.png"/></div>
<ol start="11">
<li>Open a web browser and navigate to the address <kbd><span class="URLPACKT">http://localhost</span></kbd> to display your local web server's welcome page:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="354" width="348" class="image-border" src="assets/ec4004db-b6e9-449b-b382-3685efba3188.png"/></div>
<ol start="12">
<li>Open the <kbd>c:\xampp\apache\conf\httpd.conf</kbd> file in a text editor (for example, Notepad).</li>
<li>Search for the <kbd>DocumentRoot</kbd> configuration option and change its value to a different location on the disk to avoid keeping your project files under the original installation directory. For example, you could set it to a new directory designed to hold your local development installation of WordPress, such as <kbd>DocumentRoot "C:/WPDev"</kbd>.</li>
</ol>
<div class="packt_infobox">Notice that forward slashes are used in this path. You should be careful if you copy and paste a path from a file explorer window.</div>
<ol start="14">
<li>Search for the <kbd>Directory</kbd> option and change it to the same path that was used for <kbd>DocumentRoot</kbd>, that is, <kbd>&lt;Directory "C:/WPDev"&gt;</kbd>.</li>
<li>Save and close the <kbd>httpd.conf</kbd> file.</li>
<li>Create the directory specified as <kbd>DocumentRoot</kbd>, if it does not already exist on your computer.</li>
<li>Open <span class="packt_screen">XAMPP Control Panel</span>.</li>
<li>Stop and re-start the <span class="packt_screen">Apache</span> service for the new configuration to take effect.</li>
</ol>
<div class="packt_infobox"><span>Trying to access the local web server's welcome page will no longer work after having performed steps 14 through 20, since the new directory specified is currently empty. This will be corrected in the next recipe.</span></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The XAMPP package contains all of the components necessary to run a web server capable of hosting a WordPress website on your computer. These components include:</p>
<ul>
<li>Apache web server</li>
<li>PHP interpreter</li>
<li>MySQL database server</li>
<li>phpMyAdmin database management interface</li>
</ul>
<p>The XAMPP package also includes other components, which are not required to run a local WordPress development site.</p>
<p>Once XAMPP is installed and started, the keyword <kbd>localhost</kbd> that we type in the web browser is recognized by the operating system as a request to communicate with the web server on the local computer and the Apache web server displays the welcome page from its documentation.</p>
<p>The XAMPP documentation is a set of flat HTML files located in the <kbd>c:\xampp\htdocs</kbd> directory on the Windows platform. This is the web server's default working directory.</p>
<p>The last few steps of the recipe instruct the Apache web server to look for the local website's content in a new directory. This is a safety precaution to be sure that site files are not deleted inadvertently if XAMPP is uninstalled. It can also help in managing multiple sites on a single computer.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>While XAMPP is a full-featured local web server package and is available on the three major operating systems, there are many others available online. Most of these packages will run the required web services on the computer directly, while more advanced packages, such as <strong>Varying Vagrant Vagrants</strong> (<strong>VVV</strong>), will virtualize a Linux-based web server on your computer to create a more accurate replica of a final deployment environment optimized for WordPress. Here is a list of some of the most popular local web server packages:<br/>
<br/>
For Windows:</p>
<ul>
<li>WampServer (<a href="http://www.wampserver.com/en/"><span class="URLPACKT">http://www.wampserver.com/en/</span></a>)</li>
<li>EasyPHP (<a href="http://www.easyphp.org/"><span class="URLPACKT">http://www.easyphp.org/</span></a>)</li>
</ul>
<p>For macOS X:</p>
<ul>
<li>MAMP (<a href="https://www.mamp.info/en"><span class="URLPACKT">https://www.mamp.info/en</span></a>)</li>
</ul>
<p>For Windows, Mac, or Linux:</p>
<ul>
<li>Varying Vagrant Vagrants (<a href="https://varyingvagrantvagrants.org">https://varyingvagrantvagrants.org</a>)</li>
</ul>
<div class="packt_infobox">For a more complete list of web server packages, visit <a href="https://en.wikipedia.org/wiki/List_of_AMP_packages"><span class="URLPACKT">https://en.wikipedia.org/wiki/List_of_AMP_packages</span></a>.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a remote web development environment</h1>
                </header>
            
            <article>
                
<p>If it's not possible for you to set up a local web server to develop WordPress plugins, or if you are planning to share the development tasks with one or more people, then an alternative to setting up a local web server is to create a remote development environment.</p>
<p>The easiest way to create such an environment, assuming that you already have a web hosting account set up, is to create a sub-domain off your main domain. This will allow you to create a standalone test installation for WordPress that will still provide safety from affecting a live site, but will not carry the other benefits of a local installation.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li>The <em>Downloading and configuring a local WordPress installation</em> recipe</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Downloading and configuring a local WordPress installation</h1>
                </header>
            
            <article>
                
<p>The next component of our local development environment is to install WordPress on your local web server to run a fully working website and have all of its files hosted locally.</p>
<p>WordPress has always prided itself with its easy five minutes installation process. Installing it on a local web server is even easier and quicker than it would be on a live remote server. This recipe covers the creation of a MySQL database to store all data related to our new WordPress installation and the actual setup process.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe assumes that you have a local web server installed on your computer. This web server can be a fresh install performed using the previous recipe or can be from a previous installation. The steps in the following section are written with a focus on new local web servers. If you have created a new account to access the MySQL database or changed the root user's password, some of the steps will change slightly. The location of the phpMyAdmin tool might also be different if you are using a different web server than XAMPP. You should refer to your web server's documentation to find out what that address is.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>In the web browser, navigate to the address <kbd>http://localhost/phpmyadmin/</kbd> to access your web server's database administration tool.</li>
<li>Click on <span class="packt_screen">Databases</span> tab in <span class="packt_screen">phpMyAdmin</span>.</li>
<li>Type the name of the new database to be created in the empty field following to the words <span class="packt_screen">Create database</span>. In this case, we will use the name <kbd>wordpressdev</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="314" width="617" class="image-border" src="assets/0b20e030-7c28-4b60-acbb-bec3b044c3ec.png"/></div>
<ol start="4">
<li>Click on the <span class="packt_screen">Create</span> button to complete the database creation process.</li>
<li>Download the latest WordPress installation package from the official WordPress website (<a href="https://wordpress.org">https://wordpress.org</a><span class="URLPACKT">)</span>. The download link can be found on the very first page of the website and the download package will work on any web server, local, or remote.</li>
</ol>
<div class="packt_infobox">The following instructions have been tested against WordPress version 4.8. While the installation process does not usually change much between versions, there may be slight differences in these steps on newer versions.</div>
<ol start="6">
<li>Extract the WordPress archive file contents using your favorite file archiver utility or your operating system's built-in capabilities.</li>
</ol>
<p> </p>
<ol start="7">
<li>Copy the contents of the resulting <kbd>wordpress</kbd> folder to your local web server's web content directory (<kbd>c:\WPDev</kbd>, if you followed the previous recipe). You should not copy the <kbd>wordpress</kbd> folder itself unless you want the address of your WordPress website to be <kbd>http://localhost/wordpress</kbd>.</li>
<li>Direct your web browser to <kbd>http://localhost</kbd> to start the WordPress installation process.</li>
<li>Select your preferred language and click on <span class="packt_screen">Continue</span>.</li>
<li>On the next page, click on the <span class="packt_screen">Let's Go</span> button to start your development site's configuration.</li>
<li>Update the <span class="packt_screen">Database Name</span> field to reflect the name of our newly-created database (<kbd>wordpressdev</kbd>).</li>
<li>Set the MySQL <span class="packt_screen">User Name</span> to <kbd>root</kbd>.</li>
<li>Delete all the characters from MySQL <span class="packt_screen">Password</span> to leave it empty, since local MySQL server root accounts are typically configured without any password.</li>
<li>Leave the <span class="packt_screen">Database Host</span> field with its default value (<kbd>localhost</kbd>).</li>
<li>Change the <span class="packt_screen">Table Prefix</span> field from its default value to <kbd>wpdev_</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="291" width="415" class="image-border" src="assets/9343216c-ad1b-4435-972b-e76ef7564c76.png"/></div>
<ol start="16">
<li>Click on the <span class="packt_screen">Submit</span> button to validate the information entered. If any parameters are not entered correctly, or if the WordPress installation process cannot correctly access your database server, it will display an error page and give you an opportunity to make corrections.</li>
<li>Click on the <span class="packt_screen">Run the install</span> button for WordPress to create the required table structure in the designated MySQL database.</li>
<li>Specify a <span class="packt_screen">Site Title</span> (for example, <kbd>Development Site</kbd>).</li>
<li>Set <span class="packt_screen">Username</span> for the admin user. For increased security, it's always best to choose a username that people would not be able to easily guess. Obvious names such as admin or administrator should be avoided.</li>
<li>Optionally, change the randomly generated password with a password of your own choice. If WordPress determines that your new password is weak, you will need to check the additional checkbox that appears to confirm that you want to use a weak password.</li>
<li>Enter your email address in the appropriate field (although no email will actually be sent on most local development installations).</li>
<li>If you are configuring a live external development server, check the <span class="packt_screen">Discourage search engines from indexing this site</span> option, since we do not want this development site to appear anywhere.</li>
<li>Click on <span class="packt_screen">Install WordPress</span> to complete the installation and you will be automatically logged in to the site's WordPress <span class="packt_screen">Dashboard</span>.</li>
</ol>
<p> </p>
<ol start="24">
<li>Click on the <span class="packt_screen">Development Site</span> link in the Dashboard admin bar to see your new site:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="420" width="585" class="image-border" src="assets/fcb9d135-cdf3-4aaa-be1b-44ef220d1672.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>In the first few steps, the phpMyAdmin interface is used to create a database on the local MySQL server. This web-based database management tool comes bundled with XAMPP and most other web servers. The <kbd>http://localhost/phpmyadmin</kbd> address will always take you to the database administration tool, even if you relocate your web server's document root directory as documented in the previous recipe.</p>
<p>Once a database is created and the WordPress files have been copied to the correct location, pointing your browser to the local web server gets it to search through the document root directory to find HTML files to send back to the browser or PHP files to execute. In the case of WordPress, the web server finds the <kbd>index.php</kbd> file and executes it using its PHP interpreter. As the WordPress code is executed, it checks if a configuration file is present and launches the installation process when it does not find one. The WordPress code does not see any difference between the local web server that we are running it on and a remote live web server that would be accessible anywhere online.</p>
<p>While we specified an email address for the administrator during the installation, many local web servers are not configured to send out email messages so we will never receive any email communication in these cases. It is preferable to use a remote server when developing and testing email functionality in a plugin.</p>
<p>Once this recipe has been completed, you will have a functional WordPress installation in place.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a local Subversion repository</h1>
                </header>
            
            <article>
                
<p>Version control is an important part of any code development project, to keep track of a project's history, to have full and organized backups, and to be able to easily roll back changes to get back to a known working state. Version control is also the best and most efficient way to share code and other files when developing a project in a team environment. In addition to being a great version control system that is easy to use and configure, Subversion (often referred to as SVN) is also the technology that manages all submissions on the official WordPress plugin directory. Therefore, by setting up and using a local Subversion repository during your initial plugin development, you will immediately be ready to share your creations with the community.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Visit the <strong>TortoiseSVN</strong> website (<a href="https://tortoisesvn.net/downloads.html"><span class="URLPACKT">https://tortoisesvn.net/downloads.html</span></a>) and download the free Subversion client for your version of Windows (32-bit or 64-bit).</li>
</ol>
<div class="CDPAlignLeft CDPAlign packt_infobox">While this recipe focuses on the creation of a local repository on the Windows platform, equivalent tools for other platforms are discussed after the recipe steps, in the <em>There's more...</em> section.</div>
<ol start="2">
<li>Launch the TortoiseSVN installation program and install it using all the default installation options.</li>
<li>Create a new folder on your hard drive that will host the local Subversion repository (for example, <kbd>c:\WPSVN</kbd>).</li>
<li>Right-click on the new folder and select the <span class="packt_screen">TortoiseSVN | Create repository here</span> menu item, then click on <span class="packt_screen">Start Repobrowser</span>. TortoiseSVN will create the required file structure in the target directory and display the contents of the repository, which is currently empty:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="400" width="516" class="image-border" src="assets/a03a6d34-9dc9-4383-8989-2e9e7f977527.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Subversion is a free, open source version control system that is designed to keep file revisions organized and backed up over the course of a project's development, as well as provide access to older versions of all files at any time. If you have ever found yourself copying a directory on your computer and giving each copy sequentially numbered names or adding dates to their names, then you will recognize that version control is really just a more organized and efficient method of achieving the same goal of keeping backups of known working versions of code files and being able to access any older version of a file.</p>
<p>While the default Subversion interface is a set of command-line utilities, TortoiseSVN and many other client applications provide graphical tools to create, access, and manage local and remote repositories.</p>
<p>In addition to familiarizing yourself with this system for later use on <a href="http://wordpress.org"><span class="URLPACKT">wordpress.org</span></a>, using a local Subversion repository will ensure that you will always have older versions of your plugins easily accessible in case a code change that you perform breaks your work and you cannot figure out how to get back to a working state.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>While there are many Subversion clients available online to interact with a repository, not all of them include the necessary administration tools to easily create a repository, as shown in this recipe. You should look for these administration capabilities when searching for a Subversion client for non-Windows platforms.</p>
<p>On macOS X, versions (<a href="http://versionsapp.com/"><span class="URLPACKT">http://versionsapp.com/</span></a>) and Cornerstone (<a href="https://www.zennaware.com/cornerstone"><span class="URLPACKT">https://www.zennaware.com/cornerstone</span></a>) offer similar capabilities but are paid applications.</p>
<p>On Linux, PagaVCS is a free TortoiseSVN clone (<a href="https://code.google.com/p/pagavcs/"><span class="URLPACKT">https://code.google.com/p/pagavcs/</span></a>) while SmartSVN (<a href="http://smartsvn.com">http://smartsvn.com</a>) is a paid SVN client.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Manual repository creation</h1>
                </header>
            
            <article>
                
<p>If your Subversion client does not offer the ability to create a local repository, you can download the Subversion command-line tools from the official Subversion website (<a href="https://subversion.apache.org/packages.html"><span class="URLPACKT">https://subversion.apache.org/packages.html</span></a>) and create a repository manually following instructions found in the online Subversion reference manual (<a href="http://svnbook.red-bean.com/"><span class="URLPACKT">http://svnbook.red-bean.com/</span></a>).</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Other version control systems</h1>
                </header>
            
            <article>
                
<p>While Subversion is easy to learn and is the system that is used by WordPress on its official plugin repository, other version control systems, such as Git (<a href="https://git-scm.com/"><span class="URLPACKT">https://git-scm.com/</span></a>) and Mercurial (<a href="https://mercurial-scm.org/"><span class="URLPACKT">https://mercurial-scm.org/</span></a>), are gaining traction in the open source development community and could also be considered to manage your plugin code.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li>The <em>Importing initial files to a local Subversion repository</em> recipe</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Importing initial files to a local Subversion repository</h1>
                </header>
            
            <article>
                
<p>Once you have a local repository in place, this recipe describes the steps required to add files and start tracking their revisions over time. To have the flexibility to create multiple plugins, as discussed throughout this cookbook, without having to worry about adding each of them to the repository individually, we will add the entire WordPress plugin directory to your local repository.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>You should have already installed a Subversion client on your computer and created a local repository, as described in the <em>Creating a local Subversion repository</em> recipe. These steps will be slightly different based on the Subversion client that you have selected and your operating system.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Navigate to the <kbd>wp-content/plugins</kbd> directory of your local WordPress installation (for example, <kbd>c:\WPDev\wp-content\plugins</kbd>, if you followed the previous recipe) with the file explorer.</li>
<li>Right-click on the folder and select the <span class="packt_screen">TortoiseSVN | Import</span> menu item.</li>
<li>Enter the file location of your local Subversion repository in the <span class="packt_screen">URL of repository</span> field (for example, <kbd>file:///c:/WPSVN</kbd>), if it is not already specified.</li>
<li>Write a message in the <span class="packt_screen">Import message</span> field that gives an overview of the files that are being imported into the repository:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="306" width="406" class="image-border" src="assets/e17010c7-b90b-4e71-ad86-ff84fa7aadbb.png"/></div>
<ol start="5">
<li>Click on the <span class="packt_screen">OK</span> button to complete the import process.</li>
</ol>
<p>Once the import operation has started, TortoiseSVN sends all the selected files to the repository, displaying each of their names in the process. At the end of the import operation, it also displays the revision number that it assigned to this first set of files.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Using the <span class="packt_screen">Import</span> Subversion feature copies all the selected files to the repository. In addition to storing the files themselves, Subversion identifies each file with a revision number and an import message. The revision number is generated by Subversion and incremented every time a group of files is added. It is especially useful when searching through a file's history.</p>
<p>The import message is specified by the user and is actually optional. That being said, it is important to set meaningful import messages when adding files to a repository, as it will make it easier for you to identify what these files are, the state that they are in, and the reason they were added to the repository when performing future searches.</p>
<p>While these steps have led to a successful import, you may be wondering why nothing changed in the plugin directory. The reason is that the import process only makes copies of the selected files to the Subversion repository. An additional step, called the checkout process, needs to take place to start keeping track of changes and file history.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li>The <em>Checking out files from a Subversion repository</em> recipe</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Checking out files from a Subversion repository</h1>
                </header>
            
            <article>
                
<p>After performing an initial import of the files to a Subversion repository, the files need to be checked out to really start working in a version control environment. This recipe explains how to check out files from your local repository and what the resulting file structure changes will be.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>You should have already installed a Subversion client, created a local repository, and imported files before following this recipe. These steps will be slightly different based on the Subversion client that you have selected and the operating system you are using.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Navigate to the WordPress plugin directory of your local installation in the file explorer if you are not already there.</li>
<li>Right-click in the white space of the directory window and select the <span class="packt_screen">SVN Checkout...</span> menu item.</li>
<li>Enter the file location of your local Subversion repository in the <span class="packt_screen">URL of repository</span> field (for example, <kbd>file:///c:/WPSVN</kbd>), if it is not already specified.</li>
<li>Set <span class="packt_screen">Checkout directory</span> to the plugin folder of your local WordPress installation (for example, <kbd>C:\WPDev\wp-content\plugins</kbd>).</li>
</ol>
<div class="packt_infobox">By default, the TortoiseSVN client adds the word <kbd>WPSVN</kbd> at the end of the path used when performing checkouts. Be sure to remove that last part of the path so that all files that are checked out go to the correct location.</div>
<ol start="5">
<li>Click <span class="packt_screen">Yes</span> on the dialog asking if files should be checked in a folder that is not empty. At this time, TortoiseSVN will retrieve all the files that were added to the repository and copy them locally.</li>
<li>Once the operation is complete, look back at the file listing in the <kbd>plugins</kbd> directory to see that it has changed from its previous state:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="214" width="496" class="image-border" src="assets/ec6c9a9c-4fa7-47ed-a123-7b0fb3365cf1.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Performing a checkout operation takes copies of all files from the repository and places them in the target directory. It also creates a <kbd>.svn</kbd> directory at the top level of the file hierarchy to store files that will support the version control functionality.</p>
<p>By default, most operating systems do not show folders that have a period at the beginning of their name, since this usually identifies hidden files and directories. To display hidden folders on the Windows 10 platform, carry out the following steps:</p>
<ol>
<li>Open <span class="packt_screen">Windows Explorer</span>.</li>
<li>Click on the <span class="packt_screen">View</span> tab and check the option labeled <span class="packt_screen">Hidden Items</span>.</li>
</ol>
<p>The <kbd>.svn</kbd> directory contains information on the address of the repository that is associated with the files in the current folder. It also contains an original version of each file that was checked out. These original files are used for Subversion to determine when changes have been made to each file relative to their state when they were checked out or updated. While it might seem a bit redundant to have an original copy of all the files in the <kbd>.svn</kbd> folders when our repository is locally hosted, this functionality allows Subversion to identify file changes when working on a remote repository, such as the official WordPress plugin server, even when your computer is not connected to the internet.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>As you work with Subversion and TortoiseSVN, files that you create, modify, and delete will go through a number of different states. The following section explains what each of them represents.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Subversion file statuses</h1>
                </header>
            
            <article>
                
<p>The green check mark indicator shown over each file icon, after performing this recipe, shows us that our files and directories have not been modified since they were last checked out or updated. These indicators will change over time as we start modifying existing files and creating new ones. The following is a list of the most common statuses that files will have as you work on a project, along with their associated TortoiseSVN icons:</p>
<ul>
<li><strong>Normal</strong> (green check mark): The file or directory is in a normal state and has not changed since it was last checked out or updated.</li>
<li><strong>Modified</strong> (red exclamation mark): The file or directory has been modified since it was last checked out or updated.</li>
<li><strong>Non-versioned</strong> (blue question mark): The file or directory is not under version control.</li>
<li><strong>Added</strong> (blue plus sign): The file or directory is new and has been marked to be committed to the repository in the next commit operation.</li>
<li><strong>Deleted</strong> (red x icon): The directory has been deleted and will be removed from the repository in the next commit operation.</li>
<li><strong>Ignored</strong> (grey do not pass symbol): This file or directory will never be sent to the repository and Subversion should stop checking for changes. This state is useful for keeping private files, such as personal documentation or to-do lists, in the same directory as the plugin but without uploading them to the repository and tracking their history over time.</li>
<li><strong>Conflicted</strong> (yellow exclamation mark): This icon appears in situations of conflict, typically when more than one person works on the same repository and multiple users have made changes to the same file. While the Subversion client will normally try to merge these changes to create a single file, a conflicted state indicates that the system was not able to merge these changes automatically. Conflicted files need to be manually merged or the user needs to indicate if the file has priority over the version that is currently stored in the repository.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li>The <em>Committing changes to a Subversion repository</em> recipe</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Committing changes to a Subversion repository</h1>
                </header>
            
            <article>
                
<p>During the course of a project, plugin files will typically be created, modified, or deleted. These changes should be transmitted regularly to the Subversion repository to have proper backups of all the files in a project. A good practice is to commit changes at least once a day, with more frequent commit operations taking place when specific milestones are reached in the implementation of a plugin's features.</p>
<p>This recipe indicates how to manage file creation, modification, and deletion operations to keep everything organized and mirrored in the Subversion repository.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>You should have already installed a Subversion client, created a local repository, and imported and checked out files before performing the steps in this recipe. These steps will be slightly different based on the Subversion client that you have selected and the operating system you are using.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Navigate to the WordPress plugin directory of your local installation in the file explorer if you are not already there.</li>
<li>Open the <kbd>hello.php</kbd> file in a text editor.</li>
<li>Edit the plugin name on line 7 to change it from <kbd>Plugin Name: Hello Dolly</kbd> to <kbd>Plugin Name: Goodbye Dolly</kbd>.</li>
<li>Save and close the file. You should now notice that the modified file is identified by a red exclamation mark icon in the file explorer, indicating that it has been modified.</li>
<li>Create a new folder in the <kbd>plugins</kbd> directory named <kbd>chapter1</kbd>.</li>
<li>Right-click on the new folder and select the <span class="packt_screen">TortoiseSVN | Add...</span> menu item to bring up the <span class="packt_screen">Add</span> dialog.</li>
<li>Click on the <span class="packt_screen">OK</span> button to queue the file to be added to the repository when changes are next committed. You will see a blue plus sign appear over the folder name to indicate that it will be added to the repository on the next code commit.</li>
<li>Navigate to the <kbd>chapter1</kbd> directory and create a new text document named <kbd>example.txt</kbd>.</li>
<li>Navigate back to the <kbd>plugins</kbd> directory.</li>
<li>Right-click on the <kbd>index.php</kbd> file and select the <span class="packt_screen">TortoiseSVN | Delete</span> menu item. The selected file is immediately deleted and disappears from the file explorer.</li>
</ol>
<p> </p>
<ol start="11">
<li>Right-click in an empty part of the <kbd>plugins</kbd> directory and select the <span class="packt_screen">SVN Commit...</span> menu item. This last step will display the <span class="packt_screen">Commit</span> dialog, with a top section to write a message detailing the changes that are being committed, and a bottom section containing a file listing. Notice that all files but one have check marks next to them, since they have either been recognized as being changed by the Subversion client or have been added or deleted through the TortoiseSVN interface. The file that does not have a check mark next to it is the text file that was created but not tagged to be included in the next commit operation using the TortoiseSVN contextual menu:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="386" width="496" class="image-border" src="assets/6f3b8ee9-2751-43cd-9ccf-bb343d319558.png"/></div>
<ol start="12">
<li>Type a message in the appropriate field indicating the reason for the operation.</li>
<li>Right-click on the <kbd>chapter1/example.txt</kbd> file and select the <span class="packt_screen">Add</span> menu item to add it to the operation.</li>
<li>Click on the <span class="packt_screen">OK</span> button to send all the changes to the Subversion repository.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Using the local data stored in the <kbd>.svn</kbd> folder, the Subversion client is able to analyze the directory contents and identify all the files that are new, have been modified, or are missing since the last checkout or update operation was performed, and then generate a list of these changes.</p>
<p>When the commit operation is performed, new files are added to the repository, modified files are uploaded and stored next to their previous versions, while deleted files are tagged as no longer being part of the current project version. While some of these behaviors might seem strange, it's by preserving previous versions of files and even keeping files that are no longer part of a project that Subversion is able to let us navigate through a project's entire history.</p>
<p>While it is preferable to use the TortoiseSVN menu to mark files and directories for addition and to delete items that are no longer needed, it is also possible to perform these operations when the commit is about to take place, as we saw in the recipe steps.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Before files are committed to the repository, many programmers and developers want to see what changes were made to the modified files, especially in an environment that promotes peer reviews before committing code changes.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Viewing the differences in modified files</h1>
                </header>
            
            <article>
                
<p>By right-clicking on any modified file in the Commit dialog and selecting the <span class="packt_screen">Diff</span> menu item, the TortoiseSVN client will display its built-in file difference viewer tool, highlighting the parts that are different between the last version of the file in the repository and the current version of this file. This allows users to see what changed at a glance and be sure that no code was modified inadvertently.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Updating files to latest repository version</h1>
                </header>
            
            <article>
                
<p>If you are the only person committing files to a repository and you are working on a single computer, then you will never need to use the <span class="packt_screen">SVN Update</span> menu item. This function is designed to compare your local files with the repository and check if new files or new revisions are available in the repository that are not present locally. It will then apply all the necessary changes to the local versions of these files. Remember to use the <span class="packt_screen">SVN Update</span> option in TortoiseSVN regularly if you are working in a team environment or are developing a project across multiple computers.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Reverting uncommitted file changes</h1>
                </header>
            
            <article>
                
<p>Until a file is committed to a repository, it's possible to reverse all the changes made to it since the last checkout, update, or committal by using the <span class="packt_screen">Revert</span> item in the <span class="packt_screen">TortoiseSVN</span> menu. This can be useful if you made changes to the code that broke its functionality and want to get back to a known good state.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Viewing file history</h1>
                </header>
            
            <article>
                
<p>As multiple versions of files are committed to a repository over time, Subversion keeps track of all the versions of these files along with the messages that were associated with each commit operation. The <span class="packt_screen">Show Log</span> tool, accessible from the TortoiseSVN menu, allows you to see a full history of changes made to one more files, use the difference viewer to see changes between previous and current versions of each file, and easily restore a specific revision of these files.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing a dedicated code editor/text editor</h1>
                </header>
            
            <article>
                
<p>Most operating systems provide a built-in text editor. While it is possible to create WordPress plugins using such a simple tool, it is highly recommended to install a dedicated code editor on your computer to simplify your plugin development work.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Of course, not all code editors are equal. Here are some of the features that you should look for when selecting a code editing application:</p>
<ul>
<li>PHP syntax highlighting</li>
<li>Completion of PHP function names</li>
<li>Ability to search in multiple files simultaneously</li>
<li>Ability to highlight all instances of search keyword(s) or selected text</li>
<li>Line numbering</li>
<li>Ability to resize the editor text or specify a replacement font</li>
<li>Possibility of opening multiple files simultaneously</li>
</ul>
<p>The following editors contain most or all of these key features. Most are free tools, but some are paid applications:</p>
<p>On the Windows platform:</p>
<ul>
<li>Programmer's Notepad (<a href="http://www.pnotepad.org"><span class="URLPACKT">http://www.pnotepad.org</span></a>)</li>
<li>Notepad++ (<a href="https://notepad-plus-plus.org/"><span class="URLPACKT">https://notepad-plus-plus.org/</span></a>)</li>
<li>Visual Studio Code (<a href="https://code.visualstudio.com">https://code.visualstudio.com</a>)</li>
</ul>
<p>On the Mac platform:</p>
<ul>
<li>TextMate (<a href="https://macromates.com"><span class="URLPACKT">https://macromates.com</span></a>)</li>
<li>TextWrangler (<a href="https://www.barebones.com/products/TextWrangler"><span class="URLPACKT">https://www.barebones.com/products/TextWrangler</span></a>)</li>
</ul>
<p>On the Linux platform:</p>
<ul>
<li>Screem (<a href="http://www.screem.org/"><span class="URLPACKT">http://www.screem.org/</span></a>)</li>
</ul>
<p>Cross-platform:</p>
<ul>
<li>Sublime Text (<a href="https://www.sublimetext.com"><span class="URLPACKT">https://www.sublimetext.com</span></a>)</li>
</ul>
<p>This recipe explains how to install a dedicated code editor and shows basic editor operations. It provides detailed steps using Programmer's Notepad for Windows.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol start="1">
<li>Download the installation package for one of the text editors listed previously.</li>
<li>Run the installation program for the editor and select the default settings.</li>
<li>Launch the text editor.</li>
<li>Open the <kbd>hello.php</kbd> file from the <kbd>plugin</kbd> directory of your local WordPress installation. You will see that different parts of the code are displayed in different colors based on the type of code.</li>
<li>Double-click on a word to select it. You will see any other instance of that same word highlighted across the file contents:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img style="color: #333333;text-align: center" height="361" width="437" class="image-border" src="assets/1bdee61d-aa43-4819-ac4b-fec076814b39.png"/></div>
<ol start="6">
<li>Select the <span class="packt_screen">View | Line Numbers</span> menu item (or similarly named item based on your selected text editor) to display line numbers in the editor.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Code editors have built-in parsers that enable them to identify the parts of the code that are comments, PHP language functions, text strings, and a variety of other elements. Having these elements colored on the screen makes it much easier to read through code and to see that a function's name is not spelled correctly, or to quickly identify comments.</p>
<p>Another functionality that is crucial when developing plugins for WordPress is the ability to see line numbers in the editor. This function comes in handy, especially when PHP code errors come up, since the filename and line of code that was being processed at the time of the error are normally displayed. In most code editors, the developer can either scroll to the specific line or enter the line number in a quick <span class="packt_screen">Go</span> <span class="packt_screen">To</span> dialog box to jump to that line right away.</p>


            </article>

            
        </section>
    </body></html>
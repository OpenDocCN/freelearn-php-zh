<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer043">
			<h1 id="_idParaDest-48"><em class="italic"><a id="_idTextAnchor047"/></em><a href="B17606_03_Final_PD_ePub.xhtml#_idTextAnchor047"><em class="italic">Chapter 3</em></a>: Diving into Liquid Core with Tags</h1>
			<p>In the previous chapters, we saw some Liquid tags, such as control flow tags, in action. In this chapter, we will learn more about all the different tags we can use to modify our page content dynamically. We will learn about creating variable tags and theme tags and the best way to use them.</p>
			<p>Learning about various types of iterations tags and parameters, we will gain the ability to execute blocks of code repeatedly, which will help us write better-quality code. Finally, we will mention some deprecated tags; they still appear in some older themes, so it is essential to know what they do and how to use them. </p>
			<p>This chapter covers the following topics:</p>
			<ul>
				<li>Controlling the flow of Liquid (control tags)</li>
				<li>Variable tags</li>
				<li>Iterations tags</li>
				<li>Theme tags</li>
				<li>Deprecated tags</li>
			</ul>
			<p>This third chapter will expand our knowledge of logic and comparison operators and different data types by exploring Liquid programming logic.</p>
			<h1 id="_idParaDest-49"><a id="_idTextAnchor048"/>Technical requirements</h1>
			<p>You will need an internet connection to follow the steps outlined in this chapter, considering that Shopify is a hosted service.</p>
			<p>The dataset used in this chapter, in <strong class="source-inline">*.csv</strong> format, is available on GitHub: <a href="https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid/blob/main/Product-data.csv">https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid/blob/main/Product-data.csv</a>.</p>
			<p>The code for this chapter is available on GitHub: <a href="https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid/tree/main/Chapter03">https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid/tree/main/Chapter03</a>.</p>
			<p>The Code in Action video for the chapter can be found here: <a href="https://bit.ly/3nP8uwG">https://bit.ly/3nP8uwG</a></p>
			<h1 id="_idParaDest-50"><a id="_idTextAnchor049"/>Getting things ready</h1>
			<p>Before we can proceed, we will need to create some product and collection pages first, which we will be using throughout the following exercises.</p>
			<h2 id="_idParaDest-51"><a id="_idTextAnchor050"/>Creating the product page</h2>
			<p>Generally, creating a <a id="_idIndexMarker124"/>page or a product page is a straightforward and intuitive process: </p>
			<ol>
				<li>We can start by navigating to the <strong class="bold">Products</strong> section in our sidebar and clicking the <strong class="bold">Add products</strong> button, automatically redirecting us to the page to define our product name, description, image, price, and other parameters. We will not go into too many details on managing a product. However, if you would like to read more about this topic, refer to <a href="https://help.shopify.com/en/manual/products/add-update-products">https://help.shopify.com/en/manual/products/add-update-products</a>.</li>
				<li>To avoid creating a significant number of products manually that we will require later, we will use already created products that we can find on GitHub. We have created a <strong class="source-inline">.csv</strong> file that allows us to easily create many products for our development store for this specific purpose. The only thing we need to do is download the file from <a href="https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid/blob/main/Product-data.csv">https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid/blob/main/Product-data.csv</a> and import it to our store.</li>
				<li>Once we have downloaded the file, click on the <strong class="bold">Products</strong> link within our sidebar, which will automatically position us in <strong class="bold">All Products</strong> after expanding. Click on the <strong class="bold">Import</strong> button to trigger a popup and start the process:<div id="_idContainer032" class="IMG---Figure"><img src="Images/Figure_3.01_B17606.jpg" alt="Figure 3.1 – Example of starting the process of importing products&#13;&#10;" width="904" height="555"/></div><p class="figure-caption">Figure 3.1 – Example of starting the process of importing products</p></li>
				<li>After <a id="_idIndexMarker125"/>selecting the <strong class="source-inline">Product-data.csv</strong> file, we can start the process by clicking the <strong class="bold">Upload and continue</strong> button:<div id="_idContainer033" class="IMG---Figure"><img src="Images/Figure_3.02_B17606.jpg" alt="Figure 3.2 – Selecting and uploading the .csv file into the store&#13;&#10;" width="702" height="399"/></div><p class="figure-caption">Figure 3.2 – Selecting and uploading the .csv file into the store</p></li>
				<li>A few seconds later, we will see another popup previewing one of the products we are about to import. After confirming that the fields contain the correct information, we can finalize the import process by clicking on the <strong class="bold">Import products</strong> button:</li>
			</ol>
			<div>
				<div id="_idContainer034" class="IMG---Figure">
					<img src="Images/Figure_3.03_B17606.jpg" alt="Figure 3.3 – Finalizing the process of uploading the products from the .csv file to the store&#13;&#10;" width="711" height="725"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.3 – Finalizing the process of uploading the products from the .csv file to the store</p>
			<h2 id="_idParaDest-52"><a id="_idTextAnchor051"/>Creating the collection page</h2>
			<p>Now that we <a id="_idIndexMarker126"/>have filled our store with products, it is time to create some collection pages that we can then populate with our new products. The process of creating a collection page is as straightforward as that of the product page:</p>
			<ol>
				<li value="1">We can start the process by clicking on the <strong class="bold">Products</strong> link in our sidebar and subsequently clicking on the <strong class="bold">Collection</strong> sub-link located in the extended <strong class="bold">Products</strong> menu. </li>
				<li>Once inside, click on the <strong class="bold">Create collection</strong> button, automatically redirecting us to the page to define our collection name, description, assign products, and other parameters. </li>
				<li>Considering that we have two types of products, we will create two collections and assign the same type of products to each collection. After clicking on the <strong class="bold">Create collection</strong> button, enter the name <strong class="source-inline">Outdoor</strong> as the collection name, and set <strong class="bold">Collection type</strong> to <strong class="bold">Automated</strong> so that we will not have to assign each product manually. The last step is to set <strong class="bold">CONDITIONS</strong> such that we should only populate the products whose type equals <strong class="bold">Outdoor</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer035" class="IMG---Figure">
					<img src="Images/Figure_3.04_B17606.jpg" alt="Figure 3.4 – Example of creating a collection and automatically populating it based on the product type&#13;&#10;" width="639" height="428"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.4 – Example of creating a collection and automatically populating it based on the product type</p>
			<p>After saving <a id="_idIndexMarker127"/>the changes, our collection page will instantly be created and populated with the products that match our condition. Note that before we proceed, we should repeat the preceding steps for the <strong class="bold">Indoor</strong> collection, which we will need in the following chapters. If you would like to read more about managing a collection page, refer to <a href="https://help.shopify.com/en/manual/products/collections">https://help.shopify.com/en/manual/products/collections</a>.</p>
			<h2 id="_idParaDest-53"><a id="_idTextAnchor052"/>Updating the navigation menu</h2>
			<p>For faster <a id="_idIndexMarker128"/>navigation, we can include the links to our two collections inside our main menu navigation:</p>
			<ol>
				<li value="1">We can do this by clicking on <strong class="bold">Online store</strong> in our sidebar to expand it and consequently clicking on the <strong class="bold">Navigation</strong> link. </li>
				<li>Once inside, we can add any number of links by opening <strong class="bold">Main menu</strong> and clicking on <strong class="bold">Add menu item</strong>. If you would like to read more about managing a navigation menu, refer to <a href="https://help.shopify.com/en/manual/online-store/menus-and-links">https://help.shopify.com/en/manual/online-store/menus-and-links</a>.</li>
			</ol>
			<p>Now that <a id="_idIndexMarker129"/>we have finished setting up both our product and collection pages, we can learn about Liquid programming logic. </p>
			<h1 id="_idParaDest-54"><a id="_idTextAnchor053"/>Controlling the flow of Liquid</h1>
			<p>In the previous chapters, we saw some control flow tags, such as <strong class="source-inline">if</strong>, <strong class="source-inline">and</strong>, and <strong class="source-inline">or</strong>, in action; now we will <a id="_idIndexMarker130"/>dive further into this topic and learn about all the control flow types of tags and how to use them. Control flow tags are a type of Liquid programming logic that tells our Liquid code what to do by allowing us to be selective about which block of code should execute under specific conditions. We can divide the control flow tags into four separate groups:</p>
			<ul>
				<li><strong class="source-inline">if/else/elsif</strong></li>
				<li><strong class="source-inline">and/or</strong></li>
				<li><strong class="source-inline">case/when</strong></li>
				<li><strong class="source-inline">unless</strong></li>
			</ul>
			<h2 id="_idParaDest-55"><a id="_idTextAnchor054"/>The if/else/elsif tags</h2>
			<p>We have had the pleasure of seeing the conditional <strong class="source-inline">if</strong> statement in some of our previous <a id="_idIndexMarker131"/>examples, which, if proved true, execute the <a id="_idIndexMarker132"/>code inside our statement. Let's see it in action. In the previous <a id="_idIndexMarker133"/>chapter, we created the <strong class="bold">Learning about the page handle</strong> page.</p>
			<p>However, let's try <a id="_idIndexMarker134"/>and create a new page for this exercise to solidify our knowledge and keep everything concise: </p>
			<ol>
				<li value="1">Let's start by creating a new page named <strong class="bold">Controlling the flow of Liquid</strong>, which we will continue to use going forward. Suppose we need to remind ourselves how to create a new page; we can revisit the previous chapter and consult the <em class="italic">EmptyDrop</em> subsection, located under the <em class="italic">Understand the types of data</em> section, where we previously outlined the process of creating a new page.</li>
				<li>After creating the new page, it is time to edit our newly created page template file. We need to navigate to the <strong class="bold">Themes</strong> section, located under the <strong class="bold">Online store</strong> area, click the <strong class="bold">Actions</strong> button on the duplicate theme we have created, and select the <strong class="bold">Edit code</strong> option, which will open our code editor.</li>
				<li>Once <a id="_idIndexMarker135"/>inside the code editor, find the template <a id="_idIndexMarker136"/>currently assigned to our page. In our case, the template <a id="_idIndexMarker137"/>name is <strong class="source-inline">page.liquid</strong>, so click on it.</li>
				<li>Currently, our page <a id="_idIndexMarker138"/>consists of two Liquid elements: <strong class="source-inline">{{ page.title }}</strong>, which generates the title of the page, and <strong class="source-inline">{{ page.content }}</strong>, which generates the content of our page, along with a few HTML elements. However, <em class="italic">what if our</em> <strong class="source-inline">{{ page.content }}</strong> <em class="italic">is empty?</em> We would end up with an empty <strong class="source-inline">div</strong> element: </li>
			</ol>
			<div>
				<div id="_idContainer036" class="IMG---Figure">
					<img src="Images/Figure_3.5_B17606.jpg" alt="Figure 3.5 – Example of the empty element on a page&#13;&#10;" width="759" height="478"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.5 – Example of the empty element on a page</p>
			<p>To solve this, we can wrap <strong class="source-inline">{{ page.content }}</strong> along with the <strong class="source-inline">div</strong> that encapsulates it within a conditional that will check whether the content of the page is empty:</p>
			<p class="source-code"><strong class="bold">{% if page.content != blank %}</strong></p>
			<p class="source-code">  &lt;div class="rte"&gt;</p>
			<p class="source-code">    {{ page.content }}</p>
			<p class="source-code">  &lt;/div&gt;</p>
			<p class="source-code"><strong class="bold">{% endif %}</strong></p>
			<p>We are now sure that we will not see any extra empty strings and elements on our page with the conditional in place. </p>
			<p>Let's now <a id="_idIndexMarker139"/>try to include some kind of placeholder <a id="_idIndexMarker140"/>text instead and let anyone who visits our page know that we will <a id="_idIndexMarker141"/>add the page content shortly. This is where the <strong class="source-inline">else</strong> and <strong class="source-inline">elsif</strong> statements <a id="_idIndexMarker142"/>come to help us. With the addition of <strong class="source-inline">else</strong> and <strong class="source-inline">elsif</strong>, we can create multiple conditions to ensure that we execute our code correctly:</p>
			<ol>
				<li value="1">Let's start by adding the <strong class="source-inline">else</strong> condition before <strong class="source-inline">{% endif %}</strong> to execute a different result when our <strong class="source-inline">{{ page.content }}</strong> is empty:<p class="source-code">{% if page.content != blank %}</p><p class="source-code">  &lt;div class="rte"&gt;</p><p class="source-code">    {{ page.content }}</p><p class="source-code">  &lt;/div&gt;</p><p class="source-code"><strong class="bold">{% else %}</strong></p><p class="source-code"><strong class="bold">  &lt;div class="rte"&gt;</strong></p><p class="source-code"><strong class="bold">    The page content is currently pending. Please       </strong><strong class="bold">check again shortly.</strong></p><p class="source-code"><strong class="bold">  &lt;/div&gt;</strong></p><p class="source-code">{% endif %}</p><p>With the <strong class="source-inline">else</strong> condition in place, if someone accidentally visits our page, they won't think that we have a broken page, as we will have a message waiting for them:</p><div id="_idContainer037" class="IMG---Figure"><img src="Images/Figure_3.06_B17606.jpg" alt="Figure 3.6 – Example of the else condition getting executed&#13;&#10;" width="897" height="384"/></div><p class="figure-caption">Figure 3.6 – Example of the else condition getting executed</p></li>
				<li>Let's try to improve our page by adding a statement to check whether we have started working <a id="_idIndexMarker143"/>on our page content and update <a id="_idIndexMarker144"/>our notification message accordingly. We can do this by <a id="_idIndexMarker145"/>adding an <strong class="source-inline">elsif</strong> statement to check whether our page content has <a id="_idIndexMarker146"/>more than 100 characters. However, for this to work, we will also need to modify the existing <strong class="source-inline">if</strong> statement by altering the existing conditional to display the page content if it has <strong class="source-inline">100</strong> or more characters:<p class="source-code"><strong class="bold">{% if page.content.size &gt; 100 %}</strong></p><p class="source-code">  &lt;div class="rte"&gt;</p><p class="source-code">    {{ page.content }}</p><p class="source-code">  &lt;/div&gt;</p><p class="source-code"><strong class="bold">{% elsif page.content.size &lt; 100 %}</strong></p><p class="source-code"><strong class="bold">  &lt;div class="rte"&gt;</strong></p><p class="source-code"><strong class="bold">    Our content writers are making the final touches,       and the page content will be available shortly. </strong></p><p class="source-code">&lt;/div&gt;</p><p class="source-code">{% else %}</p><p class="source-code">  &lt;div class="rte"&gt;</p><p class="source-code">    The page content is currently pending. Please       check again soon.</p><p class="source-code">  &lt;/div&gt;</p><p class="source-code">{% endif %}</p><p>The first conditional statement in our previous example will check whether our page content has more than <strong class="source-inline">100</strong> characters. If it does, it will return <strong class="source-inline">true</strong>, and our page content will show. The second <strong class="source-inline">if</strong> statement, which checks whether the page content has less than <strong class="source-inline">100</strong> characters, will only happen if the first statement returns <strong class="source-inline">false</strong>. </p><p class="callout-heading">Important note:</p><p class="callout">It is impossible to execute multiple statements on different lines within the same block, even if their result was true.</p></li>
			</ol>
			<p>With the <a id="_idIndexMarker147"/>two conditionals in place, our page should have <a id="_idIndexMarker148"/>enough information for anyone visiting our page. However, if we look <a id="_idIndexMarker149"/>closely at our statements, we will see that the <strong class="source-inline">{% else %}</strong> statement <a id="_idIndexMarker150"/>will never execute since the page content will either have more than 100 characters or less than 100 characters. As we recall, we can execute only one statement within a single block. To resolve this issue, we will need to use the <strong class="source-inline">and</strong> operator to ensure that all statements in our code block are working correctly.</p>
			<h2 id="_idParaDest-56"><a id="_idTextAnchor055"/>The and/or tags</h2>
			<p>As we recall <a id="_idIndexMarker151"/>from the <a id="_idIndexMarker152"/>previous chapter, the <strong class="source-inline">and</strong> and <strong class="source-inline">or</strong> operators <a id="_idIndexMarker153"/>let us include more than one condition <a id="_idIndexMarker154"/>in a control flow tag, allowing us to create complex conditionals.</p>
			<p>Using the <strong class="source-inline">and</strong> operator, we can chain another condition to the existing statement, which will only return <strong class="source-inline">true</strong> if both the left and right sides of the statement are true. Let's try to include another conditional within our <strong class="source-inline">elsif</strong> statement that checks whether the page content has any content:</p>
			<p class="source-code">{% if page.content.size &gt; 100 %}</p>
			<p class="source-code">  &lt;div class="rte"&gt;</p>
			<p class="source-code">    {{ page.content }}</p>
			<p class="source-code">  &lt;/div&gt;</p>
			<p class="source-code">{% elsif page.content.size &lt; 100 <strong class="bold">and page.content != blank</strong> %}</p>
			<p class="source-code">  &lt;div class="rte"&gt;</p>
			<p class="source-code">    Our content writers are making final touches, and the       page content will be available shortly. </p>
			<p class="source-code">  &lt;/div&gt;</p>
			<p class="source-code">{% else %}</p>
			<p class="source-code">  &lt;div class="rte"&gt;</p>
			<p class="source-code">    The page content is currently pending. Please check       again soon.</p>
			<p class="source-code">  &lt;/div&gt;</p>
			<p class="source-code">{% endif %}</p>
			<p>With the <a id="_idIndexMarker155"/>addition of the second condition, we have ensured <a id="_idIndexMarker156"/>that our control flow tag will execute correctly. The first <a id="_idIndexMarker157"/>statement will return <strong class="source-inline">true</strong> if the page content has more than <strong class="source-inline">100</strong> characters, the <a id="_idIndexMarker158"/>second statement will return <strong class="source-inline">true</strong> if the page content has less than <strong class="source-inline">100</strong> characters and the page is not empty. And finally, if both previous statements return <strong class="source-inline">false</strong>, the code inside the <strong class="source-inline">else</strong> statement will execute.</p>
			<p>Similar to the <strong class="source-inline">and</strong> parameter, the <strong class="source-inline">or</strong> parameter allows us to chain another condition to the tag. However, the critical difference is that for a statement with the <strong class="source-inline">and</strong> parameter to return <strong class="source-inline">true</strong>, both the left and right sides of the conditional had to return <strong class="source-inline">true</strong>. We only need at least one condition to return <strong class="source-inline">true</strong> with the <strong class="source-inline">or</strong> parameter, which will make that statement truthy, and the code inside will execute.</p>
			<h2 id="_idParaDest-57"><a id="_idTextAnchor056"/>The case/when tags</h2>
			<p>As with the <strong class="source-inline">if/elsif/else</strong> conditions, <strong class="source-inline">case/when</strong> is a type of control flow tag we can use to create a <strong class="source-inline">switch</strong> statement, which allows us to execute a particular block of code only <a id="_idIndexMarker159"/>when the returned value is an exact match. We <a id="_idIndexMarker160"/>can use <strong class="source-inline">case</strong> to initialize the <strong class="source-inline">switch</strong> statement, and we <a id="_idIndexMarker161"/>can use <strong class="source-inline">when</strong> to set the conditions in a specific order that <a id="_idIndexMarker162"/>we want them executed in.</p>
			<p>Let's return to the <strong class="source-inline">page.liquid</strong> template that we have previously worked on and create a <strong class="source-inline">switch</strong> statement that will check the exact number of characters our page content has and render the appropriate message depending on which statement is true. We can include this functionality above the first <strong class="source-inline">if</strong> statement we have added:</p>
			<p class="source-code">{% case page.content.size %}</p>
			<p class="source-code">  {% when 150 %}</p>
			<p class="source-code">    The page has only 150 characters, so this should not       take much time to read.</p>
			<p class="source-code">  {% when 350 %}</p>
			<p class="source-code">    We have bumped the page to 350 characters, but it       should not take that much time.</p>
			<p class="source-code">  {% when 1000 %}</p>
			<p class="source-code">    We now have 1000 characters written, and it is going to       take a few minutes to read everything carefully.</p>
			<p class="source-code">{% endcase %}</p>
			<p>In the preceding example, we have initialized the <strong class="source-inline">case</strong> tag with <strong class="source-inline">page.content.size</strong>, allowing us to use <strong class="source-inline">when</strong> statements to check whether the number of characters in a page's content is strictly equal to our values. Notice that <strong class="source-inline">when</strong> statements hold no comparing variables. This is because <strong class="source-inline">when</strong> statement accepts only a value as a parameter and will return <strong class="source-inline">true</strong> only if the value is an exact match:</p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="Images/Figure_3.07_B17606.jpg" alt="Figure 3.7 – Example of executing the case/when tag&#13;&#10;" width="944" height="438"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.7 – Example of executing the case/when tag</p>
			<p>With our <a id="_idIndexMarker163"/>control flow tag in place, if we enter <strong class="source-inline">150</strong> characters as our page content, the <a id="_idIndexMarker164"/>first <strong class="source-inline">when</strong> statement returns <strong class="source-inline">true</strong>, and as a result, we can <a id="_idIndexMarker165"/>see our message. In comparison, it might not look like <a id="_idIndexMarker166"/>a powerful tag considering that we can only use it to match the exact values as opposed to the <strong class="source-inline">if/elsif/else</strong> tag. However, the <strong class="source-inline">case/when</strong> tags are a mighty piece of programming logic; we will be using them in the following chapters of the book to create complex functionalities.</p>
			<p>As we recall, any code added directly to the template file will get executed on all of the pages using that particular template. And since we have added all of our previous code to the <strong class="source-inline">page.liquid</strong> template, we should ensure that we only execute the previously added code on the <strong class="bold">Controlling the flow of Liquid</strong> page. For this, we can use the <strong class="source-inline">unless</strong> tag.</p>
			<h2 id="_idParaDest-58"><a id="_idTextAnchor057"/>The unless tag</h2>
			<p>Similar <a id="_idIndexMarker167"/>to an <strong class="source-inline">if</strong> tag, which allows us to check the state of a <a id="_idIndexMarker168"/>specific condition, the <strong class="source-inline">unless</strong> tag allows us to check if we have not met the condition:</p>
			<p class="source-code">{% unless page.title != "Controlling the flow of Liquid" %}</p>
			<p class="source-code">  Unless the page title is Controlling the Flow of Liquid,     the code inside this conditional will not execute. </p>
			<p class="source-code">{% endunless %}</p>
			<p>We can add the opening statement of the <strong class="source-inline">unless</strong> tag just above our opening <strong class="source-inline">case</strong> tag and add the closing statement below the closing statement for our <strong class="source-inline">if/elsif/else</strong> tag:</p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="Images/Figure_3.8_B17606.jpg" alt="Figure 3.8 – Example of the entire code related to the control flow of Liquid&#13;&#10;" width="901" height="600"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.8 – Example of the entire code related to the control flow of Liquid</p>
			<p>With the <strong class="source-inline">unless</strong> statement in place, we have ensured that all of our code will only execute <a id="_idIndexMarker169"/>on this particular page and will not affect any other <a id="_idIndexMarker170"/>page that uses the same <strong class="source-inline">page.liquid</strong> template file.</p>
			<p>By learning about all the different types of control flow tags, we have taken a step forward in mastering Liquid programming logic, which will serve as a stepping stone to much more significant and complex things that await us.</p>
			<p>In the previous chapter, we have mentioned various data types, such as strings, numbers, and Booleans, and how we can use them. However, what if we wanted to save any of these data types and re-use them on multiple locations without manually updating each line? This is where <em class="italic">variables</em> come into play.</p>
			<h1 id="_idParaDest-59"><a id="_idTextAnchor058"/>Variable tags</h1>
			<p>We can consider variables as data containers to save the various types of information that we <a id="_idIndexMarker171"/>want to use later in our code or overwrite as needed. Besides saving the information for later use, variables also allow us to use descriptive text as a label, allowing us to understand what type of information a particular variable contains. We can divide the variable tags into the following four groups:</p>
			<ul>
				<li><strong class="source-inline">assign</strong></li>
				<li><strong class="source-inline">capture</strong></li>
				<li><strong class="source-inline">increment</strong></li>
				<li><strong class="source-inline">decrement</strong></li>
			</ul>
			<h2 id="_idParaDest-60"><a id="_idTextAnchor059"/>The assign tag</h2>
			<p>The <strong class="source-inline">assign</strong> tag allows us to declare a variable to which we can assign string, number, or Boolean data. We can declare a variable by writing the <strong class="source-inline">assign</strong> keyword followed by the name <a id="_idIndexMarker172"/>of the variable we are declaring, followed by the equal sign <a id="_idIndexMarker173"/>and the date we assign to that particular variant, and encapsulating it within the curly brace delimiters with percentage symbols:</p>
			<p class="source-code">{% assign stringVar = "This is a string!" %}</p>
			<p class="source-code">{% assign numberVar = 2021 %}</p>
			<p class="source-code">{% assign booleanVar = true %}</p>
			<p>Once we declare a variable, we can call it as many times as we need by encapsulating the variable's name within double curly brace delimiters:</p>
			<p class="source-code">{{ stringVar }}</p>
			<p class="source-code">{{ numberVar }}</p>
			<p class="source-code">{{ booleanVar }}</p>
			<p>Calling our three variables will generate the same type of data that we have initially assigned to each variable:</p>
			<p class="source-code">"This is a string!"</p>
			<p class="source-code">2021</p>
			<p class="source-code">true</p>
			<p>Note that calling a variable using the double curly brace delimiters will return the variable value <a id="_idIndexMarker174"/>when called on its own. If we wanted to use a variable within a <strong class="source-inline">for</strong> tag or an <strong class="source-inline">if</strong> statement, we would call the variable only using its name, without <a id="_idIndexMarker175"/>the double curly brace delimiters:</p>
			<p class="source-code">{% if <strong class="bold">stringVar</strong> == "This is a String!" %}</p>
			<p class="source-code">  The variable content is a string value!</p>
			<p class="source-code">{% elsif <strong class="bold">stringVar</strong> == 2021 %}</p>
			<p class="source-code">  The variable content is a number value!</p>
			<p class="source-code">{% else %}</p>
			<p class="source-code">  The variable content is a boolean value!</p>
			<p class="source-code">{% endif %}</p>
			<p>We have used our previously declared variable inside a multiple <strong class="source-inline">if</strong> statement to determine our variable's value. Since our variable value is equal to the compared value of the first statement, the first statement will return <strong class="source-inline">true</strong>.</p>
			<p>So far, we have learned how to assign a single type of data to a variable, <em class="italic">but what if we wanted to create a variable that will store a combination of a string and a variable?</em> To achieve this, we will need the help of another type of variable tag called <strong class="source-inline">capture</strong>.</p>
			<h2 id="_idParaDest-61"><a id="_idTextAnchor060"/>The capture tag</h2>
			<p>As opposed <a id="_idIndexMarker176"/>to the <strong class="source-inline">assign</strong> tag, which only allowed us to capture <a id="_idIndexMarker177"/>a single value, <strong class="source-inline">capture</strong> allows us to capture multiple values using its start and end closing tags. We can declare a <strong class="source-inline">capture</strong> variable with a set of curly brace delimiters with percentage symbols around the word <strong class="source-inline">capture</strong> followed by the name of the variable we are declaring:</p>
			<p class="source-code">{% assign percent = 15 %}</p>
			<p class="source-code">{% assign deal = "three or more" %}</p>
			<p class="source-code"><strong class="bold">{% capture promoMessage %}</strong></p>
			<p class="source-code">  If you order {{ deal }} books, you can receive up to a {{     percent }}% discount!</p>
			<p class="source-code"><strong class="bold">{% endcapture %}</strong></p>
			<p class="source-code">{{ promoMessage }}</p>
			<p>In the previous example, we initially defined two variables using the <strong class="source-inline">assign</strong> tag, one containing <a id="_idIndexMarker178"/>the number value and one containing the string. Once we have declared <a id="_idIndexMarker179"/>the two variables, we have again declared a new variable using the <strong class="source-inline">capture</strong> tag. We have included a string message containing both the previously defined variables, and finally, we have called the <strong class="source-inline">promoMessage</strong> variable by wrapping it inside double curly brace delimiters to see the result of our work:</p>
			<p class="source-code">"If you order three or more books, you can receive up to a 15% discount!"</p>
			<p>As we can see, using the <strong class="source-inline">capture</strong> tag, we successfully created a complex string message, which will come in handy as we progress further with our knowledge.</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">While the <strong class="source-inline">capture</strong> tag accepts all data types, as we had the chance to see in the previous example, the result of calling the capture variable will always return string data.</p>
			<p>Using the <strong class="source-inline">assign</strong> tag, we have learned how to create new variables where we can store a single type of data. Using the <strong class="source-inline">capture</strong> variables, we have learned how to create complex strings using different variables, <em class="italic">but how would we create a variable whose content is a number value that acts as a counter?</em></p>
			<h2 id="_idParaDest-62"><a id="_idTextAnchor061"/>The increment tag</h2>
			<p>As opposed to the <strong class="source-inline">assign</strong> and <strong class="source-inline">capture</strong> tags, the <strong class="source-inline">increment</strong> tag does not need to be declared <a id="_idIndexMarker180"/>first. Instead, we will automatically create the <a id="_idIndexMarker181"/>variable as soon as we call it the first time. The <strong class="source-inline">increment</strong> tag allows us to auto-create a variable and increment it every time we call the variable using the <strong class="source-inline">increment</strong> tag. We can call an <strong class="source-inline">increment</strong> variable with a set of curly brace delimiters with percentage symbols around the word <strong class="source-inline">increment</strong> followed by the name of the variable we are creating:</p>
			<p class="source-code">{% increment counter %}</p>
			<p>The starting value of this and any other variable created using the <strong class="source-inline">increment</strong> tag will always be zero.</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">Calling the <strong class="source-inline">increment</strong> variable will not only automatically generate and increment the value starting with zero, but it will also automatically output the content of the variable in the template we are working on.</p>
			<p>Considering that the <strong class="source-inline">increment</strong> tag automatically outputs the value as soon as the tag is called, it has a pretty limited usage. The most common use is to auto-generate the unique numbered identifiers for HTML elements:</p>
			<p class="source-code">&lt;div class="product-count"&gt;</p>
			<p class="source-code">  &lt;div id="product-item-<strong class="bold">{% increment counter %}</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">  &lt;div id="product-item-<strong class="bold">{% increment counter %}</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">  &lt;div id="product-item-<strong class="bold">{% increment counter %}</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;/div&gt;</p>
			<p>The result from our previous example will allow us to create a unique ID for each <strong class="source-inline">div</strong> element, starting with zero for the first occurrence of the <strong class="source-inline">increment</strong> tag and increasing its value by one for each next occurrence:</p>
			<p class="source-code">&lt;div class="product-count"&gt;</p>
			<p class="source-code">  &lt;div id="product-item-<strong class="bold">0</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">  &lt;div id="product-item-<strong class="bold">1</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">  &lt;div id="product-item-<strong class="bold">2</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;/div&gt;</p>
			<p>One more critical aspect of the <strong class="source-inline">increment</strong> tag is that it works independently from variables created using <strong class="source-inline">assign</strong> or <strong class="source-inline">capture</strong> tags. Let's try to create a variable using the <strong class="source-inline">assign</strong> tag and see what happens when we try to increment it:</p>
			<p class="source-code">{% assign numberVar = 7 %}</p>
			<p class="source-code">{% increment numberVar %}</p>
			<p class="source-code">{% increment numberVar %}</p>
			<p class="source-code">{{ numberVar }}</p>
			<p>Initially, we <a id="_idIndexMarker182"/>created the variable and have assigned it a value of <strong class="source-inline">7</strong>, after which <a id="_idIndexMarker183"/>we used the <strong class="source-inline">increment</strong> tag to call the variable with the same name twice. Finally, we called the variable that we initially created using the <strong class="source-inline">assign</strong> tag:</p>
			<p class="source-code">0</p>
			<p class="source-code">1</p>
			<p class="source-code">7</p>
			<p>As we can see from our results, even though we have already declared the <strong class="source-inline">numberVar</strong> variable using the <strong class="source-inline">assign</strong> tag and have assigned it a value of <strong class="source-inline">7</strong>, the <strong class="source-inline">increment</strong> tag has started incrementing the values starting with <strong class="source-inline">0</strong>. They might share the same name, but they are entirely different variables. The <strong class="source-inline">increment</strong> variable will not affect the initially created variable in any way and vice versa.</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">Note that a variable created using the <strong class="source-inline">increment</strong> tag cannot be called independently without the <strong class="source-inline">increment</strong> tag or used as a logic parameter, as opposed to the case with the <strong class="source-inline">assign</strong> and <strong class="source-inline">capture</strong> tags.</p>
			<p>We have now learned how to create an independent variable tag to create a unique element identifier <a id="_idIndexMarker184"/>for any number of elements. However, suppose, for some reason, that we needed a variable that outputs the negative <a id="_idIndexMarker185"/>values for a large number of elements. For this functionality, we will need to use a different type of variable tag, named <strong class="source-inline">decrement</strong>.</p>
			<h2 id="_idParaDest-63"><a id="_idTextAnchor062"/>The decrement tag</h2>
			<p>Besides <a id="_idIndexMarker186"/>using a <strong class="source-inline">decrement</strong> keyword to initialize the variable, the <strong class="source-inline">decrement</strong> tag differs <a id="_idIndexMarker187"/>from the <strong class="source-inline">increment</strong> tag in two key aspects: </p>
			<ul>
				<li>The first one is that <strong class="source-inline">decrement</strong> allows us to decrease the variable value by one for each occurrence. </li>
				<li>The second one is that the initial value starts with a negative value of minus one. </li>
			</ul>
			<p>In the following example, we can see an example of calling the <strong class="source-inline">decrement</strong> tag three times using the same variable:</p>
			<p class="source-code">{% decrement numberVar %}</p>
			<p class="source-code">{% decrement numberVar %}</p>
			<p class="source-code">{% decrement numberVar %}</p>
			<p>In this initial example, we have called the <strong class="source-inline">decrement</strong> tag three times. Since the <strong class="source-inline">decrement</strong> variable starts with a negative value, after calling it three times, we will receive the following values:</p>
			<p class="source-code">-1</p>
			<p class="source-code">-2</p>
			<p class="source-code">-3</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">Besides the two differences that we have made, <strong class="source-inline">decrement</strong> shares all the rules and limitations of the <strong class="source-inline">increment</strong> tag, meaning that the <strong class="source-inline">decrement</strong> tag works independently of the variables created using the <strong class="source-inline">assign</strong> and <strong class="source-inline">capture</strong> methods. We cannot call it independently without initializing the <strong class="source-inline">decrement</strong> tag.</p>
			<p>Variables <a id="_idIndexMarker188"/>are a potent tool that, combined with the iteration tags, will <a id="_idIndexMarker189"/>bring us one step closer to writing more concise and reusable code.</p>
			<h1 id="_idParaDest-64"><a id="_idTextAnchor063"/>Iterations tags</h1>
			<p><strong class="bold">Iterations tags</strong> are different Liquid programming logic types that allow us to run blocks of code repeatedly. Using iteration tags will save us the time that it would otherwise <a id="_idIndexMarker190"/>take us to execute code for each occurrence manually; plus, it will make our code much more concise and readable. To keep the topic concise, we will only mention some of the most used iteration tags and their parameters, which is more important than listing them all as they are all created using similar concepts. We can divide the iteration tags into four separate groups:</p>
			<ul>
				<li><strong class="source-inline">for/else</strong></li>
				<li><strong class="source-inline">jump</strong> statements</li>
				<li><strong class="source-inline">for</strong> parameters</li>
				<li><strong class="source-inline">cycle</strong></li>
			</ul>
			<h2 id="_idParaDest-65"><a id="_idTextAnchor064"/>The for/else tags</h2>
			<p>In the <a id="_idIndexMarker191"/>previous chapter, we had the chance to use the <strong class="source-inline">for</strong> loop in <a id="_idIndexMarker192"/>one of our examples when we explained the arrays inside the <em class="italic">Understand the types of data</em> topic. However, we have not had the chance to explain all <a id="_idIndexMarker193"/>the possibilities that the <strong class="source-inline">for</strong> loop gives us. The <strong class="source-inline">for</strong> loop is a type of Liquid programming logic that allows us to loop over any code block or array and output the result of that loop for further use.</p>
			<p>Previously, we have worked on the <strong class="source-inline">page.liquid</strong> template, but now, we will move on to the <strong class="source-inline">collection.liquid</strong> template.</p>
			<p>Let's start by writing a <strong class="source-inline">for</strong> loop tag that will list all of our product names and place them under the <strong class="source-inline">{% section 'collection-template' %}</strong> line:</p>
			<p class="source-code">{% for product in collection.products %}</p>
			<p class="source-code">  {{ product.title }}</p>
			<p class="source-code">{% endfor %}</p>
			<p>In the <a id="_idIndexMarker194"/>previous example, we used a <strong class="source-inline">for</strong> tag followed by the <strong class="source-inline">product</strong> variable <a id="_idIndexMarker195"/>to loop over the <strong class="source-inline">collection.products</strong> object and <a id="_idIndexMarker196"/>return the names of the products currently assigned to our collection, which we can see on our <strong class="bold">Indoor</strong> collection page:</p>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="Images/Figure_3.09_B17606.jpg" alt="Figure 3.9 – Example of using a for loop to list the names of the products&#13;&#10;" width="817" height="569"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.9 – Example of using a for loop to list the names of the products</p>
			<p>While our <strong class="source-inline">for</strong> loop did make it work, and we can see our product names listed, this is not of much use since we already have those same products listed. Let's use what we learned in the previous chapter when we talked about different ways of accessing the page handles' objects in the <em class="italic">EmptyDrop</em> subsection, which we can find under the <em class="italic">Understand the types of data</em> section.</p>
			<p>With our <a id="_idIndexMarker197"/>current code in place, we are reading the products <a id="_idIndexMarker198"/>of the collection we are currently visiting. Instead, let's try and access the <a id="_idIndexMarker199"/>products located in our second collection named <strong class="source-inline">outdoor</strong>:</p>
			<p class="source-code">{% for product in <strong class="bold">collections["outdoor"].products</strong> %}</p>
			<p class="source-code">  {{ product.title }}</p>
			<p class="source-code">{% endfor %}</p>
			<p>Even though we are currently previewing the <strong class="source-inline">Indoor</strong> collection, we have now gained a list of products that belong to the <strong class="source-inline">Outdoor</strong> collection. </p>
			<h2 id="_idParaDest-66"><a id="_idTextAnchor065"/>jump statements</h2>
			<p>As their <a id="_idIndexMarker200"/>name suggests, <strong class="source-inline">jump</strong> statements allow us to set <a id="_idIndexMarker201"/>the conditions that exclude certain items from our loop or stop our loop when we meet a specific condition. We can split <strong class="source-inline">jump</strong> statements into the two following groups:</p>
			<ul>
				<li><strong class="source-inline">continue</strong>: The <strong class="source-inline">{% continue %}</strong> statement allows us to skip the current iteration <a id="_idIndexMarker202"/>based on the condition that we <a id="_idIndexMarker203"/>have set. We can use it to exclude certain products from our <strong class="source-inline">for</strong> loop by pairing it with an <strong class="source-inline">if</strong> statement only to accept a product whose price is lower than $100.00. Otherwise, we should exclude the product from the loop:<p class="source-code">{% for product in collections["outdoor"].products %}</p><p class="source-code">  <strong class="bold">{% if product.price &gt; 10000 %}</strong></p><p class="source-code"><strong class="bold">    {% continue %}</strong></p><p class="source-code"><strong class="bold">  {% else %}</strong></p><p class="source-code">    {{ product.title }}</p><p class="source-code">  <strong class="bold">{% endif %}</strong></p><p class="source-code">{% endfor %}</p><p>With the <strong class="source-inline">if</strong> statement in place, any product iteration whose price is higher than $100.00 will trigger our <strong class="source-inline">{% continue %}</strong> <strong class="source-inline">jump</strong> statement, consequently excluding that product from our iteration. Otherwise, any product that fails that statement will render the product name on our page.</p></li>
				<li><strong class="source-inline">break</strong>: The <strong class="source-inline">{% break %}</strong> statement, on <a id="_idIndexMarker204"/>the other hand, allows <a id="_idIndexMarker205"/>us to stop the loop when we met a specific condition: <p class="source-code">{% for product in collections["outdoor"].products %}</p><p class="source-code">  {% if product.price &gt; 10000 %}</p><p class="source-code">    <strong class="bold">{% break %}</strong></p><p class="source-code">  {% else %}</p><p class="source-code">    {{ product.title }}</p><p class="source-code">  {% endif %}</p><p class="source-code">{% endfor %}</p><p>When we used the <strong class="source-inline">{% continue %}</strong> statement, the result we have received from our loop was that we had excluded any product whose price was lower than $100.00 from the loop result. However, in our latest example, instead of excluding the products that match our condition, <strong class="source-inline">{% break %}</strong> will cause the loop to stop and not perform any other iteration the moment it finds the first occurrence that matches our condition.</p></li>
			</ul>
			<p>For example, with <strong class="source-inline">{% continue %}</strong>, our loop returned six products that match our condition. However, when we replace <strong class="source-inline">{% continue %}</strong> with <strong class="source-inline">{% break %}</strong>, our loop returned zero results. Since the first product inside the <strong class="source-inline">Outdoor</strong> collection, whose handle we are using, has a price of $200.00, we have met our condition on the first iteration, which caused <strong class="source-inline">{% break %}</strong> to stop the iteration, preventing all other iterations.</p>
			<h2 id="_idParaDest-67"><a id="_idTextAnchor066"/>The for parameters</h2>
			<p>In addition to <strong class="source-inline">jump</strong> statements, we also have various parameters that we can use further to <a id="_idIndexMarker206"/>define the loop's limits and workflow. We can split <a id="_idIndexMarker207"/>the parameters that we can use in conjunction with the <strong class="source-inline">for</strong> loop into the four following groups:</p>
			<ul>
				<li><strong class="source-inline">limit</strong></li>
				<li><strong class="source-inline">offset</strong></li>
				<li><strong class="source-inline">range</strong></li>
				<li><strong class="source-inline">reversed</strong></li>
			</ul>
			<h3>limit</h3>
			<p>As its name suggests, the <strong class="source-inline">limit</strong> parameter limits how many iterations our loop should perform. We can add <strong class="source-inline">limit</strong> parameters at the end of the opening <strong class="source-inline">for</strong> loop tag, followed by a colon, followed by a number value.</p>
			<p>We usually <a id="_idIndexMarker208"/>use <strong class="source-inline">limit</strong> parameters when we require a particular number of iterations without implementing any condition. This is because the <strong class="source-inline">limit</strong> parameter <a id="_idIndexMarker209"/>only measures the number of iterations, not whether the number of iterations matches the statement we have in place. </p>
			<p>Let's start by adjusting our previous example by replacing <strong class="source-inline">{% break %}</strong> with <strong class="source-inline">{% continue %}</strong> and adding the <strong class="source-inline">limit</strong> parameter with the value of <strong class="source-inline">4</strong>, which is the maximum number of products that we are looking to get as a result:</p>
			<p class="source-code">{% for product in collections["outdoor"].products <strong class="bold">limit: 4</strong> %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    {{ product.title }}</p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>In our previous example, before adding the <strong class="source-inline">limit</strong> parameter, our <strong class="source-inline">for</strong> loop returned six product iterations whose price was lower than $100.00. With the addition of the <strong class="source-inline">limit</strong> parameter, the number of iterations returned was <strong class="source-inline">3</strong>, even though we set our limit to <strong class="source-inline">4</strong>. <em class="italic">Why?</em></p>
			<p>Similar to the <strong class="source-inline">{% break %}</strong> statement we mentioned earlier, the <strong class="source-inline">limit</strong> parameter's aim is to limit the number of iterations to the assigned value. Let's open our <strong class="source-inline">Outdoor</strong> collection, whose handle we are using to loop over. We will notice that the first product in that <a id="_idIndexMarker210"/>collection has a price of $200.00, which triggered the <strong class="source-inline">if</strong> statement, subsequently triggering the <strong class="source-inline">{% continue %}</strong> statement, which excluded the first product. </p>
			<p>As a result, our <strong class="source-inline">for</strong> loop did not print out that product name. However, the <strong class="source-inline">limit</strong> parameter <a id="_idIndexMarker211"/>still counts this as one iteration, meaning that it will perform three more iterations. Since the following three products' prices were lower than $100.00, the three products' names were returned by our <strong class="source-inline">for</strong> loop before stopping. For this reason, the <strong class="source-inline">limit</strong> parameter is usually only used in a loop without any statements. Otherwise, we risk not meeting the number of iterations we intended, or any at all, since the result can also be zero iterations if none matches the statement that we have set.</p>
			<h3>The offset parameter</h3>
			<p>The <strong class="source-inline">offset</strong> parameter allows us to delay the start of the <strong class="source-inline">for</strong> loop by starting the loop from the <a id="_idIndexMarker212"/>specific index. We can add an <strong class="source-inline">offset</strong> parameter at the end of <a id="_idIndexMarker213"/>the opening <strong class="source-inline">for</strong> loop tag, followed by a colon, followed by a number value.</p>
			<p>Let's take our previous example and try replacing <strong class="source-inline">limit</strong> with the <strong class="source-inline">offset</strong> parameter and setting its value to <strong class="source-inline">4</strong>:</p>
			<p class="source-code">{% for product in collections["outdoor"].products <strong class="bold">offset: 4</strong> %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    {{ product.title }}</p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>Our <strong class="source-inline">for</strong> loop has automatically skipped the first four product iterations and has started iterating the products at index number <strong class="source-inline">5</strong>, resulting in our <strong class="source-inline">for</strong> loop returning three product iterations. <em class="italic">However, what if we also include the</em> <strong class="source-inline">limit</strong> <em class="italic">parameter after the</em> <strong class="source-inline">offset</strong> <em class="italic">parameter and set its value to </em><strong class="source-inline">1</strong><em class="italic">?</em></p>
			<p class="source-code">{% for product in collections["outdoor"].products offset: 4   <strong class="bold">limit: 1</strong> %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    {{ product.title }}</p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>While at first, it might look like the previous example will not work, this is a fully functional <a id="_idIndexMarker214"/>loop with valid parameters. As we have previously mentioned, the <strong class="source-inline">limit</strong> parameter allows us to limit a <strong class="source-inline">for</strong> loop to a specific <a id="_idIndexMarker215"/>number of iterations. With two parameters added, our <strong class="source-inline">for</strong> loop will start its iteration at index <strong class="source-inline">5</strong>. It will cover one iteration as per the value set with the <strong class="source-inline">limit</strong> parameter, and then it will stop the <strong class="source-inline">for</strong> loop, regardless of whether the one iteration managed to get past our <strong class="source-inline">if</strong> statement.</p>
			<h3>The range parameter</h3>
			<p>The <strong class="source-inline">range</strong> parameter offers us similar functionality to the <strong class="source-inline">offset</strong> parameter. The critical difference <a id="_idIndexMarker216"/>is that with <strong class="source-inline">range</strong>, we can assign both starting and <a id="_idIndexMarker217"/>ending index positions. We can add a <strong class="source-inline">range</strong> parameter at the end of the opening <strong class="source-inline">for</strong> loop tag by writing opening brace delimiters followed by the starting value, followed by two dots, and finally followed by end value and closing brace delimiters:</p>
			<p class="source-code">{% for item in <strong class="bold">(3..5)</strong> %}</p>
			<p class="source-code">  {{ item }}</p>
			<p class="source-code">{% endfor %}</p>
			<p>As we recall, the <strong class="source-inline">offset</strong> parameter does not include the starting position index within the loop. Instead, it starts its loop from the next position, where the range is inclusive for both starting and ending position values. The result of our <strong class="source-inline">for</strong> loop example with the <strong class="source-inline">range</strong> parameter set to <strong class="source-inline">(3..5)</strong> would result in the following:</p>
			<p class="source-code">3 4 5</p>
			<p>Besides accepting <a id="_idIndexMarker218"/>the number as its value, as we were able to see in our <a id="_idIndexMarker219"/>previous example, <strong class="source-inline">range</strong> also allows us to place variables and objects as both its starting and ending values:</p>
			<p class="source-code"><strong class="bold">{% assign start = 3 %}</strong></p>
			<p class="source-code">{% for item in (<strong class="bold">start</strong>..<strong class="bold">collections["outdoor"].all_products_</strong>  <strong class="bold">count</strong>) %}</p>
			<p class="source-code">  {{ item }}</p>
			<p class="source-code">{% endfor %}</p>
			<p>The result of our <strong class="source-inline">for</strong> loop example would return all iterations starting at index <strong class="source-inline">3</strong>, all the way to the number of products our collection has. With the ability to assign variables and objects as our starting or ending points, we can now create reusable <strong class="source-inline">for</strong> loops resulting in more concise and better-quality code.</p>
			<h3>The reversed parameter</h3>
			<p>The final <a id="_idIndexMarker220"/>parameter on our list is <strong class="source-inline">reversed</strong>, which, as its <a id="_idIndexMarker221"/>name suggests, allows us to reverse the order of iteration. The <strong class="source-inline">reversed</strong> parameter does not have any value representation, and we can include it at the end of the opening <strong class="source-inline">for</strong> loop tag:</p>
			<p class="source-code">{% for item in (3..5) <strong class="bold">reversed</strong> %}</p>
			<p class="source-code">  {{ item }}</p>
			<p class="source-code">{% endfor %}</p>
			<p>In the previous example, we have added the <strong class="source-inline">reversed</strong> parameter as a secondary parameter next to our <strong class="source-inline">range</strong> parameter, resulting in our tag performing iteration in reverse order:</p>
			<p class="source-code">5 4 3 </p>
			<p>As we have <a id="_idIndexMarker222"/>had the chance to see for ourselves, parameters are a <a id="_idIndexMarker223"/>powerful addition to the <strong class="source-inline">for</strong> tag, which we can use to achieve the necessary type of iteration and get only the results we require.</p>
			<h2 id="_idParaDest-68"><a id="_idTextAnchor067"/>The cycle tag</h2>
			<p><strong class="source-inline">cycle</strong> is another powerful tag that we can only use in combination with the <strong class="source-inline">for</strong> tag to loop over a <a id="_idIndexMarker224"/>group of strings and output them to each iteration in the <a id="_idIndexMarker225"/>specific order in which they were initially defined. We can define the <strong class="source-inline">cycle</strong> tag by opening curly brace delimiters with a percentage symbol, followed by the word <strong class="source-inline">cycle</strong>, followed by any number of strings separated by commas. Finally, we close the <strong class="source-inline">cycle</strong> tag with closing brace delimiters and a percentage symbol:</p>
			<p class="source-code">{% for product in collection.products limit: 4 %}</p>
			<p class="source-code">  &lt;div class="product-item <strong class="bold">{% cycle "first", "", "", "last" </strong>    <strong class="bold">%}</strong>"&gt;&lt;/div&gt;</p>
			<p class="source-code">{% endfor %}</p>
			<p>In the previous example, we have included a <strong class="source-inline">cycle</strong> tag with four different strings inside a <strong class="source-inline">for</strong> loop, which we have limited to four iterations. By implementing the <strong class="source-inline">cycle</strong> tag, we have ensured that our first <strong class="source-inline">div</strong> element will receive a class first, the fourth element will receive a <strong class="source-inline">last</strong> class, while the two elements in between will receive no classes as the two strings for those positions are empty:</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p>From our result, we can see that the <strong class="source-inline">cycle</strong> tag is quite a valuable tool that we can use to pass data to a specific iteration within a loop in an order that we have defined. <em class="italic">However, what would happen if we removed the limit from our loop or increased it to have nine iterations instead?</em></p>
			<p class="source-code">{% for product in collection.products limit: 9 %}</p>
			<p class="source-code">  &lt;div class="product-item {% cycle "first", "", "", "last"     %}"&gt;&lt;/div&gt;</p>
			<p class="source-code">{% endfor %}</p>
			<p>In our previous example, we had the exact same number of iterations as the number of strings inside the <strong class="source-inline">cycle</strong> tag. In our newest example, the number of iterations is higher than the <a id="_idIndexMarker226"/>number of strings, which means that the cycle will reset and start applying <a id="_idIndexMarker227"/>strings again, in order, for as many iterations as needed:</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p>So far, we have learned the basic use of the <strong class="source-inline">cycle</strong> tag and that the tag will continue to output strings for as many iterations as possible, which is quite helpful if we have a single <strong class="source-inline">cycle</strong> tag, <em class="italic">but what if we have two or more?</em></p>
			<p class="source-code">{% for product in collection.products limit: 6 %}</p>
			<p class="source-code">  &lt;div class="product-item {% cycle "first", "", "", "last"    %}"&gt;&lt;/div&gt;</p>
			<p class="source-code">{% endfor %}</p>
			<p class="source-code">{% for product in collection.products limit: 4 %}</p>
			<p class="source-code">  &lt;div class="product-item {% cycle "first", "", "", "last"     %}"&gt;&lt;/div&gt;</p>
			<p class="source-code">{% endfor %}</p>
			<p>In the previous example, we have created two separate <strong class="source-inline">for</strong> loops, the first one limited to six iterations <a id="_idIndexMarker228"/>and the second limited to four. As we have just <a id="_idIndexMarker229"/>learned, no matter how many strings we have defined inside the <strong class="source-inline">cycle</strong> tag, the tag will continue to output strings for as many iterations as needed:</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p>As we can see from the results, the first <strong class="source-inline">for</strong> loop has created six iterations in the exact order that we intended. However, the second <strong class="source-inline">for</strong> loop did not produce the same results. Instead, it continued to output the strings starting from the exact position where the previous <strong class="source-inline">cycle</strong> tag stopped.</p>
			<p>This type of <a id="_idIndexMarker230"/>behavior is logical considering that Liquid currently cannot differentiate between different types of <strong class="source-inline">cycle</strong> tags. However, we can easily resolve this by introducing a parameter called the <strong class="bold">cycle group</strong>.</p>
			<p>The cycle group parameter allows us to separate <strong class="source-inline">cycle</strong> tags by ensuring that each cycle will output strings starting with position one, regardless of whether or not we have already used a <strong class="source-inline">cycle</strong> tag on the same page. After the <strong class="source-inline">cycle</strong> keyword, we can include the cycle group parameter by adding the string name encapsulated by parentheses, followed by a colon:</p>
			<p class="source-code">{% for product in collection.products limit: 6 %}</p>
			<p class="source-code">  &lt;div class="product-item {% cycle <strong class="bold">"group1":</strong> "first", "",     "", "last" %}"&gt;&lt;/div&gt;</p>
			<p class="source-code">{% endfor %}</p>
			<p class="source-code">{% for product in collection.products limit: 4 %}</p>
			<p class="source-code">  &lt;div class="product-item {% cycle <strong class="bold">"group2":</strong> "first", "",     "", "last" %}"&gt;&lt;/div&gt;</p>
			<p class="source-code">{% endfor %}</p>
			<p>The introduction <a id="_idIndexMarker231"/>of the cycle group parameter ensures that <a id="_idIndexMarker232"/>each <strong class="source-inline">cycle</strong> tag functions independently:</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item first"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item"&gt;&lt;/div&gt;</p>
			<p class="source-code">&lt;div class="product-item last"&gt;&lt;/div&gt;</p>
			<p>We can see from our results that all iterations have received the string initially intended for them even though we have more than one <strong class="source-inline">cycle</strong> tag.</p>
			<p>Besides the <strong class="source-inline">for</strong> and <strong class="source-inline">cycle</strong> tags, we have one more type of iteration tag called <strong class="source-inline">tablerow</strong>, which works similarly to the <strong class="source-inline">for</strong> tag. The only difference between the two tags is that <strong class="source-inline">tablerow</strong> returns results formatted as an HTML table. To keep the book concise, we will <a id="_idIndexMarker233"/>not be covering the <strong class="source-inline">tablerow</strong> tag or its parameters <a id="_idIndexMarker234"/>in this book. However, if you would like to read more about it, refer to <a href="https://shopify.dev/docs/themes/liquid/reference/tags/iteration-tags">https://shopify.dev/docs/themes/liquid/reference/tags/iteration-tags</a>.</p>
			<h1 id="_idParaDest-69"><a id="_idTextAnchor068"/>Theme tags</h1>
			<p><strong class="bold">Theme tags</strong> are a <a id="_idIndexMarker235"/>special type of tag that give us specific control over both <em class="italic">un-rendered and rendered code</em>. Using the various types of theme tags that we have at our disposal, we can create a different type of HTML markup for specific templates that is essential for creating a form that will allow customers to purchase products from our store. Additionally, they allow us to select different theme layouts to use for different pages, define sections or snippet files that we can use to create reusable blocks of code, and many other things. We can divide theme tags into the following groups:</p>
			<ul>
				<li><strong class="source-inline">layout</strong></li>
				<li><strong class="source-inline">liquid</strong> and <strong class="source-inline">echo</strong></li>
				<li><strong class="source-inline">form</strong></li>
				<li><strong class="source-inline">paginate</strong></li>
				<li><strong class="source-inline">render</strong></li>
				<li><strong class="source-inline">raw</strong></li>
				<li><strong class="source-inline">comment</strong></li>
			</ul>
			<h2 id="_idParaDest-70"><a id="_idTextAnchor069"/>The layout tag</h2>
			<p>As we recall <a id="_idIndexMarker236"/>from the first chapter, when discussing the <strong class="source-inline">Layout</strong> directory, we mentioned <a id="_idIndexMarker237"/>the importance of the <strong class="source-inline">theme.liquid</strong> file as it is in this file that we will render all of our files and templates. It is in this file that we arrange the general layout of our pages.</p>
			<p>Our pages <a id="_idIndexMarker238"/>currently consist of three key elements: <strong class="bold">header</strong>, <strong class="bold">main content</strong>, and <strong class="bold">footer</strong>. Let's say we wanted to remove the header and footer sections <a id="_idIndexMarker239"/>from our product pages, or at the very least to replace them <a id="_idIndexMarker240"/>with a different set of headers and footers. <em class="italic">How would we do this?</em></p>
			<ol>
				<li value="1">The first step to achieve this would be to create an alternate layout file that our theme product pages will use instead. We can do this by expanding the <strong class="bold">Layout</strong> directory in our code editor and clicking on the <strong class="bold">Add a new layout</strong> button, which will trigger a popup to select the type of layout page we are looking to create and select the name for our new page.</li>
				<li>Within the <a id="_idIndexMarker241"/>drop-down menu, we will select the <strong class="bold">theme</strong> option as the <a id="_idIndexMarker242"/>layout type, and within the following field, we will enter the word <strong class="source-inline">alternate</strong> as our filename. Once we have finished selecting our layout file type and name, click on the <strong class="bold">Create layout</strong> button to finalize the process:</li>
			</ol>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="Images/Figure_3.10_B17606.jpg" alt="Figure 3.10 – Example of creating a new layout file&#13;&#10;" width="642" height="235"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.10 – Example of creating a new layout file</p>
			<p>With this, we have successfully created a new layout file named <strong class="source-inline">theme.alternate.liquid</strong>. Suppose we tried to compare this file with our original <strong class="source-inline">theme.liquid</strong>; we would see that they are exactly the same. The reason for this is that when we create a new page, layout, or template, Shopify will not create a new page entirely, but it will copy a default page that our theme is already using. For example, if we were to expand the <strong class="bold">Templates</strong> directory and create a new page template, the new page template would contain all of the changes we had previously made to the <strong class="source-inline">page.liquid</strong> file.</p>
			<p>Now that we have created a new layout file, we will assign it to our product pages. We can do this by expanding the <strong class="bold">Templates</strong> directory and clicking on the <strong class="source-inline">product.liquid</strong> file where we can define the layout for this particular template, which we should include on the very first line of the file. We can define the <strong class="source-inline">layout</strong> tag with a set of curly brace delimiters with percentage symbols around the word <strong class="source-inline">layout</strong>, followed by the name of the layout file, which we should encapsulate within parentheses:</p>
			<p class="source-code">{% layout "theme.alternate" %}</p>
			<p>If we were <a id="_idIndexMarker243"/>to navigate to the <strong class="bold">theme.alternate</strong> template now and delete <strong class="source-inline">{% section 'header' %}</strong> and <strong class="source-inline">{% section 'footer' %}</strong>, the header and <a id="_idIndexMarker244"/>footer sections would no longer be visible on our product page. However, they would still be visible on pages that use the original <strong class="source-inline">theme.liquid</strong> layout.</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">Besides the name of the layout file, the <strong class="source-inline">layout</strong> tag also accepts the <strong class="source-inline">none</strong> keyword, without parentheses, as its value, in which case the page will use no layout file. In this case, the particular page using this particular template will have no access to any code or file, including <strong class="source-inline">.css</strong>, <strong class="source-inline">.js</strong>, or others that we initially loaded through the <strong class="source-inline">theme.liquid</strong> file.</p>
			<p>Any template file that does not contain the <strong class="source-inline">layout</strong> tag will, by default, use the original <strong class="source-inline">theme.liquid</strong> layout as a failsafe.</p>
			<h2 id="_idParaDest-71"><a id="_idTextAnchor070"/>The liquid and echo tags</h2>
			<p>The <strong class="source-inline">liquid</strong> tag is <a id="_idIndexMarker245"/>one of the newest additions to Liquid, and it is <a id="_idIndexMarker246"/>quite a powerful one as it allows us to write multiple tags <a id="_idIndexMarker247"/>within one <a id="_idIndexMarker248"/>set of delimiters, making our code a lot easier to read and maintain. We can define the liquid tag with a curly brace delimiter and a percentage symbol on the left side of the word liquid followed by as many lines of <strong class="source-inline">Liquid</strong> code as we need. Note that we only need to define an opening <strong class="source-inline">liquid</strong> tag, where the <strong class="source-inline">liquid</strong> closing tag is automatically closed.</p>
			<p>The <strong class="source-inline">echo</strong> tag is an addition to the <strong class="source-inline">liquid</strong> tag that allows us to output an expression that initially we had to wrap inside double curly brace delimiters. We can define the <strong class="source-inline">echo</strong> tag by simply writing an <strong class="source-inline">echo</strong> keyword, followed by any expression that we are using.</p>
			<p>Let's try and use our <strong class="source-inline">liquid</strong> and <strong class="source-inline">echo</strong> tags to refactor the code that we had previously <a id="_idIndexMarker249"/>added to our collection template when we learned <a id="_idIndexMarker250"/>about the different types of iterations. </p>
			<p>Here, we can <a id="_idIndexMarker251"/>see the code <a id="_idIndexMarker252"/>that we initially created on our collection page:</p>
			<p class="source-code">{% for product in collections["outdoor"].products offset: 4 %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    {{ product.title }}</p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>We can see the same code in the following example after refactoring using the <strong class="source-inline">liquid</strong> and <strong class="source-inline">echo</strong> tags:</p>
			<p class="source-code"><strong class="bold">{% liquid</strong></p>
			<p class="source-code">for product in collections["outdoor"].products offset: 4</p>
			<p class="source-code">  if product.price &gt; 10000</p>
			<p class="source-code">    continue</p>
			<p class="source-code">  else</p>
			<p class="source-code">    <strong class="bold">echo</strong> product.title</p>
			<p class="source-code">  endif</p>
			<p class="source-code">endfor %}</p>
			<p>After refactoring our code, we can see that we have removed all curly brace delimiters with percentages <a id="_idIndexMarker253"/>and replaced all double curly brace delimiters <a id="_idIndexMarker254"/>with the <strong class="source-inline">echo</strong> tag. The only curly brace delimiters with percentage symbols <a id="_idIndexMarker255"/>left are the ones that belong to the <strong class="source-inline">liquid</strong> tag, encapsulating <a id="_idIndexMarker256"/>the entire code.</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">While <strong class="source-inline">liquid</strong> and <strong class="source-inline">echo</strong> tags are pretty powerful, we should not use them regularly, as while they help us write multiple tags within one set of delimiters, they are not so kind when it comes to working with strings. The <strong class="source-inline">echo</strong> tag forces us to wrap every string within the parentheses, making it almost impossible to use non-string data values inside the string.</p>
			<h2 id="_idParaDest-72"><a id="_idTextAnchor071"/>The form tag</h2>
			<p>The <strong class="source-inline">form</strong> tag allows us to automatically output various types of HTML <strong class="source-inline">&lt;form&gt;</strong> along with the required <strong class="source-inline">&lt;input&gt;</strong> elements, depending on the type of the <strong class="source-inline">form</strong> tag we have called. We can <a id="_idIndexMarker257"/>define the <strong class="source-inline">form</strong> tag within a pair of curly brace delimiters, followed by the <strong class="source-inline">form</strong> keyword, followed by the form's name encapsulated <a id="_idIndexMarker258"/>by parentheses, and lastly, followed by the closing <strong class="source-inline">endfor</strong> tag surrounded by curly brace delimiters with percentage symbols:</p>
			<p class="source-code">{% form "product", product %}</p>
			<p class="source-code">{% endform %}</p>
			<p>In the previous example, we have selected to generate the product form tag by using the <strong class="source-inline">product</strong> keyword within the parentheses. However, notice that following the comma, we also have another <strong class="source-inline">product</strong> keyword without parentheses. Certain forms, such as product forms that we are currently using, require us to pass them a parameter to generate the proper content. In this case, that parameter is the <strong class="source-inline">product</strong> object.</p>
			<p>The most common use for this is on a product page. However, we can also use the <strong class="source-inline">form</strong> tag within a collection page or anywhere else where we have access to the <strong class="source-inline">product</strong> object. Let's try to include a <strong class="source-inline">form</strong> tag within the loop that we previously created on our collection page.</p>
			<p>Since we will be dealing with a mix of strings and non-strings data, let's first undo the <strong class="source-inline">liquid</strong> and <strong class="source-inline">echo</strong> changes that we previously made. We can do this by clicking on the <strong class="bold">Older versions</strong> button, located between the file's name and the <strong class="bold">Delete file</strong> button:</p>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="Images/Figure_3.11_B17606.jpg" alt="Figure 3.11 – Example of reverting changes in the file&#13;&#10;" width="843" height="355"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.11 – Example of reverting changes in the file</p>
			<p>Clicking the <strong class="bold">Older versions</strong> button will reveal the drop-down menu where we can see the date and <a id="_idIndexMarker259"/>time of all the changes that we have made within this particular file. Each date <a id="_idIndexMarker260"/>represents the last time that we pressed the <strong class="bold">Save</strong> button to save our changes. Selecting any option will automatically revert our code to that particular point.</p>
			<p>After reverting our changes, we are ready to add the <strong class="source-inline">form</strong> tag to our <strong class="source-inline">for</strong> loop:</p>
			<p class="source-code">{% for product in collections["outdoor"].products offset: 4 %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    <strong class="bold">{% form "product", product %}</strong></p>
			<p class="source-code">      {{ product.title }}</p>
			<p class="source-code">    <strong class="bold">{% endform %}</strong></p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>By introducing the <strong class="source-inline">form</strong> tag within our <strong class="source-inline">for</strong> loop, we have generated an HTML form tag that we can see by inspecting the string elements that we see on our <strong class="source-inline">Indoor</strong> collection page. While the <strong class="source-inline">form</strong> tag is functional, we still lack one key ingredient to make our form usable, which we will be learning in the next chapter.</p>
			<p>We can see <a id="_idIndexMarker261"/>that our <strong class="source-inline">form</strong> tag already has quite a few attributes <a id="_idIndexMarker262"/>by inspecting our collection page. <em class="italic">However, what if we wanted to add some of our own or modify the existing ones?</em> We can do this by simply adding the attribute name, followed by a comma, followed by the attribute's value:</p>
			<p class="source-code">{% for product in collections["outdoor"].products offset: 4 %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    <strong class="bold">{% capture productId %}productId-{% increment counter </strong><strong class="bold">      %}{% endcapture %}</strong></p>
			<p class="source-code">    {% form "product", product, <strong class="bold">id: productId, data-      location: "collection"</strong> %}</p>
			<p class="source-code">      {{ product.title }}</p>
			<p class="source-code">    {% endform %}</p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>In the previous example, we have included a data attribute in our form using a string. However, we have also modified the existing ID value using the previously defined variable.</p>
			<p>Notice that while we can directly include the variable within the attribute value, we cannot mix the string and variable within the <strong class="source-inline">form</strong> tag itself. For this reason, we have previously captured the combined string and <strong class="source-inline">increment</strong> tag using the <strong class="source-inline">capture</strong> tag and called it the attribute value using the variable name.</p>
			<p>Besides the ability to pass an object as a <strong class="source-inline">form</strong> parameter, the <strong class="source-inline">form</strong> tag provides us with one special parameter named the <strong class="source-inline">return_to</strong> parameter. By default, when we submit the product form, we are usually redirected to the cart page. However, with the <strong class="source-inline">return_to</strong> parameter, we can select the page we should land on after we submit the form:</p>
			<p class="source-code">{% form "product", <strong class="bold">return_to: "back"</strong> %}</p>
			<p class="source-code">{% endform %}</p>
			<p>In our previous example, we have assigned the <strong class="source-inline">back</strong> value as a string for the <strong class="source-inline">return_to</strong> parameter, which <a id="_idIndexMarker263"/>will automatically return us to the same page we were <a id="_idIndexMarker264"/>on before submitting the form. Besides the <strong class="source-inline">back</strong> string, we can also use a relative path or a <strong class="source-inline">routes</strong> attribute to generate a dynamic URL to the page we should land on once we submit the form.</p>
			<p>There are many types of form tags that we can use. However, as they are all created using the same format, we will only cover one example. For more information on different types of <strong class="source-inline">form</strong> tags and their parameters, refer to <a href="https://shopify.dev/docs/themes/liquid/reference/tags/theme-tags#form">https://shopify.dev/docs/themes/liquid/reference/tags/theme-tags#form</a>.</p>
			<h2 id="_idParaDest-73"><a id="_idTextAnchor072"/>The paginate tag</h2>
			<p>Previously, we have learned all about iteration tags, which we can use to repeatedly execute a <a id="_idIndexMarker265"/>code block. However, iteration tags have a limitation that <a id="_idIndexMarker266"/>means they can only output a maximum of 50 results per page. For any higher number of iterations, we would need to use the <strong class="source-inline">paginate</strong> tag to split the results across multiple pages.</p>
			<p>The <strong class="source-inline">paginate</strong> tag must always wrap around a <strong class="source-inline">for</strong> tag that is looping over an array to be able to split the content into multiple pages. We can see an example of a <strong class="source-inline">paginate</strong> tag wrapping a <strong class="source-inline">for</strong> loop here:</p>
			<p class="source-code"><strong class="bold">{% paginate collection.products by 5 %} </strong></p>
			<p class="source-code">  {% for product in collection.products %}</p>
			<p class="source-code">  {% endfor %}</p>
			<p class="source-code"><strong class="bold">{% endpaginate %}</strong></p>
			<p>As we can see from our example, the <strong class="source-inline">paginate</strong> tag contains the <strong class="source-inline">paginate</strong> keyword, followed by the object that returns an array of products in the collection, followed by the <strong class="source-inline">by</strong> parameter <a id="_idIndexMarker267"/>and the number value. Depending on the number value that we <a id="_idIndexMarker268"/>include with the <strong class="source-inline">by</strong> parameter, which can go from one to fifty, the <strong class="source-inline">paginate</strong> tag will know the maximum number of items it should present per page. Inside the <strong class="source-inline">paginate</strong> tag, we can access attributes of the <strong class="source-inline">paginate</strong> object. To keep the book concise, we will not be going into detail regarding the <strong class="source-inline">paginate</strong> object. For detailed information, refer to <a href="https://shopify.dev/docs/themes/liquid/reference/objects/paginate">https://shopify.dev/docs/themes/liquid/reference/objects/paginate</a>.</p>
			<h2 id="_idParaDest-74"><a id="_idTextAnchor073"/>The render tag</h2>
			<p>The <strong class="source-inline">render</strong> tag allows us to render the content of a snippet file to a place of our choosing. As we <a id="_idIndexMarker269"/>recall from <a href="B17606_01_Final_PD_ePub.xhtml#_idTextAnchor015"><em class="italic">Chapter 1</em></a>, <em class="italic">Getting Started with Shopify</em>, snippet files allow us to re-use repetitive pieces of code over <strong class="bold">Templates</strong>/<strong class="bold">Sections</strong> by referencing their names: </p>
			<p class="source-code">{% render "snippet-name" %}</p>
			<p>As we can <a id="_idIndexMarker270"/>see from our example, we only need to use the <strong class="source-inline">render</strong> keyword, followed by the name of the snippet file, and we will render any content within our snippet file. By using the snippet file, we not only make our code more readable, but we also make it easier to maintain by re-using the same block of code.</p>
			<p class="callout-heading">Important note:</p>
			<p class="callout">After rendering the snippet, we do not automatically have access to the variables created within the parent element. Additionally, the parent element cannot access the variables defined within the snippet.</p>
			<p>Let's create a new snippet file named <strong class="source-inline">collection-form</strong>, where we will move the entire content of the <strong class="source-inline">else</strong> statement from the <strong class="source-inline">for</strong> loop we created within our collection page:</p>
			<p class="source-code">{% for product in collections["outdoor"].products offset: 4 %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    <strong class="bold">{% render "collection-form" %}</strong></p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>While the preceding code looks correct, we would end up with an error if we tried to execute it. <em class="italic">Why?</em> </p>
			<p>As we recall, a snippet file does not have access to the variables defined in the parent element. In this case, that variable is the product we have defined in the <strong class="source-inline">for</strong> loop, which we call <a id="_idIndexMarker271"/>inside the snippet as the <strong class="source-inline">form</strong> parameter. To resolve this, we will <a id="_idIndexMarker272"/>need to pass the variable to the snippet as a parameter:</p>
			<p class="source-code">{% for product in collections["outdoor"].products offset: 4 %}</p>
			<p class="source-code">  {% if product.price &gt; 10000 %}</p>
			<p class="source-code">    {% continue %}</p>
			<p class="source-code">  {% else %}</p>
			<p class="source-code">    {% render "collection-form"<strong class="bold">, product: product</strong> %}</p>
			<p class="source-code">  {% endif %}</p>
			<p class="source-code">{% endfor %}</p>
			<p>We have created a parameter named <strong class="source-inline">product</strong>, to which we have assigned the initially created variable. We could have given our parameter any name we liked, for example, <strong class="source-inline">collection_product</strong>. However, in that case, we would also have to update the <strong class="source-inline">product</strong> parameter inside the <strong class="source-inline">form</strong> tag from <strong class="source-inline">product</strong> to <strong class="source-inline">collection_product</strong> and <strong class="source-inline">product.title</strong> to <strong class="source-inline">collection_product.title</strong>, currently located within our snippet file, to match the new object keyword.</p>
			<p>Once we have assigned the variable to a snippet via the parameter, we can modify the variable value inside the snippet independently from the value in the parent template. Even if we overwrite the variable value within the snippet, the variable will keep its value in the parent template. Note that we can pass as many variables as we may need to our snippet using its parameters. <em class="italic">However, what if we wanted to pass an object to our snippet?</em></p>
			<p>As with variables, we can pass an object to a snippet file using the <strong class="source-inline">with</strong> and <strong class="source-inline">as</strong> parameters. However, we are limited to only one object that we can pass as a parameter:</p>
			<p class="source-code">{% render "snippet-file" with collections["collection-handle"] as featured_collection %}</p>
			<p>In our previous example, we have used <strong class="source-inline">render</strong> parameters to pass the <strong class="source-inline">collection</strong> object to the <a id="_idIndexMarker273"/>snippet file, where we can access it using the <strong class="source-inline">featured_collection</strong> keyword.</p>
			<p>The final parameter <a id="_idIndexMarker274"/>that we can use with the <strong class="source-inline">render</strong> tag is the <strong class="source-inline">for</strong> parameter. Using the <strong class="source-inline">for</strong> and <strong class="source-inline">as</strong> parameters, we can render a snippet for each occurrence. Let's try to refactor the code on our collection page by moving it inside the <strong class="source-inline">collection-form</strong> snippet and rendering the products using the <strong class="source-inline">for</strong> parameter. However, note that we will not be able to copy the parameters that we currently have on the original <strong class="source-inline">for</strong> tag, as <strong class="source-inline">render</strong> does not accept additional parameters. Additionally, we will need to remove the <strong class="source-inline">capture</strong> and <strong class="source-inline">productId</strong> parameter from the form tag, as the <strong class="source-inline">increment</strong> tag does not work with render for parameter.</p>
			<p>The first thing we need to do is to move the <strong class="source-inline">if</strong> and <strong class="source-inline">else</strong> statements inside the snippet file and place them accordingly:</p>
			<p class="source-code"><strong class="bold">{% if product.price &gt; 10000 %}</strong></p>
			<p class="source-code"><strong class="bold">  {% continue %}</strong></p>
			<p class="source-code"><strong class="bold">{% else %}</strong></p>
			<p class="source-code">  {% form "product", product, data-location: "collection" %}</p>
			<p class="source-code">    {{ product.title }}</p>
			<p class="source-code">  {% endform %}</p>
			<p class="source-code"><strong class="bold">{% endif %}</strong></p>
			<p>The only thing left to do is to add the additional parameters to the <strong class="source-inline">render</strong> tag. In the following example, we have included the <strong class="source-inline">for</strong> and <strong class="source-inline">as</strong> parameters with the <strong class="source-inline">render</strong> tag, which allowed us to iterate the <strong class="source-inline">collections["outdoor"].products</strong> array and render the snippet for each product iteration that our collection has. Additionally, we pass the <strong class="source-inline">iteration</strong> object as a parameter to our snippet, which we can use inside:</p>
			<p class="source-code">{% render "collection-form" for collections["outdoor"].products as product %}</p>
			<p>Since we are <a id="_idIndexMarker275"/>already using the <strong class="source-inline">product</strong> keyword inside our snippet file, we successfully <a id="_idIndexMarker276"/>pass the object to both the product form parameter and product title. If we run our code now, we will see that the results are exactly the same as they were, but our code looks a lot cleaner. </p>
			<h2 id="_idParaDest-75"><a id="_idTextAnchor074"/>The raw tag</h2>
			<p>The <strong class="source-inline">raw</strong> tag allows <a id="_idIndexMarker277"/>us to output unparsed Liquid code directly on <a id="_idIndexMarker278"/>the page. We can use the <strong class="source-inline">raw</strong> tag by wrapping the content we want unparsed with <strong class="source-inline">raw</strong> and <strong class="source-inline">endraw</strong> tags:</p>
			<p class="source-code"><strong class="bold">{% raw %}</strong></p>
			<p class="source-code">  The name of our collection is {{ collection.title }}.</p>
			<p class="source-code"><strong class="bold">{% endraw %}</strong></p>
			<p>In our previous example, we have created a message to update the collection name dynamically. However, since we have wrapped the entire message inside the <strong class="source-inline">raw</strong> tag, Liquid will not process it. Rather, it will return it to us in the exact same way:</p>
			<p class="source-code">The name of our collection is {{ collection.title }}.</p>
			<p>This type of functionality can be pretty helpful, especially when dealing with conflicting syntaxes, such as Handlebars.</p>
			<h2 id="_idParaDest-76"><a id="_idTextAnchor075"/>The comment tag</h2>
			<p>As its name <a id="_idIndexMarker279"/>suggests, the <strong class="source-inline">comment</strong> tag allows us to leave a comment within <a id="_idIndexMarker280"/>our Liquid template files. Any text located between the opening and closing comment tags will not render inside the Liquid template files at all:</p>
			<p class="source-code">We are currently learning about the comment tags. <strong class="bold">{% comment %}</strong> Comment tags are a smart way to comment on our code. <strong class="bold">{% endcomment %}</strong></p>
			<p>Since we <a id="_idIndexMarker281"/>have wrapped the second part of our message <a id="_idIndexMarker282"/>within the <strong class="source-inline">comment</strong> tag, Liquid will render only the first part:</p>
			<p class="source-code">We are currently learning about the comment tags.</p>
			<p>Comment tags are pretty helpful, as they allow us to leave the necessary information within our files without polluting the DOM with visible comments.</p>
			<h1 id="_idParaDest-77"><a id="_idTextAnchor076"/>Deprecated tags</h1>
			<p><strong class="bold">Deprecated tags</strong> are Liquid tags that are considering as outdated, and we should no longer use <a id="_idIndexMarker283"/>them in our developing process. However, we may still encounter them inside some of the older themes, so it is important to recognize them and know what they do.</p>
			<p>The only tag that Shopify has deprecated is the <strong class="source-inline">include</strong> tag, which works similarly to the <strong class="source-inline">render</strong> tag, which we have previously covered: </p>
			<p class="source-code">{% include "snippet-name" %}</p>
			<p>The only key difference between the two is that when rendering a snippet using the <strong class="source-inline">include</strong> tag, the code inside our snippet can automatically access and modify the variables within its parent template. This not only creates a lot of performance issues but also makes our code a lot harder to maintain, which is why Shopify replaced it with the <strong class="source-inline">render</strong> tag.</p>
			<h1 id="_idParaDest-78"><a id="_idTextAnchor077"/>Summary</h1>
			<p>In this third chapter, we have learned about the Liquid programming logic that allows us to select which code block should execute under specific conditions. We have gained an understanding of variable and iteration tags and how we can use them in combination with different programming logic to execute a block of code repeatedly and recover only specific results.</p>
			<p>Lastly, we have learned about the different types of theme tags and how we can use them to output a template-specific HTML markup. By learning how to use snippets to make our code more readable and maintainable, we have already taken a step forward in writing better-quality code. This will be especially important in the following chapter, where we will be diving further into Liquid core and learning more about Liquid objects and their attributes.</p>
			<h1 id="_idParaDest-79"><a id="_idTextAnchor078"/>Questions</h1>
			<ol>
				<li value="1">What parameters should we use inside a <strong class="source-inline">for</strong> loop if we want to show a maximum of seven iterations while also skipping the first three iterations?</li>
				<li>What types of data can we assign to a variable created using the <strong class="source-inline">capture</strong> tag?</li>
				<li>What are the two problems in the following block of code?<p class="source-code">Liquid for product in collections["outdoor"].products</p><p class="source-code">  if product.price &gt; 10000</p><p class="source-code">    continue</p><p class="source-code">  else</p><p class="source-code">    product.title</p><p class="source-code">  endif</p><p class="source-code">endfor</p></li>
				<li>What approach should we take to modify an HTML-generated product form by replacing the existing class attribute with a combination of a string and a variable?</li>
				<li>What parameter should we use if we want to pass an object from the parent element?</li>
			</ol>
		</div>
	</div></body></html>
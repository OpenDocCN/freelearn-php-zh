<html><head></head><body><div class="chapter" title="Chapter&#xA0;10.&#xA0;Drupal Project Management and Collaboration"><div class="titlepage"><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Drupal Project Management and Collaboration</h1></div></div></div><p><span class="emphasis"><em>In this chapter, we will learn the process for promoting Sandbox modules to full project status. In doing so, you will learn more about the Drupal developer community, developer collaboration, and how you can become more involved. We will also look into how to manage incremental development on a production site using newly introduced Configuration Management as well as Features. Finally, we will create a rotating banner module for Drupal 8.</em></span></p><p>The following topics will be covered in this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Release management in Drupal</li><li class="listitem" style="list-style-type: disc">More advanced module development</li><li class="listitem" style="list-style-type: disc">How to use the Features module</li></ul></div><div class="section" title="Rotating banners with the Views Slideshow module"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec122"/>Rotating banners with the Views Slideshow module</h1></div></div></div><p>We will examine an<a class="indexterm" id="id505"/> approach that is based on a Views plugin and predominantly consisting of Views configuration. Customization of the Views plugin output will be handled with custom CSS.</p><p>The Views Slideshow <a class="indexterm" id="id506"/>module is an excellent example of a Views style plugin, and it provides much more functionality than just rotating banners. Basically, the Views Slideshow module wraps the jQuery Cycle plugin as a Views style plugin, but it does so with a submodule, which is the <code class="literal">views_slideshow_cycle</code> module. The <code class="literal">views_slideshow</code> module is more than a Views style plugin. It's a plugin framework that integrates different jQuery slideshow plugins with Views and also provides a default implementation based on the jQuery cycle plugin.</p></div></div>
<div class="section" title="Time for action &#x2013; installing the Views Slideshow module"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec123"/>Time for action – installing the Views Slideshow module</h1></div></div></div><p>Before we build a<a class="indexterm" id="id507"/> rotating banner with Views, we need to install the Views Slideshow module:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the Terminal (Mac OS X) or Command Prompt (Windows) application, and change to the root directory of the d8dev site.</li><li class="listitem">Use Drush to download and enable the Views Slideshow module:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ drush dl views_slideshow</strong></span>
<span class="strong"><strong>Project views_slideshow (8.x-4.0) downloaded to /var/www/d8dev/sites/all/modules/views_slideshow.  [success]</strong></span>
<span class="strong"><strong>Project views_slideshow contains 2 modules: views_slideshow_cycle, views_slideshow.</strong></span>
<span class="strong"><strong>root@vb:/var/www/html/drupal8_3_new# drush en views_slideshow views_slideshow_cycle, </strong></span>
<span class="strong"><strong>jQuery Cycle appears to be already installed.               [ok] </strong></span>
<span class="strong"><strong>Directory libraries/json2 was created                  [success] </strong></span>
<span class="strong"><strong>The latest version of JSON2 has been downloaded to libraries/json2                                        [success] </strong></span>
<span class="strong"><strong>Directory libraries/jquery.hoverIntent was created       [success]</strong></span>
<span class="strong"><strong>The latest version of jQuery HoverIntent has been downloaded to libraries/jquery.hoverIntent                           [success]</strong></span>
<span class="strong"><strong>Directory libraries/jquery.pause was created              [success]</strong></span>
<span class="strong"><strong>The latest version of jQuery Pause has been downloaded to libraries/jquery.pause                                  [success]</strong></span>
<span class="strong"><strong>The following extensions will be enabled: views_slideshow, views_slideshow_cycle</strong></span>
<span class="strong"><strong>Do you really want to continue? (y/n): y</strong></span>
<span class="strong"><strong>views_slideshow was enabled successfully.                     [ok]</strong></span>
<span class="strong"><strong>views_slideshow_cycle was enabled successfully.                 [ok]</strong></span>
</pre></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec79"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>Views Slideshow consists of two modules: the base <code class="literal">views_slideshow</code> module and the <code class="literal">views_slideshow_cycle</code> module. We need to tell Drush to install the <code class="literal">views_slideshow_cycle</code> module and Drush will automatically install any dependencies belonging to the same parent module; in this case, the <code class="literal">views_slideshow</code> module will automatically be enabled by Drush. Also notice how Drush prompted us to download other unmet dependencies for <code class="literal">views_slideshow_cycle</code>; in this case, the external js libraries <code class="literal">jquery.cycle</code>, <code class="literal">jquery.hoverIntent</code>, <code class="literal">jquery.pause</code>, and <code class="literal">json2</code> are downloaded in the <code class="literal">libraries</code> folder.</p></div></div>
<div class="section" title="Creating a rotating banner with Views Slideshow"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec124"/>Creating a rotating banner with Views Slideshow</h1></div></div></div><p>The Views Slideshow module is a <a class="indexterm" id="id508"/>Views style plugin. We are going to create a block-based view that will use this style plugin to<a class="indexterm" id="id509"/> convert our recipe images list into a rotating banner. After this, we will be able to display it on the front page of our d8dev site.</p></div>
<div class="section" title="Time for action &#x2013; creating a banner using the Views Slideshow module"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec125"/>Time for action – creating a banner using the Views Slideshow module</h1></div></div></div><p>Now that we have installed and set up the Views Slideshow module, it is time for us to build a Views-based rotating banner:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the d8dev site in your browser, click on the <span class="strong"><strong>Structure</strong></span> link in the <span class="strong"><strong>Admin</strong></span> toolbar, and then click on the <span class="strong"><strong>Views</strong></span> link.</li><li class="listitem">We are creating a new view. Click on the <span class="strong"><strong>Add new view</strong></span> link at the top of the <span class="strong"><strong>Views List</strong></span> page.</li><li class="listitem">Enter <code class="literal">Front Banner</code> as the <span class="strong"><strong>View name</strong></span> and select <span class="strong"><strong>Recipe</strong></span> for the type. We are going to create our rotating banner as a block, so check the <span class="strong"><strong>Create a block</strong></span> checkbox.</li><li class="listitem">Next, select <span class="strong"><strong>Slideshow</strong></span> of <span class="strong"><strong>fields</strong></span> for the <span class="strong"><strong>BLOCK DISPLAY SETTINGS</strong></span>. Verify that the Add new view form looks similar to the following screenshot, and click on the <span class="strong"><strong>Save and edit</strong></span> button:<div class="mediaobject"><img alt="Time for action – creating a banner using the Views Slideshow module" src="graphics/4659_10_01.jpg"/></div></li><li class="listitem">Now, we need to decide <a class="indexterm" id="id510"/>what fields we want to display in the banner. The <span class="strong"><strong>Content:Title</strong></span> field has been added by default. But we obviously want to display an image in the rotating banner.</li><li class="listitem">Click on the <span class="strong"><strong>Add</strong></span> button for <span class="strong"><strong>FIELDS</strong></span>, search for <code class="literal">Images</code> in the <span class="strong"><strong>Search</strong></span> input, and select <span class="strong"><strong>Images</strong></span>. Click on the <span class="strong"><strong>Apply (all displays)</strong></span> button.</li><li class="listitem">Next, in the <span class="strong"><strong>Configure field</strong></span> form, select <span class="strong"><strong>Large</strong></span> as the <span class="strong"><strong>Image style</strong></span> and click on the <span class="strong"><strong>Apply (all displays)</strong></span> button.</li><li class="listitem">Now, if you scroll down to the <span class="strong"><strong>Preview</strong></span> area of the <span class="strong"><strong>Views</strong></span> page, you will see a working slide show that looks something similar to the following screenshot:<div class="mediaobject"><img alt="Time for action – creating a banner using the Views Slideshow module" src="graphics/4659_10_02.jpg"/></div></li><li class="listitem">Click on the <a class="indexterm" id="id511"/><span class="strong"><strong>Add</strong></span> button for <span class="strong"><strong>FILTER CRITERIA</strong></span>. Search for <code class="literal">images</code> in the search input textbox and select the <span class="strong"><strong>Any Images (field_images:title)</strong></span> filter. Click on the <span class="strong"><strong>Apply (all displays)</strong></span> button.</li><li class="listitem">On the next screen, select the <span class="strong"><strong>Is not empty (NOT NULL)</strong></span> operator, and click on the <span class="strong"><strong>Apply (all displays)</strong></span> button.</li><li class="listitem">Click on the dropdown for the <span class="strong"><strong>FIELDS Add</strong></span> button and select <span class="strong"><strong>Rearrange</strong></span>:<div class="mediaobject"><img alt="Time for action – creating a banner using the Views Slideshow module" src="graphics/4659_10_03.jpg"/></div></li><li class="listitem">Next, just drag the <span class="strong"><strong>Content:Title</strong></span> field under the <span class="strong"><strong>Content:Images</strong></span> field, and click on the <span class="strong"><strong>Apply (all displays)</strong></span> button.<p>Now, we are ready to see how our new Views Slideshow banner looks on the front page.</p></li><li class="listitem">Click on the <span class="strong"><strong>Save</strong></span> button for our new view. Then click on the <span class="strong"><strong>Structure</strong></span> link in the <span class="strong"><strong>Admin</strong></span> toolbar, and finally click on the <span class="strong"><strong>Block layout</strong></span> link.</li><li class="listitem">Scroll down towards the <a class="indexterm" id="id512"/><span class="strong"><strong>Content Region</strong></span> and click on the <span class="strong"><strong>Place block</strong></span> link. In the popup, search for <code class="literal">Front banner</code> and click on the <span class="strong"><strong>Place block</strong></span> button for the <span class="strong"><strong>Front Banner</strong></span> block.</li><li class="listitem">On the next screen, uncheck the <span class="strong"><strong>Override title</strong></span> checkbox. Next, select <span class="strong"><strong>Content</strong></span> as the region to display the block for our D8Dev. In the <span class="strong"><strong>Visibility</strong></span> | <span class="strong"><strong>pages</strong></span> section, select <span class="strong"><strong>Show for the listed pages</strong></span>, and enter <code class="literal">&lt;front&gt;</code> as the only page to display it on:<div class="mediaobject"><img alt="Time for action – creating a banner using the Views Slideshow module" src="graphics/4659_10_04.jpg"/></div></li><li class="listitem">Click on the <span class="strong"><strong>Save block</strong></span> button. On the <span class="strong"><strong>Blocks</strong></span> configuration page, drag the <span class="strong"><strong>Front Banner</strong></span><a class="indexterm" id="id513"/> block above the <span class="strong"><strong>Main page content</strong></span> block in the <span class="strong"><strong>Content regions</strong></span>, and click on the <span class="strong"><strong>Save blocks</strong></span> button at the bottom of the screen.<div class="mediaobject"><img alt="Time for action – creating a banner using the Views Slideshow module" src="graphics/4659_10_05.jpg"/></div></li><li class="listitem">When you are done, the Front Banner should look similar to the following screenshot:<div class="mediaobject"><img alt="Time for action – creating a banner using the Views Slideshow module" src="graphics/4659_10_06.jpg"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec80"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We created a Front banner block with the Views Slideshow style plugin and assigned the block to the front page of our d8dev site.</p><p>We have created a slideshow, but it is displaying the images of size that we uploaded with the recipe. This might be of varying sizes. To make the image size uniform, we will have to create an image style that can be applied to this slide show as well as any other location where we want to display images of the same size.</p></div></div>
<div class="section" title="Time for action &#x2013; creating a new image style for images in our rotating recipe banner"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec126"/>Time for action – creating a new image style for images in our rotating recipe banner</h1></div></div></div><p>In the last <a class="indexterm" id="id514"/>chapter, we learned how to add image styles for Drupal 8. Let's add a new image style named <code class="literal">front_banner</code> that will scale our recipe images to be no wider than 680 pixels and cropped to 410 pixels in height. We will apply the same to the image field of our Front Banner view. This will create a more consistent look for our rotating banner as it will not change the size from slide to slide:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the d8dev site in your browser, click on the <span class="strong"><strong>Configuration</strong></span> link in the <span class="strong"><strong>Admin</strong></span> toolbar, and then click on <span class="strong"><strong>Image styles</strong></span> under the <span class="strong"><strong>Media</strong></span> link.</li><li class="listitem">We are creating a new Image style. So, click on the <span class="strong"><strong>+Add Image styles</strong></span> link at the top of the <span class="strong"><strong>Image styles</strong></span> page.</li><li class="listitem">Enter <span class="strong"><strong>Front banner</strong></span> as the image style name and click on the <span class="strong"><strong>Create new style</strong></span> button.</li><li class="listitem">Select <span class="strong"><strong>Crop</strong></span> as the effect and click on the <span class="strong"><strong>Add</strong></span> button at the bottom of the page:<div class="mediaobject"><img alt="Time for action – creating a new image style for images in our rotating recipe banner" src="graphics/4659_10_07.jpg"/></div></li><li class="listitem">Next, Enter <code class="literal">680</code> as <span class="strong"><strong>Width</strong></span> and <code class="literal">410</code> as <span class="strong"><strong>Height</strong></span>, and click on the <span class="strong"><strong>Add effect</strong></span> button:<div class="mediaobject"><img alt="Time for action – creating a new image style for images in our rotating recipe banner" src="graphics/4659_10_08.jpg"/></div></li><li class="listitem">Now we have to update this image style for the Front banner view. Click on the <span class="strong"><strong>Configuration</strong></span> link in the <span class="strong"><strong>Admin</strong></span> toolbar, and then click on the <span class="strong"><strong>Views</strong></span> link.</li><li class="listitem">Next, click <a class="indexterm" id="id515"/>on the <span class="strong"><strong>Edit</strong></span> link for the Front banner view. In the next view editing page, click on the <span class="strong"><strong>Content: Images</strong></span> link for <span class="strong"><strong>Fields</strong></span> and select <span class="strong"><strong>Front banner</strong></span> as the <span class="strong"><strong>Image style</strong></span> field. Click on the <span class="strong"><strong>Apply (all displays)</strong></span> button. Then save the view by clicking on the <span class="strong"><strong>Save</strong></span> button at the bottom.</li><li class="listitem"> When you are done, the Front Banner should look similar to the following screenshot:<div class="mediaobject"><img alt="Time for action – creating a new image style for images in our rotating recipe banner" src="graphics/4659_10_09.jpg"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec81"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We just created a new<a class="indexterm" id="id516"/> image style for images in our rotating recipe banner.</p></div></div>
<div class="section" title="Enhancing the appearance of our front banner with a pager and CSS"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec127"/>Enhancing the appearance of our front banner with a pager and CSS</h1></div></div></div><p>Our new front banner works fine, but we <a class="indexterm" id="id517"/>can easily improve its appearance and user experience by adding a few more configurations and CSS. We are <a class="indexterm" id="id518"/>going to add custom<a class="indexterm" id="id519"/> CSS to our d8dev module to tweak the <a class="indexterm" id="id520"/>appearance of the rotating banner, but first we are going to add a pager that will show how many slides there are and the current slide.</p></div>
<div class="section" title="Time for action &#x2013; updating the front banner view to include a slide show pager"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec128"/>Time for action – updating the front banner view to include a slide show pager</h1></div></div></div><p>We are going to enhance our Views rotating banner with a <a class="indexterm" id="id521"/>pager:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the d8dev <a class="indexterm" id="id522"/>site in your browser, hover the mouse over the new front banner, click on the contextual links widget, and then click on the <span class="strong"><strong>Edit view</strong></span> link:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_10.jpg"/></div></li><li class="listitem">Next, we need to add a pager to our view. Click on the <span class="strong"><strong>Settings</strong></span> link for the slideshow formatter:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_11.jpg"/></div></li><li class="listitem">In the <span class="strong"><strong>Block: Style options</strong></span> <a class="indexterm" id="id523"/>form, scroll down to the <span class="strong"><strong>Bottom Widgets</strong></span> section and check<a class="indexterm" id="id524"/> the <span class="strong"><strong>Pager</strong></span> checkbox. After checking this, we can see other fields appear. Check <span class="strong"><strong>Content: Title</strong></span> under the <span class="strong"><strong>Pager fields</strong></span> section and click on the <span class="strong"><strong>Apply</strong></span> button. See this screenshot:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_12.jpg"/></div></li><li class="listitem">Now, click on the <span class="strong"><strong>Save</strong></span> button for the view, and take a look at the updated front banner. See the following screenshot:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_13.jpg"/></div></li><li class="listitem">Though it is not <a class="indexterm" id="id525"/>quite the visually striking pager we were looking for, if you click on any of<a class="indexterm" id="id526"/> the titles, you will notice that the slide will change to that paged item. So, although the pager works, it does not look all that great. Let's see what we can do about the way it looks by adding some custom CSS to our d8dev module.</li><li class="listitem">Open the front page of the d8dev site in Chrome/Firefox, right-click on your rotating banner, and select <span class="strong"><strong>Inspect Element</strong></span> from the contextual menu that pops up:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_14.jpg"/></div></li><li class="listitem">In the <span class="strong"><strong>Elements</strong></span> inspector, find the <code class="literal">div</code> tag with the <code class="literal">views-slideshow- controls-bottom</code> <a class="indexterm" id="id527"/>class, and expand it:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_15.jpg"/></div></li><li class="listitem">Select the <code class="literal">div</code> tag with the <code class="literal">views-slideshow-pager-field</code> class so that it is highlighted. Then <a class="indexterm" id="id528"/>click inside the <code class="literal">element.style</code> curly brackets in the Styles inspector, and type in <code class="literal">float: right;</code>. We can see changes in the page field titles that floated to the right.</li><li class="listitem">Next, in the PhpStorm IDE, open the <code class="literal">d8dev.css</code> file located at <code class="literal">d8dev/modules/d8dev/styles/</code>.</li><li class="listitem">Scroll to the bottom of the file, and add the following style:<div class="informalexample"><pre class="programlisting">div.views_slideshow_pager_field {
    bottom: 30px;
    float: left;
    position: relative;
    text-align: right;
    z-index: 113;
}</pre></div></li><li class="listitem">Now, back in the browser, expand the <code class="literal">views-slideshow-pager-field</code> div, find the <code class="literal">div</code> tag with the <code class="literal">div.views_slideshow_pager_field_item</code> selector, and add the following styles to the <code class="literal">d8dev.css</code> file for the <code class="literal">div.views_slideshow_pager_field_item</code> selector:<div class="informalexample"><pre class="programlisting">div.views_slideshow_pager_field_item{
    display: inline-block;
    background-color: #999;
    width: 10px;
    height: 10px;
    text-indent: -9999px;
    border: 2px solid #CCC;
    -moz-border-radius: 4px;
    border-radius: 8px;
    margin-left: 4px;
    cursor: pointer;
}

div.views_slideshow_pager_field_item:hover, div.views_slideshow_pager_field_item.active{
   background-color: #BF0000;
}</pre></div></li><li class="listitem">Clear the cache and<a class="indexterm" id="id529"/> refresh the front <a class="indexterm" id="id530"/>page. See this screenshot:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_16.jpg"/></div></li><li class="listitem">Now add the CSS<a class="indexterm" id="id531"/> to hide the <code class="literal">views-content-title</code> div. Open the PhpStorm IDE <a class="indexterm" id="id532"/>and add the following CSS to <code class="literal">style.css</code>, at the end of the file:<div class="informalexample"><pre class="programlisting">div.views-content-title {
    display: none;
}</pre></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note19"/>Note</h3><p>Note: by excluding the content title from the views field settings will also hide the title, but make sure other CSS will be affected by this.</p></div></div></li><li class="listitem">Clear the cache and refresh the front page:<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_17.jpg"/></div></li><li class="listitem">Now, we need to do some styling for the recipe title. We are going to increase the font size and position it above the pager. But text align in the center of the image and add a background color tomato, with text color white.  Also we are updating with as 672 px since we are taking padding as 4 px.</li><li class="listitem">Add the following CSS to the <code class="literal">div.views-field-title</code> selector in the PhpStorm IDE:<div class="informalexample"><pre class="programlisting">#views_slideshow_cycle_main_front_banner-block_1 .views-field-title {
    background: tomato none repeat scroll 0 0;
    bottom: 40px;
    color: white;
    display: block;
    font-weight: bold;
    padding: 4px;
    position: absolute;
    text-align: center;
    width: 672px;
}</pre></div></li><li class="listitem">Clear the cache and<a class="indexterm" id="id533"/> refresh the front page in the browser; you will see that the recipe titles are much easier to read.<div class="mediaobject"><img alt="Time for action – updating the front banner view to include a slide show pager" src="graphics/4659_10_18.jpg"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec82"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We added a pager<a class="indexterm" id="id534"/> and caption to our Front banner, and although we did not write much custom PHP code, we saw how a little bit of Views <a class="indexterm" id="id535"/>configuration with the right contrib module, Views Slideshow, and some creative CSS can be combined to great effect.</p></div></div>
<div class="section" title="Time for another recipe"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec129"/>Time for another recipe</h1></div></div></div><p>Here is a hearty <a class="indexterm" id="id536"/>and tasty soup for a cold winter's day. Just about anyone, with just about any dietary restrictions, should be able to enjoy this healthy and delicious soup.</p><div class="mediaobject"><img alt="Time for another recipe" src="graphics/4659_10_19.jpg"/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Name</strong></span>: Potato Leek Soup (Vegan)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>cuisineType</strong></span>: European</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>description</strong></span>: This<a class="indexterm" id="id537"/> healthy yet still creamy soup will really stick to your ribs and warm you up on a cold day.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>recipeYield</strong></span>: Ten servings</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>prepTime</strong></span>: 30 minutes</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>cookTime</strong></span>: 45 minutes</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>ingredients</strong></span>:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Five to six large russet potatoes, peeled and quartered</li><li class="listitem" style="list-style-type: disc">Four leeks, cleaned and thinly sliced</li><li class="listitem" style="list-style-type: disc">One large sweet onion, diced</li><li class="listitem" style="list-style-type: disc">Four tablespoon vegan butter</li><li class="listitem" style="list-style-type: disc">One tablespoon olive oil</li><li class="listitem" style="list-style-type: disc">Six cups vegetable broth</li><li class="listitem" style="list-style-type: disc">One cup plain soy milk</li><li class="listitem" style="list-style-type: disc">Sea salt</li><li class="listitem" style="list-style-type: disc">Freshly ground black pepper</li><li class="listitem" style="list-style-type: disc">One tablespoon rice vinegar</li><li class="listitem" style="list-style-type: disc">Two teaspoon crushed red pepper</li><li class="listitem" style="list-style-type: disc">One-fourth cup parsley, finely chopped</li></ul></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>instructions</strong></span>:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Melt the vegan butter in a large Dutch oven over medium heat.</li><li class="listitem" style="list-style-type: disc">Once the butter melts, add diced onion and sauté until it just starts to caramelize.</li><li class="listitem" style="list-style-type: disc">Add the finely sliced leeks and sauté over medium heat for 10 minutes, stirring every minute or so.</li><li class="listitem" style="list-style-type: disc">Add <a class="indexterm" id="id538"/>diced potatoes and sauté with leeks and onions for 10 minutes.</li><li class="listitem" style="list-style-type: disc">Add the olive oil and stir to combine.</li><li class="listitem" style="list-style-type: disc">Add vegetable broth and plain soy milk. Stir to combine. Bring to a boil over medium-high heat, and reduce the heat to low.</li><li class="listitem" style="list-style-type: disc">Simmer over low heat for 15 minutes.</li><li class="listitem" style="list-style-type: disc">Using an emersion hand blender, blend the soup into a smooth puree.</li><li class="listitem" style="list-style-type: disc">Stir in vinegar and crushed red pepper.</li><li class="listitem" style="list-style-type: disc">Stir in sea salt and freshly ground black pepper to taste.</li><li class="listitem" style="list-style-type: disc">Stir in fresh parsley and enjoy.</li></ul></div></li></ul></div><div class="section" title="Promoting a sandbox project to a full project"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec83"/>Promoting a sandbox project to a full project</h2></div></div></div><p>Although we committed our <a class="indexterm" id="id539"/>Views semantic tabs module changes to the sandbox Git repository—and in doing so made the code available to anyone who wants to use it—using Git is a barrier for many people who are not developers and just want to download a module, configure it, and use it. A sandboxed module will also deter people from trying your module, because they may not trust a module that is not a full project (and Drupal includes a big warning at the top of all sandboxed module pages). I will create a release that can be downloaded easily without Git.</p><p>At this point, I will create only an alpha release until the community has had an opportunity to test it. Once there has been some feedback, I will create a full release. Before we begin, we will follow the<a class="indexterm" id="id540"/> Module Documentation Guidelines at <a class="ulink" href="https://www.drupal.org/node/161085">https://www.drupal.org/node/161085</a>. After reading this page, I have decided to add the <code class="literal">README.txt</code> file to our views semantic tabs module.</p></div></div>
<div class="section" title="Time for action &#x2013; creating README.txt and pushing to the sandbox"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec130"/>Time for action – creating README.txt and pushing to the sandbox</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create<a class="indexterm" id="id541"/> the <code class="literal">README.txt</code> file under the <code class="literal">views_semantic_tabs</code> folder as follows :<div class="informalexample"><pre class="programlisting">Introduction
------------

This module provides a views style plugin to display views results in jQuery UI Tabs.


Requirements
------------

This module requires the following modules:

 * Views (https://drupal.org/project/views)

INSTALLATION
------------

 * Install as you would normally install a contributed Drupal module. See:
   https://drupal.org/documentation/install/modules-themes/modules-8
   for further information.


CONFIGURATION
-------------

 * Update your view with semantic tabs style under format style in the view.


MAINTAINERS
-----------

Current maintainers:
 * Krishna kanth (krknth) - https://drupal.org/u/krknth
 * Neeraj kumar (neerajskydiver) - https://drupal.org/u/neerajskydiver</pre></div></li><li class="listitem">Next, we need to push it to the Git sandbox. Open the terminal, go to the <code class="literal">modules/views_semantic_tabs</code> folder, and run the following commands:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ git add README.txt</strong></span>
<span class="strong"><strong>$ git commit -m "Added README.txt file."$ git push origin 8.x.2.x</strong></span>
</pre></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec84"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We learned a bit about<a class="indexterm" id="id542"/> the Drupal <code class="literal">README.txt</code> file in the Module Documentation Guidelines. We added it to the module and pushed it to the Drupal project Git repository.</p></div></div>
<div class="section" title="Time for action &#x2013; promoting the Views semantic module to a full project on Drupal.org"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec131"/>Time for action – promoting the Views semantic module to a full project on Drupal.org</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Visit our sandbox<a class="indexterm" id="id543"/> project's page<a class="indexterm" id="id544"/> at <a class="ulink" href="https://www.drupal.org/sandbox/krishnakanth17/2665888">https://www.drupal.org/sandbox/krishnakanth17/2665888</a>. And click on the <span class="strong"><strong>Edit</strong></span> tab:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_20.jpg"/></div></li><li class="listitem">Then the <span class="strong"><strong>Promote</strong></span> subtab:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_21.jpg"/></div></li><li class="listitem">Fill out the<a class="indexterm" id="id545"/> form, making sure to enter a short project name:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_22.jpg"/></div></li><li class="listitem">The next page asks whether I am sure that I want to promote the module, and I am sure, so I will click on the <span class="strong"><strong>Promote</strong></span> button:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_23.jpg"/></div></li><li class="listitem">Now it is no longer a sandbox project, and Drupal provides some important instructions<a class="indexterm" id="id546"/> regarding the remote repository for the project. The Git command in the following screenshot needs to be executed before any new changes can be pushed to the remote repository, because Drupal has moved it to a new location for full projects and to match the new short project name:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_24.jpg"/></div></li><li class="listitem">After all these steps, our<a class="indexterm" id="id547"/> module is promoted to a full project and we can access it with the URL <a class="ulink" href="https://www.drupal.org/project/views_semantic_tabs">https://www.drupal.org/project/views_semantic_tabs</a>.</li><li class="listitem">Now we need to<a class="indexterm" id="id548"/> create a dev release for the Views semantic tabs module so that it is easier to download and install. Drupal provides instructions on the version control page of a full project page for creating a branch for a dev release with Git (these instructions are only displayed for module maintainers).</li><li class="listitem">Executing the following Git commands on our local Views semantic tabs repository will create a new dev branch:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ git checkout -b 8.x-2.x</strong></span>
<span class="strong"><strong>$ git push -u origin 8.x-2.x</strong></span>
</pre></div></li><li class="listitem">Now that we have a new dev branch in the Views semantic tabs repository, we will be able to add a dev release to the project. On the <span class="strong"><strong>View</strong></span> page of the Views semantic tabs module, there is an <span class="strong"><strong>Add new release</strong></span> link below <span class="strong"><strong>Project information</strong></span>. Clicking on that link will take us to the <span class="strong"><strong>Create Project release</strong></span> page. See this screenshot:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_25.jpg"/></div></li><li class="listitem">The <span class="strong"><strong>Create release</strong></span> page<a class="indexterm" id="id549"/> lists two Git release branches to select from, the <code class="literal">8.x.1.x</code> and <code class="literal">8.x.2.x</code> branch we just created. So we just need to select <span class="strong"><strong>8.x-2.x (8.x-2.x-dev)</strong></span> and click on the <span class="strong"><strong>Next</strong></span> button:<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_26.jpg"/></div></li><li class="listitem">On the next page, we will enter some <span class="strong"><strong>Release notes</strong></span> and click on the <span class="strong"><strong>Save</strong></span> button; the other fields will already be filled because this is the first dev release.<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_27.jpg"/></div></li><li class="listitem">We have <a class="indexterm" id="id550"/>successfully promoted the Views semantic tabs module to full project status, and have created an initial dev release.<div class="mediaobject"><img alt="Time for action – promoting the Views semantic module to a full project on Drupal.org" src="graphics/4659_10_28.jpg"/></div></li><li class="listitem">Drupal will <a class="indexterm" id="id551"/>automatically generate the <code class="literal">tar.gz</code> and <code class="literal">.zip</code> files and attach them to the project, but it may take as long as 1-2 hours for a dev release (official non-dev releases are published within 5 minutes). Until then, only an unpublished release node will appear on the Releases for Views semantic tabs page. Also we can use Drush to download and enable the module by using this command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ drush dl views_semantic_tabs</strong></span>
</pre></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec85"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We learned a bit about the Drupal <code class="literal">README.txt</code> file from the Module Documentation Guidelines. We also learned how a module can be promoted from a sandbox project to a full project and how to release a dev release to the project.</p></div></div>
<div class="section" title="Introducing the Features module"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec132"/>Introducing the Features module</h1></div></div></div><p>The Drupal 8 Features<a class="indexterm" id="id552"/> module enables us to capture and manage a feature, which is a set of Drupal entities. The Features module will take different site-building components from modules by providing a UI and an API with exportables and bundle them together in a single module. A feature in normal terms might be a blog, a page, or an image gallery. So in the next topic, we are going to learn how to use the Features module. We are going to export our Recipe content type and use it in another environment.</p></div>
<div class="section" title="Time for action &#x2013; installing the Features module"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec133"/>Time for action – installing the Features module</h1></div></div></div><p>We are going<a class="indexterm" id="id553"/> download and install the Features module using Drush. Also we will install <code class="literal">features_ui</code> module as its package:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the Terminal (Mac OS X) or Command Prompt (Windows) application, and change to the root directory of our d8dev site.</li><li class="listitem">Use Drush to download and enable the Features module:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ drush dl features </strong></span>
<span class="strong"><strong>Project features (8.x-3.0-alpha6) downloaded to /var/www/html/d8dev/modules/features.                                               [success]</strong></span>
<span class="strong"><strong>Project features contains 2 modules: features_ui, features.</strong></span>
<span class="strong"><strong>  $ drush en features </strong></span>
<span class="strong"><strong>The following projects have unmet dependencies:                            [ok]</strong></span>
<span class="strong"><strong>features requires config_update</strong></span>
<span class="strong"><strong>Would you like to download them? (y/n): y</strong></span>
<span class="strong"><strong>Project config_update (8.x-1.0) downloaded to /var/www/html/drupal8_3_new//modules/config_update.</strong></span>
<span class="strong"><strong>[success]</strong></span>
<span class="strong"><strong>Project config_update contains 2 modules: config_update_ui, config_update.</strong></span>
<span class="strong"><strong>The following extensions will be enabled: features, config_update</strong></span>
<span class="strong"><strong>Do you really want to continue? (y/n): y</strong></span>
<span class="strong"><strong>config_update was enabled successfully.</strong></span>
<span class="strong"><strong>[ok]</strong></span>
<span class="strong"><strong>features was enabled successfully.</strong></span>
<span class="strong"><strong>[ok]</strong></span>
<span class="strong"><strong>$ drush en features_ui</strong></span>
<span class="strong"><strong>The following extensions will be enabled: features_ui</strong></span>
<span class="strong"><strong>Do you really want to continue? (y/n): y</strong></span>
<span class="strong"><strong>features_ui was enabled successfully. </strong></span>
</pre></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec86"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We enabled the Features module. It consists of two modules: the base Features module and the <code class="literal">features_ui</code> module. The Features module depends on the <code class="literal">config_update</code> module, which is downloaded automatically after enabling the Features module. We also enabled the <code class="literal">features_ui</code> module, which gives an easy UI to create features.</p></div><div class="section" title="Recipe feature by the Features module"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec87"/>Recipe feature by the Features module</h2></div></div></div><p>We are going to<a class="indexterm" id="id554"/> learn how to use the Features module by exporting our Recipe content type and related configurations such as—Fields of Recipe content type, Form displays, Form view displays, Views – Front Banner, Random Top Rated Recipe, Top rated recipes And Blocks – Top Recipe, Front Banner. Then we will look into how we can use it in other environments.</p></div></div>
<div class="section" title="Time for action &#x2013; using the Features module to export the Recipe content type and related configurations"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec134"/>Time for action – using the Features module to export the Recipe content type and related configurations</h1></div></div></div><p>We are going to export our Recipe content type as a feature module and also export its related configurations as <a class="indexterm" id="id555"/>part of the Feature <a class="indexterm" id="id556"/>exported module:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the d8dev site in your browser, click on the <span class="strong"><strong>Configuration</strong></span> link in the <span class="strong"><strong>Admin</strong></span> toolbar, and click on the <span class="strong"><strong>Features</strong></span> link under the <span class="strong"><strong>DEVELOPMENT</strong></span> section. We can see the next page as shown in following screenshot:<div class="mediaobject"><img alt="Time for action – using the Features module to export the Recipe content type and related configurations" src="graphics/4659_10_29.jpg"/></div></li><li class="listitem">Next click on the <span class="strong"><strong>Included configuration</strong></span> link under the <span class="strong"><strong>DESCRIPTION</strong></span> column for the Recipe feature.<div class="mediaobject"><img alt="Time for action – using the Features module to export the Recipe content type and related configurations" src="graphics/4659_10_30.jpg"/></div></li><li class="listitem">Here we can understand what configurations are included for this feature. It has the two blocks (Top Recipe and Front Banner), three views, and other field-related configurations<a class="indexterm" id="id557"/> that we are looking for. But I have noticed that the <span class="strong"><strong>Recipes by Cuisine</strong></span> block is missing, so we will add this missing component in<a class="indexterm" id="id558"/> the next step.</li><li class="listitem">Now click on the <span class="strong"><strong>Recipe</strong></span> link feature. In the next page, we can see a list components and general information about this feature:<div class="mediaobject"><img alt="Time for action – using the Features module to export the Recipe content type and related configurations" src="graphics/4659_10_31.jpg"/></div></li><li class="listitem">Next under the <span class="strong"><strong>COMPONENTS</strong></span> section, search for <code class="literal">recipes</code>. We notice that <span class="strong"><strong>Recipes by Cuisine: Block 2 (views_block__recipes_by_cuisine_block_2)</strong></span> is visible under the <span class="strong"><strong>Block</strong></span> section and select that checkbox:<div class="mediaobject"><img alt="Time for action – using the Features module to export the Recipe content type and related configurations" src="graphics/4659_10_32.jpg"/></div></li><li class="listitem">Also, select the <span class="strong"><strong>Recipes by Cuisine (recipes_by_cuisine)</strong></span> checkbox under the <span class="strong"><strong>Views</strong></span> <a class="indexterm" id="id559"/>section.</li><li class="listitem">Next in the <span class="strong"><strong>GENERAL INFORMATION</strong></span> section, leave all values as default and enter <code class="literal">8.x-1.0</code> as the <span class="strong"><strong>Version</strong></span> field. Click on the <span class="strong"><strong>Download Archive</strong></span> button:<div class="mediaobject"><img alt="Time for action – using the Features module to export the Recipe content type and related configurations" src="graphics/4659_10_33.jpg"/></div></li><li class="listitem">We can see that<a class="indexterm" id="id560"/> <code class="literal">Recipe.tar.gz</code> is downloaded. Now we extract this file into our <code class="literal">d8dev/module</code> directory. Open PhpStorm and see the <code class="literal">.yml</code> files and a few directories as shown in the following screenshot:<div class="mediaobject"><img alt="Time for action – using the Features module to export the Recipe content type and related configurations" src="graphics/4659_10_34.jpg"/></div></li><li class="listitem">We can see<a class="indexterm" id="id561"/> that there are <a class="indexterm" id="id562"/>many YML files. All of these files are configuration files for views, fields, and the Recipe content type. Also there is an <code class="literal">info.yml</code> file, so we can use this as a module. We can use this module in any other environment where it has Drupal 8 installed, and modules <code class="literal">views_semantic</code> and other modules installed. Follow <a class="link" href="ch01.html" title="Chapter 1. Setting Up a Drupal Development Environment">Chapter 1</a>, <span class="emphasis"><em>Setting Up a Drupal Development Environment</em></span>, to install another d8dev site.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec88"/><span class="emphasis"><em>What just happened?</em></span></h2></div></div></div><p>We enabled the Features module and looked into how to export the Recipe content type and its fields. We also looked into how we can export views and blocks along with the Recipe feature.</p></div></div>
<div class="section" title="When to use core Configuration Management compared to Features"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec135"/>When to use core Configuration Management compared to Features</h1></div></div></div><p>In Drupal 7 core, there is no system to manage configurations and the Features module can export and import configuration data bundled as code in modules. Features was used for configuration <a class="indexterm" id="id563"/>management and deployments. Because of the following issues, the module was not really suitable:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">There is no consistency in the structure of the exported configurations</li><li class="listitem" style="list-style-type: disc">It overrides and reverts modifications of content managers</li></ul></div><p>Drupal 8 has introduced Configuration Management that can deal with such issues, but that does not mean we do not need the Features module anymore. Configuration Management was not suitable to export the bundling functionality to other environments, websites, clients, or projects. That is why we still need the Features module. Drupal 8 Features will return its bundling functionality (like a blog or image gallery) rather than just managing configurations. Also, Features allows us to pick and choose what configuration data we want to add to bundle in a simplified manner. Additionally, it is much easier to update the configurations stored in the module during development. There are also some issues with <a class="indexterm" id="id564"/>configuration management:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Adding configurations to a module is a manual process, meaning copying/pasting of YML data.</li><li class="listitem" style="list-style-type: disc">Modules provide only initial configuration files. If we want to change the configuration files, we need to do that through writing update hooks.</li><li class="listitem" style="list-style-type: disc">If we uninstall a module, it does not remove all the configurations. And Drupal 8 core cannot enable a module if a configuration already exists.</li></ul></div><p>My conclusion is that the Features module is still very important in Drupal 8. The module can be tagged as a developer module that aims to help Drupal developers in their daily work environment to bundle functionalities and easily import changes during development.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec136"/>Summary</h1></div></div></div><p>In this chapter, we learned more about the Views module and saw how a good Views plugin, along with some custom CSS, enabled us to create a very appealing rotating banner component for our d8dev site.</p><p>We also learned a bit about the Drupal <code class="literal">README.txt</code> file and how a module is promoted from a sandbox project to a full project.</p><p>Finally, we learned about the Features module for exporting the Recipe content type and its fields, blocks, and views as modules to use them in other environments. We also compared the Configuration Management system with the features module by focusing on a comparative study and when to use either of the two modules.</p><p>In the next chapter, we will cover some advanced search concepts and walk you through the installation and Drupal integration of the Java-based Apache Solr search engine. We will then enhance our site with a customized faceted search built on top of the Search API module.</p></div></body></html>
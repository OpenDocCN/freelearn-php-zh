- en: '6'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '6'
- en: Managing Permissions, Roles, and Capabilities
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理权限、角色和能力
- en: Permissions are complex yet powerful and can be seen as the backbone of Moodle.
    In this chapter, we will cover contexts, roles, and capabilities, which define
    what users can and cannot see and do in your Moodle system.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 权限复杂而强大，可以看作是 Moodle 的骨架。在本章中，我们将涵盖上下文、角色和能力，这些定义了用户在 Moodle 系统中可以和不可以看到以及执行的操作。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Exploring Moodle’s predefined roles
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索 Moodle 的预定义角色
- en: Understanding contexts
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解上下文
- en: Assigning roles to users
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将角色分配给用户
- en: Understanding capabilities
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解能力
- en: Roles and context management
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 角色和上下文管理
- en: We will start with a short definition that should be kept in mind when managing
    permissions.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从一个简短的定义开始，这个定义在管理权限时应该牢记在心。
- en: Important note
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: A role is a collection of capabilities with corresponding permissions and risks.
    A role is assigned to a user in a context.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 角色是一组具有相应权限和风险的能力集合。角色被分配给上下文中的用户。
- en: 'Let’s have a look at the following high-level diagram, which visualizes the
    preceding definition before we cover all permission-related topics in detail:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们详细介绍所有与权限相关的主题之前，让我们先看看以下高级图表，它可视化了我们之前的定义：
- en: '![Figure 6.1 – High-level permissions overview ](img/Figure_6.01_B18779.jpg)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.1 – 高级权限概述](img/Figure_6.01_B18779.jpg)'
- en: Figure 6.1 – High-level permissions overview
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.1 – 高级权限概述
- en: Every user in your Moodle system is assigned one or many roles, and a role comprises
    many capabilities with associated permissions and risks. Each role assignment
    takes place in a particular context, representing a hierarchically organized ring-fenced
    area.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的 Moodle 系统中，每个用户都被分配了一个或多个角色，一个角色包含许多能力以及相关的权限和风险。每个角色分配都在特定的上下文中进行，代表一个层次结构组织起来的封闭区域。
- en: We will begin this chapter by exploring the standard roles of Moodle before
    covering the slightly abstract concept of contexts. It will get more practical
    when we assign roles in different contexts. Next, we will look at how roles are
    structured and modified before creating our own roles. We will conclude this chapter
    with role management and some best practice advice.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先探索 Moodle 的标准角色，然后再涵盖稍微抽象的上下文概念。当我们在不同上下文中分配角色时，它将变得更加实用。接下来，我们将查看角色的结构和修改方式，然后创建我们自己的角色。我们将以角色管理和一些最佳实践建议结束本章。
- en: By the end of this chapter, you will have understood the core concepts of the
    Moodle permission system, which comprises roles, contexts, capabilities, and the
    management thereof.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，您将理解 Moodle 权限系统的核心概念，该系统包括角色、上下文、能力及其管理。
- en: Exploring Moodle’s predefined roles
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索 Moodle 的预定义角色
- en: Moodle comes with several predefined roles. These standard roles are suitable
    for most educational setups, but some institutions require modifications to be
    made to the roles system to tailor Moodle to their specific needs.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 随附了几个预定义的角色。这些标准角色适用于大多数教育设置，但某些机构需要修改角色系统以定制 Moodle 以满足其特定需求。
- en: Each role has capabilities for several actions that can be carried out. For
    example, an administrator and a course creator can create new courses, whereas
    all the other roles are denied this right. Likewise, a teacher is allowed to moderate
    forums, whereas students can only contribute to them.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 每个角色都有执行几个操作的能力。例如，管理员和课程创建者可以创建新课程，而其他所有角色都被拒绝这项权利。同样，教师可以管理论坛，而学生只能对其做出贡献。
- en: 'The description of each standard role and the short names that are used, internally
    and in operations, such as user batch upload, are listed in the following table
    (taken from **Site administration** | **User** | **Permissions** | **Define roles**):'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 每个标准角色的描述以及内部和操作中使用的简称，例如用户批量上传，列在以下表格中（来自 **网站管理** | **用户** | **权限** | **定义角色**）：
- en: '![Figure 6.2 – Moodle’s predefined roles ](img/Figure_6.02_B18779.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.2 – Moodle 的预定义角色](img/Figure_6.02_B18779.jpg)'
- en: Figure 6.2 – Moodle’s predefined roles
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.2 – Moodle 的预定义角色
- en: Moodle Workplace has various extra roles to handle its business-oriented audience,
    such as tenant administrator, certification manager, dynamic rules manager, organization
    structure manager, program manager, and report builder manager.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle Workplace 为其面向商业的受众提供了各种额外角色，例如租户管理员、认证经理、动态规则经理、组织结构经理、项目经理和报告构建器经理。
- en: Before we can do anything with roles, we need to understand the concept of contexts,
    which will be dealt with next.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们可以对角色进行任何操作之前，我们需要理解上下文的概念，这将在下一部分进行讨论。
- en: Understanding contexts
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解上下文
- en: A role (remember, a collection of capabilities with corresponding permissions)
    can be assigned within different contexts. So, what are contexts?
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一个角色（记住，一组具有相应权限的能力）可以在不同的上下文中分配。那么，什么是上下文呢？
- en: Important note
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Contexts** are the areas in Moodle where roles can be assigned to users.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**上下文**是Moodle中可以分配给用户的区域。'
- en: A user has a role in any given context.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 用户在任何给定的上下文都有一个角色。
- en: 'A context can be a course, a category, an activity, a user, a block, or Moodle
    itself. Moodle comes with seven contexts, each with a given scope:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一个上下文可以是一个课程、一个类别、一个活动、一个用户、一个块，或者是Moodle本身。Moodle自带七个上下文，每个上下文都有特定的范围：
- en: '**System**: Moodle itself – that is, the entire system, also known as the core
    or global context'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统**：Moodle本身 – 即整个系统，也称为核心或全局上下文'
- en: '**Course category**: A category and its sub-categories'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程类别**：一个类别及其子类别'
- en: '**Course**: A single course'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程**：一个单独的课程'
- en: '**Activity module**: A course activity or resource'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**活动模块**：一个课程活动或资源'
- en: '**Block**: A sidebar block'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**块**：一个侧边栏块'
- en: '**User**: A user account'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**：一个用户账户'
- en: '**Site (Front page)**: The home page and files that can be accessed outside
    courses (often referred to as the front page context)'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**站点（首页）**：主页和可以访问课程外的文件（通常称为首页上下文）'
- en: Important note
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Each context has a **scope**. A scope is a ring-fenced area or boundary in which
    specific actions can be carried out
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 每个上下文都有一个**范围**。范围是在其中可以执行特定操作的封闭区域或边界
- en: This arrangement is compared to a large building with multiple floors and rooms.
    A floor manager has certain rights and responsibilities for every room on a level,
    but these do not apply to rooms on other floors of the property.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这种布局可以比作一座多层楼和多个房间的建筑。楼层管理员对同一层的每个房间都有一定的权利和责任，但这些权利不适用于该财产其他楼层的房间。
- en: Role assignments must be made at the correct context level to implement, such
    a structure. For example, the teacher role should be assigned at the **Course**
    context level, the moderator for a particular forum at the **Activity** context
    level, the administrator at the **System** context level, and so on. While it
    is technically possible to assign any role in any context, some roles just don’t
    make sense. Unfortunately, Moodle doesn’t warn you about this since it cannot
    distinguish between intentional and inadvertent assignments.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 角色分配必须在正确的上下文级别进行，以实现这样的结构。例如，教师角色应在**课程**上下文级别分配，特定论坛的调解员应在**活动**上下文级别分配，管理员应在**系统**上下文级别分配，依此类推。虽然从技术上讲可以在任何上下文中分配任何角色，但某些角色并不合理。不幸的是，Moodle不会警告你这一点，因为它无法区分有意和无意分配。
- en: Contexts are hierarchical; that is, permissions are inherited from higher to
    lower contexts. Rights in a higher context are more general, whereas those in
    a lower context are more specific. The same applies to our building analogy –
    a manager at the building level would have the same rights at the floor or room
    level, whereas the opposite is not true.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 上下文是分层的；也就是说，权限是从高上下文继承到低上下文的。高上下文中的权利更一般，而低上下文中的权利更具体。这一点也适用于我们的建筑类比 – 建筑级别的管理员在楼层或房间级别会有相同的权利，而反之则不然。
- en: 'The following diagram shows the contexts that exist in Moodle and how they
    are arranged hierarchically:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图表显示了Moodle中存在的上下文以及它们如何按层次排列：
- en: '![Figure 6.3 – Moodle context hierarchy ](img/Figure_6.03_B18779.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![图6.3 – Moodle上下文层次结构](img/Figure_6.03_B18779.jpg)'
- en: Figure 6.3 – Moodle context hierarchy
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.3 – Moodle上下文层次结构
- en: The **System** context is the root node of the hierarchy; every role assigned
    in this context will apply to any other context below it. The **Course Category**
    context on the next level acts as a parent to the **Course** context. If **Sub-Category**
    and **Sub-Sub-Category**, and so on, have been created, respective contexts will
    exist. You can see the **Module** and **Block** contexts on the lowest level.
    Like the **Course** context, the **Site** context has a **Module** and **Block**
    sub-context. **Site** refers to the home page and is often referred to as the
    **Front page** context for legacy reasons. Internally, **Site** is treated as
    a course (with course ID 1). The **User** context is a standalone entity with
    no children in the hierarchy.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**系统**上下文是层次结构的根节点；在此上下文中分配的每个角色都将应用于其下任何其他上下文。下一级的**课程类别**上下文充当**课程**上下文的父节点。如果创建了**子类别**和**子子类别**等，相应的上下文将存在。您可以在最低级别看到**模块**和**块**上下文。与**课程**上下文一样，**站点**上下文有一个**模块**和**块**子上下文。**站点**指的是主页，通常被称为**首页**上下文，出于历史原因。在内部，**站点**被视为一个课程（课程ID为1）。**用户**上下文是一个独立的实体，在层次结构中没有子节点。'
- en: For example, Jim is a teacher in a course. He is assigned the **Teacher** role
    in the relevant context (the class he is teaching), and he will have this role
    throughout the course, including blocks and activity modules (activities and resources).
    If, however, Jim had been assigned the **Teacher** role in the **Course Category**
    context instead, he would have the same rights in all the courses in this category
    and all its sub-categories. Jim will receive emails about all the assignments
    in all the courses, even if he doesn’t teach them. Not only that, but he will
    also become a teacher in all future courses created in this category!
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，Jim是某门课程中的教师。他在相关上下文中（他教授的班级）被分配了**教师**角色，并且在整个课程中都将保持这个角色，包括块和活动模块（活动和资源）。然而，如果Jim在**课程类别**上下文中被分配了**教师**角色，他将在该类别及其所有子类别中的所有课程中拥有相同的权利。Jim将收到所有课程中所有作业的电子邮件，即使他不是这些课程的教师。不仅如此，他还将成为该类别中所有未来创建的课程中的教师！
- en: 'Organizing contexts hierarchically has several advantages that will sound familiar
    to those who know of object-oriented technologies:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 将上下文分层组织具有几个优势，这些优势对于那些了解面向对象技术的人来说听起来很熟悉：
- en: '**Inheritance**: Rights and permissions set at one level are passed down to
    lower levels, which simplifies maintenance'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**继承**：在一级设置的权限和权限将传递到较低级别，这简化了维护工作'
- en: '**Overriding**: Rights and permissions can be changed at lower levels'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**覆盖**：可以在较低级别更改权限和权限'
- en: '**Extensibility**: New contexts might be added in future versions of Moodle,
    when and if required, without changing any of the existing roles in the system'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可扩展性**：在Moodle的未来版本中，如果需要，可以添加新的上下文，而无需更改系统中现有的任何角色'
- en: Now we know what roles look like and which roles Moodle ships with, it is time
    to assign some roles.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了角色的样子以及Moodle附带哪些角色，是时候分配一些角色了。
- en: Assigning roles to users
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为用户分配角色
- en: 'The process of role assignment is similar for each context. What is different
    is the location of each context and its access method. The process of assigning
    roles to users will be described first before we outline how and where to assign
    them in individual contexts:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 角色分配的过程对每个上下文都是相似的。不同的是每个上下文的位置及其访问方法。在概述如何在各个上下文中分配角色之前，我们将首先描述为用户分配角色的过程：
- en: 'Navigate to any **Assign roles** screen for the required context – for example,
    **Home** | **Participants** | **Assigned roles** in the **Permissions** section
    of the pull-down menu. On our system, you can see that **2** teachers and **18**
    students have been assigned (only up to 10 names can be displayed):'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到任何**分配角色**屏幕以获取所需上下文 - 例如，在下拉菜单的**权限**部分中的**主页** | **参与者** | **分配的角色**。在我们的系统中，您可以看到已分配了**2**名教师和**18**名学生（只能显示最多10个名字）：
- en: '![Figure 6.4 – Assigning roles to users ](img/Figure_6.04_B18779.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![图6.4 – 为用户分配角色](img/Figure_6.04_B18779.jpg)'
- en: Figure 6.4 – Assigning roles to users
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.4 – 为用户分配角色
- en: Select the role you wish to assign a user to by clicking on the role’s name.
    If there are more than 10 assignees, click on the **More than 10** link. You will
    see the screen shown in *Figure 6**.4* throughout Moodle whenever you wish to
    assign users to a role (except in courses, where a different modal interface has
    been developed).
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过单击角色名称来选择您希望分配给用户的角色。如果有超过10个分配者，请单击**超过10个**链接。您将在Moodle中看到*图6.4*所示的屏幕，无论何时您想要分配用户到角色（除了在课程中，那里已经开发了一个不同的模态界面）。
- en: Assign the role to users by selecting their names from the **Potential users**
    list and moving them to the respective category using the **Add** button.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从**潜在用户**列表中选择用户名称并使用**添加**按钮将他们移动到相应的类别来分配角色给用户。
- en: Hold down the *Shift* key to select a range of users and the *Ctrl* key (*Command*
    key on macOS) to select multiple users.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按住**Shift**键以选择一系列用户，并按住**Ctrl**键（在macOS上为**Command**键）以选择多个用户。
- en: To revoke users’ role assignments, select the person from the **Existing users**
    list and move them back to the **Potential users** group by clicking on the **Remove**
    button.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要撤销用户的角色分配，从**现有用户**列表中选择人员，并通过点击**移除**按钮将他们移回**潜在用户**组。
- en: Important note
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Once a user has been assigned a role, permissions will be granted immediately.
    There is no need to save any changes.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦用户被分配了角色，权限将立即授予。无需保存任何更改。
- en: 'If your list of potential users contains more than 100 entries, no user names
    will be shown, and you will have to use the **Search** box to filter the list
    of accounts (you can change this value via the **maxusersperpage** setting in
    **Site administration | Users | Permissions | User options**). Moodle uses a live
    search; as soon as you start typing, the list of users is updated immediately.
    There are three self-explanatory **Search options** underneath the left **Search**
    box. You might have to expand the area if it is collapsed:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的潜在用户列表包含超过100个条目，则不会显示用户名，您将不得不使用**搜索**框来过滤账户列表（您可以通过在**网站管理 | 用户 | 权限 |
    用户选项**中的**maxusersperpage**设置更改此值）。Moodle使用实时搜索；一旦您开始输入，用户列表就会立即更新。在左边的**搜索**框下方有三个自解释的**搜索选项**。如果该区域已折叠，您可能需要将其展开：
- en: '**Keep selected users, even if they no longer match** **the search**'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**即使所选用户不再匹配** **搜索**'
- en: '**If only one user matches the search, select** **them automatically**'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**如果只有一个用户匹配搜索，则自动选择** **他们**'
- en: '**Match the search text anywhere in the** **user’s name**'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在用户的名称中任何位置匹配搜索文本**'
- en: You can switch to the assignments of another role in the current context via
    the drop-down at the bottom.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过底部的下拉菜单切换到当前上下文中另一个角色的分配。
- en: Important note
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Assigning roles in an incorrect context is a common source of problems. It is
    highly recommended that you check the current context regularly to ensure no unintended
    rights have been granted. In other words, test your role assignments thoroughly.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在错误上下文中分配角色是常见的问题来源。强烈建议您定期检查当前上下文，以确保没有授予未预期的权限。换句话说，彻底测试您的角色分配。
- en: So far, we have dealt with the general concept of contexts and looked at how
    to assign roles to users within a context. We will now deal with each context,
    following our Moodle context hierarchy. Let’s start at the top with the **System**
    context.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经处理了上下文的一般概念，并查看如何在上下文中分配用户角色。现在，我们将处理每个上下文，按照我们的Moodle上下文层次结构。让我们从顶部的**系统**上下文开始。
- en: System context
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 系统上下文
- en: 'The **System** context covers the entire Moodle system. Assignment takes place
    from **Site administration** | **Users** | **Permissions** | **Assign system roles**.
    In our system, only two roles appear that can be assigned. We already mentioned
    that assigning certain roles in certain contexts doesn’t make sense. Inside a
    role, it is possible to specify in which context roles may be assigned. Only the
    **Manager** and **Course creator** roles have been selected, which is the reason
    for the limited choice:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**系统**上下文涵盖了整个Moodle系统。分配从**网站管理** | **用户** | **权限** | **分配系统角色**进行。在我们的系统中，只有两个可以分配的角色。我们已经提到，在某些上下文中分配某些角色是没有意义的。在角色内部，可以指定在哪些上下文中可以分配角色。只有**管理员**和**课程创建者**角色被选中，这也是选择有限的原因：'
- en: '![Figure 6.5 – System context ](img/Figure_6.05_B18779.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![图6.5 – 系统上下文](img/Figure_6.05_B18779.jpg)'
- en: Figure 6.5 – System context
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.5 – 系统上下文
- en: 'You will see a familiar screen that allows you to assign roles to users. The
    only difference from the generic screen outlined earlier is the warning, which
    I can only repeat: **Any roles you assign from this page will apply to the assigned
    users throughout the entire system, including the front page and all** **the courses.**'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到一个熟悉的屏幕，允许您为用户分配角色。与前面概述的通用屏幕唯一的区别是警告，我只能重复一遍：**您从该页面分配的任何角色将应用于整个系统中的指定用户，包括首页和所有**
    **课程**。
- en: In most Moodle systems with predefined roles, it only makes sense to assign
    the **Manager** role if you wish to allow read-only access to a user for all the
    courses, such as an inspector, business manager, or school principal. Assigning
    the **Course creator** role to a user allows you to create new courses in any
    category. If, for example, a **Teacher** role is assigned in the **System** context,
    the user is allowed access to every single course on the site and all the courses
    created in the future!
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数具有预定义角色的Moodle系统中，如果您希望允许用户对所有课程进行只读访问，例如检查员、业务经理或学校校长，则只有分配**管理员**角色才有意义。将**课程创建者**角色分配给用户允许您在任何类别中创建新课程。例如，如果在**系统**上下文中分配了**教师**角色，则用户将被允许访问网站上每个课程以及未来创建的所有课程！
- en: There are scenarios when global roles are justified, such as in very small organizations
    or if Moodle hosts only a small number of courses attended by all users. Also,
    some new user-defined roles, such as school inspector, are designed to be assigned
    at the global level.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 有时全球角色是合理的场景，例如在非常小的组织或Moodle仅托管所有用户都参加的少量课程时。此外，一些新的用户定义角色，如学校检查员，被设计为在全局级别分配。
- en: One role that can only be assigned at the system level is the **Administrator**
    role. This task has been given a dedicated area under **Site administration**
    | **Users** | **Permissions** | **Site administrators**. A primary administrator
    was created when you installed Moodle, which cannot be modified or deleted. You
    can, however, create additional administrator accounts. This procedure is identical
    to assigning users in any other context, except that you must confirm the assignment.
    Furthermore, you can make any site administrator the main site administrator (via
    the **Set main** **admin** button).
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 只能在系统级别分配的一个角色是**管理员**角色。这项任务在**网站管理** | **用户** | **权限** | **网站管理员**下有一个专门的区域。在安装Moodle时创建了一个主要管理员，无法修改或删除。但是，您可以创建额外的管理员账户。此过程与在任何其他上下文中分配用户相同，除了您必须确认分配。此外，您可以将任何网站管理员设置为主要的网站管理员（通过**设置主要**
    **管理员**按钮）。
- en: Important note
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 重要注意事项
- en: Make sure you keep the number of Moodle administrators to a minimum! This restraint
    improves the consistency of your system, increases security, and avoids potential
    mismanagement of the site.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 确保将Moodle管理员数量保持在最低！这种限制提高了系统的连贯性，增加了安全性，并避免了网站潜在的管理不当。
- en: Moving down one level in the context hierarchy, we reach the **Course Category**
    context, which is the topic of the following subsection.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在上下文层次结构中向下移动一级，我们到达**课程类别**上下文，这是以下子节的主题。
- en: Course Category context
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 课程类别上下文
- en: The **Course category context** covers all the courses within a category and
    its sub-categories. The role assignment takes place under **Site administration**
    | **Courses** | **Manage courses and categories**. You must select **Permissions**
    in the respective **Settings** drop-down menu and **Assign roles** from the familiar
    dropdown. The same mechanism applies to sub-categories, sub-sub-categories, and
    so on.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**课程类别上下文**涵盖了类别及其子类别中的所有课程。角色分配发生在**网站管理** | **课程** | **管理课程和类别**下。您必须在相应的**设置**下拉菜单中选择**权限**，并从熟悉的下拉菜单中选择**分配角色**。相同的机制适用于子类别、子子类别等等。'
- en: A typical role that’s assigned in the **Course category** context is the **Course
    creator** role. It allows a dedicated user to create new courses within the specified
    category, often a department or division. The standard **Course creator** role
    does not include teacher capabilities; that is, a course creator cannot edit any
    course content. In smaller organizations, it may be required to grant the **Teacher**
    role access to all the courses within the category.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在**课程类别**上下文中分配的典型角色是**课程创建者**角色。它允许指定用户在指定的类别内创建新课程，通常是部门或部门。标准的**课程创建者**角色不包括教师能力；也就是说，课程创建者不能编辑任何课程内容。在较小的组织中，可能需要授予**教师**角色访问类别内所有课程的权限。
- en: Moving down a level, we reach the **Course** context.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 向下移动一个级别，我们到达**课程**上下文。
- en: Course context
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 课程上下文
- en: As the name suggests, all role assignments in a course are granted in the **Course**
    context. The assignment takes place in the actual course, which we already came
    across in [*Chapter 4*](B18779_04.xhtml#_idTextAnchor074), *Managing Courses and
    Enrolments*, when we dealt with enrolments.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，课程中的所有角色分配都是在**课程**上下文中授予的。分配发生在实际的课程中，我们在[*第4章*](B18779_04.xhtml#_idTextAnchor074)，“管理课程和注册”中已经遇到，当时我们讨论了注册。
- en: Important note
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 重要注意事项
- en: Enrolments in courses are treated as roles in the **Course** context.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在**课程**上下文中，课程注册被视为角色。
- en: 'As enrolments contain some unique options (start date, end date, and the suspension
    option), and because these enrolments are often carried out by (non-technical)
    teaching staff, a different user interface has been implemented. However, within
    a course, when you go to **Participants** | **Enrolment methods** and then click
    on the **Enrol users** icon in the **Edit** column of the **Manual enrolments**
    method, you will see a familiar-looking screen. We covered the additional expiry
    options shown in the center of the screen when we covered enrolments:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 由于注册包含一些独特的选项（开始日期、结束日期和暂停选项），并且因为这些注册通常由（非技术性）教学人员执行，因此已经实现了不同的用户界面。然而，在课程内，当您转到**参与者**|**注册方法**，然后点击**手动注册**方法编辑列中的**注册用户**图标时，您将看到一个看起来熟悉的屏幕。我们已经在讨论注册时覆盖了屏幕中央显示的附加过期选项：
- en: '![Figure 6.6 – Course context I ](img/Figure_6.06_B18779.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![图6.6 – 课程上下文I](img/Figure_6.06_B18779.jpg)'
- en: Figure 6.6 – Course context I
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.6 – 课程上下文I
- en: When a student is enrolled in a course, either by self-enrolment or any other
    enrolment mechanism, Moodle automatically assigns the **Student** role in the
    relevant **Course** context. This also applies if you upload users in batch mode
    and specify a course to which a user has to be enrolled.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 当学生通过自我注册或任何其他注册机制注册课程时，Moodle会自动在相关的**课程**上下文中分配**学生**角色。这也适用于您批量上传用户并指定用户必须注册的课程的情况。
- en: 'If you have to assign roles to users who are not enrolled but have a role in
    the course, select **Other users** from the drop-down in the **Participants**
    menu and click on the **Assign roles** button. This applies to the **Manager**
    role, for instance, or a newly-created role, such as supervisor teacher. You will
    see a list of users who are not enrolled in the course but have inherited or assigned
    roles:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您必须为未注册但已在课程中拥有角色的用户分配角色，请从**参与者**菜单中的下拉列表中选择**其他用户**，然后点击**分配角色**按钮。这适用于**管理员**角色，例如，或一个新创建的角色，如主管教师。您将看到未注册课程但已继承或分配角色的用户列表：
- en: '![Figure 6.7 – Course context II ](img/Figure_6.07_B18779.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![图6.7 – 课程上下文II](img/Figure_6.07_B18779.jpg)'
- en: Figure 6.7 – Course context II
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.7 – 课程上下文II
- en: There is one level missing in the context level hierarchy, which deals with
    modules and blocks.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在上下文级别层次结构中缺失一个级别，它处理模块和块。
- en: Module context
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 模块上下文
- en: 'Once you are inside a course, it is possible to assign roles to users for individual
    modules – that is, resources and activities. When you select a module, there is
    a **Permissions** link in the **More** menu with three roles-related options.
    **Locally assigned roles** will lead to the familiar screen to **Assign roles**.
    **Permissions** and **Check permissions** let you change the inherited roles and
    verify the roles of the individual users. We will deal with this later in this
    chapter:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您进入一门课程，就可以为个人模块分配用户角色——即资源和活动。当您选择一个模块时，在**更多**菜单中有一个**权限**链接，包含三个与角色相关的选项。**本地分配的角色**将引导您进入熟悉的**分配角色**屏幕。**权限**和**检查权限**允许您更改继承的角色并验证个别用户的角色。我们将在本章后面讨论这个问题：
- en: '![Figure 6.8 – Module context ](img/Figure_6.08_B18779.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![图6.8 – 模块上下文](img/Figure_6.08_B18779.jpg)'
- en: Figure 6.8 – Module context
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.8 – 模块上下文
- en: Teachers often use role assignments in the **Module context** to grant or revoke
    additional rights to their students. A regularly cited example is that of a forum
    moderator. If you wish to put students in charge of a forum to help them learn
    how to moderate discussions, they require the rights to edit and delete posts
    (among others). These rights are part of the **Teacher** role, and it is perfectly
    feasible to assign a **Teacher** role to a student in a single activity. Just
    make sure they cannot grade any exams!
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 教师经常在**模块上下文**中使用角色分配来授予或撤销学生的额外权利。一个经常引用的例子是论坛管理员。如果您希望让学生负责论坛以帮助他们学习如何管理讨论，他们需要编辑和删除帖子（以及其他）的权利。这些权利是**教师**角色的一部分，并且将**教师**角色分配给单个活动中的学生是完全可行的。只需确保他们不能评分任何考试！
- en: By default, users with a **Teacher** role have the right to assign roles in
    the **Module** context. However, it is often up to the Moodle administrator to
    carry out the task on their behalf due to the complexity of the roles system.
    The same applies to the **Block** context, which will be covered next.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，具有**教师**角色的用户有权在**模块**上下文中分配角色。然而，由于角色系统的复杂性，通常由Moodle管理员代表他们执行此任务。同样适用于**块**上下文，将在下一节中介绍。
- en: Block context
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 块上下文
- en: 'The **Block** context allows the rights to be assigned at the block level,
    which is located within a course’s block drawer. You will see an **Assign roles
    in <blockname> block** link in the drop-down menu (editing must be turned on):'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**块**上下文允许在块级别分配权限，它位于课程的块抽屉内。您将在下拉菜单中看到**在<blockname>块中分配角色**链接（必须开启编辑模式）：'
- en: '![Figure 6.9 – Block context ](img/Figure_6.09_B18779.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图6.9 – 块上下文](img/Figure_6.09_B18779.jpg)'
- en: Figure 6.9 – Block context
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.9 – 块上下文
- en: By default, your system doesn’t contain a role that has been granted rights
    to be assigned in the **Block** context; as a result, the link will be hidden.
    We will deal with modifying roles later on.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，您的系统不包含一个在**块**上下文中被授予分配权限的角色；因此，链接将被隐藏。我们将在稍后处理修改角色的问题。
- en: It is possible to control the users who can view blocks. Suppose there is a
    block that guests are not allowed to see. To hide that block, access the `moodle/block:view`
    capability. Alternatively, you can select the **Guest** role from the **Advanced
    role override** drop-down list and the mentioned capability to **Prevent**. We
    will deal with capabilities later in this chapter.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 可以控制可以查看块的用戶。假设有一个不允许访客查看的块。要隐藏该块，访问`moodle/block:view`能力。或者，您可以从**高级角色覆盖**下拉列表中选择**访客**角色，并将提到的能力设置为**阻止**。我们将在本章稍后处理能力。
- en: The same mechanism also applies to blocks throughout the system, whether on
    the dashboard, the profile page, a course, or inside activities. It also applies
    to blocks on the home page, which is covered by the **Front** **page** context.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 同样的机制也适用于整个系统中的块，无论是在仪表板、个人资料页面、课程中还是在活动内部。它也适用于主页上的块，这些块由**首页**上下文覆盖。
- en: Front page context
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 首页上下文
- en: In Moodle, the home page is covered by the **Front page** context. The front
    page is like a course and, at the same time, not like a course. In other words,
    it is a special course! This idiosyncrasy is also the reason why the **Front page**
    context is referred to as the **Site** **course** context.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在Moodle中，主页由**首页**上下文覆盖。首页就像一门课程，同时又不完全像一门课程。换句话说，它是一门特殊的课程！这种独特性也是为什么**首页**上下文被称为**站点****课程**上下文的原因。
- en: The **Front page** context has the **System** context as the parent and, like
    the **Course** context, **Module** and **Block** as the sub-contexts. This familiar
    interface can be accessed via the **Assigned roles** link in the **Permissions**
    drop-down in the **Participants** section.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**首页**上下文以**系统**上下文为父上下文，类似于**课程**上下文，**模块**和**块**为子上下文。这个熟悉的界面可以通过**参与者**部分中的**权限**下拉菜单中的**分配的角色**链接访问。'
- en: A typical user in the **Front page** context is a designer, who is responsible
    for the layout and content of the front page of the Moodle system. When assigned,
    only the **Front page** menu and its submenus are accessible. Most sites apply
    either the **Teacher** role or create a dedicated designer role.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在**首页**上下文中的典型用户是设计师，他们负责Moodle系统首页的布局和内容。当分配时，只有**首页**菜单及其子菜单是可访问的。大多数网站应用**教师**角色或创建一个专门的设计师角色。
- en: User context
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 用户上下文
- en: The **User** context is a standalone context with only the **System** context
    as the parent. It deals with all the issues relating to users outside courses,
    and it includes the user’s profile, learning plans, forum posts, blog entries,
    notes, reports, logs, and grades.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**用户**上下文是一个独立的上下文，只有**系统**上下文作为其父上下文。它处理与课程外的所有用户相关的问题，包括用户的个人资料、学习计划、论坛帖子、博客条目、笔记、报告、日志和成绩。'
- en: 'Roles are assigned in the user’s profile, where you must select **Preferences**
    from the **Administration** pane. The **Assign roles relative to this user** link
    *does not appear by default!* You need to have a role that can be assigned in
    the **User** context. None of the predefined roles make sense to be applied in
    such a way, which is why this only applies to user-defined roles. An often-cited
    example of a custom role to be applied in the **User** context is the **Parent/Mentor**
    role, which we will deal with in the *Creating custom roles* section later in
    this chapter:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 角色是在用户的个人资料中分配的，您必须从**管理**面板中选择**偏好设置**。**相对于此用户分配角色**链接**默认情况下不会出现**！您需要拥有可以在**用户**上下文中分配的角色。没有任何预定义的角色适用于这种方式，这就是为什么这仅适用于用户定义的角色。一个常被引用的、在**用户**上下文中应用的自定义角色示例是**家长/导师**角色，我们将在本章后面的**创建自定义角色**部分处理它：
- en: '![Figure 6.10 – User context ](img/Figure_6.10_B18779.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![图6.10 – 用户上下文](img/Figure_6.10_B18779.jpg)'
- en: Figure 6.10 – User context
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.10 – 用户上下文
- en: Roles assigned in the **User** context will only have access to information
    that’s accessible from the user screen. They will not have access to any courses.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在**用户**上下文中分配的角色将只能访问从用户屏幕可访问的信息。他们将无法访问任何课程。
- en: Moodle also supports assigning roles to cohorts (**Site administration** | **Users**
    | **Permissions** | **Assign user roles to cohort**), which effectively automates
    manually assigning roles in the **User** context. This feature is useful in setups
    where supervisors are responsible for groups of learners.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle还支持将角色分配给群体（**站点管理** | **用户** | **权限** | **将用户角色分配给群体**），这实际上在**用户**上下文中手动分配角色。这个功能在主管负责学习小组的设置中非常有用。
- en: Multiple roles
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 多个角色
- en: It is common for users to be assigned to more than one role. For example, a
    class teacher is also made course creator for the year group they are responsible
    for (the **Course category** context), they are in charge of the Moodle administration
    (**Site**), they act as a support teacher in a different class (**Course**), or
    they are the parent of a child (**User**). Every logged-in user is automatically
    assigned the **Authenticated user** role in the **System** context. We will deal
    with this later in this chapter.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 用户被分配到多个角色是很常见的。例如，一个班级教师也被指定为负责的年级组的课程创建者（**课程类别**上下文），他们负责Moodle管理（**站点**），他们在不同的班级中担任支持教师（**课程**），或者他们是孩子的家长（**用户**）。每个登录用户都会自动在**系统**上下文中被分配**认证用户**角色。我们将在本章后面处理这个问题。
- en: A significant part of the roles infrastructure in Moodle is the ability to simultaneously
    assign multiple roles to a user. In our initial building example, the equivalent
    is a floor manager in charge of a particular floor level, temporarily covering
    the ground floor during holidays.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle的角色基础设施的一个重要部分是能够同时将多个角色分配给一个用户。在我们最初的建筑示例中，等效的是负责特定楼层水平的楼层经理，在假期期间临时负责一楼。
- en: As discussed earlier, the actual context has to be selected to specify an additional
    role. You will then be able to assign additional roles as necessary.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，必须选择实际上下文以指定一个额外的角色。然后，您将能够根据需要分配额外的角色。
- en: The problem is the potential for conflicts, which Moodle has to resolve. For
    example, if one role can delete a forum post and another one doesn’t, but a user
    has been assigned both roles in the same context, which right applies? While Moodle
    has a built-in resolution mechanism for these conflicts, it is best to avoid such
    scenarios altogether.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 问题在于潜在的冲突，Moodle必须解决这些冲突。例如，如果一个角色可以删除论坛帖子，而另一个角色不能，但一个用户在同一个上下文中被分配了这两个角色，哪个权利适用？虽然Moodle内置了解决这些冲突的机制，但最好完全避免此类场景。
- en: It is technically possible to assign two or more roles to the same user in the
    same context. It is hard to think of situations where such a setup would make
    sense.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在同一个上下文中将两个或多个角色分配给同一个用户在技术上是有可能的。很难想象出这种设置会有意义的场景。
- en: Tip
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: The inner workings of the built-in permission resolution mechanism are well-documented
    in the *Conflict resolution of permissions* section at [docs.moodle.org/en/Override_permissions](http://docs.moodle.org/en/Override_permissions).
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 内置权限解析机制的内部工作原理在[docs.moodle.org/en/Override_permissions](http://docs.moodle.org/en/Override_permissions)的*权限冲突解决*部分有很好的文档记录。
- en: This concludes this section on role assignments. Roles are made up of capabilities,
    which we will tackle next.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了关于角色分配的部分。角色由能力组成，我们将在下一部分处理。
- en: Understanding capabilities
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解能力
- en: So far, we have assigned existing roles to users in different Moodle contexts.
    In the following few pages, we will look inside a role where capabilities dictate
    what functionality is allowed and what isn’t. Remember, a role is a collection
    of capabilities with corresponding permissions. Once we have understood capabilities,
    we can modify existing roles and create entirely new ones.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经将现有角色分配给了不同Moodle上下文中的用户。在接下来的几页中，我们将深入了解一个角色，其中能力决定了允许和禁止的功能。记住，角色是一组具有相应权限的能力。一旦我们理解了能力，我们就可以修改现有角色并创建全新的角色。
- en: Role definitions
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 角色定义
- en: 'The existing roles can be accessed via **Site administration** | **Users**
    | **Permissions** | **Define roles**. The screen shown is the one from earlier
    when we explored Moodle’s predefined roles. When you click on a role name, its
    composition is shown. You might recall the role element shown in *Figure 6**.1*.
    Let’s zoom in on the role to see what its elements are:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过**站点管理** | **用户** | **权限** | **定义角色**访问现有角色。显示的屏幕是我们之前探索Moodle预定义角色时的屏幕。当你点击一个角色名称时，会显示其组成。你可能还记得*图6**.1*中显示的角色元素。让我们放大角色，看看它的元素：
- en: '![Figure 6.11 – Role structure ](img/Figure_6.11_B18779.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![图6.11 – 角色结构](img/Figure_6.11_B18779.jpg)'
- en: Figure 6.11 – Role structure
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.11 – 角色结构
- en: Each role contains a unique **Short name** (utilized in batch operations), a
    **Custom full name**, and an optional **Custom description**. The **Role archetype**
    field specifies which permissions are set if the role is reset to its default
    value. This setting further determines what values any new permissions will have
    when introduced in future versions of Moodle. These settings will then be applied
    during the update process.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 每个角色包含一个唯一的**短名称**（用于批量操作）、一个**自定义完整名称**和一个可选的**自定义描述**。**角色原型**字段指定如果将角色重置为其默认值，将设置哪些权限。此设置进一步确定在Moodle未来版本中引入任何新权限时将具有哪些值。这些设置将在更新过程中应用。
- en: The **Context types where this role may be assigned** field is set to the context
    in which the role will be allowed as an option. This restriction reduces the risk
    of assigning roles in contexts where they shouldn’t. We encountered this when
    we tried to assign roles in the **Block** or **User** context, and Moodle prevented
    us from doing so.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**此角色可能被分配的上下文类型**字段设置为允许将角色作为选项的上下文。这种限制减少了在不应分配角色的上下文中分配角色的风险。当我们尝试在**块**或**用户**上下文中分配角色时，Moodle阻止了我们这样做。'
- en: The next four fields (**Allow role assignments**, **Allow role overrides**,
    **Allow role switches**, and **Allow role to view**) show which roles users assigned
    the current role are allowed to assign, override, switch, and view, respectively.
    The **Role risks** field indicates which of the six available dangers the current
    role has. All this information will make more sense once we have dealt with roles
    in more detail.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的四个字段（**允许角色分配**、**允许角色覆盖**、**允许角色切换**和**允许角色查看**）显示当前角色被分配的用户可以分别分配、覆盖、切换和查看哪些角色。**角色风险**字段指示当前角色具有六个可用风险中的哪一个。一旦我们更详细地处理了角色，所有这些信息都将更有意义。
- en: In addition to these parameters, each role consists of a large number of capabilities.
    Moodle’s role system currently has approximately 450 (!) of them, and Moodle Workplace
    adds another 50+. If you have installed plugins, this number might even be higher.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些参数之外，每个角色还包含大量能力。Moodle的角色系统目前大约有450个（！）个，Moodle Workplace增加了50多个。如果你安装了插件，这个数字可能更高。
- en: Important note
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: A capability is a permissible action of a particular Moodle feature.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 能力是特定Moodle功能的允许动作。
- en: 'Each capability represents a legitimate Moodle action and is displayed as a
    single row in the list of all the capabilities. To simplify searching for capabilities,
    use the **Filter** option so that only the capabilities that match the filter
    criterion are shown (covering the name as well as the description):'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 每个能力代表一个合法的 Moodle 操作，并在所有能力的列表中以单行显示。为了简化对能力的搜索，请使用**筛选**选项，以便只显示与筛选标准匹配的能力（包括名称和描述）：
- en: '![Figure 6.12 – Capabilities ](img/Figure_6.12_B18779.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.12 – 能力](img/Figure_6.12_B18779.jpg)'
- en: Figure 6.12 – Capabilities
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.12 – 能力
- en: 'Each capability has the following components:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 每个能力都有以下组件：
- en: '**Description**: The description, for example, **Upload new users from file**,
    provides a short explanation of the capability. Clicking a capability opens the
    online Moodle documentation for that capability in a separate browser window.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：例如，**从文件上传新用户**的描述提供了对能力的简短解释。点击能力将在单独的浏览器窗口中打开该能力的在线 Moodle 文档。'
- en: '`moodle/site:upload users`, follows a strict naming convention, `level/type:function`,
    which identifies the capability in the overall role system. The level states which
    part of Moodle the capability belongs to (such as `moodle`, `mod`, `block`, `tool`,
    `enrol`, or `wp`). The type is the capability class, and the function identifies
    the actual action.'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`moodle/site:upload users`遵循严格的命名约定，`level/type:function`，这标识了能力在整个角色系统中的位置。级别表示能力属于
    Moodle 的哪个部分（例如`moodle`、`mod`、`block`、`tool`、`enrol`或`wp`）。类型是能力类，而功能标识了实际的操作。'
- en: '**Permission**: The permission of each capability has to have one of the four
    values explained in the following table:'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**权限**：每个能力的权限必须具有以下表中解释的四个值之一：'
- en: '![Figure 6.13 – Permissions ](img/Figure_6.13_B18779.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.13 – 权限](img/Figure_6.13_B18779.jpg)'
- en: Figure 6.13 – Permissions
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.13 – 权限
- en: Important note
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Principally, permissions at lower contexts override permissions at higher contexts.
    The exception is **Prohibit**, which, by definition, cannot be overridden at lower
    levels.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 主要来说，低层级的权限会覆盖高层级的权限。例外的是**禁止**，根据定义，在低级别无法覆盖。
- en: '**Risks**: Moodle displays the risks associated with each capability – that
    is, the risks that each capability can potentially raise. They can be any combination
    of the following six risk types:'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**风险**：Moodle 显示与每个能力相关的风险 – 即每个能力可能引发的风险。它们可以是以下六种风险类型的任何组合：'
- en: '![Figure 6.14 – Risks ](img/Figure_6.14_B18779.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.14 – 风险](img/Figure_6.14_B18779.jpg)'
- en: Figure 6.14 – Risks
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.14 – 风险
- en: Important note
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Risks are only displayed; it is impossible to change these settings since they
    only act as warnings. The **Risks** documentation page is opened in a separate
    browser window when clicking on a **Risk** icon.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 风险仅显示；由于它们仅作为警告，因此无法更改这些设置。当点击**风险**图标时，**风险**文档页面将在单独的浏览器窗口中打开。
- en: 'Moodle’s default roles have been designed with the following capability risks
    in mind:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 的默认角色已考虑到以下能力风险而设计：
- en: '**Administrator**: All capabilities, with a few exceptions'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理员**：所有能力，除少数例外'
- en: '**Teacher**: Certain capabilities with XSS and privacy risks, mainly adding
    and updating content'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教师**：某些具有 XSS 和隐私风险的能力，主要是添加和更新内容'
- en: '**Student**: Certain capabilities with spam risks'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**学生**：某些具有垃圾邮件风险的能力'
- en: '**Guest**: Only capabilities with no risks'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**访客**：只有无风险的能力'
- en: Now that we have covered the ingredients of roles, let’s start modifying them.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经涵盖了角色的成分，让我们开始修改它们。
- en: Modifying roles
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 修改角色
- en: 'To edit a role, click on the **Edit** button at the top of the view role details
    screen or select the appropriate icon in the **Edit** column on the main roles
    screen:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 要编辑角色，请点击查看角色详情屏幕顶部的**编辑**按钮或在主角色屏幕的**编辑**列中选择适当的图标：
- en: '![Figure 6.15 – Role operations ](img/Figure_6.15_B18779.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.15 – 角色操作](img/Figure_6.15_B18779.jpg)'
- en: Figure 6.15 – Role operations
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.15 – 角色操作
- en: You can change the standard fields and their permissions when editing a role.
    For example, some schools change the **Student** role name to **Pupil**, while
    some training organizations change **Teacher** to **Instructor**. In Moodle Workplace,
    the two roles have been relabeled to **Learner** and **Trainer**, respectively.
    Bear in mind that this only changes the name of the role, not the corresponding
    labels used throughout Moodle. You will learn how to do this in the *Managing
    localization* section in [*Chapter 10*](B18779_10.xhtml#_idTextAnchor204), *Configuring*
    *Technical Features*.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在编辑角色时，您可以更改标准字段及其权限。例如，一些学校将**学生**角色名称更改为**小学生**，而一些培训机构将**教师**更改为**讲师**。在Moodle
    Workplace中，这两个角色分别被重新标记为**学习者**和**培训师**。请注意，这仅更改了角色的名称，并没有更改Moodle中使用的相应标签。您将在第10章的*管理本地化*部分中学习如何做到这一点，*配置*
    *技术功能*。
- en: 'When you change capabilities in a role derived from a `moodle/user:viewdetails`
    capability, and change it from **Allow** to **Not set**. Now, **Not set** is selected,
    but the **Allow** value remains highlighted; do not forget to save your role changes
    once applied:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 当您更改从`moodle/user:viewdetails`能力派生的角色的功能，并将其从**允许**更改为**未设置**。现在，**未设置**被选中，但**允许**值仍然突出显示；一旦应用，不要忘记保存您的角色更改：
- en: '![Figure 6.16 – Role operations ](img/Figure_6.16_B18779.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![图6.16 – 角色操作](img/Figure_6.16_B18779.jpg)'
- en: Figure 6.16 – Role operations
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.16 – 角色操作
- en: Unless you are confident with role modifications, it is recommended to duplicate
    a role first (via the **Export** functionality at the top of the screen in *Figure
    6**.16* and by creating a new role described further down) and then edit it. Keeping
    the default roles untouched makes maintenance more manageable if multiple administrators
    work on the same system or a third party provides support.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不熟悉角色修改，建议首先复制一个角色（通过*图6.16*顶部屏幕的**导出**功能以及创建以下部分中描述的新角色）然后进行编辑。保持默认角色不变，如果多个管理员在同一系统上工作或第三方提供支持，则维护会更加容易。
- en: Important note
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: It is not possible to modify the **Administrator** role via the Moodle interface.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 无法通过Moodle界面修改**管理员**角色。
- en: Modifying roles can often be avoided using the role’s overriding mechanism,
    which we will cover in the next section.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 通过角色的覆盖机制，通常可以避免修改角色，我们将在下一节中介绍这一机制。
- en: Overriding roles
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 覆盖角色
- en: It is possible to override the permissions of a role in a given context. Picture
    the context hierarchy where a role definition has taken place at the top level.
    At a lower level, say category or course, you now wish to modify the permissions
    of that role. Role overrides facilitate precisely that.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在给定上下文中，可以覆盖角色的权限。想象一下上下文层次结构，其中角色定义发生在顶级。在较低级别，例如类别或课程，您现在希望修改该角色的权限。角色覆盖正是为此而设计的。
- en: Important note
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Overrides are permissions designed to change a role in a specific context, allowing
    you to tweak your permissions as required. Tweaking involves granting additional
    or revoking existing rights.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖是设计来更改特定上下文中的角色的权限，允许您根据需要调整权限。调整涉及授予额外权限或撤销现有权限。
- en: 'Using the **Permissions** link in the familiar dropdown with the same name,
    you can see which role has been given or has inherited which permission for any
    of the capabilities of the current context (here, an assignment in the Module
    context):'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 使用与名称相同的熟悉下拉菜单中的**权限**链接，您可以查看当前上下文（在此处，模块上下文中的作业）的任何功能已被授予或继承了哪些角色权限：
- en: '![Figure 6.17 – Overriding roles I ](img/Figure_6.17_B18779.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![图6.17 – 覆盖角色I](img/Figure_6.17_B18779.jpg)'
- en: Figure 6.17 – Overriding roles I
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.17 – 覆盖角色I
- en: The number shown in brackets indicates the number of overrides for each role.
    In the **Roles with permission** column, you can remove a role for each capability
    (using the standard **Delete** icon) or select a role to be added to the list
    of allowed roles (via the **+** symbol). The same applies to the **Prohibited**
    column.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 括号中显示的数字表示每个角色的覆盖次数。在**具有权限的角色**列中，您可以为每个功能（使用标准的**删除**图标）删除一个角色，或选择要添加到允许的角色列表中的角色（通过**+**符号）。同样适用于**禁止**列。
- en: 'Once you select a role from the `mod:assign/grade`) from its inherited value
    of **Not set** to **Allow**:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您从`mod:assign/grade`)将其继承的**未设置**值更改为**允许**：
- en: '![Figure 6.18 – Overriding roles II ](img/Figure_6.18_B18779.jpg)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![图6.18 – 覆盖角色II](img/Figure_6.18_B18779.jpg)'
- en: Figure 6.18 – Overriding roles II
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.18 – 覆盖角色II
- en: Any changes to the roles system are highlighted, and datetime stamps are shown
    at the top of the screen.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 任何对角色系统的更改都会在屏幕顶部突出显示，并显示时间戳。
- en: 'Overrides can also be used to deny functionality in that context and remove
    permissions from users. For example, while learners with the role of student in
    a course are usually allowed to start new discussions in forums, there is one
    particular forum for which you want to restrict that capability: you can set an
    override that prevents the capability for students to start new threads in this
    forum (`mod/forum:startdiscussion`).'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖也可以用于在该上下文中拒绝功能并从用户中移除权限。例如，在课程中具有学生角色的学习者通常允许在论坛中开始新的讨论，但有一个特定的论坛你想限制这种能力：你可以设置一个覆盖，防止学生在这个论坛中开始新的帖子（`mod/forum:startdiscussion`）。
- en: So far, we have understood the composition of roles and learned how to modify
    and override capabilities at different levels in the context hierarchy. Now, it
    is time to create our first custom role.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经了解了角色的组成，并学习了如何在上下文层次结构的不同级别中修改和覆盖功能。现在，是时候创建我们的第一个自定义角色了。
- en: Creating custom roles
  id: totrans-193
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建自定义角色
- en: Moodle allows you to create new roles. Examples of such custom roles are parent,
    teaching assistant, secretary, inspector, and librarian in an educational setting
    and training coordinator, assessor, mentor, or staff manager in a business context.
    New roles can be defined by going to **Site administration** | **Users** | **Permissions**
    | **Define roles** and using the **Add a new** **role** button.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 允许你创建新的角色。在教育环境中，这些自定义角色的例子包括家长、教学助理、秘书、检查员和图书管理员；在商业环境中，则包括培训协调员、评估员、导师或员工经理。你可以通过访问**网站管理**
    | **用户** | **权限** | **定义角色**并使用**添加新角色**按钮来定义新角色。
- en: 'Before you get to the familiar role-editing screen, you have three options
    to choose from:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在你到达熟悉的角色编辑屏幕之前，你有三个选项可以选择：
- en: '**Use role or archetype**: Using an existing role or role archetype as a basis
    is commonly used to create a new role. It minimizes the amount of work required
    and reduces errors in creating new roles.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用角色或原型**：使用现有的角色或角色原型作为基础是创建新角色时常用的方法。这可以最大限度地减少所需的工作量并减少创建新角色时的错误。'
- en: '**Use role preset**: Import a role (in XML format) that has been exported either
    in your Moodle instance or another system (using the **Export** button when viewing
    role details).'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用角色预设**：导入一个（以 XML 格式）已导出在你的 Moodle 实例或另一个系统中的角色（使用查看角色详细信息时的**导出**按钮）。'
- en: '**No selection**: Create a role from scratch without any presets or inherited
    archetypes:'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无选择**：从头开始创建一个没有任何预设或继承原型的角色：'
- en: '![Figure 6.19 – Adding a new role ](img/Figure_6.19_B18779.jpg)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.19 – 添加新角色](img/Figure_6.19_B18779.jpg)'
- en: Figure 6.19 – Adding a new role
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.19 – 添加新角色
- en: Make sure that you specify **Context types where this role may be assigned**.
    If you miss a context, assigning the role will not be possible. If you allow a
    context that is not suitable for the role, you run the risk that it will potentially
    cause problems.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你指定**此角色可能分配的上下文类型**。如果你遗漏了某个上下文，将无法分配该角色。如果你允许不适合该角色的上下文，你可能会面临潜在问题的风险。
- en: Let’s look at some example roles you might want to add to your Moodle system.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一些你可能想要添加到你的 Moodle 系统中的示例角色。
- en: Example roles
  id: totrans-203
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例角色
- en: 'Moodle Docs has provided several sample roles that might be relevant to your
    organization ([docs.moodle.org/en/Creating_custom_roles](http://docs.moodle.org/en/Creating_custom_roles)).
    If not, they offer a good starting point for you to create other roles. Some valuable
    examples are as follows:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle Docs 提供了几个可能与你的组织相关的示例角色（[docs.moodle.org/en/Creating_custom_roles](http://docs.moodle.org/en/Creating_custom_roles)）。如果没有，它们为你创建其他角色提供了一个良好的起点。以下是一些有价值的示例：
- en: '**Calendar editor**: This role enables users to add site events to the calendar
    (for more details, refer to [docs.moodle.org/en/Calendar_editor_role](http://docs.moodle.org/en/Calendar_editor_role))'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日历编辑器**：此角色允许用户将网站事件添加到日历中（更多详情，请参阅 [docs.moodle.org/en/Calendar_editor_role](http://docs.moodle.org/en/Calendar_editor_role)）'
- en: '**Demo teacher**: This role is used to provide a demonstration teacher an account
    that has a password and profile that cannot be changed ([docs.moodle.org/en/Demo_teacher_role](http://docs.moodle.org/en/Demo_teacher_role))'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**演示教师**：此角色用于为演示教师提供一个账户，该账户具有无法更改的密码和资料（[docs.moodle.org/en/Demo_teacher_role](http://docs.moodle.org/en/Demo_teacher_role)）'
- en: '**Forum moderator**: This role is used in a particular forum and allows users
    to edit or delete forum posts, split discussions, and move discussions to other
    forums ([docs.moodle.org/en/Forum_moderator_role](http://docs.moodle.org/en/Forum_moderator_role))'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**论坛管理员**：此角色用于特定论坛，允许用户编辑或删除论坛帖子、分割讨论并将讨论移动到其他论坛([docs.moodle.org/en/Forum_moderator_role](http://docs.moodle.org/en/Forum_moderator_role))'
- en: '**Learning plan viewer**: This role allows teachers to view their students’
    learning plans ([docs.moodle.org/en/Learning_plan_viewer](http://docs.moodle.org/en/Learning_plan_viewer))'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**学习计划查看器**：此角色允许教师查看学生的学习计划([docs.moodle.org/en/Learning_plan_viewer](http://docs.moodle.org/en/Learning_plan_viewer))'
- en: '**Question creator**: This role enables students to create questions for use
    in quizzes ([docs.moodle.org/en/Question_creator_role](http://docs.moodle.org/en/Question_creator_role))'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**问题创建者**：此角色使学生能够创建用于测验的问题([docs.moodle.org/en/Question_creator_role](http://docs.moodle.org/en/Question_creator_role))'
- en: '**Question sharer**: This role allows teachers to access and share questions
    at the category or site level ([docs.moodle.org/en/Question_creator_role](http://docs.moodle.org/en/Question_creator_role))'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**问题分享者**：此角色允许教师访问和分享在类别或网站级别的问题([docs.moodle.org/en/Question_creator_role](http://docs.moodle.org/en/Question_creator_role))'
- en: One prominent entry that’s missing from the list is the infamous parent or mentor
    role, which we will be creating step by step in the following subsection.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 列表中缺少的一个突出条目是臭名昭著的家长或导师角色，我们将在以下小节中逐步创建。
- en: The parent/mentor role
  id: totrans-212
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 家长/导师角色
- en: One of the most popular and sought-after custom roles in Moodle is the one of
    a parent, guardian, or mentor. The idea is to grant permission to users to view
    certain profile information, such as activity reports, grades, learning plans,
    blog entries, and forum posts regarding their children, wards, or mentees. It
    also allows the assignee to consent to policies on someone’s behalf (see [*Chapter
    14*](B18779_14.xhtml#_idTextAnchor271), *Complying with Data Protection Regulations*).
    Furthermore, the specially-introduced **Mentees** block has to be placed on the
    front page to give users who have been assigned the role access to the **User**
    context.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle中最受欢迎和最受欢迎的自定义角色之一是家长、监护人或导师的角色。其想法是授予用户查看某些个人资料信息的权限，例如活动报告、成绩、学习计划、博客条目和关于他们的孩子、受抚养人或指导者的论坛帖子。它还允许受托人代表某人同意政策（见[*第14章*](B18779_14.xhtml#_idTextAnchor271)，*遵守数据保护法规*）。此外，特别引入的**受指导者**块必须放置在首页上，以便分配了该角色的用户能够访问**用户**上下文。
- en: 'To create a new role, follow these steps:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建新角色，请按照以下步骤操作：
- en: Go to **Site administration** | **Users** | **Permissions** | **Define roles**.
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**网站管理** | **用户** | **权限** | **定义角色**。
- en: Click **Add a new role**, continue to the next screen, and name it **Parent**
    or **Mentor**. Provide an appropriate **Short name** and **Custom description**.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新角色**，继续到下一屏幕，并将其命名为**家长**或**导师**。提供适当的**简称**和**自定义描述**。
- en: Leave the **Role archetype** type set to **None** and select the **User** checkbox
    for the **Context types where this role may be** **assigned** field.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**角色原型**类型设置为**无**，并选择**上下文类型**字段中的**用户**复选框，其中此角色可以**分配**。
- en: 'Change the capabilities shown in the following screenshot to **Allow**:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下截图中的功能设置为**允许**：
- en: '![Figure 6.20 – Modified capabilities for the parent role ](img/Figure_6.20_B18779.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![图6.20 – 修改后的家长角色功能](img/Figure_6.20_B18779.jpg)'
- en: Figure 6.20 – Modified capabilities for the parent role
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.20 – 修改后的家长角色功能
- en: Save the role using the **Create this** **role** button.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**创建此角色**按钮保存角色。
- en: 'Each parent requires a separate user account, which must be created either
    manually or in bulk. In our example, the caring and loving father is **Ozzy Harris**,
    and his children are **Kelly Harris** and **Jack Harris**:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个家长都需要一个单独的用户账户，该账户必须手动创建或批量创建。在我们的例子中，关爱和慈爱的父亲是**Ozzy Harris**，他的孩子是**Kelly
    Harris**和**Jack Harris**：
- en: '![Figure 6.21 – Parent and children accounts ](img/Figure_6.21_B18779.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![图6.21 – 家长和子账户](img/Figure_6.21_B18779.jpg)'
- en: Figure 6.21 – Parent and children accounts
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.21 – 家长和子账户
- en: 'Each parent must be linked to each child (again, manually or in batch). To
    do so, follow these steps:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个家长都必须与每个孩子（再次，手动或批量）关联。要这样做，请按照以下步骤操作：
- en: Access the first child’s profile page, select the **Preferences** link in the
    **Administration** pane, and click on **Assign roles relative to** **this user**.
  id: totrans-226
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问第一个孩子的个人资料页面，在**管理**面板中选择**偏好设置**链接，然后点击**相对于此用户**分配角色。
- en: Choose **Parent** as the role to assign.
  id: totrans-227
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**家长**作为要分配的角色。
- en: Select the parent (**Ozzy Harris**) from the **Potential users** list and add
    him to the **Existing users** list. Repeat these steps for all kids.
  id: totrans-228
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**潜在用户**列表中选择父亲（**Ozzy Harris**），并将其添加到**现有用户**列表中。为所有孩子重复这些步骤。
- en: If a mentor has many mentees, you can add them to a cohort and automate the
    role assignment (**Site administration** | **Users** | **Permissions** | **Assign
    user roles to cohort**). While this is unlikely to happen in a family context,
    it might be helpful in other setups, such as supervision. We covered this option
    when we dealt with user contexts earlier.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个导师有多个指导学员，你可以将他们添加到一个群体中，并自动分配角色（**站点管理** | **用户** | **权限** | **将用户角色分配给群体**）。虽然这种情况在家庭环境中不太可能发生，但在其他设置中，如监督中，可能会有所帮助。我们在之前处理用户环境时已经覆盖了此选项。
- en: 'A special **Mentees** block has been introduced to facilitate access to user
    information:'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了方便访问用户信息，引入了一个特殊的**指导学员**块：
- en: Go to your home page and switch to **Edit mode**.
  id: totrans-231
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往您的首页并切换到**编辑模式**。
- en: Add the **Mentees** block to the block drawer (it can also be added on the default
    dashboard) and change its title to **Parent access** via the **Configuration**
    icon.
  id: totrans-232
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**指导学员**块添加到块抽屉（它也可以添加到默认仪表板）中，并通过**配置**图标将其标题更改为**家长访问**。
- en: 'Log in as **Ozzy Harris**; you should see the following block:'
  id: totrans-233
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以**Ozzy Harris**的身份登录；你应该会看到以下块：
- en: '![Figure 6.22 – Mentees block ](img/Figure_6.22_B18779.jpg)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.22 – 指导学员块](img/Figure_6.22_B18779.jpg)'
- en: Figure 6.22 – Mentees block
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.22 – 指导学员块
- en: When a name is clicked, the respective user profile will be shown, including
    posts sent to forums, learning plans, blog entries, and activity reports, including
    logs and grades.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 当点击一个名字时，将显示相应的用户资料，包括发送到论坛的帖子、学习计划、博客条目和活动报告，包括日志和成绩。
- en: The creation of the parent role hopefully demonstrates not only the potential
    but also the versatility and complexity of custom roles. Therefore, you must test
    new roles diligently.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 父亲角色的创建不仅展示了其潜力，还展示了自定义角色的多功能性和复杂性。因此，你必须勤奋地测试新角色。
- en: Testing new roles
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 测试新角色
- en: After creating a new role, it is recommended that you create a test account
    and assign the new role to it in all supported contexts. Log out as an administrator
    and log in as the newly created user to test the new role or use the **Login as**
    function to masquerade as the test user. Alternatively, use a different browser
    to test the role without logging out as an administrator.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建新角色后，建议您创建一个测试账户，并在所有支持的环境中将其新角色分配给它。以管理员身份注销并作为新创建的用户登录以测试新角色，或使用**登录为**功能来伪装成测试用户。或者，使用不同的浏览器测试角色，而无需以管理员身份注销。
- en: Important note
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: It is highly recommended to test new roles thoroughly before assigning them
    to any users.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在将新角色分配给任何用户之前，强烈建议彻底测试新角色。
- en: If you have modified a predefined role and would like to roll it back to its
    factory settings, go to **Site administration** | **Users** | **Permissions**
    | **Define roles**, select (do not edit) a role, and click the **Reset** button.
    This will replace its existing values with the ones from the built-in capabilities.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你修改了一个预定义的角色，并希望将其回滚到出厂设置，请转到**站点管理** | **用户** | **权限** | **定义角色**，选择（不要编辑）一个角色，然后点击**重置**按钮。这将用内置功能中的值替换其现有值。
- en: The complexity of the roles system and the ability to assign multiple roles
    to multiple users in multiple contexts calls for a mechanism to verify the correctness
    of the permissions set. This problem is amplified by the fact that permissions
    can be inherited and then overridden at lower levels again.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 角色系统的复杂性和在多个环境中将多个角色分配给多个用户的能力，需要一种机制来验证权限设置的准确性。由于权限可以继承并在较低级别再次覆盖，这个问题变得更加严重。
- en: 'Moodle has a built-in **permission checker** that displays the values of any
    capability in the context in which the checker has been initiated. You can access
    this facility via the **Check permissions** link in a specific context. For example,
    in the following screenshot, we have called the permission checker in the **User**
    context of **Kelly Harris** and showed the permissions of user **Ozzy Harris**
    (go to Kelly’s profile, follow the **Preferences** link in the **Administration**
    block, and select the **Check permissions** link in the **Roles** block. Then,
    select Ozzy and **Show this user’s permissions**). It confirms the settings of
    the previously created **Parent** role:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle有一个内置的**权限检查器**，它显示检查器启动上下文中任何能力的值。您可以通过特定上下文中的**检查权限**链接访问此功能。例如，在以下截图中，我们在**凯莉·哈里斯**的**用户**上下文中调用了权限检查器，并显示了用户**奥斯齐·哈里斯**的权限（转到凯莉的个人资料，在**管理**块中跟随**偏好设置**链接，然后在**角色**块中选择**检查权限**链接。然后，选择奥斯齐并**显示此用户的权限**）。它确认了之前创建的**家长**角色的设置：
- en: '![Figure 6.23 – Permission checker ](img/Figure_6.23_B18779.jpg)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![图6.23 – 权限检查器](img/Figure_6.23_B18779.jpg)'
- en: Figure 6.23 – Permission checker
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.23 – 权限检查器
- en: At the site level, two additional mechanisms help identify any potential issues
    with roles. The capability report (**Site administration** | **Users** | **Permissions**
    | **Capability overview**) shows, for a selected capability, what permission it
    has in the definition of one or many selected roles. It also shows if the capability
    has been overridden anywhere in the system, which is a great help when you are
    trying to locate local modifications.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在站点级别，两种额外的机制有助于识别角色中可能出现的任何潜在问题。能力报告（**站点管理** | **用户** | **权限** | **能力概述**）显示，对于所选能力，它在一个或多个选定角色的定义中有什么权限。它还显示能力是否在任何地方被覆盖，这在您试图定位本地修改时非常有帮助。
- en: 'In the example screenshot, I have picked the `mod/assign:grade` capability,
    selected **All** roles, and filtered the results to **Show differences only**.
    The following report shows the capability’s values in all the roles. Of particular
    interest is the **Student** role in the assignment context, where it has been
    overridden:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 在示例截图中，我选择了`mod/assign:grade`能力，选择了**所有**角色，并筛选结果以**仅显示差异**。以下报告显示了所有角色中的能力值。特别值得注意的是在分配上下文中的**学生**角色，其中它已被覆盖：
- en: '![Figure 6.24 – Capability overview ](img/Figure_6.24_B18779.jpg)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![图6.24 – 能力概述](img/Figure_6.24_B18779.jpg)'
- en: Figure 6.24 – Capability overview
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.24 – 能力概述
- en: The second tool can be found at **Site administration** | **Users** | **Permissions**
    | **Unsupported role assignments**. As the name suggests, it lists any invalid
    role assignments that can occur when upgrading from a previous version of Moodle.
    If any assignments are listed, you will have to modify or remove them manually.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个工具可以在**站点管理** | **用户** | **权限** | **不支持的角色分配**中找到。正如其名所示，它列出了在从先前版本的Moodle升级时可能出现的任何无效角色分配。如果列出了任何分配，您将必须手动修改或删除它们。
- en: This ends this section on creating and testing new roles. We will conclude this
    chapter with some miscellaneous roles-related features that didn’t fit any of
    the previous sections.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 这结束了创建和测试新角色的本节。我们将以一些与角色相关的杂项功能结束本章，这些功能不适合之前的任何部分。
- en: Roles and context management
  id: totrans-253
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 角色和上下文管理
- en: We have now dealt with the essential tools so that we can use, modify, and create
    roles. Moodle offers some crucial features when working extensively with roles,
    which we will cover in this section. We will deal with role assignments and override
    allowances before assigning default roles. Then, we will learn about context freezing
    and conclude with best practice advice.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经处理了基本工具，这样我们就可以使用、修改和创建角色。Moodle在广泛使用角色时提供了一些关键功能，我们将在本节中介绍。在分配默认角色之前，我们将处理角色分配和覆盖允许，然后我们将了解上下文冻结，并以最佳实践建议结束。
- en: Allowing roles assignments and overrides
  id: totrans-255
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 允许角色分配和覆盖
- en: 'By default, some roles have the right to allow other roles to assign roles.
    For instance, a teacher is allowed to assign **Non-editing teacher** and **Student**
    roles, whereas the manager is allowed to assign all the roles except the **Guest**,
    **Authenticated user**, and **Authenticated user on site home** roles (these are
    automatically assigned when a user signs in for the first time). There will be
    instances when you wish to change the default settings; for example, a teacher
    should be allowed to assign roles to other teachers or when the newly created
    roles have to be managed. To achieve this, select the **Allow role assignments**
    tab by navigating to **Site administration** | **Users** | **Permissions** | **Define
    Roles**:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，某些角色有权允许其他角色分配角色。例如，教师可以分配**非编辑教师**和**学生**角色，而管理员可以分配除了**访客**、**认证用户**和**站点首页认证用户**之外的所有角色（这些角色在用户首次登录时自动分配）。在某些情况下，您可能希望更改默认设置；例如，应该允许教师将角色分配给其他教师，或者当新创建的角色需要管理时。为了实现这一点，请通过导航到**站点管理**
    | **用户** | **权限** | **定义角色**选择**允许角色分配**选项卡：
- en: '![Figure 6.25 – Allowing role assignments ](img/Figure_6.25_B18779.jpg)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
  zh: '![图6.25 – 允许角色分配](img/Figure_6.25_B18779.jpg)'
- en: Figure 6.25 – Allowing role assignments
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.25 – 允许角色分配
- en: In the preceding screenshot, the modified allowances have been highlighted.
    Teachers can assign the **Teacher** role, and both course creators and teachers
    can assign the new **Parent** role.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，修改后的权限已被突出显示。教师可以分配**教师**角色，课程创建者和教师都可以分配新的**家长**角色。
- en: An identical mechanism exists for role overrides, role switches, and role viewing.
    They can be accessed via the **Allow role overrides**, **Allow role switches**,
    and **Allow role to view** tabs on the same screen, respectively.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 对于角色覆盖、角色切换和角色查看也存在相同的机制。它们可以通过同一屏幕上的**允许角色覆盖**、**允许角色切换**和**允许角色查看**选项卡分别访问。
- en: Assigning default roles
  id: totrans-261
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分配默认角色
- en: 'In certain situations, standard roles are assigned automatically. These can
    be specified in the **User policies** section under **Site administration** |
    **Users** | **Permissions**:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，标准角色会自动分配。这些可以在**站点管理** | **用户** | **权限**下的**用户策略**部分进行指定：
- en: '![Figure 6.26 – Default role assignments ](img/Figure_6.26_B18779.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![图6.26 – 默认角色分配](img/Figure_6.26_B18779.jpg)'
- en: Figure 6.26 – Default role assignments
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.26 – 默认角色分配
- en: The preceding screenshot shows the assignment of the default **Role for visitors**
    (users who are not logged in) and **Role** **for guest**.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的屏幕截图显示了默认**访客角色**（未登录的用户）和**访客角色**的分配。
- en: Moodle comes with a predefined role called **Authenticated user** – that is,
    **Default role for all users**. It is assigned to *every* logged-in user, in addition
    to any other roles. This role has been created to grant users access to certain
    functionality, such as posting blog entries, managing personal calendar entries,
    changing profile fields, and so on, even if they are not enrolled in a course.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle自带一个预定义的角色，称为**认证用户**——即**所有用户的默认角色**。它分配给**每个**已登录的用户，除了其他任何角色。这个角色是为了授予用户访问某些功能而创建的，例如发布博客条目、管理个人日历条目、更改个人资料字段等，即使他们没有注册任何课程。
- en: You can further specify what role is given automatically (via the **Creator’s
    role in new courses** drop-down list) to users who have created a course but don’t
    have any permissions yet in the course. An equivalent setting exists for users
    restoring courses from backups called **Restorers’ role in courses** (see [*Chapter
    16*](B18779_16.xhtml#_idTextAnchor308), *Avoiding Sleepless Nights – Moodle Backup*
    *and Restore*).
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以进一步指定自动分配的角色（通过**新课程创建者角色**下拉列表）给那些创建了课程但尚未获得课程权限的用户。对于从备份中恢复课程的用户，也存在一个类似的设置，称为**课程恢复者角色**（见[*第16章*](B18779_16.xhtml#_idTextAnchor308)，*避免失眠之夜
    – Moodle备份* *和恢复*）。
- en: Important note
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Changing the **User policies** settings can significantly impact what new users
    are allowed to do on your Moodle system, so double-check the default roles before
    they are applied!
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 更改**用户策略**设置可能会显著影响新用户在您的Moodle系统上可以执行的操作，因此在应用之前请务必检查默认角色！
- en: In addition to the default roles in the **User policies** section, it is possible
    to specify a default home page role, which can be set by going to **Site administration**
    | **General** | **Site home** | **Site home settings**. The **Default site home
    role** field can be set to enable logged-in users to participate in activities
    on the front page, usually **Student** or **Teacher**. It is also possible to
    allow the logged-in users to participate in these activities by setting an authenticated
    user role override.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 **用户策略** 部分的默认角色外，还可以指定默认主页角色，这可以通过前往 **网站管理** | **常规** | **网站主页** | **网站主页设置**
    来设置。**默认网站主页角色** 字段可以设置为允许登录用户参与首页活动，通常是 **学生** 或 **教师**。也可以通过设置认证用户角色覆盖来允许登录用户参与这些活动。
- en: Next up is context freezing, which effectively puts content in a context in
    read-only mode.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是环境冻结，它有效地将内容置于只读模式中。
- en: Context freezing
  id: totrans-272
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 环境冻结
- en: '**Context freezing** allows administrators or those with the relevant capability
    to make course categories, blocks, courses, or modules **read-only**; that is,
    users cannot modify or add to the content anymore.'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '**环境冻结** 允许管理员或具有相关能力的人将课程类别、块、课程或模块设置为 **只读**；也就是说，用户不能再修改或添加内容。'
- en: 'Go to **Site administration** | **Development** | **Experimental** | **Experimental
    settings** and enable this feature to enable context freezing. Administrators
    can always modify frozen content unless the **Context freezing applies to administrators**
    setting is enabled:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 前往 **网站管理** | **开发** | **实验** | **实验设置** 并启用此功能以启用环境冻结。除非启用了 **环境冻结适用于管理员**
    设置，否则管理员可以始终修改冻结内容：
- en: '![Figure 6.27 – Context freezing and unfreezing ](img/Figure_6.27_B18779.jpg)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![图 6.27 – 环境冻结和解冻](img/Figure_6.27_B18779.jpg)'
- en: Figure 6.27 – Context freezing and unfreezing
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.27 – 环境冻结和解冻
- en: Once a user has been granted the `moodle/site:managecontextlocks` capability,
    they can use the context freezing feature in the course, front page, and category
    context. For example, teachers may lock courses once they are over, or they may
    close forums when discussions are to be ended. This locking can also be reversed
    via the unfreeze option.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦用户被授予 `moodle/site:managecontextlocks` 能力，他们就可以在课程、首页和分类上下文中使用环境冻结功能。例如，教师可以在课程结束后锁定课程，或者当讨论结束时关闭论坛。这种锁定也可以通过解冻选项来解除。
- en: At the time of writing, context freezing has been an experimental feature, but
    it is expected to leave its trial phase shortly.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，环境冻结是一个实验性功能，但预计很快将结束其试验阶段。
- en: Moodle role assignment – best practices
  id: totrans-279
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Moodle 角色分配 – 最佳实践
- en: 'Roles sometimes cause problems in Moodle sites, and it is therefore advised
    to follow some recommendations regarding roles:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 角色有时会在 Moodle 网站中引起问题，因此建议遵循有关角色的以下建议：
- en: Only touch the roles once you have understood them thoroughly
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只有在你彻底理解了它们之后，才去触碰角色
- en: Never grant users a role that is beyond their competence
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 永远不要授予用户超出其能力的角色
- en: Avoid assigning multiple predefined roles to users when possible
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在可能的情况下，避免将多个预定义角色分配给用户
- en: Avoid system roles as much as possible
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽可能避免使用系统角色
- en: Avoid creating too many new roles
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 避免创建过多的新角色
- en: Avoid role assignments that don’t make sense
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 避免不合理的角色分配
- en: Keep track of role assignments to ensure maintainability in the future
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 跟踪角色分配，以确保未来的可维护性
- en: Do not change the permissions of predefined roles
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要更改预定义角色的权限
- en: Test role modifications and new roles intensively
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 严格测试角色修改和新角色的应用
- en: This list also serves as a good summary of this chapter as it touches upon the
    most covered topics.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 此列表也是本章的良好总结，因为它涉及了最常讨论的主题。
- en: Summary
  id: totrans-291
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned what roles are and how they are applied in different
    contexts. We covered modifying existing roles before creating custom roles such
    as parent, inspector, and librarian. Finally, we looked at managing administrative
    role-related settings, including context freezing.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了角色是什么以及它们在不同上下文中的应用。我们介绍了在创建自定义角色（如家长、检查员和图书管理员）之前修改现有角色的方法。最后，我们探讨了管理与角色相关的行政设置，包括环境冻结。
- en: Getting your head around the concept of roles is vital if you wish to add, modify,
    or remove functionality for a distinct group of users. There is always a trade-off
    between the complexity of such a system and its flexibility. While you can argue
    about the user-friendliness of the roles system, it has undoubtedly proven to
    be one of the most powerful concepts in Moodle.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 理解角色的概念对于你想要为特定用户组添加、修改或删除功能至关重要。这样一个系统的复杂性和灵活性之间总是存在权衡。虽然你可以争论角色系统的用户友好性，但它无疑已被证明是Moodle中最强大的概念之一。
- en: The interconnectedness between courses, users, and roles is crucial. Once this
    has been set up and configured correctly, your Moodle is technically ready to
    take off. However, before that, you probably want to change its look and feel
    first. This is what the next chapter is all about.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 课程、用户和角色之间的相互关联至关重要。一旦这一设置和配置正确完成，您的Moodle在技术上就准备好起飞了。然而，在那之前，你可能首先想要改变它的外观和感觉。这正是下一章要讲述的内容。

<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">The Content Authoring Experience</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will explore what Drupal 8 brings to the content authoring experience:</p>
<ul>
<li>Configuring the WYSIWYG editor</li>
<li>Adding and editing content</li>
<li>Creating a menu and linking content</li>
<li>Providing inline editing</li>
<li>Creating a custom content type</li>
<li>Applying new Drupal 8 core field types</li>
<li>Customizing the form display of a node</li>
<li>Customizing the display output of a node</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p>In this chapter, we'll cover the Drupal 8 content authoring experience. We will show you how to configure text formats and set up the bundled CKEditor that ships with Drupal 8. We will take a look at how to add and manage content and utilize menus to link to content. Drupal 8 ships with inline editing for per-field modifications from the frontend.</p>
<p>This chapter dives into <em>creating custom content types</em> and harnessing different fields to create advanced content. We'll cover the five new fields added to Drupal 8 core and how to use them, along with configuring new field types through contributed projects. We will go through customizing the content's display and modifying the new form display added in Drupal 8.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Configuring the WYSIWYG editor</h1>
                </header>
            
            <article>
                
<p>Drupal 8 saw the collaboration between the Drupal development community and the CKEditor development community. Because of this, Drupal now ships with CKEditor out of the box as the default <strong>What You See Is What You Get</strong> (<strong>WYSIWYG</strong>) editor. The new Editor module provides an API to integrate WYSIWYG editors. Although CKEditor is provided out of the box, contributed modules can provide integrations with other WYSIWYG editors.</p>
<p>Text formats control the formatting of content and WYSIWYG editor configuration for content authors. The standard Drupal installation profile provides a fully configured text format with the enabled CKEditor. We will walk through the steps of recreating this text format.</p>
<p>In this recipe, we will create a new text format with a custom CKEditor WYSIWYG configuration.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Before starting, make sure that the CKEditor module is enabled, which also requires Editor<br/>
as a dependency. <strong>Editor</strong> is the module that provides an API to integrate WYSIWYG editors<br/>
with text formats.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's create a new text format with a custom CKEditor WYSIWYG configuration:</p>
<ol>
<li>Visit <span class="packt_screen">Configuration</span> from the administrative toolbar and head to <span class="packt_screen">Text formats and editors</span> under the <span class="packt_screen">CONTENT AUTHORING</span> heading.</li>
<li>Click on <span class="packt_screen">Add text format</span> to begin creating the new text format:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="181" width="685" class="image-border" src="assets/9090c293-6ad6-431b-835c-24307503a5bc.png"/></div>
<ol start="3">
<li>Enter a name for the text format, such as <span class="packt_screen">editor format</span>.</li>
<li>Select which roles have access to this format--this allows you to have granular control over what users can use when authoring content.</li>
<li>Select <span class="packt_screen">CKEditor</span> from the <span class="packt_screen">Text editor</span> select list. The configuration form for CKEditor will then be loaded.</li>
<li>You may now use an in-place editor to drag buttons onto the provided toolbar to configure your CKEditor toolbar:
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="assets/f3f5e25d-ee6a-47aa-a1eb-3cd534782d4f.png"/></div>
</li>
<li>Select any of the <span class="packt_screen">Enabled</span> filters you would like, except for <span class="packt_screen">Display any HTML as Plain text</span>. That would be counter-intuitive to using a WYSIWYG editor!</li>
<li>When satisfied, click on <span class="packt_screen">Save Configuration</span> to save your configuration and create the text filter.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The Filter modules provide text formats that control over how rich text fields are presented to the user. Drupal will render rich text saved in a text area based on the defined text format for the field. Text fields with "formatted" in their title will respect text format settings; others will render in plain text.</p>
<div class="packt_infobox">The text formats and editors screen warns of a security risk due to improper configuration. This is because you could grant an anonymous user access to a text format that allows full HTML or allows image sources to be from remote URLs.</div>
<p>The Editor module provides a bridge to WYSIWYG editors and text formats. It alters the text format form and rendering to allow the integration of WYSIWYG editor libraries. This allows each text format to have its own configuration for its WYSIWYG editor.</p>
<p>Out of the box, the Editor module alone does not provide an editor. The CKEditor module works with the Editor API to enable the usage of the WYSIWYG editor.</p>
<p>Drupal can support other WYSWIG editors, such as markItUp (<a href="http://markitup.jaysalvat.com/home/">http://markitup.jaysalvat.com/home/</a>) or TinyMCE (<a href="https://www.tinymce.com/">https://www.tinymce.com/</a>) through contributed modules.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Drupal provides granular control of how rich text is rendered, and extensible ways, which we will discuss further.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Filter module</h1>
                </header>
            
            <article>
                
<p>When string data is added to a field that supports text formats, the data is saved and preserved as it was originally entered. Enabled filters for a text format will not be applied until the content is viewed. Drupal works in such a way that it saves the original content and only filters on display.</p>
<p>With the Filter module enabled, you gain the ability to specify how text is rendered based on the roles of the user who created the text. It is important to understand the filters applied to a text format that uses a WYSIWYG editor. For example, if you selected the <span class="packt_screen">Display any HTML as plain text</span> option, the formatting done by the WYSIWYG editor would be stripped out when viewed.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Improved links</h1>
                </header>
            
            <article>
                
<p>A major component of WYSIWYG editing is the ability to insert links to other pieces of content or external sites. The default link button integrated with CKEditor allows for basic link embedding. This means that your content editors must know their internal content URLs ahead of time to link to them. A solution to this issue is the Linkit module at <a href="https://www.drupal.org/project/linkit">https://www.drupal.org/project/linkit</a>.</p>
<p>The module can be installed using Composer by running the following command:</p>
<pre><strong>$ cd /path/to/drupal8</strong><br/><strong>$ composer require drupal/linkit</strong></pre>
<p>The <strong>Linkit</strong> module provides a drop-in replacement for the default link functionality. It adds auto-complete search for internal content and adds additional options for displaying the field. <strong>Linkit</strong> works by creating different profiles that allow you to control what content can be referenced, what attributes can be managed, and which users and roles can use a Linkit profile.</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/ccf8b78c-de40-4f9a-9d71-a0b2e51c16ce.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">CKEditor plugins</h1>
                </header>
            
            <article>
                
<p>The <kbd>CKEditor</kbd> module provides a plugin type called <kbd>CKEditorPlugin</kbd>. Plugins are small pieces of swappable functionality within Drupal 8. Plugins and plugin development are covered in <a href="3994173f-3d31-4f01-b808-99e01368564b.xhtml"><em><span class="ChapterrefPACKT">Chapter 7</span></em></a>, <em>Plug and Play with Plugins</em>. This type provides integration between <kbd>CKEditor</kbd> and Drupal 8.</p>
<p>The image and link capabilities are plugins defined within the <kbd>CKEditor</kbd> module. Additional plugins can be provided through contributed projects or custom development.</p>
<p>Refer to the <kbd>\Drupal\ckeditor\Annotation\CKEditorPlugin</kbd> class for the plugin definition and the suggested <kbd>\Drupal\ckeditor\Plugin\CKEditorPlugin\DrupalImage</kbd> class as a working example.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li>The official blog post from <kbd>CKEditor</kbd> about how Drupal adopted it as the official WYSIWYG editor at <a href="http://ckeditor.com/blog/CKEditor-Joins-Drupal">http://ckeditor.com/blog/CKEditor-Joins-Drupal</a>.</li>
<li><span class="ChapterrefPACKT">Refer to <a href="3994173f-3d31-4f01-b808-99e01368564b.xhtml"><em>Chapter 7</em></a></span>, <em>Plug and Play with Plugins</em>.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding and editing content</h1>
                </header>
            
            <article>
                
<p>The main functionality of a content management system is in the name itself--the ability to manage content; that is, to add, edit, and organize content. Drupal provides a central form that allows you to manage all of the content within your website and allows you to create new content. Additionally, you can view a piece of content and click on an edit link when viewing it.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe assumes that you have installed the standard installation profile and have the default node content types available for use.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's manage the content by adding, editing, and organizing the content:</p>
<ol>
<li>Go to <span class="packt_screen">Content</span> to view the content management overview from.</li>
<li>Click on <span class="packt_screen">Add content</span> to view the list of available content types.</li>
<li>Click on A<span class="packt_screen">rticle</span> as the piece of content you would like to make.</li>
<li>Provide a title for the piece of content. Titles are always required for content. Fill in the body text for the article:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/2385f0fe-faba-4003-8a4b-3082ffedc74a.png"/></div>
<div class="packt_figure packt_infobox"><span>You may change the text format to customize what kind of text is allowed. If the user only has one format available, there will be no select box, but the</span> <span class="packt_screen">About text formats</span> <span>link will still be present.</span></div>
<ol start="5">
<li>Once you have added your text, click on <span class="packt_screen">Save and publish</span> at the bottom of the form. You will then be redirected to view the newly created piece of content.</li>
<li>Note that the URL for the piece of content is <kbd>/node/#</kbd>. This is the default path for content and can be changed by editing the content.</li>
<li>Click on <span class="packt_screen">Edit</span> tab from the tabs right above the content.</li>
</ol>
<p> </p>
<ol start="8">
<li>From the right sidebar, click on <span class="packt_screen">URL PATH SETTINGS</span> to expand the section and enter a custom alias, for example <kbd>/awesome-article</kbd> (note the required <kbd>/</kbd> symbol):</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="242" width="310" class="image-border" src="assets/212dfb0d-1149-42a7-a260-d5ddc82308f0.png"/></div>
<ol start="9">
<li>Save the content, and note that the URL for your article is <kbd>/awesome-article</kbd>.</li>
<li>You could also edit this article from the <span class="packt_screen">Content</span> table by clicking on <span class="packt_screen">Edit</span> there, instead of from viewing the content.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The <span class="packt_screen">Content</span> page is a <strong>View</strong>, which will be discussed in <a href="2015063a-2e03-45d2-822d-892e87f10e41.xhtml"><em><span class="ChapterrefPACKT">Chapter 3</span></em></a>, <em>Displaying Content Through Views</em>. This creates a table of all the content on your site that can be searched and filtered. From here, you can view, edit, or delete any single piece of content.</p>
<p>In Drupal, there are content entities that provide a method of creation, editing, deletion, and viewing. Nodes are a form of a content entity. When you create a node, it will build the proper form that allows you to fill in the piece of content's data. The same process follows for editing content.</p>
<p>When you save the content, Drupal writes the node's content to the database along with all of its respective field data.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Drupal 8's content management system provides many features; we will cover some extra information.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Save as draft</h1>
                </header>
            
            <article>
                
<p>New to Drupal 8 is the ability to easily save a piece of content as a draft instead of directly publishing it. Instead of clicking on <span class="packt_screen">Save and publish</span>, click on the arrow next to it to expand the <span class="packt_screen">Save as unpublished</span> option:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="88" width="349" class="image-border" src="assets/74ca66cf-bb5c-4b1f-9b61-bf303b84bdac.png"/></div>
<p>The aforementioned button has several usability and user experience reviews and will be changing, for the better, in future versions of Drupal. One of the issues to follow is located at <a href="https://www.drupal.org/node/1899236">https://www.drupal.org/node/1899236</a>. The issue highlights different proposed fixes following consistent user experience patterns defined in existing frontend libraries.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Pathauto</h1>
                </header>
            
            <article>
                
<p>There is a contributed project called Pathauto that simplifies the process of providing URL aliases. It allows you to define patterns that will automatically create URL aliases for content. This module utilizes tokens to allow for very robust paths for content.</p>
<p>The Pathauto project can be found at <a href="https://www.drupal.org/project/pathauto">https://www.drupal.org/project/pathauto</a>.</p>
<p>There is a proposed issue to provide the functionality of Pathauto in Drupal core, and it can be followed at <a href="https://www.drupal.org/node/229568">https://www.drupal.org/node/229568</a>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Bulk moderation</h1>
                </header>
            
            <article>
                
<p>You also have the capability to perform bulk actions on content. This is available on the <span class="packt_screen">Content management</span> screen. The table that lists the site content provides checkboxes at the beginning of each row. For each selected item, you can choose an item from <span class="packt_screen">With selection</span> to make bulk changes, such as deleting, publishing, and unpublishing content:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="227" width="477" class="image-border" src="assets/7b049114-0120-4bf6-a192-6d23ab9f2d87.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><span class="ChapterrefPACKT">Refer to the <em>Customizing the form display of a node</em> <span>recipe</span> of</span> this chapter.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a menu and linking content</h1>
                </header>
            
            <article>
                
<p>Drupal provides a way to link content being authored to a specified menu on the website, generally the main menu. You can, however, create a custom menu to provide links to content. In this recipe, we will show you how to create a custom menu and link content to it. We will then place the menu as a block on the page, in the sidebar.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe assumes that you have installed the standard installation profile and have the default node content types available for use. You should have some content created to create a link.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Visit <span class="packt_screen">Structure</span> and click on <span class="packt_screen">Menus</span>.</li>
<li>Click on <span class="packt_screen">Add menu</span>.</li>
<li>Provide the title <span class="packt_screen">Sidebar</span> and optional summary and then click on <span class="packt_screen">Save</span>.</li>
<li>Once the menu is saved, click on the <span class="packt_screen">Add link</span> button.</li>
<li>Enter a link title and then type the title for a piece of content. The form will provide autocomplete suggestions for linkable content:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="196" width="480" class="image-border" src="assets/563b5698-2fd6-4317-b0fc-4d2156b7acd6.png"/></div>
<ol start="6">
<li>Click on <span class="packt_screen">Save</span> to save the menu link.</li>
<li>With the menu link saved, go to <span class="packt_screen">Structure</span>, and then <span class="packt_screen">Block layout</span>.</li>
</ol>
<p> </p>
<ol start="8">
<li>Click on <span class="packt_screen">Place block</span> next to <span class="packt_screen">Sidebar first</span>. In the modal, search for the <span class="packt_screen">Sidebar</span> menu and click on <span class="packt_screen">Place block</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="214" width="544" class="image-border" src="assets/fd5754df-2dd3-4b94-9f06-1392c40c05f5.png"/></div>
<ol start="9">
<li>In the following form, click on <span class="packt_screen">Save block</span>.</li>
<li>View your Drupal site by clicking on <span class="packt_screen">Home</span> in the administration menu, and you will see the following menu:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="291" width="424" class="image-border" src="assets/2073e13e-a16b-4060-82d3-256fb82f3453.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Menus and links are part of Drupal core. The ability to make custom menus and menu links is provided through the <strong>Menu UI</strong> module. This module is enabled on the standard installation profile, but may not be in others.</p>
<p>The <span class="packt_screen">Link</span> input of the menu link form allows you to begin typing node titles and easily linking them to existing content. This was a piece of functionality not available in previous versions of Drupal. It will automatically convert the title into the internal path for you. Link input also accepts a regular path, such as <kbd>/node/1</kbd> or an external path.</p>
<div class="packt_infobox">You must have a valid path; you cannot add empty links to a menu. There is work being done to allow adding empty or ID selector link paths--refer to <a href="https://www.drupal.org/node/1543750"><span class="URLPACKT">https://www.drupal.org/node/1543750</span></a>.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Links can be managed through the content edit form itself, which will be covered next.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Managing a contents menu link from its form</h1>
                </header>
            
            <article>
                
<p>A piece of content can be linked to a menu from the <span class="packt_screen">add</span> or <span class="packt_screen">edit</span> form. The <span class="packt_screen">menu settings</span> section allows you to toggle the availability of a menu link. The menu link title will reflect the content's title by default.</p>
<p>The parent item allows you to decide which menu and which item it will appear under. By default, content types only have the main menu allowed. Editing a content type can allow for multiple menus or only choose a custom menu.</p>
<p>This allows you to populate the main menu or complimentary menu without having to visit the menu management screens.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Providing inline editing</h1>
                </header>
            
            <article>
                
<p>A touted feature of Drupal 8 is the ability to provide inline editing. Inline editing is enabled by default with the standard installation profile through the <strong>Quick Edit</strong> module. The Quick Edit module allows editing individual fields while viewing a piece of content, and integrates it with the Editor module for WYSIWYG editors!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>Let's provide inline editing:</p>
<ol>
<li>Go to a piece of created content.</li>
<li>In order to enable inline editing, you must toggle contextual links on the page by clicking on <span class="packt_screen">Edit</span> in the upper right of the administrative toolbar:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="113" width="634" class="image-border" src="assets/9ccc5d76-963d-4cfe-85a6-97ec78d2a767.png"/></div>
<ol start="3">
<li>This will toggle the contextual links available on the page. Click on the context link next to the content and select <span class="packt_screen">Quick edit</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="167" width="561" class="image-border" src="assets/5b6d70af-46f1-4dc6-9532-40dc98876b6e.png"/></div>
<ol start="4">
<li>Hover over the body text and click on <span class="packt_screen">Edit</span>. You can now edit the text with a minimal version of the WYSIWYG editor toolbar:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="338" width="583" class="image-border" src="assets/861e540e-de83-4df7-8194-5e28844285fa.png"/></div>
<ol start="5">
<li>Once you have changed the text, click on <span class="packt_screen">Save</span>.</li>
<li>The changes will be saved immediately.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The <strong>Contextual links</strong> module provides privileged users with shortcut links to modify blocks or content. The contextual links are toggled by clicking on <span class="packt_screen">Edit</span> in the toolbar. The <span class="packt_screen">Edit</span> link toggles the visibility of contextual links on the page. Previously, in Drupal 7, contextual links appeared as cogs when a specific region was hovered over.</p>
<p>The Quick Edit module builds on the contextual links features. It allows field formatters, which display field data, to describe how they will interact. By default, Quick Edit sets this to a form. Clicking on an element will use JavaScript to load a form and save data via AJAX calls.</p>
<p>Quick Edit will not work on administrative pages.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>With each minor release of Drupal 8, there are more improvements to the inline editing experience.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The outside-in approach</h1>
                </header>
            
            <article>
                
<p>There is an experimental module in Drupal 8.2 that allows you to editing blocks and other site configuration from the frontend of the website, just like Quick Edit for content. To enable this, install the <strong>Settings Tray</strong> module.</p>
<p>When you browse the Drupal site, you will note a new <strong>Edit</strong> button in the left of the toolbar. Clicking on this will allow you to edit blocks and the site configuration.</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/f6f62f5d-4d20-4797-b8a9-182eb65f366f.png"/></div>
<p>For more information, review the Drupal.org handbook for this feature at <a href="https://www.drupal.org/docs/8/core/modules/outside-in/overview"><span class="URLPACKT">https://www.drupal.org/docs/8/core/modules/outside-in/overview</span></a>.<a href="https://www.drupal.org/docs/8/core/modules/outside-in/overview"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a custom content type</h1>
                </header>
            
            <article>
                
<p>Drupal excels in the realm of content management by allowing different types of content. In this recipe, we will walk you through creating a custom content type. We will create a <span class="packt_screen">Services</span> type that has some basic fields and would be used in a scenario that brings attention to a company's provided services.</p>
<p>You will also learn how to add fields to a content type in this recipe, which generally goes hand in hand with making a new content type on a Drupal site.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Go to <span class="packt_screen">Structure</span> and then <span class="packt_screen">Content types</span>. Click on <span class="packt_screen">Add content type</span> to begin creating a new content type.</li>
<li>Enter <span class="packt_screen">Services</span> as the name, and an optional description.</li>
<li>Select <span class="packt_screen">Display settings</span> and uncheck the <span class="packt_screen">Display author and date information</span> checkbox. This will hide the author and submitted time from services pages:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="412" width="621" class="image-border" src="assets/59e5918a-16c8-4976-9fa1-6c3e1aacfcb6.png"/></div>
<ol start="4">
<li>Click on the <span class="packt_screen">Save and manage fields</span> button to save the new content type and manage its fields.</li>
<li>By default, new content types have a <span class="packt_screen">Body</span> field automatically added to them. We will keep this field in place.</li>
<li>We will add a field that will provide a way to enter a marketing headline for the service. Click on <span class="packt_screen">Add field</span>.</li>
<li>Select <span class="packt_screen">Text (plain)</span> from the dropdown and enter <span class="packt_screen">Marketing headline</span> as the label:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="253" width="580" class="image-border" src="assets/fe77687b-b5cb-4778-b493-eadbb16aee38.png"/></div>
<div class="packt_figure packt_infobox">The <span class="packt_screen">Text (plain)</span> option <span>is a regular text field. The</span> <span class="packt_screen">Text (formatted)</span> <span>option will allow you to use text formats on the displayed text in the field.</span></div>
<ol start="8">
<li>Click on <span class="packt_screen">Save field settings</span> on the next form. On the following form, click on <span class="packt_screen">Save settings</span> to finish adding the field.</li>
<li>The field has now been added, and content of this type can be created:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="239" width="631" class="image-border" src="assets/dc0bf2ab-131b-4d18-bec8-c81ae5c968bb.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>In Drupal, there are entities that have bundles. A bundle is just a type of entity that can have specific configurations and fields attached. When working with nodes, a bundle is generally referred to as a content type.</p>
<p>Content types can be created as long as the Node module is enabled. When a content type is created through the user interface, it invokes the <kbd>node_add_body_field()</kbd> function. This function adds the default body field for content types.</p>
<p>Fields can only be managed or added if the Field UI module is enabled. The Field UI module exposes the <strong>Manage Fields</strong>, <strong>Manage Form Display</strong>, and <strong>Manage Display</strong> for entities, such as nodes and blocks.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Applying new Drupal 8 core field types</h1>
                </header>
            
            <article>
                
<p>The field system is what makes creating content in Drupal so robust. With Drupal 8, some of the most used contributed field types have been merged into Drupal core as their own module. In fact, Entity Reference is no longer a module but part of the main Field API now.</p>
<p>This recipe is actually a collection of mini-recipes to highlight the new fields provided by Drupal 8 core: <kbd>Link</kbd>, <kbd>Email</kbd>, <kbd>Telephone</kbd>, <kbd>Date</kbd>, and <kbd>Entity reference.</kbd></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>The standard installation profile does not enable all of the modules that provide these field types by default. For this recipe, you will need to manually enable select modules so that you can create the field. The module that provides the field type and its installation status in the standard profile will be highlighted.</p>
<p>Each recipe will start off expecting that you have enabled the module, if needed, and that you are at the <span class="packt_screen">Manage fields</span> form of a content type and have clicked on <span class="packt_screen">Add field</span> and provided a field label. The recipes here cover the settings for each field.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<p>This section contains a series of mini recipes that show how to use each of the new core field types.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Link</h1>
                </header>
            
            <article>
                
<p>The Link field is provided by the Link module. It is <em>installed by default with the standard installation profile</em>. It is a dependency of the <strong>Menu UI</strong>, <strong>Custom Menu Links</strong>, and <strong>Shortcut module</strong>.</p>
<ol>
<li>The Link field type does not have any additional field level settings that are used across all bundles.</li>
<li>Click on <span class="packt_screen">Save field settings</span> to customize the field for this specific bundle.</li>
<li>Using the <span class="packt_screen">Allowed link type</span> setting, you can control whether provided URLs can be external, internal, or both. Selecting <span class="packt_screen">Internal or Both</span> will allow linking to content by autocompleting the title.</li>
<li>The <span class="packt_screen">Allow link</span> text defines whether a user must provide text to go along with the link. If no text is provided, then the URL itself is displayed.</li>
<li>The field formatter for a <span class="packt_screen">Link</span> field allows you to specify <kbd>rel="nofollow"</kbd> or whether the link should open in a new window.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The Email field</h1>
                </header>
            
            <article>
                
<p>The <span class="packt_screen">Email</span> field is provided by Drupal core and is available without installing additional modules:</p>
<ol>
<li>The <span class="packt_screen">Email</span> field type does not have any additional field level settings that are used across all bundles.</li>
<li>Click on <span class="packt_screen">Save field settings</span> to customize the field for this specific bundle.</li>
<li>There are no further settings for an <span class="packt_screen">Email</span> field instance. This field uses the HTML5 email input, which will leverage browser input validation.</li>
<li>The field formatter for an <span class="packt_screen">Email</span> field allows you to display the email as a plain text or a <kbd>mailto:</kbd> link.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The Telephone field</h1>
                </header>
            
            <article>
                
<p>The <span class="packt_screen">Telephone</span> field is provided by the Telephone module. It is not installed by default with the standard installation profile, and must be installed through the Extend form.</p>
<ol>
<li>The <span class="packt_screen">Telephone</span> field type does not have any additional field level settings that are used across all bundles.</li>
<li>Click on <span class="packt_screen">Save field settings</span> to customize the field for this specific bundle.</li>
<li>There are no further settings for a <span class="packt_screen">Telephone</span> field instance. This field uses the HTML5 telephone input, which will leverage browser input validation.</li>
<li>The field formatter for a <span class="packt_screen">Telephone</span> field allows you to display the telephone number as a plain text item, or use the <kbd>tel:link</kbd> with an optional replacement title for the link.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The Date field</h1>
                </header>
            
            <article>
                
<p>The <span class="packt_screen">Date</span> field is provided by the Datetime module. It is enabled by default with the standard installation profile.</p>
<ol>
<li>The Date module has a setting that defines what kind of data it will be storing: date and time, or date only. This setting cannot be changed once the field data has been saved.</li>
<li>Click on <span class="packt_screen">Save field settings</span> to customize the field for this specific bundle.</li>
</ol>
<p> </p>
<ol start="3">
<li>The <span class="packt_screen">Date</span> field has two ways of providing a default value. It can either be the current date or a relative date using PHP's date time modifier syntax.</li>
<li>By default, <span class="packt_screen">Date</span> fields use the HTML5 date and time inputs, resulting in a native date and time picker provided by the browser.</li>
<li>Additionally, <span class="packt_screen">Date</span> fields can be configured to use a select list for each date and time component:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img height="146" width="305" class="image-border" src="assets/9b78bdaa-4ad7-4cd9-97ea-aec1d85d6c84.png"/></div>
<ol start="6">
<li>The default date field formatter display uses Drupal's time formats to render the time format. These are configured under <span class="packt_screen">Configuration</span> and <span class="packt_screen">Regional and language</span> in the <span class="packt_screen">Date and time formats</span> form.</li>
<li>Dates and times can be displayed as <span class="packt_screen">Time ago</span> to provide a semantic display of how far in the future or past a time is. The formats for both are customizable in the display settings.</li>
<li>Finally, dates and times can be displayed using a custom format, as specified by the PHP date formats.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The Entity Reference field</h1>
                </header>
            
            <article>
                
<p>The <span class="packt_screen">Entity Reference</span> field is part of Drupal core and is available without enabling additional modules. Unlike other fields, Entity Reference appears as a grouping of specific items when adding a field. This is because you must pick a type of entity to reference. Follow these steps:</p>
<ol>
<li>The interface allows you to select a <span class="packt_screen">Content</span>, <span class="packt_screen">File</span>, <span class="packt_screen">Image</span>, <span class="packt_screen">Taxonomy term</span>, <span class="packt_screen">User</span>, or <span class="packt_screen">Other</span>. Selecting one of the predefined options will preconfigure the field's target entity type.</li>
<li class="mce-root"><span>When creating an Entity Reference field using the</span> <span class="packt_screen">Other</span> <span><span>choice, you must specify the type of item to reference. This option cannot be changed once your data is saved.</span></span></li>
</ol>
<div class="packt_infobox">You will note that there are two groups: <strong>content</strong> and <strong>configuration</strong>. Drupal uses configuration entities. Even though configuration is an option, you may not benefit from referencing those entity types. Only content entities have a way to be viewed. Referencing configuration entities would fall under an advanced use case implementation.</div>
<ol start="3">
<li>Click on <span class="packt_screen">Save field settings</span> to customize the field for this specific bundle.</li>
<li>The Entity Reference field has two different methods to allow users to search for content: using the default autocomplete or a view.</li>
<li>Depending on the type of entity you are referencing, there will be different entity properties that you may sort the results based on.</li>
<li>The default field widget for an Entity Reference field is autocomplete, however, there is the option to use a select list or checkboxes for the available options.</li>
<li>The values of an Entity Reference field can display the referenced entity's label or the rendered output. When rendering a label, it can be optionally linked to the entity itself. When displaying a rendered entity, you may choose a specific view mode.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>When working with fields in Drupal 8, there are two steps that should be noted. When you first create a field, you are defining a base field to be saved. This configuration is a base that specifies how many values a field can support and whether any additional settings are defined by the field type. When you attach a field to a bundle, it is considered a field storage and contains configuration unique to that specific bundle. If you have the same <span class="packt_screen">Link</span> field on the <span class="packt_screen">Article</span> and <span class="packt_screen">Page</span> content type, the label, link type, and link text settings are for each instance.</p>
<p>Each field type provides a method for storing and presents a specific type of data. The benefit of using these fields comes from validation and data manipulation. It also allows you to utilize HTML5 form inputs. Using HTML5 for telephone, email, and date, the authoring experience uses the tools provided by the browser instead of additional third-party libraries. This also provides a more native experience when authoring with mobile devices.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Having Drupal 8 released with new fields was a significant improvement in integrating widely used contributed modules into Drupal core. In the following sections, we will cover additional improvements and some additional topics.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Upcoming updates</h1>
                </header>
            
            <article>
                
<p>Each of the recipes covers a field type that was once part of the contributed project space. These projects provided more configuration options than those found in Drupal core at the time of writing this book. Over time, more and more features will be brought into Drupal core from their source projects.</p>
<p>For instance, the Datetime module is based on the contributed Date project. However, not all of the contributed project's features have made it to Drupal core. Each minor release of Drupal 8 sees more features moved to core. An example is the Datetime range module, which is an experimental module slated to be near stable for Drupal 8.4. This module adds support to start and end dates for Datetime fields. Documentation for the Datetime range module can be found at <a href="https://www.drupal.org/docs/8/core/modules/datetime-range">https://www.drupal.org/docs/8/core/modules/datetime-range</a>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Views and Entity Reference</h1>
                </header>
            
            <article>
                
<p>Using a View with an Entity Reference field is covered in <a href="2015063a-2e03-45d2-822d-892e87f10e41.xhtml"><em><span class="ChapterrefPACKT">Chapter 3</span></em></a>, <em>Displaying Content Through Views</em>. Using a View, you can customize the way results are fetched for a reference field.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><span class="ChapterrefPACKT">Refer to the <em>P</em><span><em>roviding an entity reference result view</em> recipe in</span> <a href="2015063a-2e03-45d2-822d-892e87f10e41.xhtml"><em>Chapter 3</em></a></span>, <em>Displaying Content through Views</em>.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Customizing the form display of a node</h1>
                </header>
            
            <article>
                
<p>The latest in Drupal 8 is the availability of form display modes. Form modes allow a site administrator to configure different field configurations for each content entity bundle edit form. In the case of nodes, you have the ability to rearrange and alter the display of fields and properties on the node edit form.</p>
<p>In this recipe, we'll modify the default form for creating the <span class="packt_screen">Article</span> content type that comes with the standard installation profile:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/a8190f0e-6ee1-46a6-be0a-ff908f401b08.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>To customize the form display mode, go to <span class="packt_screen">Structure</span> and then <span class="packt_screen">Content Types</span>.</li>
<li>We will modify the <span class="packt_screen">Article</span> content type's form. Click on the expand the <span class="packt_screen">OPERATIONS</span> dropdown and select <span class="packt_screen">Manage form display</span>.</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/c280cb2f-671e-4ae3-8c5b-df3e25b29389.png"/></div>
<ol start="3">
<li>First, we will modify the <span class="packt_screen">Comments</span> field. Click on the drag icon to the left and drag the row into the <span class="packt_screen">Disabled</span> section. Follow the same steps for the <span class="packt_screen">sticky at top of lists</span> field:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="282" width="512" class="image-border" src="assets/224a7bcd-dd22-4513-95c8-27e20f378ca5.png"/></div>
<ol start="4">
<li class="mce-root"><span>Click on the settings cog for the</span> <span class="packt_screen">Body</span> <span>field. Enter in a placeholder for the field, such as</span> <kbd>Enter your article text here</kbd><span>. Click on</span> <span class="packt_screen">Update</span>.</li>
</ol>
<div class="packt_infobox">The placeholder will only appear on a <kbd>textarea</kbd> using a text format that does not provide a WYSIWYG editor.</div>
<ol start="5">
<li>Click on the <span class="packt_screen">Save</span> button at the bottom of the page to save your changes. You have now customized the form display.</li>
</ol>
<p> </p>
<ol start="6">
<li>Go to <span class="packt_screen">Content</span> | <span class="packt_screen">Add Content</span> and then to <span class="packt_screen">Article</span>. Note that the comment settings are no longer displayed nor are the sticky options under promotion options:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/0ae398c4-bef4-470c-938a-12097ff04314.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>Entities in Drupal have various view modes for each bundle. In Drupal 7, there were only display view modes, which are covered in the next recipe. Drupal 8 brings in new form modes to allow for more control of how an entity edit form is displayed.</p>
<p>Form display modes are configuration entities. Form display modes dictate how the <kbd>\Drupal\Core\EntityContentEntityForm</kbd> class will build a form when an entity is edited. This will always be set to default unless changed or specified to a different mode programmatically.</p>
<p>Since form display modes are configuration entities, they can be exported using configuration management.</p>
<p>Hidden field properties will have no value unless there is a provided default value. For example, if you hide the authoring information without providing code to set a default value, the content will be authored by anonymous (no user).</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>We will discuss more items for managing the form of a content entity in the following section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Managing form display modes</h1>
                </header>
            
            <article>
                
<p>Form display modes for all entities are managed under one area and are enabled for each bundle type. You must first create a display mode, and then it can be configured through the bundle manage interface.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Programmatically providing a default to hidden form items</h1>
                </header>
            
            <article>
                
<p>In <a href="18026cd1-b8f0-48c0-9626-568ffd225eb5.xhtml"><em><span class="ChapterrefPACKT">Chapter 6</span></em></a>, <em>Creating Forms with the Form API</em>, we will have a recipe that details with altering forms. In order to provide a default value for an entity property hidden on the form display, you will need to alter the form and provide a default value. The Field API provides a way to set a default value when fields are created.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<ul>
<li><span class="ChapterrefPACKT">Refer to <a href="2f5fe169-0ba6-4746-9586-896f00f0bb28.xhtml"><em>Chapter 10</em></a>, <em>The Entity AP</em>I.</span></li>
<li><span class="ChapterrefPACKT"><span>Refer to</span> <a href="18026cd1-b8f0-48c0-9626-568ffd225eb5.xhtml"><em>Chapter 6</em></a>, <em>Creating Forms with the Form API.</em></span></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Customizing the display output of a node</h1>
                </header>
            
            <article>
                
<p>Drupal provides display view modes that allow for customization of the fields and other properties attached to an entity. In this recipe, we will adjust the teaser display mode of an Article. Each field or property has a control for displaying the label, the format to display the information in, and additional settings for the format.</p>
<p>Harnessing view displays allows you to have full control over how content is viewed on your Drupal site.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Now, it is time to customize the form display mode by navigating to <span class="packt_screen">Structure</span> and then <span class="packt_screen">Content Types</span>.</li>
<li>We will modify the <span class="packt_screen">Article</span> content type's display. Click on the dropdown button arrow and select <span class="packt_screen">Manage display</span>.</li>
<li>Click on the <span class="packt_screen">Teaser</span> view mode option to modify it. The teaser view mode is used in node listings, such as the default homepage:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="assets/9f8aada3-a154-4a3a-a6c4-9f33e1325a11.png"/></div>
<div class="packt_figure"/>
<ol start="4">
<li>Change the format for <span class="packt_screen">Tags</span> to be <span class="packt_screen">Hidden</span>. Additionally, this can be accomplished by dragging it to the hidden section. The tags on an article will no longer be displayed when viewing a teaser view mode.</li>
<li>Click on the settings cog for the <span class="packt_screen">Body</span> field to adjust the trimmed limit. The trim limit is a fallback for <span class="packt_screen">Summary or trimmed</span> when the summary of a <kbd>textarea</kbd> field is not provided. Modify this from <kbd>600</kbd> to <kbd>300</kbd>.</li>
<li>Click on <span class="packt_screen">Save</span> to save all of the changes that you have made.</li>
</ol>
<p> </p>
<ol start="7">
<li>View the homepage and take a the at your changes that have taken effect.</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign">&gt;<img height="269" width="568" class="image-border" src="assets/5daaf654-0bd7-4cd0-a743-bb3e0c190b82.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>View display modes are configuration entities. View display modes dictate how the <kbd>\Drupal\Core\EntityContentEntityForm</kbd> class will build a view display when an entity is viewed. This will always be set to default unless changed or specified as a different mode programmatically.</p>
<p>Since view display modes are configuration entities, they can be exported using configuration management.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </body></html>
<html><head></head><body>
		<div id="_idContainer014">
			<h1 id="_idParaDest-44"><em class="italic"><a id="_idTextAnchor044"/>Chapter 2</em>: Setting Up Your Pimcore Development Environment</h1>
			<p>In the first chapter, we took a wide-angle overview of Pimcore. Now it's time to start getting our hands dirty with some code!</p>
			<p>In this chapter, we will learn how to set up a development environment and start developing using Pimcore. This chapter is mandatory for having a working local environment and playing with Pimcore. </p>
			<p>This chapter is organized as follows:</p>
			<ul>
				<li>Installing Pimcore from Composer (without Docker)</li>
				<li>Installing Pimcore using Docker</li>
				<li>Exploring folder conventions</li>
			</ul>
			<p>Let's start our Pimcore setup!</p>
			<h1 id="_idParaDest-45"><a id="_idTextAnchor045"/>Technical requirements</h1>
			<p>Writing code in Pimcore is very easy and does not require any paid tools. Despite the added value of most paid tools, we decided to use only free tools to make the content of this book available to you without any limitations. </p>
			<p>You will require the following:</p>
			<ul>
				<li>Visual Studio Code as the <strong class="bold">Integrated Development Environment</strong> (<strong class="bold">IDE</strong>)</li>
				<li>A decent web browser (Chrome, Firefox, or Edge, for instance)</li>
				<li>Docker (optional, but strongly recommended)</li>
			</ul>
			<h1 id="_idParaDest-46"><a id="_idTextAnchor046"/>Why use Docker?</h1>
			<p>If you use <a id="_idIndexMarker088"/>Docker, all the additional requirements (Apache, the necessary libraries, PHP, and so on) will be managed automatically. Moreover, using Docker removes any friction between development and the production environments, offering a virtual environment that's the same at all stages. That is why, nowadays, using Docker is the recommended approach for developing applications, an approach that we adopt in this book. And that is why we based this book's examples on this technology. For those of you who are not familiar with Docker, it is a system that can download (pull) a ready-to-go environment (container) and run it on your local PC. All the samples we will provide are wrapped in a <strong class="source-inline">docker-compose</strong> file (a file that lists and configures the container for you), so all you need to do is to activate the environment and Docker will download all the assets required and will start it transparently. So, even if you are not well-versed with Docker, all you need to know for the purpose of this book is the following:</p>
			<ul>
				<li><strong class="bold">Start your environment</strong>: Inside the folder where the <strong class="source-inline">docker-compose.yml</strong> file is contained, run <strong class="source-inline">docker-compose up</strong>.</li>
				<li><strong class="bold">Stop your environment</strong>: Press <em class="italic">Ctrl+C</em> on the terminal where Docker Compose was launched; this will stop everything.</li>
				<li><strong class="bold">Interact with the Pimcore container</strong>: You can just run <strong class="source-inline">docker-compose exec php &lt;command&gt;</strong> for running a command inside the container named <strong class="source-inline">php</strong> (in our setup, this is the Pimcore one), or just enter the container with bash and launch whatever you want by means of <strong class="source-inline">docker-compose exec php bash</strong>.</li>
			</ul>
			<p>For install Docker, which is available on Windows, Mac, and Linux, just navigate to the official documentation: <a href="https://docs.docker.com/get-docker/">https://docs.docker.com/get-docker/</a>.</p>
			<h2 id="_idParaDest-47"><a id="_idTextAnchor047"/>For manual installation</h2>
			<p>If you want to install Pimcore<a id="_idIndexMarker089"/> manually, you will have to configure your local machine (or server) and all its dependencies by hand. This is only if you're not using Docker, so if you want to use Docker, you can skip this section. </p>
			<p>The only part of the book where we use this manual approach is in the following section, <em class="italic">Installing Pimcore with Composer (without Docker)</em>, where we will explain how to carry out a Pimcore installation from scratch.</p>
			<p>For a manual<a id="_idIndexMarker090"/> installation, you need to install all the dependencies manually, including Composer, Apache, MySQL, PHP, and the PHP libraries. The prerequisites may change with the arrival of new Pimcore versions and technology updates. So, instead of adding a copy of the official system requirements of Pimcore, we have instead provided a link to the official page with the exact specifications: <a href="https://pimcore.com/docs/pimcore/current/Development_Documentation/Installation_and_Upgrade/System_Requirements.html">https://pimcore.com/docs/pimcore/current/Development_Documentation/Installation_and_Upgrade/System_Requirements.html</a>.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Pimcore supports MySQL and the MariaDB database engine, which is, in fact, a fork of MySQL. In this chapter, we refer to MySQL because it is the most common option. We used the official <strong class="source-inline">docker-compose</strong> file based on MariaDB. To avoid confusion, please consider MySQL and MariaDB as one and the same in this chapter.</p>
			<p>All the source code is contained in the official GitHub repository for this book, which you can find at this URL: <a href="https://github.com/PacktPublishing/Modernizing-Enterprise-CMS-using-Pimcore">https://github.com/PacktPublishing/Modernizing-Enterprise-CMS-using-Pimcore</a>. In this repository, you will find a folder for each chapter. Inside each folder, there will be a <strong class="source-inline">Readme</strong> file with all the instructions for running the code. </p>
			<p>For those of you who are using Docker as the environment, there are no restrictions for you regarding the operating system. For Docker compatibility and system requirements, you can check the <strong class="bold">Download</strong> section of the official Docker website.</p>
			<h1 id="_idParaDest-48"><a id="_idTextAnchor048"/>Installing Pimcore from Composer (without Docker)</h1>
			<p>Even though we<a id="_idIndexMarker091"/> encourage the use of Docker and the book is<a id="_idIndexMarker092"/> based on Docker containers, we should not fail to explain how to perform a vanilla installation. As you will learn after following all the steps, the process of installing Pimcore the vanilla way is basically the same as what is done internally by the Docker container. The most important difference is that using Docker, you do not have to grapple with the server, dependencies, and so on. This is because Pimcore is released through <strong class="bold">Composer</strong>, the PHP package manager. This makes the installation the same in all possible scenarios. If you are inside a Docker container, a virtual machine, or your PC, Composer is the same.</p>
			<p>So, all you<a id="_idIndexMarker093"/> need to do to install Pimcore in your local<a id="_idIndexMarker094"/> environment is to run a few commands in the terminal after you have installed all the required dependencies mentioned in the <em class="italic">Technical requirements</em> section:</p>
			<p class="callout-heading">Note</p>
			<p class="callout">This book uses a ready-to-use Docker container for this process. We are including this section to explain how a low-level installation of Pimcore works, but if you are interested in starting Pimcore quickly, you can skip this section and go to <em class="italic">Installing Pimcore using Docker</em>. Moreover, unlike Docker, using Composer in your local environment has a lot of dependencies (MySQL, Composer, and others) and needs complex PHP tuning. This is well covered by the Pimcore documentation and you can follow the official guidance for that. In this section, we will cover Pimcore's installation, assuming that you already have your environment set up and you just need to install Pimcore.</p>
			<ol>
				<li>Create a folder in your filesystem. We assume that this folder is named <strong class="source-inline">my-project</strong>. There are no restrictions from Pimcore about where you can create that folder. It depends on your local settings (that is, it has to be accessible to your web server). For example, when using Apache, a common value is <strong class="source-inline">/var/www/html</strong>.</li>
				<li>Run the following command:<p class="source-code"><strong class="bold">COMPOSER_MEMORY_LIMIT=-1 composer create-project Pimcore/skeleton my-project</strong></p><p>This command will install the <strong class="source-inline">Pimcore/skeleton</strong> package in the <strong class="source-inline">my-project</strong> folder. This will also create a new folder in your filesystem, and the final path will be <strong class="source-inline">/your/project/my-project</strong>. Pimcore is available in two different releases: skeleton and demo. When starting a new project, it is recommended that you use the skeleton template, but if you want to see Pimcore's features, you can install the demo package to get a website with data that is ready to test. The process will take a moment, and you will see some console output that will display its progress.</p></li>
				<li>If you do not have one yet, you will need to create a database. To do this, type the following command in your terminal:<p class="source-code"><strong class="bold">mysql -u root -p -e "CREATE DATABASE project_database charset=utf8mb4;"</strong></p><p>You can<a id="_idIndexMarker095"/> fine-tune the preceding command by <a id="_idIndexMarker096"/>changing the host, username, and password to fit your needs, or you can use a visual tool such as MySQL Workbench. You can also change the database name. The most important thing to remember is to use the right charset, <strong class="source-inline">utf8mb4</strong>, to fully support Unicode encoding.</p></li>
				<li>Edit your Apache virtual host. It needs to point to the web folders inside <strong class="source-inline">my-project</strong>, so your Apache file should have the document root set as follows:<p class="source-code">DocumentRoot /my/project/my-project/public</p><p>Note that Pimcore needs to be installed outside of the document root. So, if you installed it inside <strong class="source-inline">my-project</strong>, you cannot use this folder as the document root. This, besides causing functional issues, will expose you to security issues in terms of allowing access to protected content. A complete configuration for Apache can be found here: <a href="https://pimcore.com/docs/pimcore/current/Development_Documentation/Installation_and_Upgrade/System_Setup_and_Hosting/Apache_Configuration.html">https://pimcore.com/docs/pimcore/current/Development_Documentation/Installation_and_Upgrade/System_Setup_and_Hosting/Apache_Configuration.html</a>.</p></li>
				<li>Set the filesystem permissions. The Apache user (or the Nginx user, depending on which web server you are using) will need to access all the files inside the Pimcore directory and will need additional write permission for the <strong class="source-inline">/var</strong> and <strong class="source-inline">/public/var</strong> folders. In most cases, this is done by entering the following code:<p class="source-code"><strong class="bold">chown -R www-data .</strong></p><p class="source-code"><strong class="bold">chmod 764 ./var</strong></p><p class="source-code"><strong class="bold">chmod 764 ./public/var</strong></p><p>Here, <strong class="source-inline">chown</strong> makes <strong class="source-inline">www-data</strong> (usually the group where the user that runs the web server belongs) the group owner of the Pimcore folder, and then <strong class="source-inline">chmod</strong> adds write permission to the required folders.</p></li>
				<li>Navigate to<a id="_idIndexMarker097"/> the Pimcore directory and type the<a id="_idIndexMarker098"/> following command:<p class="source-code"><strong class="bold">cd ./my-project</strong></p><p>This will bring you to the <strong class="source-inline">/your/project/my-project</strong> directory.</p></li>
				<li>Launch the Pimcore installation by typing the following command:<p class="source-code"><strong class="bold">./vendor/bin/Pimcore-install --MySQL-host-socket=localhost --MySQL-username=yourusename --MySQL-password=yourpassword --MySQL-database=databasename</strong></p><p>Here, <strong class="source-inline">MySQL-host-socket</strong> is the hostname of the MySQL database, <strong class="source-inline">MySQL-username</strong> and <strong class="source-inline">MySQL-password</strong> are the database credentials, and <strong class="source-inline">MySQL-database</strong> is the database name. This command will set up the Pimcore connection settings and will install Pimcore in the database. You will be prompted to choose the admin user for the Pimcore back office; we will choose <strong class="source-inline">admin\pimcore</strong> as a credential, but you can use whatever you want (although the use of simple passwords in your production environment is discouraged).</p><p>In the following screenshot, we can see the console output that we receive after launching the installation command:</p><div id="_idContainer010" class="IMG---Figure"><img src="image/Figure_2.01_B17073.jpg" alt="Figure 2.1 – Pimcore installation and admin password prompt&#13;&#10;"/></div><p class="figure-caption">Figure 2.1 – Pimcore installation and admin password prompt</p></li>
				<li>You will be<a id="_idIndexMarker099"/> prompted to enter the username and <a id="_idIndexMarker100"/>password of the Pimcore administration user, and then you will be asked to confirm the installation.</li>
				<li>The final step is to set up the maintenance job. Like many platforms, Pimcore needs to perform periodic maintenance tasks, such as log rotation and cleaning temporary or old data. Pimcore's guidelines ask us to execute this task every 5 minutes to make sure the environment is always efficient. To do this, we need to add a <strong class="source-inline">cron</strong> job. Type the following:<p class="source-code">crontab -e</p></li>
				<li>Then, enter the following content into <strong class="source-inline">crontab</strong>:<p class="source-code">*/5 * * * * /your/project/bin/console maintenance</p></li>
			</ol>
			<p>The configuration activates the maintenance job by running the <strong class="source-inline">console</strong> executable, with the <strong class="source-inline">maintenance</strong> parameter, which invokes the standard Pimcore maintenance job.</p>
			<p>In this section, we introduced the Pimcore installation process. These instructions are quite easy to follow, but you need to have the hosting environment already installed. Installing Apache, MySQL, and configuring the network part is standard for most developers, but some system engineering knowledge is required that not all developers have (and maybe do not want to learn). Moreover, with this setup, you may have to replicate most of your jobs each time you set up a new project.</p>
			<p>In the next section, we will learn how things are so much easier with Docker, seeing how you can do the same as what we achieved here (and maybe more) in just two commands.</p>
			<h1 id="_idParaDest-49"><a id="_idTextAnchor049"/>Installing Pimcore using Docker</h1>
			<p>Docker is the <a id="_idIndexMarker101"/>leading solution for developing containerized <a id="_idIndexMarker102"/>applications, allowing developers to configure a virtual environment in their PC that can easily be transferred to a server and be used by the user. In fact, using Docker is the modern way to develop web applications. It accelerates the setup, reduces the friction between environments, and ensures an easy-to-use, replicable system. </p>
			<p>Pimcore embraces Docker development and has released Docker images that are ready to be used. Moreover, it has released a <strong class="source-inline">docker-compose</strong> file that orchestrates all the containers needed to run Pimcore.</p>
			<p>Using Docker, you will be able to set up and start Pimcore in minutes. Using the script provided in the GitHub repository for this book, most of the process is easy.</p>
			<p>The first step is to clone the Pimcore repository and navigate to the <strong class="source-inline">2. Setting up Pimcore Development Environment</strong> folder. You can copy the files from there and paste them into your target folder. The files are as follows:</p>
			<ul>
				<li><strong class="source-inline">docker-compose.yml</strong>: This contains the definition of the container; it is quite similar to the default Pimcore file.</li>
				<li><strong class="source-inline">install.sh</strong>: This contains the installation script, which is an automated version of the installation steps from the official guide.</li>
			</ul>
			<p>Let's see these two files and how we can use them.</p>
			<h2 id="_idParaDest-50"><a id="_idTextAnchor050"/>The docker-compose file</h2>
			<p>The <strong class="source-inline">docker-compose</strong> file <a id="_idIndexMarker103"/>contains many container definitions for enabling all the required components. The first one is the <strong class="source-inline">database</strong> component:</p>
			<p class="source-code"><strong class="bold">db</strong>:</p>
			<p class="source-code">    image: mariadb:10.4</p>
			<p class="source-code">working_dir: /application</p>
			<p class="source-code">    command: [MySQLd, --character-set-server=utf8mb4, --collation-server=utf8mb4_unicode_ci, --innodb-file-format=Barracuda, --innodb-large-prefix=1, --innodb-file-per-table=1]</p>
			<p class="source-code">    environment:</p>
			<p class="source-code">      - <strong class="bold">MYSQL_ROOT_PASSWORD</strong>=ROOT</p>
			<p class="source-code">      - <strong class="bold">MYSQL_DATABASE</strong>=pimcore</p>
			<p class="source-code">      - <strong class="bold">MYSQL_USER</strong>=pimcore</p>
			<p class="source-code">      - <strong class="bold">MYSQL_PASSWORD</strong>=pimcore</p>
			<p>In the previous<a id="_idIndexMarker104"/> snippet, we have an instance of MariaDB tuned for Pimcore usage. Using the environment variables, we set the most important parameters of the database:</p>
			<ul>
				<li>The credentials of the root user: <strong class="source-inline">MYSQL_ROOT_PASSWORD</strong></li>
				<li>The database name: <strong class="source-inline">MYSQL_DATABASE</strong></li>
				<li>The credentials of the service user: <strong class="source-inline">MYSQL_USER</strong> and <strong class="source-inline">MYSQL_PASSWORD</strong></li>
			</ul>
			<p>With this configuration, we need to connect to the host database using Pimcore/Pimcore credentials.</p>
			<p>The second container to take into account is the Pimcore container. Refer to the following code snippet from the <strong class="source-inline">docker-compose</strong> file:</p>
			<p class="source-code">  php:</p>
			<p class="source-code">    image: Pimcore/Pimcore:PHP7.4-apache</p>
			<p class="source-code">    volumes:</p>
			<p class="source-code">     - .:/var/www/html:cached</p>
			<p class="source-code">    ports:</p>
			<p class="source-code">     - 80:80</p>
			<p class="source-code">     - 443:443</p>
			<p class="source-code">depends_on:</p>
			<p class="source-code">     - db</p>
			<p>The name of this container is <strong class="source-inline">php</strong> because Pimcore relies on a PHP image. Using volume mapping, we <a id="_idIndexMarker105"/>mount the folder where the <strong class="source-inline">docker-compose</strong> file is located on the Pimcore directory inside the container. </p>
			<h2 id="_idParaDest-51"><a id="_idTextAnchor051"/>The installation file</h2>
			<p>The installation file<a id="_idIndexMarker106"/> is just a set of commands that you should run individually, but condensed into a single script. This prevents any manual errors and reduces the effort needed to set up a new environment. </p>
			<p>The script covers the following steps:</p>
			<ol>
				<li value="1">The first step is the Pimcore download. To do this, we need to add the following command to the script:<p class="source-code">COMPOSER_MEMORY_LIMIT=-1 composer create-project Pimcore/skeleton tmp</p><p>The problem here is with the container image settings. It is created for listening to the <strong class="source-inline">/var/www/html/public</strong> folder, so the Pimcore installation must be done at the <strong class="source-inline">/var/www/html/</strong> level. The problem is that the Composer command will need a folder to download the files from. This will create a subfolder and necessitate a change to the default container settings. So, the most common approach is to download Pimcore in a temporary folder and then move the contents of the temporary folder to the standard Apache folder. This trick is done using the following commands:</p><p class="source-code"><strong class="bold">mv tmp/.[!.]* .</strong></p><p class="source-code"><strong class="bold">mv tmp/* .</strong></p><p class="source-code"><strong class="bold">rmdir tmp</strong></p></li>
				<li>Next, we need to fix the memory usage of PHP. Pimcore requires 512 MB for the installation process, and in most cases, the default value from PHP is not sufficient. What we will do in our script is increase the memory limit by changing the configuration files with the following commands:<p class="source-code"><strong class="bold">echo 'memory_limit = 512M' &gt;&gt;/usr/local/etc/php/conf.d/docker-php-memlimit.ini;</strong></p><p class="source-code"><strong class="bold">service apache2 reload</strong></p></li>
				<li>Now we <a id="_idIndexMarker107"/>are ready to start the Pimcore installation. We will install Pimcore using the settings hardcoded into the <strong class="source-inline">docker-compose</strong> file. To do this, we need to add the following command to our script:<p class="source-code">./vendor/bin/Pimcore-install --MySQL-host-socket=db --MySQL-username=Pimcore --MySQL-password=Pimcore --MySQL-database=Pimcore</p></li>
				<li>Finally, we have to remember that all the commands we have launched so far have been done on behalf of the root user. So, all the files and folders created belong to the root user and group. The user running the web server will be different and will belong to the <strong class="source-inline">www-data</strong> group. This means that the web server cannot write or read the files, based on the <strong class="source-inline">chmod</strong> settings. That's why we need to reset permissions at the end of this process. The following line of code does that:<p class="source-code"><strong class="bold">chown -R www-data .</strong></p><p>This <strong class="source-inline">chown</strong> command adds the <strong class="source-inline">www-data</strong> group to the files and folders permission; this is enough to enable Pimcore to read and write files.</p></li>
			</ol>
			<p>The final version of the script is as follows:</p>
			<p class="source-code">#!/bin/bash</p>
			<p class="source-code">#Pimcore download</p>
			<p class="source-code">COMPOSER_MEMORY_LIMIT=-1 composer create-project Pimcore/skeleton tmp</p>
			<p class="source-code">#trick for moving the files</p>
			<p class="source-code">mv tmp/.[!.]* .</p>
			<p class="source-code">mv tmp/* .</p>
			<p class="source-code">rmdirtmp</p>
			<p class="source-code">#increase the memory_limit to &gt;= 512MB as required by Pimcore-install</p>
			<p class="source-code">echo 'memory_limit = 512M' &gt;&gt;/usr/local/etc/php/conf.d/Docker-php-memlimit.ini;</p>
			<p class="source-code">service apache2 reload</p>
			<p class="source-code">#run installer</p>
			<p class="source-code">./vendor/bin/Pimcore-install --MySQL-host-socket=db --MySQL-username=Pimcore --MySQL-password=Pimcore --MySQL-database=Pimcore</p>
			<p class="source-code"># fix permission</p>
			<p class="source-code">chown -R www-data .</p>
			<p>The preceding<a id="_idIndexMarker108"/> script is contained in the source code and is called <strong class="source-inline">install.sh</strong>. You can just copy and paste it to your source code directory and follow the instructions in the next section.</p>
			<h2 id="_idParaDest-52"><a id="_idTextAnchor052"/>Starting Pimcore with Docker</h2>
			<p>Now that we have<a id="_idIndexMarker109"/> understood how Pimcore using Docker works, we can <a id="_idIndexMarker110"/>use our script to start Pimcore:</p>
			<ol>
				<li value="1">The first step is to navigate to the folder with the Pimcore setup files; in our case, the folder is called <strong class="source-inline">/my/project</strong>.</li>
				<li>Open the terminal here and run the following command:<p class="source-code"><strong class="bold">docker-compose up</strong></p><p>This command activates the Docker environment. Because this command isn't launched with the <strong class="source-inline">-d</strong> parameter (run as daemon), if you close the console, the Docker environment will shut down. This console is helpful because it shows all the logs from the containers, including the Pimcore container.</p></li>
				<li>Then, open another terminal and run the following command:<p class="source-code"><strong class="bold">docker-compose exec php bash install.sh</strong></p><p>This command will launch the <strong class="source-inline">install.sh</strong> script inside the container named <strong class="source-inline">PHP</strong>. The script will run all the instructions needed to install Pimcore. This command is only required the first time you run the container. Its purpose is just for installation.</p></li>
				<li>Finally, open <a id="_idIndexMarker111"/>a web browser and enter the URL <a href="http://localhost/">http://localhost/</a>. You will<a id="_idIndexMarker112"/> see the standard Pimcore page, as indicated in the following screenshot:<div id="_idContainer011" class="IMG---Figure"><img src="image/Figure_2.02_B17073.jpg" alt="Figure 2.2 – The Pimcore welcome page&#13;&#10;"/></div><p class="figure-caption">Figure 2.2 – The Pimcore welcome page</p></li>
				<li>Now we can test the credential used during the setup by visiting <a href="http://localhost/">http://localhost/</a><strong class="source-inline">admin</strong> in the address bar. You will be redirected to the login page and you will be able to enter credentials and log in to the administrative section of Pimcore. The following screenshot shows the login page:</li>
			</ol>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/Figure_2.03_B17073.jpg" alt="Figure 2.3 – The Pimcore login page&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.3 – The Pimcore login page</p>
			<p>From now on, performing <em class="italic">Step 2</em> will be enough to run Pimcore!</p>
			<p>What we<a id="_idIndexMarker113"/> learned in this section was how to install Pimcore using Docker in minutes. As <a id="_idIndexMarker114"/>you saw in the <em class="italic">Starting Pimcore with Docker</em> section, we just ran two commands and all the processes were set. This reduces the time and effort needed from hours (installing and configuring Apache, Redis, MySQL, and so on) to minutes. Now it's clear why we decided to use Docker in this book. </p>
			<p>In the next section, we will enter the Pimcore folder structure and we will learn about what is inside each folder.</p>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor053"/>Exploring folder conventions</h1>
			<p>In the previous section, we <a id="_idIndexMarker115"/>downloaded and installed Pimcore on our PC. Before starting with Pimcore development, it's important to understand how the files are structured inside the filesystem. </p>
			<p>Let's start by exploring our filesystem. In the following screenshot, we will see the Pimcore folder expanded:</p>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/Figure_2.04_B17073.jpg" alt="Figure 2.4 – The Pimcore folders&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.4 – The Pimcore folders</p>
			<p>The Pimcore folder structure is<a id="_idIndexMarker116"/> very similar to the Symphony standard. Let's look at the first-level content:</p>
			<ul>
				<li><strong class="source-inline">bin</strong>: This folder contains the executables.</li>
				<li><strong class="source-inline">config</strong>: This folder contains the YAML configuration files.</li>
				<li><strong class="source-inline">src</strong>: This folder contains the source code related to your project.</li>
				<li><strong class="source-inline">var</strong>: This folder contains data saved from Pimcore, such as logs or cache data.</li>
				<li><strong class="source-inline">vendor</strong>: This is the standard folder used by Composer to store application requirements.</li>
				<li><strong class="source-inline">public</strong>: This is your document root.</li>
				<li><strong class="source-inline">templates</strong>: This is the folder that contains all the template files.</li>
				<li><strong class="source-inline">translations</strong>: This is the <a id="_idIndexMarker117"/>folder for translation files.</li>
			</ul>
			<p>Let's look at these in detail, one by one.</p>
			<h2 id="_idParaDest-54"><a id="_idTextAnchor054"/>The config folder</h2>
			<p>This contains <a id="_idIndexMarker118"/>all the YAML configuration files and settings. For example, inside <strong class="source-inline">/config/local/database.yml</strong>, you will find the connection settings for accessing the database. As an additional example, if you want to manage routing, override services, or tune security settings, you can go here and play with the configuration files (the <strong class="source-inline">config.yml</strong> file is the main configuration file and is usually split into submodules, such as <strong class="source-inline">routing.yml</strong>, <strong class="source-inline">services.yml</strong>, and <strong class="source-inline">security.yml</strong>).</p>
			<h2 id="_idParaDest-55"><a id="_idTextAnchor055"/>The templates folder</h2>
			<p>This folder contains the<a id="_idIndexMarker119"/> templates. You can have one subdirectory for each bundle. Adding a file into the bundle folder will override the default template file shipped with the bundle. This override mechanism is a standard Symfony feature, and all you need to override a template file is to create a folder inside <strong class="source-inline">templates</strong> with the name of the bundle and then replicate the folder structure inside the bundle.</p>
			<h2 id="_idParaDest-56"><a id="_idTextAnchor056"/>The bin folder</h2>
			<p>This folder contains the <a id="_idIndexMarker120"/>binaries. By default, it contains the console executables only, but you can add your own scripts here. The console executables form the program that we use to run maintenance jobs. Adding more jobs to Pimcore won't require you to create multiple executables; you will just need to run a command such as <strong class="source-inline">./bin console &lt;myjobname&gt;</strong>. That is why, in most cases, this folder doesn't contain anything more than the console file.</p>
			<h2 id="_idParaDest-57"><a id="_idTextAnchor057"/>The src folder</h2>
			<p>Inside the <strong class="source-inline">src</strong> folder, you will<a id="_idIndexMarker121"/> also find the <strong class="source-inline">Kernel.php</strong> file, which represents your application kernel. The <strong class="source-inline">Kernel</strong> class is the main entry point of the Symfony application configuration, and as such, is stored in the <strong class="source-inline">src/</strong> directory.</p>
			<h2 id="_idParaDest-58"><a id="_idTextAnchor058"/>The var folder</h2>
			<p>The <strong class="source-inline">var</strong> folder is designed to<a id="_idIndexMarker122"/> contain all the private Pimcore files and is divided into many subfolders, each one storing a different kind of file. This folder must be writable from the web server.</p>
			<p>This folder is composed of the following subfolders:</p>
			<ul>
				<li><strong class="source-inline">application-logger</strong>: Here, Pimcore<a id="_idIndexMarker123"/> saves the files from the application logger. The application logger is the system that traces events relevant to the application. Such logs are stored here and can be read from the Pimcore administrative interface.</li>
				<li><strong class="source-inline">cache</strong>: This is the <a id="_idIndexMarker124"/>Symfony cache folder. Here you will find all the generated files. </li>
				<li><strong class="source-inline">classes</strong>: This<a id="_idIndexMarker125"/> contains files related to classes. In fact, each class definition is stored in many files inside this folder. </li>
				<li><strong class="source-inline">config</strong>: This <a id="_idIndexMarker126"/>contains the base settings files that are overridden and extended from the <strong class="source-inline">app/config</strong> structure.</li>
				<li><strong class="source-inline">email</strong>: This<a id="_idIndexMarker127"/> stores the history of sent transactional emails.</li>
				<li><strong class="source-inline">installer</strong>: This relates to the installer<a id="_idIndexMarker128"/> kernel. It contains cached data and other information related to the installer.</li>
				<li><strong class="source-inline">logs</strong>: This folder contains the logs<a id="_idIndexMarker129"/> from Apache and PHP. It is related to the Docker installation.</li>
				<li><strong class="source-inline">recyclebin</strong>: This <a id="_idIndexMarker130"/>contains the data deleted from the user.</li>
				<li><strong class="source-inline">tmp</strong>: Used for <a id="_idIndexMarker131"/>temporary file storage, such as for creating dynamic minified JavaScript files.</li>
			</ul>
			<h2 id="_idParaDest-59"><a id="_idTextAnchor059"/>The vendor folder</h2>
			<p>This folder is the standard <a id="_idIndexMarker132"/>Composer folder, so there isn't any real need to spend more time talking about it. The Pimcore core bundle is stored here just like any other package.</p>
			<h2 id="_idParaDest-60"><a id="_idTextAnchor060"/>The public folder</h2>
			<p>This is the document root of <a id="_idIndexMarker133"/>your application, and it is exposed to the web. This folder is protected by a <strong class="source-inline">.htaccess</strong> file and implements some rewriting rules.</p>
			<p>This folder is composed of the following subfolders:</p>
			<ul>
				<li><strong class="source-inline">bundles</strong>: You <a id="_idIndexMarker134"/>will find a folder for each bundle; each of these subfolders has a symbolic link to the folder inside the bundle (so, <strong class="source-inline">/src/bundlename</strong> will be visible in <strong class="source-inline">/public/bundlename</strong>). This is because you can change the files inside the bundle and see the change without any copying or compilation having to take place.</li>
				<li><strong class="source-inline">var</strong>: This contains the <a id="_idIndexMarker135"/>uploaded files: images, video files, or simple attachments. </li>
			</ul>
			<p>This folder also contains the <strong class="source-inline">index.php</strong> file, which contains the PHP application where all requests are routed.</p>
			<p>In this section, we learned how the folders and files of Pimcore are arranged inside the source code. This was important to cover so that you can use the source code samples without any difficulty. Now you won't be lost in <a href="B17073_04_ePub_RK.xhtml#_idTextAnchor083"><em class="italic">Chapter 4</em></a>, <em class="italic">Creating Documents in Pimcore</em>, when we will need this feature to start a working Pimcore's instance and view the examples shown in this book.</p>
			<h1 id="_idParaDest-61"><a id="_idTextAnchor061"/>Summary</h1>
			<p>In this chapter, we learned how to install and start a Pimcore installation from scratch. Using Docker images, we reduced the complexity of the first installation, we made our environment independent from different operating systems, and we managed to speed up the setup time. Just by typing a few commands in the terminal, all the complex processes were done automatically. This is not only valid for a development environment, but also for production. Moreover, using a container will keep things easy if you would want to move to the cloud. Pimcore can also be installed in a regular environment by taking charge of all the dependency configurations. </p>
			<p>In the following chapters, we will use this knowledge to run the examples provided in this book. Moreover, the installation script provided can be used as a quick start guide if you want to start a new project on your own and play in the real world with Pimcore. In the next chapter, we will discover the administration UI of Pimcore, and we will learn how to move between menu items. After this step, you will be able to navigate Pimcore's functionalities, which is fundamental for following the books' tutorials.</p>
		</div>
	</body></html>
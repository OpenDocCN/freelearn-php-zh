["```php\n{\n   \"name\" : \"Cancer Survivors' Garden\",\n   \"lat\" : \"41.884242\",\n   \"long\" : \"-87.617404\",\n   \"city\" : \"Chicago\",\n   \"state\" : \"IL\"\n}\n```", "```php\nID INTEGER PRIMARY KEY\nname TEXT\nlat TEXT\nlong TEXT\ncity TEXT\nstate TEXT\ncreated INTEGER\nupdated INTEGER\n```", "```php\nnearby/\n   assets/\n   js/\n   protected/\n      commands/\n      config/\n      controllers/\n      data/\n      extensions/\n      migrations/\n      models/\n      runtime/\n      views/\n```", "```php\n<?php\n\n// change the following paths if necessary\n$yii='/path/to/yii/framework/yii.php';\n$config=dirname(__FILE__).'/protected/config/main.php';\n\nerror_reporting(E_ALL);\nini_set('display_errors', '1');\n// remove the following lines when in production mode\ndefined('YII_DEBUG') or define('YII_DEBUG',true);\n// specify how many levels of call stack should be shown in each log message\ndefined('YII_TRACE_LEVEL') or define('YII_TRACE_LEVEL',3);\n\nrequire_once($yii);\nYii::createWebApplication($config)->run();\n```", "```php\n<?php\n\n// change the following paths if necessary\n$config=dirname(__FILE__).'/config/main.php';\n\n$config = require($config);\n\nrequire_once('/path/to//yii/framework/yiic.php');\n```", "```php\n<?php\nreturn array(\n   'basePath'=>dirname(__FILE__).DIRECTORY_SEPARATOR.'..',\n   'name'=>'Places Nearby',\n   'import'=>array(\n        'application.models.*',\n   ),\n   'components'=>array(\n        'db'=>array(\n            'connectionString' => 'sqlite:'.dirname(__FILE__).'/../data/locations.db',\n      ),\n        'urlManager'=>array(\n            'urlFormat'=>'path',\n            'showScriptName'=>false,\n            'rules'=>array(\n            '<controller:\\w+>/<id:\\d+>'=>'<controller>/view', '<controller:\\w+>/<action:\\w+>/<id:\\d+>'=>'<controller>/<action>','<controller:\\w+>/<action:\\w+>'=>'<controller>/<action>',\n            ),\n        )\n    )\n);\n```", "```php\n$ php protected/yiic.php migrate create locations\n```", "```php\nreturn $this->createTable('locations', array(\n   'id' => 'INTEGER PRIMARY KEY',\n   'name' => 'TEXT',\n   'lat' => 'TEXT',\n   'long' => 'TEXT',\n   'city' => 'TEXT',\n   'state' => 'TEXT',\n   'created' => 'INTEGER',\n   'updated' => 'INTEGER'\n));\n```", "```php\nreturn $this->dropTable('locations');\n```", "```php\n$ php protected/yiic.php migrate up\n\n```", "```php\npublic function beforeSave()\n{\n   if ($this->isNewRecord)\n      $this->created = time();\n\n   $this->updated = time();\n\n   return parent::beforeSave();\n}\n```", "```php\npublic function rules()\n{\n    return array(\n        array('created, updated', 'numerical', 'integerOnly'=>true),\n        array('name, lat, long, city, state', 'required'),\n        array('title, data', 'safe'),\n        array('name, lat, long, city, state, created, updated', 'safe', 'on'=>'search'),\n    );\n}\n```", "```php\n<?php\nclass ImportLocationsCommand extends CConsoleCommand {}\n```", "```php\nprivate function getData()\n{\n   $file = __DIR__ . '/../data/parks.json';\n   return CJSON::decode(file_get_contents($file));\n}\n```", "```php\npublic function actionImportLocations() {}\n```", "```php\necho \"Loading Data...\\n\";\n$data = $this->getData();\n```", "```php\necho \"Truncating old data...\\n\";\nLocation::model()->deleteAll();\n```", "```php\necho \"Importing Data...\\n\";\nforeach($data as $id=>$content)\n{\n   $model = new Location;\n   $model->attributes = $content;\n   $model->save();\n}\n```", "```php\n$ php protected/yiic.php <command_name> <action_name>\n\n```", "```php\n$ php protected/yiic.php importlocations importlocations\n\n```", "```php\n$ php protected/yiic.php importlocations importlocations\nLoading Data...\nTruncating old data...\nImporting Data...\n\n```", "```php\n'params' => array(\n   'PlacesApi' => array(\n        'apiKey' => '<your_api_key_here>'\n   )\n)\n```", "```php\n$apiKey = Yii::app()->params['PlacesApi']['apiKey'];\n```", "```php\n<?php\nclass SiteController extends CController\n{\n   public function actionIndex()\n   {\n        $this->render('index');\n   }\n}\n```", "```php\n<!DOCTYPE html>\n<html>\n   <head>\n        <title><?php echo CHtml::encode(Yii::app()->name); ?></title>\n\n        <?php Yii::app()->clientScript\n                   ->registerMetaTag('text/html; charset=UTF-8', 'Content-Type')\n                   ->registerCssFile( '//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css' )\n                   ->registerScriptFile( 'https://code.jquery.com/jquery.js' )\n                   ->registerScriptFile( '//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js')\n                   ->registerScriptFile( 'https://maps.googleapis.com/maps/api/js?sensor=false&key=' . Yii::app()->params['PlacesApi']['apiKey']);\n        ?>\n   </head>\n   <body>\n        <div class=\"row\">\n            <div class=\"container\">\n                <nav class=\"navbar navbar-default navbar-fixed-top navbar-inverse\" role=\"navigation\">\n                    <div class=\"navbar-header\">\n                         <a class=\"navbar-brand\" href=\"/\"><?php echo CHtml::encode(Yii::app()->name); ?></a>\n                    </div>\n                </nav>\n            </div>\n        </div>\n        <div class=\"row\" style=\"margin-top: 100px;\">\n             <div class=\"container\">\n                <?php echo $content; ?>\n            </div>\n        </div>\n    </body>\n</html>\n```", "```php\n->registerScriptFile( 'https://maps.googleapis.com/maps/api/js?sensor=false&key=' . Yii::app()->params['PlacesApi']['apiKey']);\n```", "```php\n<div class=\"col-xs-12 col-sm-9\">\n   <div id=\"map-canvas\" style=\"width: 100%; min-height: 500px\"></div>\n</div>\n```", "```php\n->registerScriptFile(Yii::app()->baseUrl .'/js/Main.js');\n```", "```php\nvar Main = {}\n```", "```php\nmap : null,\nmapOptions : {},\nmarkers : [],\n```", "```php\nloadMap : function(lat, lng) {\nzoom = 16;\n    if (lat == undefined && lng == undefined)\n    {\n        // Lat long of downtown Chicago area\n        lat = \"41.878114\";\n        lng = \"-87.629798\";\n        zoom = 13;\n    }\n}\n```", "```php\nMain.mapOptions = {\n   zoom: zoom,\n   center: new google.maps.LatLng(lat, lng),\n};\n\nMain.map = new google.maps.Map(document.getElementById(\"map-canvas\"), Main.mapOptions);\n```", "```php\n<?php $cs->registerScript('loadMap', \"Main.loadMap();\"); ?>\n```", "```php\ncreateLocation : function(lat,lng) {\n   return new google.maps.LatLng(lat,lng);\n},\n```", "```php\naddMarker : function(position, title, icon) {\n   if (icon == true)\n   {\n        var pinColor = \"2F76EE\"; // a random blue color that i picked\n        var icon = new google.maps.MarkerImage(\"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|\" + pinColor,\n                     new google.maps.Size(21, 34),\n                     new google.maps.Point(0,0),\n                     new google.maps.Point(10, 34));\n    }\n}\n```", "```php\nvar marker = new google.maps.Marker({\nposition: position,\n   title: title,\n   icon: icon\n});\n```", "```php\nMain.markers.push(marker);\n```", "```php\nmarker.setMap(Main.map);\n```", "```php\nclearMarkers : function() {\n   $(Main.markers).each(function() {\n        this.setMap(null);\n   });\n\n   Main.markers = [];\n}\n```", "```php\nprotected/\n   extensions/\n        GooglePlaces.php\n```", "```php\nprivate function getPlaces($location) {}\n```", "```php\nYii::import('ext.GooglePlaces');\n```", "```php\n$places = new GooglePlaces(Yii::app()->params['PlacesApi']['apiKey']);\n```", "```php\n$places->radius = 200;\n$places->location = array($location->lat, $location->long);\n```", "```php\nreturn $places->search();\n```", "```php\npublic function actionIndex()\n{\n   $location = $places = array();\n\n   if (isset($_GET['id']))\n   {\n        $location = Location::model()->findByPk($_GET['id']);\n        $places = $this->getPlaces($location);\n   }\n\n   $this->render('index', array('location' => $location, 'places' => $places));\n}\n```", "```php\n<div class=\"col-xs-6 col-sm-3 sidebar-offcanvas\">\n   <h3>Locations</h3>\n   <hr />\n   <form role=\"form\">\n        <div class=\"form-group\">\n            <?php $selected = array('options' => array(isset($_GET['id']) ? $_GET['id'] : NULL => array('selected' => true))); ?>\n            <?php echo CHtml::dropDownList('id', array(), CHtml::listData(Location::model()->findAll(),'id','name'), CMap::mergeArray($selected, array('empty' => 'Select a Location'))); ?>\n        </div>\n        <button type=\"submit\" class=\"pull-right btn btn-primary\">Search</button>\n    </form>\n    <div class=\"clearfix\"></div>\n</div>\n```", "```php\n<?php $cs = Yii::app()->getClientScript(); ?>\n```", "```php\n<?php \nif (!empty($places['results']))\n{\n$cs->registerScript('loadMap', \"Main.loadMap({$location->lat}, {$location->long});\");\n\n   // Center the map with the origin marker\n   $lat = $location->lat;\n   $long = $location->long;\n   $name = $location->name;\n   $cs->registerScript('origin', \"\n        Main.addMarker(\n            Main.createLocation('{$lat}', '{$long}'),\n            \\\"{$name}\\\",\n            true\n        );\n    \");\n}\nelse\n{\n$cs->registerScript('loadMap', \"Main.loadMap();\");\n}\n```", "```php\n<hr />\n<h3>What's Nearby?</h3>\n<ul>\n   <?php foreach ($places['results'] as $place): ?>\n        <li><?php echo $place['name']; ?></li>\n        <?php\n            // Add the nearby POI's\n            $lat = $place['geometry']['location']['lat'];\n            $long = $place['geometry']['location']['lng'];\n            $name = $place['name'];\n            $icon = $place['icon'];\n            $cs->registerScript('loadMarker-' . $place['id'], \"\n                Main.addMarker(\n                    Main.createLocation('{$lat}', '{$long}'),\n                  \\\"{$name}\\\"\n                     );\n            \");\n            ?>\n        <?php endforeach; ?>\n</ul>\n```", "```php\n'cache' => array(\n   'class' => 'CFileCache'\n),\n```", "```php\nprivate function getPlaces(&$location)\n{\n   // Generate a hash\n   $hash = md5($location->lat . '-' . $location->long);\n\n   // Retrieve data from the cache\n   $cache = Yii::app()->cache->get($hash);\n\n   // If we don't have any cached data, perform a search\n   // against the API\n   if ($cache === false)\n   {\n        Yii::import('ext.GooglePlaces');\n        $places = new GooglePlaces(Yii::app()->params['PlacesApi']['apiKey']);\n        $places->radius = 200;\n        $places->location = array($location->lat, $location->long);\n        $cache = $places->search();\n        // And store the result in the cache\nYii::app()->cache->set($hash, $cache);\n    }\n\n    return $cache;\n}\n```", "```php\n$hash = md5($location->lat . '-' . $location->long);\n```", "```php\n$cache = Yii::app()->cache->get($hash);\n```", "```php\nif ($cache === false) {}\n```", "```php\n$cache = $places->search();\nYii::app()->cache->set($hash, $cache);\n```", "```php\nreturn $cache;\n```"]
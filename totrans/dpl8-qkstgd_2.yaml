- en: Structuring Content Types
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结构化内容类型
- en: In [Chapter 1](a5a4cb5a-1fb0-4fc0-b5d1-20961ec8daec.xhtml), *Finding Your Way
    Around Drupal*, we learned what Drupal is and how to install it. This chapter
    will explore the fundamentals of Drupal content types, and the formats that define
    what information is saved with each piece of content. Upon reading this chapter,
    you will learn about content types and fields, creating a content type, adding
    fields to a content type, customizing the form used to enter content, and customizing
    the way the content is displayed.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第1章](a5a4cb5a-1fb0-4fc0-b5d1-20961ec8daec.xhtml)“在Drupal中找到你的方向”，我们学习了Drupal是什么以及如何安装它。本章将探讨Drupal内容类型的基础，以及定义每块内容保存信息的格式。阅读本章后，你将了解内容类型和字段，创建内容类型，向内容类型添加字段，自定义用于输入内容的表单，以及自定义内容显示的方式。
- en: What is content?
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内容是什么？
- en: 'We all know what content is...sort of. This book is made up of content. This
    chapter contains content, as does this section within this chapter. The more important
    question is: what is it in the context of Drupal? This question is best answered
    with the home page as an example, because you''ll know it when you see it!'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们都知道内容是什么…… sorts of。这本书由内容组成。本章包含内容，本章内的这一节也是如此。更重要的问题是：在Drupal的上下文中它是什么？这个问题最好用主页作为例子来回答，因为当你看到它时，你就会知道！
- en: 'The following screenshot shows a piece of content that I added to the site,
    in the main content area, with a thick rectangle around it:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了我在网站上添加的一块内容，它在主要内容区域，周围有一个粗矩形：
- en: '![](img/0788ca76-855e-4f83-bb41-050febe63f33.png)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0788ca76-855e-4f83-bb41-050febe63f33.png)'
- en: 'When rendered and displayed in the browser, it''s simply content, but up until
    that point, it is content of a certain type, of a content type, also known in
    Drupal as a node bundle. Does Drupal look at this content simply as:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 当在浏览器中渲染和显示时，它只是内容，但在此之前，它是某种类型的内容，即内容类型，在Drupal中也称为节点包。Drupal是否只是将此内容视为：
- en: Chapter 2 - Understanding Content Types
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章 - 理解内容类型
- en: We all know what content is ... sort of. This book is made up of content. This
    chapter contains content, as does this section within the chapter. The more important
    question is, what is it in the context of Drupal? The question is best answered
    with the home page as an example, because you'll know it when you see it.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们都知道内容是什么…… sorts of。这本书由内容组成。本章包含内容，本章内的这一节也是如此。更重要的问题是，在Drupal的上下文中它是什么？这个问题最好用主页作为例子来回答，因为当你看到它时，你就会知道。
- en: No, content is stored within Drupal in a way that facilitates selecting it based
    on almost any criteria you wish.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 不，内容在Drupal中以方便根据你几乎任何希望的标准选择它的方式存储。
- en: 'Let''s take a look at the database for a moment. This isn''t something that
    you need to learn, but it''s good for illustration purposes. If we were to look
    at the main identifying information for this piece of content within the Drupal
    database, we would see this:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们暂时看看数据库。这不是你需要学习的东西，但它对说明很有用。如果我们查看Drupal数据库中此块内容的主要识别信息，我们会看到这个：
- en: '[PRE0]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You can see this in the `article` value in the `type` column, which contains
    the content type in this table. "Article" is the content type of our content.
    Let's leave the database behind and look at our content and its content type in
    the way that you will use it, via the **user interface** (**UI**).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在“类型”列中的“文章”值中看到这一点，它包含了这个表格中的内容类型。“文章”是我们内容的内容类型。让我们把数据库放在一边，以你将使用的方式查看我们的内容和其内容类型，即通过**用户界面**（**UI**）。
- en: In the Drupal documentation, you will often find a URL specified in an abbreviated
    manner, omitting the domain name to avoid confusion since most users will be using
    different domain names, so instead of `mysite.com/page1` you might simply see
    `/page1`.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在Drupal文档中，你经常会看到以缩写方式指定的URL，省略域名以避免混淆，因为大多数用户将使用不同的域名，所以你可能会看到`/page1`而不是`mysite.com/page1`。
- en: 'One of the pages used most often by a content editor is the content administration
    page. We''ll begin there by clicking the Content link in the admin menu, which
    will take us to `admin/content`, as shown in the following screenshot:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 内容编辑最常使用的页面之一是内容管理页面。我们将从点击管理菜单中的内容链接开始，这将带我们到`admin/content`，如下面的截图所示：
- en: '![](img/9f35b958-fa10-4486-9819-02a460302a12.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9f35b958-fa10-4486-9819-02a460302a12.png)'
- en: 'As you can see in the preceding screenshot, our content is listed, its title
    is on the left, and the type given is Article. We will learn more about the use
    of this page in [Chapter 4](5dc26faf-5b24-463c-9587-e06ec89742a7.xhtml), *Creating
    and Editing Content*, but for now we want to use it to lead us to the page on
    which we can edit our content. Let''s click the Edit link at the opposite end
    of the row from the content title, which will display a node edit form for the
    content, as shown in the following screenshot:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如您在前面的屏幕截图中所见，我们的内容被列出，标题在左侧，给出的类型是文章。我们将在[第4章](5dc26faf-5b24-463c-9587-e06ec89742a7.xhtml)“创建和编辑内容”中了解更多关于这个页面的使用，但现在我们想要用它来引导我们到可以编辑我们内容的页面。让我们点击内容标题另一端的编辑链接，这将显示一个内容编辑表单，如下面的屏幕截图所示：
- en: Content as fields
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内容作为字段
- en: 'We sometimes tend to think of content as a big block of body text, but content
    can be stored as discreet fields so that important elements can be easily accessed
    and properly formatted:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有时倾向于将内容视为一个大块的正文，但内容可以存储为独立的字段，以便重要元素可以轻松访问和正确格式化：
- en: '![](img/b2bc21c0-395a-408b-a0e3-bb3e77a472ab.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b2bc21c0-395a-408b-a0e3-bb3e77a472ab.png)'
- en: 'You can see the same content in this form as you did on the page. However,
    here you also see the fields that hold that content. The content title is in a
    field labeled Title, and the main text is in a field labeled Body. There are two
    additional fields that are not being used by this particular piece of content:
    a field for categories, labeled Tags, and one that is used for attaching an image
    to the content, labeled Image.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在这个表单中看到与页面上相同的内容。然而，您在这里还可以看到包含该内容的字段。内容标题在一个标记为标题的字段中，主要文本在一个标记为正文的字段中。还有两个未使用此特定内容字段的额外字段：一个用于分类的字段，标记为标签，另一个用于将图片附加到内容上，标记为图片。
- en: By having a Title field and a Body field, both the user and Drupal understand
    that the information in each is separate from the other. This doesn't mean that
    they cannot be displayed together, but there are many reasons why we may want
    to be able to differentiate them.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 通过拥有标题字段和正文字段，用户和Drupal都理解每个字段中的信息是相互独立的。这并不意味着它们不能一起显示，但有许多原因我们可能想要能够区分它们。
- en: For example, when this content was displayed on the homepage, the title and
    the body text were formatted differently. Another example is that we might want
    to have Drupal provide us with a list of content titles. In both examples, it
    is important for Drupal to be able to determine which part of the content *is*
    the title. If all of the content in the piece was thrown together, there would
    be no way for Drupal to know where the title ends and the body text begins. Having
    them in separate fields removes any ambiguity.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，当此内容在主页上显示时，标题和正文文本的格式不同。另一个例子是，我们可能希望Drupal为我们提供一个内容标题列表。在这两个例子中，对于Drupal能够确定内容的哪个部分是标题来说，这非常重要。如果将内容中的所有内容都混合在一起，Drupal将无法知道标题在哪里结束，正文文本从哪里开始。将它们放在单独的字段中消除了任何歧义。
- en: So, we have seen what the content looks like when separated into separate fields.
    But where do the fields come from? How does Drupal know which fields to offer
    to receive our input? Let's take a look at that next.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们已经看到了当内容被分离成单独字段时的内容样子。但是，这些字段是从哪里来的？Drupal是如何知道提供哪些字段来接收我们的输入的呢？让我们接下来看看这一点。
- en: Understanding content types
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解内容类型
- en: A content type is essentially a collection of fields used to hold the various
    items that together form the whole of the content. In the case of the piece of
    content that we have been using, it is an example of the Article content type,
    which is one of the two content types that are present when you first create a
    new Drupal site, with the other being the Page content type.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 内容类型本质上是一组字段，用于存储构成整个内容的各种项目。在我们所使用的内容的情况下，它是一个文章内容类型的例子，这是在您首次创建新的Drupal站点时存在的两种内容类型之一，另一种是页面内容类型。
- en: If you think of a company's job application, every application contains the
    same fields for entering information, even though the information differs from
    one to another. In this example, the job application is a content type. Let's
    take a look at the Article content type in terms of how Drupal provides it.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想到一家公司的职位申请，每个申请都包含相同的信息输入字段，尽管信息各不相同。在这个例子中，职位申请是一个内容类型。让我们从Drupal如何提供它来分析一下文章内容类型。
- en: 'To navigate via the admin menu, click Structure. Then, on the next page, click Content
    types, which will lead to a page that you can also reach via the browser instead
    at `/admin/structure/types`, as shown in the following screenshot:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 要通过管理菜单导航，请点击“结构”。然后，在下一页上，点击“内容类型”，这将带您到一个页面，您也可以通过浏览器在 `/admin/structure/types`
    路径下访问，如下面的截图所示：
- en: '![](img/d5af9fbb-e374-4bc6-9b07-c94fb4a3541c.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/d5af9fbb-e374-4bc6-9b07-c94fb4a3541c.png)'
- en: Defining the content type
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定义内容类型
- en: 'We''ll now take a look at the content type definition. To start, rather than
    click on the default choice of Manage fields, click the arrow next to that and
    select Edit:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将查看内容类型定义。首先，而不是点击默认选择“管理字段”，请点击其旁边的箭头并选择“编辑”：
- en: '![](img/ebbdbf00-6faa-45cb-aef7-9a3796adead6.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ebbdbf00-6faa-45cb-aef7-9a3796adead6.png)'
- en: 'Let''s take a brief look at the settings in the preceding form:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们简要看看前面表单中的设置：
- en: 'Name: This is the plain language name that the content type will be identified
    with. In this case, this is Article. To the right of this human-readable name
    is what is referred to as the Machine name, which is the internal name. This is
    generated automatically by Drupal, and is usually the lowercase version of the
    name, with multiple words having spaces replaced by an underscore.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 名称：这是内容类型将被识别的普通语言名称。在这种情况下，这是“文章”。在可读名称的右侧是所谓的机器名称，这是内部名称。这是由Drupal自动生成的，通常是名称的小写版本，多个单词之间的空格被下划线替换。
- en: 'Description: This is a place to describe the purpose of the content type and,
    perhaps,  rules of its usage. The descriptive text entered here will be displayed
    along with the content type name when given a list of available content types
    to choose from when creating content.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：这是一个描述内容类型目的和（或许）其使用规则的地方。在此处输入的描述性文本将在创建内容时提供可用内容类型列表时与内容类型名称一起显示。
- en: Following these two fields is a series of vertical tabs that provide additional
    configuration items.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在这两个字段之后是一系列垂直标签页，提供了额外的配置项。
- en: Submission form settings
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提交表单设置
- en: 'The submission form is the form with which content is created:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 提交表单是用于创建内容的表单：
- en: 'Title field label: All content has some identifying key that also acts as a
    title when the content is displayed. The default is to refer to this value as
    the *Title*, but in some cases, this may not be appropriate. For example, with
    a content type that defines travel destinations, the title would work better as *Destination*
    or *Location* than *Title*. This field is required. Its value will be used as
    the prompt on the entry screen when creating a piece of content of this type.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标题字段标签：所有内容都有一个标识键，当内容显示时也充当标题。默认情况下，将此值称为“标题”，但在某些情况下，这可能不合适。例如，对于定义旅行目的地的内容类型，标题作为“目的地”或“位置”会比“标题”更合适。此字段是必需的。其值将在创建此类内容时作为输入屏幕上的提示使用。
- en: 'Preview before submitting: When creating or editing content, it is likely that
    the content, as viewed in the editor, will differ from the content as viewed on
    the web page. Previewing provides the latter view. The selection here will determine
    whether previewing is available, and if so, whether it will be optional or required
    to do so before submitting.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提交前预览：在创建或编辑内容时，编辑器中查看的内容可能与网页上查看的内容不同。预览提供了后者的视图。这里的选项将决定是否提供预览，以及是否在提交前必须进行预览。
- en: 'Explanation or submission guidelines: This is simply a place to enter a description
    that will be shown to the person creating or editing the content.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 说明或提交指南：这是一个输入描述的地方，该描述将显示给创建或编辑内容的人。
- en: Publishing options
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发布选项
- en: 'Typically, content is entered in a rich text editor window in a form. Since
    this entry can very well be the first draft of that content, it may not be desired
    to have it published immediately. Some content types will be of this type, more
    often than not, while others, such as one that contains only a title and URL,
    will not require more than one draft. Because of this, publishing options are
    provided. Here, in the content type form, the default choice for these options
    can be set:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，内容是在表单中的富文本编辑器窗口中输入的。由于这个输入可能是该内容的第一个草稿，可能不希望立即发布。某些内容类型将是这种类型，这种情况更为常见，而其他类型，如仅包含标题和URL的类型，则不需要多个草稿。因此，提供了发布选项。在这里，在内容类型表单中，可以设置这些选项的默认选择：
- en: '* Published*: If selected, the content will be published as soon as it is saved'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*已发布*：如果选中，内容将在保存时立即发布'
- en: '*Promoted to front page*: Not all content is necessarily intended for the homepage,
    and a piece of content having this value set, or not, can be used to determine
    whether it should appear there'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*提升到首页*：并非所有内容都一定是为了首页，具有此值或未设置的内容可以用来确定它是否应该出现在那里'
- en: In Drupal, the site's homepage is sometimes referred to as the *front page*,
    like in a newspaper.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在Drupal中，网站的首页有时被称为*首页*，就像报纸上的那样。
- en: '*Sticky at top of lists*: When no other scheme is put in place, the front page
    displays a specified number of article teasers, and as more content is created,
    the older ones "drop" off the page. If a piece of content is meant to remain on
    the page while others cycle on and off, such as a welcome message, it can be accomplished
    by setting this value.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*粘性在列表顶部*：如果没有设置其他方案，首页将显示指定数量的文章摘要，随着更多内容的创建，较旧的内容“掉落”到页面。如果某块内容意在保持页面，而其他内容交替显示，例如欢迎信息，可以通过设置此值来实现。'
- en: '*Create new revision*: Imagine making changes to content, saving them, and
    realizing that something was changed that shouldn''t have been. What do you do?
    The original version is gone! Or is it? When a new revision is created, it contains
    the content as it existed before the changes were made. Should the need arise,
    the current version can be reverted to that of the revision, providing a complete
    undo.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建新修订版*：想象一下对内容进行更改，保存它们，然后意识到某些不应该更改的东西被更改了。你该怎么办？原始版本消失了！还是说没有？当创建新修订版时，它包含更改之前的内容。如果需要，当前版本可以回滚到修订版，提供完整的撤销。'
- en: Display settings
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 显示设置
- en: '*Display author and date information*: whether to set this or not depends on
    the type of content that will be displayed and the look that''s desired for the
    site.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*显示作者和日期信息*：是否设置这取决于将要显示的内容类型以及网站希望的外观。'
- en: Menu settings
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 菜单设置
- en: 'Sometimes, it is desirable to add a piece of content to a menu, particularly
    if it is somewhat static on the site. For example, Terms and Conditions would
    be persistent site content, whereas a notice about the current week''s activities
    would not. The former might be one of a specific content type, perhaps Legal,
    and you might desire that every piece of such content be listed in the Footer
    menu. In this example, the Footer within the list of Available menus would be
    checked, and if there were a heading, Legal, already in that menu, it could be
    selected as the Default parent item. In that case, all content of that type would,
    by default, be added to the Footer menu as child content to Legal:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，将一块内容添加到菜单中是有益的，尤其是如果它在网站上相对静态的话。例如，条款和条件将是持久性的网站内容，而关于本周活动的通知则不是。前者可能属于特定内容类型，例如法律，你可能希望将此类内容的每一项都列在页脚菜单中。在这个例子中，页脚将在可用菜单列表中被选中，如果该菜单中已经有一个标题，例如“法律”，则可以将其选为默认父项。在这种情况下，默认情况下，该类型的所有内容都将作为子内容添加到页脚菜单中：
- en: '![](img/c449d035-b48f-401a-bc7f-a98b5ecdd868.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c449d035-b48f-401a-bc7f-a98b5ecdd868.png)'
- en: More on menus will be found in Chapter 8.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 更多关于菜单的内容将在第8章中找到。
- en: That completes the main form for content types. We will be creating a new content
    type later in this chapter. For now, let's move on to managing content type fields.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 这就完成了内容类型的主体表单。我们将在本章的后面创建一个新的内容类型。现在，让我们继续管理内容类型字段。
- en: Managing content type fields
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理内容类型字段
- en: A field can be thought of as a container that you put something in, that something
    in our context being content. Why do content types have fields rather than one
    big box in which to put the content, like a page in MS Word? Let's consider an
    example.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 字段可以被视为一个容器，你可以在其中放置某些东西，在我们的上下文中，这些是内容。为什么内容类型有字段而不是一个可以放置内容的大的盒子，就像MS Word中的页面一样？让我们考虑一个例子。
- en: 'Suppose our content is related to appointments. Ms. Jones is making an appointment.
    One possibility is that the appointment is entered as text, like so:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们的内容与预约相关。琼斯女士正在预约。一种可能性是将预约以文本形式输入，如下所示：
- en: '*January 20 at 1:30 PM Ms. Jones will see Mr. Kim to discuss investments.*'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '*1月20日下午1:30，琼斯女士将与金先生会面讨论投资。*'
- en: All of the information needed is there. However, what happens when a list is
    needed of all the appointments for the next two weeks? Or when a list of all Ms.
    Jones's appointments are needed? Or when a decision is made to change the date
    format on all appointments? In those cases, having the information in a form that
    is difficult to aggregate, search, or edit globally is problematic.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 所需的所有信息都在那里。然而，当需要列出接下来两周的所有预约时，或者需要列出琼斯女士的所有预约时，或者当决定更改所有预约的日期格式时，如果信息在一个难以聚合、搜索或全局编辑的表单中，那就成问题了。
- en: What if the appointments were stored like a spreadsheet?
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果预约像电子表格一样存储会怎样？
- en: '| Date/Time | Client | Seeing | Reason |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| 日期/时间 | 客户 | 观察 | 原因 |'
- en: '| January 20, 2018 | Ms. Jones | Mr. Kim | Investment discussion |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| 2018年1月20日 | 琼斯女士 | 金先生 | 投资讨论 |'
- en: With the information segregated into meaningful pieces, it is much easier to
    find what is needed and edit it. That is the idea behind fields.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 将信息分割成有意义的片段后，查找所需内容并进行编辑要容易得多。这正是字段背后的理念。
- en: 'We''ve been working with the Article content type. Let''s take a look at how
    its fields are defined. At the top of the current page, we''ll click on the Manage
    fields tab:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 我们一直在使用文章内容类型。让我们看看其字段是如何定义的。在当前页面的顶部，我们将点击“管理字段”标签页：
- en: '![](img/ba4fab96-d35c-4135-ae52-183c3af3d111.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ba4fab96-d35c-4135-ae52-183c3af3d111.png)'
- en: We saw the title field on the content type form. This screen is for optional
    fields. There could be no additional fields for the content type at all, but since
    all content types must have a title field, whatever its label, it isn't included
    here.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在内容类型表单上看到了标题字段。这个屏幕是用于可选字段的。内容类型可能根本不需要额外的字段，但既然所有内容类型都必须有一个标题字段，无论其标签如何，它都没有包含在这里。
- en: When we looked at the content edit form, we saw the title and body fields. The
    body field is listed here. The field is of a type meant to hold text without any
    specific use or format in mind. We'll be looking more at field types when we create
    a new content type later in this chapter.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们查看内容编辑表单时，我们看到了标题和正文字段。正文字段在这里列出。该字段是用于存放没有特定用途或格式的文本的类型。我们将在本章后面创建新内容类型时更详细地了解字段类型。
- en: The comments field is meant to hold a comment about the content. There may be
    several instances of this field, one for each comment created. A comment is actually
    a content entity type on its own, and so even though the comments are seen when
    viewing the article's content, the actual contents of the comment field is simply
    the ID of the comment.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 评论字段是用来存放关于内容的评论的。可能有多个此类字段，每个评论创建一个。实际上，评论是一个内容实体类型，因此尽管在查看文章内容时可以看到评论，但评论字段的实际内容只是评论的ID。
- en: The image field is used for displaying an image along with the content, allowing
    an image to be uploaded. The image field is a reference of the information needed
    to retrieve the actual image from where it is stored, and the article image field,
    if an image is being used, will contain the address of that record.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图片字段用于显示与内容一起的图片，允许上传图片。图片字段是检索实际图片所需信息的引用，如果使用了图片，文章图片字段将包含该记录的地址。
- en: The final field is for tags. Think of tags as categorical information that can
    be used for searching for the content. This is using another reference field type
    like comments and images, that is, taxonomy. We will be looking at taxonomy more
    in Chapter 7.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个字段是用于标签的。将标签视为可用于搜索内容的分类信息。这是使用另一种参考字段类型，如评论和图像，即分类法。我们将在第7章中更详细地探讨分类法。
- en: '*Taxonomy* is a content structure, referred to as an *Entity* in Drupal. Another
    type of entity is a *User*. Article is a content type, also known as a *Bundle*,
    which is a sub-type of an Entity type known as a *Node*. Bundles can include Article,
    Page, Blog post, and other types of content that''s intended for readers.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '*分类法*是内容结构，在Drupal中被称为*实体*。另一种实体类型是*用户*。文章是一个内容类型，也称为*捆绑包*，它是称为*节点*的实体类型的子类型。捆绑包可以包括文章、页面、博客文章和其他类型的内容，这些内容是为读者准备的。'
- en: We can look at the other two tabs at the top of the page, Manage form display
    and Manage display when we create a content type. In fact, let's do that now!
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以查看页面顶部的其他两个标签页，即“管理表单显示”和“创建内容类型时管理显示”。事实上，我们现在就来做这件事！
- en: Designing a content type
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设计内容类型
- en: We've already taken a look at the *Article* content type. It contains a title
    and a place to enter text, and allows the addition of an image and category tags.
    So, with all that, why would you want to create a content type? Well, because
    vanilla is a nice flavor, but not the only flavor!
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经查看过 *文章* 内容类型。它包含一个标题和输入文本的地方，并允许添加图片和分类标签。所以，有了所有这些，为什么还要创建内容类型呢？嗯，因为原味是一个不错的口味，但不是唯一的口味！
- en: We need an appointment list. Well, not really, but we're going to need an example
    of a type of content that is nothing like an article, and an appointment is a
    good example of that.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要一个预约列表。好吧，实际上不是，但我们确实需要一个与文章完全不同类型的内容示例，而预约就是一个很好的例子。
- en: The first thing to do after determining that a new content type is needed is
    designing it. Looking back at the Article content type, it had settings and fields.
    So will this one. It helps to decide in advance what those will be in order to
    create a design, so let's do that. We'll use two forms for the design – nothing
    fancy, just lists to refer to when entering information into the content type
    forms.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 确定需要新的内容类型后，首先要做的是设计它。回顾一下 *文章* 内容类型，它有设置和字段。所以这个也会有。提前决定这些将有助于创建设计，让我们来做吧。我们将使用两个表单进行设计——没有什么花哨的，只是当输入内容类型表单中的信息时用来参考的列表。
- en: Content type settings
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内容类型设置
- en: '| Setting | Value |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 设置 | 值 |'
- en: '| --- | --- |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| **Name** | Appointment |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| **姓名** | 职位 |'
- en: '| **Description** | Appointment information |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| **描述** | 职位信息 |'
- en: '| **Title field label** | Name |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| **标题字段标签** | 姓名 |'
- en: '| **Default options** | Published Promoted  Sticky  Revision |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| **默认选项** | 发布 推广 置顶 修订 |'
- en: With this content type, we will pretend that we are in an office that gives
    appointments to its clients. The content type *Name* and *Description* values
    are self-evident.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个内容类型，我们将假装我们在一个为客户提供预约的办公室里。内容类型的 *名称* 和 *描述* 值是显而易见的。
- en: The *Title field* label will be Name, since it will contain the name of the
    person who has the appointment.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '*标题字段* 标签将是姓名，因为它将包含预约人的姓名。'
- en: The selected Default options will be *Published* and *Revision*. We are selecting
    *Published* because we want appointments to be active and set as soon as they
    are saved.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 选定的默认选项将是 *发布* 和 *修订版*。我们选择 *发布* 是因为我们希望预约一旦保存就立即生效并设置为活动状态。
- en: '*Promoted* is not set because we don''t want the appointments to be displayed
    on the front page like an article, nor do we want the most recently entered appointment
    to be the one shown. We will want the appointment nearest to the current date
    and time to be shown.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '*推广* 未设置，因为我们不希望预约像文章一样显示在首页上，也不希望最近输入的预约被显示。我们希望显示的是距离当前日期和时间最近的预约。'
- en: '*Sticky* is not set because we have no need for any appointment to remain on
    the front page.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '*Sticky* 未设置，因为我们没有让任何预约保持在首页上的需求。'
- en: Finally, we do set *Create new revision*, so that any time an appointment is
    changed, Drupal will save the previous version rather than simply overwriting
    it.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们确实设置了 *创建新修订版*，这样每次预约更改时，Drupal 都会保存之前的版本而不是简单地覆盖它。
- en: 'We will make no changes to the default settings on the other tabs since they
    meet our needs, and so they do not appear in the list. With our list complete,
    on the administrative menu, we can click *Structure*, then *Content types*, and
    then the *+Add content type* button, which will lead us to the page at `/admin/structure/types/add`.
    Once there, enter the information from the form, and after ensuring that the *Default
    options* settings are as they should be, as shown in the following form, click
    the *Save and manage fields* button:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会对其他选项卡上的默认设置进行任何更改，因为它们符合我们的需求，所以它们不会出现在列表中。我们的列表完成后，在管理菜单中，我们可以点击 *结构*，然后
    *内容类型*，然后点击 *+添加内容类型* 按钮，这将带我们到 `/admin/structure/types/add` 页面。一旦到达那里，输入表单中的信息，并确保
    *默认选项* 设置如以下表单所示，然后点击 *保存并管理字段* 按钮：
- en: '![](img/1176a3b5-148d-4eca-9ffd-05eed362f665.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1176a3b5-148d-4eca-9ffd-05eed362f665.png)'
- en: Fielding the content type
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理内容类型
- en: So far, we have created the *Appointment* content type. At this point, it could
    be used for creating content. However, it is not yet constructed to fulfil its
    purpose. It only has two fields, one being the title, Name, and the other a field
    for body text, of which there will be none with this content type. We will need
    to do a little work to make this content type usable for our purpose.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经创建了*预约*内容类型。在此阶段，它可以用于创建内容。然而，它尚未构建来完成其目的。它只有两个字段，一个是标题，名称，另一个是正文字段，其中此内容类型将没有正文。我们需要做一些工作来使此内容类型适用于我们的目的。
- en: In order to add the necessary fields to the content type, it would be helpful
    to know what the choices are.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 为了向内容类型添加必要的字段，了解选择项会有所帮助。
- en: Field types
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 字段类型
- en: 'A fresh installation of Drupal contains a number of field types that are ready
    to use, and a few that first need to be enabled in order to be used:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal的新安装包含了一些现成的字段类型，以及一些需要首先启用才能使用的字段：
- en: '**GENERAL FIELDS:**'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '**通用字段**:'
- en: '**Boolean**: Can have only two values, such as Yes/No, On/Off or, with one
    value being understood, such as Completed. This is commonly represented by a checkbox'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**布尔值**: 只有两个值，例如是/否、开/关，或者有一个值被理解，例如已完成。这通常用复选框表示'
- en: '**Date**: Displays a date in whatever format is configured'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期**: 以配置的任何格式显示日期'
- en: '**Email**: Accepts text formatted as a valid email address'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**电子邮件**: 接受格式为有效电子邮件地址的文本'
- en: '**Link**: Accepts text formatted as a valid URL and the text that will be clicked'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**链接**: 接受格式为有效URL的文本和将被点击的文本'
- en: '**Timestamp**: A long numeric value that stores a date, time, and time zone'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**时间戳**: 一个存储日期、时间和时区的长数字值'
- en: '**NUMERIC FIELDS:**'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '**数值字段**:'
- en: '**Number (decimal)**: A value that can have numerals before and after the decimal
    point'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数字（小数）**: 可以有小数点前后的数字'
- en: '**Number (integer)**: A value that contains no fractional portion'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数字（整数）**: 不包含小数部分的值'
- en: '**Number (float)**: A value that requires a large number of decimal positions
    and great precision'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数字（浮点数）**: 需要大量小数位数和极高精度的值'
- en: '**List (float)**: A floating point number that must match one from a list of
    values'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**列表（浮点数）**: 必须与提供的值列表中的一个匹配的浮点数'
- en: '**List (integer)**: An integer value that must match one from a list of values'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**列表（整数）**: 必须与提供的值列表中的一个匹配的整数值'
- en: '**REFERENCE FIELDS (fields that refer to other content):**'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '**引用字段（引用其他内容的字段）**:'
- en: '**Content**: A reference to another piece of content, of one of the content
    types configured for use with the field'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容**: 指向另一篇内容，该内容是配置用于与字段一起使用的某个内容类型'
- en: '**Comments**: Used for accepting comments about the content'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**评论**: 用于接受关于内容的评论'
- en: '**File**: A reference to a file that was uploaded to the system, such as a
    PDF'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件**: 指向上传到系统的文件，例如PDF文件'
- en: '**Image**: A reference to an uploaded image, such as a JPG or PNG'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像**: 指向上传的图像，例如JPG或PNG'
- en: '**Taxonomy term**: A value or set group of information among others of a common
    category (taxonomy), such as tags, countries, months, and so on'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分类术语**: 在一个共同类别（分类）中，如标签、国家、月份等，与其他信息值或值组'
- en: '**User:** A reference to a user account'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**: 指向用户账户'
- en: '**Other**: A reference to a custom type of entity (other than those mentioned
    previously)'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**其他**: 指向除之前提到的类型之外的实体自定义类型'
- en: '**TEXT FIELDS:**'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**文本字段**:'
- en: '**List (text)**: A text field whose value must be one of a provided list'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**列表（文本）**: 一个文本字段，其值必须是提供的列表中的一个'
- en: '**Text (formatted)**: Text of a short length that can be formatted, such as
    being bold, italic, and so on'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本（格式化）**: 短文本，可以格式化，例如加粗、斜体等'
- en: '**Text (formatted, long, with summary)**: Text that can be formatted, lengthy,
    and can have a separate summary for use as an abbreviated teaser'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本（格式化，长文本，带摘要）**: 可以格式化、较长的文本，并且可以有一个单独的摘要用于作为简短的预告'
- en: '**Text (plain)**: A short piece of text that will not have any formatting'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本（纯文本）**: 一段不会进行任何格式化的简短文本'
- en: '**Text (plain, long)**: Text that will not have any formatting and can be lengthy'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本（纯文本，长文本）**: 不会进行任何格式化且可以较长的文本'
- en: '**FIELDS REQUIRING ENABLING:**'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '**需要启用的字段**:'
- en: '**Address**: An address field that can be configured based on the country to
    which the address applies and the fields desired'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**地址**: 一个可以根据地址适用的国家以及所需字段进行配置的地址字段'
- en: '**Computed Field**: A field that can be tied to programming to determine a
    certain value'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算字段**: 可以与编程相关联以确定特定值的字段'
- en: '**Datetime Range**: Stores a beginning and ending date in whichever format
    is needed'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期时间范围**：存储开始和结束日期，格式根据需要而定'
- en: '**Entity Reference Revisions**: Provides a reference to an entity and also
    provides for the storing of revisions whenever the entity is modified'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**实体引用修订版**：提供一个实体的引用，并在实体被修改时提供存储修订版的功能'
- en: '**Simple Google Maps**: Provides the ability to display a link to a Google
    map or a one-line address as a Google map'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单谷歌地图**：提供显示谷歌地图链接或一行地址作为谷歌地图的能力'
- en: '**Telephone**: For holding a validly formatted phone number'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**电话**：用于存储格式正确的电话号码'
- en: These are the fields that are available from a new Drupal installation. As additional
    modules are added, this list can grow.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是从新的Drupal安装中可用的字段。随着添加额外的模块，此列表可以增长。
- en: Our content type field
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我们的内容类型字段
- en: You can see from the preceding lists, there are fields for most of the various
    types of information that you will need to store. It's not just a matter of the
    type of data, like text or number, but often what information the data represents,
    like a phone number or URL, and that's because there is often programming code
    that provides the formatting or validates what has been entered. For example,
    entering an email address in a phone number field will cause an error to be displayed.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从前面的列表中看到，大多数需要存储的各种类型的信息都有相应的字段。这不仅仅涉及数据的类型，如文本或数字，还经常涉及数据所代表的信息，例如电话号码或URL，这是因为通常存在提供格式化或验证已输入内容的编程代码。例如，在电话号码字段中输入电子邮件地址将导致显示错误。
- en: 'So, let''s take a look at a list of the information  that we will want to store
    for an appointment, and the type of field that we can use for that. We''ll also
    decide on a name for each field, which will be used for its label on the entry
    form, and help text with a a description to remind us or inform other users about
    the field''s use:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们看看我们将要存储的预约信息列表，以及我们可以用于此的字段类型。我们还将为每个字段决定一个名称，该名称将用于输入表单上的标签，并带有描述性的帮助文本，以提醒我们或告知其他用户有关字段用途的信息：
- en: '| Information needed | Field type | Label | Help Text |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| 需要的信息 | 字段类型 | 标签 | 帮助文本 |'
- en: '| Client name | text  (plain) | Name¹ |  |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| 客户名称 | 文本（普通） | 名称¹ |  |'
- en: '| Client phone number | text (plain)² | Phone | `###-###-####` |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| 客户电话号码 | 文本（普通）² | 电话 | `###-###-####` |'
- en: '| Client email address | email | Email | For example, `bill@gmail.com` |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| 客户电子邮件地址 | 电子邮件 | 电子邮件 | 例如，`bill@gmail.com` |'
- en: '| Appointment date and time | date | Date |  |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| 预约日期和时间 | 日期 | 日期 |  |'
- en: '| Who the appointment is with | list (text) | With | Select a name |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| 预约是与谁 | 列表（文本） | 与 | 选择一个名字 |'
- en: '| The purpose of the appointment | text (plain, long) | Reason |  |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| 预约的目的 | 文本（普通，长） | 原因 |  |'
- en: '| The status of the appointment | list (text) | Status | Select a status |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| 预约的状态 | 列表（文本） | 状态 | 选择状态 |'
- en: ¹ This is the renamed Title field
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: ¹ 这是已重命名的标题字段
- en: ² There is a field type for telephone number, but it is not enabled, so we will
    use plain text
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: ² 存储电话号码的字段类型是有的，但它尚未启用，因此我们将使用普通文本
- en: With our list prepared, it's time to create the fields for our content type.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的列表准备好了，现在是时候创建我们内容类型的字段了。
- en: Adding fields to the content type
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向内容类型添加字段
- en: 'Still on the Manage *fields* page (`/admin/structure/types/manage/appointment/fields`),
    let''s first make a change to the one existing field: Body. We will not have body
    text in this content type, so:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 仍然在“管理字段”页面（`/admin/structure/types/manage/appointment/fields`），让我们首先对现有的一个字段进行更改：正文。在这个内容类型中，我们不会有正文文本，所以：
- en: Click the arrow next to Edit
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击编辑旁边的箭头
- en: Select Delete
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择删除
- en: confirm the deletion
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认删除
- en: With that done, click the *+Add field* button.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 完成这些后，点击“+添加字段”按钮。
- en: 'We''ll add the fields shown in the preceding order for the most part. The page
    we see now has two dropdown select widgets: one for creating a new field, and
    one for reusing a field on this content type that already exists.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将按照前面的顺序添加显示的字段。现在我们看到的页面有两个下拉选择小部件：一个用于创建新字段，另一个用于重用此内容类型上已存在的字段。
- en: 'Keeping in mind that the Name field already exists in our content type, being
    the renamed Title field that all content types contain, the first field we will
    add is Client phone number:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到名称字段已经存在于我们的内容类型中，它是所有内容类型都包含的已重命名的标题字段，我们将首先添加的是客户电话号码：
- en: Click on the *Add a new field* dropdown
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加新字段”下拉菜单
- en: Scroll down and select *Text (plain)* from the list.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并从列表中选择“文本（普通）”。
- en: 'A new field, *Label*, appears, and is marked with a red asterisk, indicating
    that it is required that you type something in the field:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 出现了一个新的字段，*标签*，并用红色星号标记，表示您必须在字段中输入一些内容：
- en: The label, as found in our preceding table, will be **Phone**
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标签，如我们前面的表格所示，将是**电话**
- en: 'Having entered the label, you will notice that to the right of the field that
    a *Machine name* appears. The machine name is the name by which Drupal will identify
    the field. Once you save the field, the label can be changed at any time, but
    the field name will not change, because it will already have been *set in stone* within
    the database. Were you to desire a specific machine name, now is the time it can
    be changed, by clicking the *Edit* link. You would be able to edit the name, keeping
    in mind that there are some naming rules, such as needing to use underscores rather
    than hyphens, and that the **field_** prefix cannot be removed. We have no need
    to override the field name:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 输入标签后，您会注意到在字段的右侧出现了一个*机器名*。机器名是Drupal用来识别字段的名称。一旦保存字段，标签可以随时更改，但字段名称不会更改，因为它已经在数据库中“确定”了。如果您希望有一个特定的机器名，现在就是更改它的时候，通过点击*编辑*链接。您将能够编辑名称，同时考虑到一些命名规则，例如需要使用下划线而不是连字符，以及**field_**前缀不能被移除。我们没有必要覆盖字段名称：
- en: Click *Save and continue*
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击*保存并继续*
- en: 'A new page is loaded, which is for defining the field storage. Fields in Drupal
    have three components: the *definition*, which describes the field, the *storage*,
    which defines how the field will be stored in the database, and the actual *contents*
    of the field for a given piece of content, when that content is created.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 加载了一个新页面，用于定义字段存储。Drupal中的字段有三个组成部分：*定义*，它描述了字段；*存储*，它定义了字段如何在数据库中存储；以及当创建特定内容时字段的实际*内容*。
- en: The first field is *Maximum length*, and is required. For this field type, a
    standard (as opposed to long) text field is desired. The default is 255, meaning
    that the field can hold up to 255 characters. It's alright if less are entered
    when the content is created. You need only change this value if the contents should
    be of a particular length and no more. In the case of the phone field, it depends.
    If all client contacts will be local, or at least domestic, then it would be alright
    to limit the length to match the structure of your phone numbers. For example,
    in the U.S., phone numbers are ten digits. That said, the length of such a phone
    number can be greater than ten digits if entered with a format such as (212) 555-1212\.
    So, be careful when limiting the length. We'll just leave it at 255.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 第一字段是*最大长度*，是必填项。对于此字段类型，希望使用标准（而非长）文本字段。默认值为255，表示该字段可以存储最多255个字符。当创建内容时，如果输入的字符少于255个，那是可以的。只有当内容需要特定长度且不超过该长度时，才需要更改此值。在电话字段的情况下，这取决于具体情况。如果所有客户联系都是本地的，或者至少是国内的话，那么限制长度以匹配您的电话号码结构是可以的。例如，在美国，电话号码是十位数字。但话虽如此，如果以(212)
    555-1212这样的格式输入，这样的电话号码长度可以超过十位数字。因此，在限制长度时要小心。我们将其保留为255。
- en: 'The *Allowed number of values* field defines whether a piece of content, an
    appointment in this case, can contain more than one occurrence of this field.
    We have the option to leave it as **Limited** to one value, or change the number
    to another specific quantity, or click the dropdown widget and selecting **Unlimited**
    to indicated any number of instances of this field can be created. We want to
    be able to take two contact numbers for the client in case the need to contact
    them arises and attempts of using the first number are not successful:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '*允许的值数量*字段定义了内容（在这个例子中是预约）是否可以包含此字段的多个实例。我们有选择将其保留为**限制**为一个值，或将数字更改为另一个特定数量，或者点击下拉小部件并选择**无限**以表示可以创建任意数量的此字段实例。我们希望能够在需要联系客户且第一次尝试不成功的情况下，为该客户获取两个联系电话号码：'
- en: Change the 1 to 2
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将1改为2
- en: Click *Save field settings*
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击*保存字段设置*
- en: The third, and final, page in the field creation process is now displayed. If
    we want to change the storage settings that we just saved, we could click the
    Field settings tab and do so.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 字段创建过程的第三页，也是最后一页，现在显示出来了。如果我们想更改我们刚刚保存的存储设置，我们可以点击字段设置选项卡并执行更改。
- en: The storage settings for a field can not be changed once content has been created
    that uses that field, unless all such content is first deleted. Attempts to click
    this tab after content has been created will result in a display of the settings
    with a message indicating that they can no longer be changed due to content existing.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建了使用该字段的内容，就无法更改字段的存储设置，除非首先删除所有此类内容。在创建内容后尝试点击此选项卡将导致显示设置，并显示一条消息，指出由于存在内容，它们不能再更改。
- en: The first field in the form is for the *Label*. This is the value that we entered
    earlier. It can be changed now if we have since decided on a new name. The *Machine
    name* can no longer be changed.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 表单中的第一个字段是*标签*。这是我们之前输入的值。如果我们已经决定了一个新名称，现在可以更改它。*机器名*不能再更改。
- en: 'The contents of the *Help text* field, if any, will be displayed on the content
    form beneath the field you are creating. We''ll use the entry from our table to
    provide the content creator with a hint as to the field contents, which in our
    case is the format of the phone number used locally:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 如果*帮助文本*字段中有内容，它将在你创建的字段下方的内容表单中显示。我们将使用表中的条目为内容创建者提供有关字段内容的提示，在我们的例子中是本地使用的电话号码格式：
- en: Enter **###-###-####** in the *Help Text* field
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在*帮助文本*字段中输入**###-###-####**
- en: 'The Help Text field can contain HTML, as indicated by its own help text. For
    example, we could elaborate on our description by instead entering the following:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 帮助文本字段可以包含HTML，如其自身的帮助文本所示。例如，我们可以通过输入以下内容来详细说明我们的描述：
- en: Enter a phone number with the format <strong>###-###-####</strong>
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 输入格式为**###-###-####**的电话号码
- en: 'Which would be displayed as follows:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 它将显示如下：
- en: Enter a phone number with the format **###-###-####**
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 输入格式为**###-###-####**的电话号码
- en: The next field in the form is the *Required* field. If this box is checked,
    the field will appear in the content form with its label containing whatever formatting
    is defined for a required field in the site theme. By default, this would be a
    red asterisk, as we see in the current form beside *Label*.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 表单中的下一个字段是*必填*字段。如果勾选此框，该字段将出现在内容表单中，其标签包含站点主题中定义的必填字段的任何格式。默认情况下，这将是一个红色的星号，正如我们在当前表单中看到的那样，位于*标签*旁边。
- en: If a field is required, content cannot be saved unless a value has been provided
    for the field. Be careful not to require a field that could legitimately be left
    empty. Examples of this are a zip code or post code for an optional address, a
    list of options where none may apply, or a checkbox, where empty indicates "no".
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 如果字段是必填项，除非为该字段提供了值，否则无法保存内容。请注意，不要要求一个可以合法留空的字段。例如，可选地址的邮政编码或邮编，没有适用的选项列表，或者复选框，其中空白表示“无”。
- en: In our case, we will leave the phone field as not being required. The final
    field is for a default value. Of course, a phone number field is unlikely to have
    a default value, given that we have no idea what the value will be. There are
    circumstances where a default value makes sense. For example, if we have a grouping
    of address fields, one of which is Country, and if most of the entries will be
    from the United Kingdom, it would make sense to offer it as a default value rather
    than forcing the user to scroll down a list of countries to the U's.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们这个例子中，我们将把电话字段设置为非必填项。最后一个字段用于默认值。当然，考虑到我们不知道具体值是什么，电话号码字段不太可能有默认值。在某些情况下，默认值是有意义的。例如，如果我们有一组地址字段，其中之一是国家，并且大多数条目都来自英国，那么提供默认值而不是强迫用户滚动到国家列表中的“U”项是有意义的。
- en: If you provide a default value, be prepared for erroneous content due to users
    accidentally leaving the field untouched and saving the form with the default
    value.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你提供了默认值，要准备好由于用户不小心未更改字段并使用默认值保存表单而导致的错误内容。
- en: 'We will leave the form containing no default value:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将保留没有默认值的表单：
- en: Click *Save settings*
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击*保存设置*
- en: At this point, we have saved our first field configuration, *Phone*. Technically,
    the field does not exist until content is created using this field, but its definition
    and configuration exist at this point. You can see that our content type field
    list for the *Appointment* content type has changed, with *field_phone* having
    been added to it.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经保存了第一个字段配置，*电话*。从技术上讲，直到使用此字段创建内容之前，该字段不存在，但它的定义和配置现在存在。你可以看到，我们的内容类型字段列表已经发生了变化，*field_phone*已被添加到其中。
- en: 'We will follow the same process for each of the remaining fields in our table.
    For each of them, I note any considerations for their storage and configuration
    settings, as follows:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将对表格中剩余的每个字段遵循相同的流程。对于每个字段，我会记录其存储和配置设置的考虑因素，如下所示：
- en: '*Date*: *date* field type – the checkbox for *Required* should be checked.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '*日期*：*日期*字段类型 – 应该勾选*必需*复选框。'
- en: '*With*: *list (text)* field type – in the *Allowed values list* box, add 2-3
    names in the form last name, first name, one person per line. As an example, I
    have added the following:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '*使用*：*列表（文本）*字段类型 – 在*允许的值列表*框中，按以下格式添加2-3个姓名，每人一行。例如，我已经添加了以下内容：'
- en: '**Jones, Janet**'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '**琼斯，珍妮特**'
- en: '**Smith, Steve**'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '**史密斯，史蒂夫**'
- en: '*Status:* *list (text)* field type – in the *Allowed values list* box, add
    the following:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '*状态*：*列表（文本）*字段类型 – 在*允许的值列表*框中，添加以下内容：'
- en: '**pending**'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '**已取消**'
- en: '**active**'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '**活跃**'
- en: '**canceled**'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '**已取消**'
- en: '**completed**'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '**完成**'
- en: And in the *Default Value* dropdown, select **pending**.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在*默认值*下拉菜单中，选择**挂起**。
- en: 'Having created all of the fields in our table, the Manage Fields page should
    look as follows:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的表格中创建完所有字段后，管理字段页面应该如下所示：
- en: '![](img/ad74ad15-1ddd-4297-9a1a-07bf4369f101.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ad74ad15-1ddd-4297-9a1a-07bf4369f101.png)'
- en: Summary
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'In this chapter, we have learned the following: firstly, what a content type
    is, and then why we would want to create one. Furthermore, we looked at content
    fields, found out what they are, and looked at what field types are available.
    Then, we moved on and looked at how to design and create content types, before
    finally finishing by adding fields to our content types.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了以下内容：首先，内容类型是什么，然后我们为什么要创建一个。此外，我们研究了内容字段，了解了它们是什么，并查看可用的字段类型。然后，我们继续研究如何设计和创建内容类型，最后通过向我们的内容类型添加字段来完成。
- en: What a content type is
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内容类型是什么
- en: Why we would want to create a content type
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们为什么要创建内容类型
- en: What content type fields are
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内容类型字段是什么
- en: Which field types are available
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可用的字段类型有哪些
- en: How to design a content type
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何设计内容类型
- en: How to create a content type
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何创建内容类型
- en: How to add fields to the content type
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何向内容类型添加字段
- en: We will return to our content type later in this book when we learn about creating
    content for it, configuring the content creation form, and designing the way the
    content is displayed.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们学习如何为其创建内容、配置内容创建表单以及设计内容显示方式时，我们将在本书的后面部分回到我们的内容类型。
- en: We added fields to a new content type in this chapter. It is also possible,
    using the same administrative pages, to edit existing content types and add new
    fields to them, change existing fields, and remove fields that are no longer needed.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们向新的内容类型添加了字段。同样，使用相同的管理页面，也可以编辑现有内容类型，向它们添加新字段，更改现有字段，以及删除不再需要的字段。
- en: In the next chapter, we will learn about administering users, their roles, and
    the permissions assigned to those roles.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，我们将学习如何管理用户、他们的角色以及分配给这些角色的权限。

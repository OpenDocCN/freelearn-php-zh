<html><head></head><body><div class="chapter" title="Chapter&#xA0;5.&#xA0;Forum Administration"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Forum Administration</h1></div></div></div><p>In the previous chapters you’ve read about how your board works and how to customize the way it looks. Some advanced topics were skipped so that you could concentrate on the most important and widely used phpBB features. It’s now time to master phpBB, and go through details that will make you a real power-phpBB-admin.<a id="id138" class="indexterm"/>
</p><p>In this chapter you’ll learn about:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Making your board multi-lingual</li><li class="listitem" style="list-style-type: disc">Configuring avatars</li><li class="listitem" style="list-style-type: disc">Managing smilies</li><li class="listitem" style="list-style-type: disc">Assigning ranks</li><li class="listitem" style="list-style-type: disc">Forum permissions</li><li class="listitem" style="list-style-type: disc">User permissions</li><li class="listitem" style="list-style-type: disc">Usergroups and group permissions</li><li class="listitem" style="list-style-type: disc">Database backups and restore—a second look</li><li class="listitem" style="list-style-type: disc">The human side—moderators, flamewars, and banning</li></ul></div><div class="section" title="Making Your Board Multi-Lingual"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec01"/>Making Your Board Multi-Lingual</h1></div></div></div><p>phpBB is developed to support multiple languages in the same board. The whole interface (screens, messages, buttons, e-mails, and so on) is translated into more than 50 languages. The translators are not members of the phpBB team, but are native-speaking volunteers, and this guarantees that the translations are correct and ready to be installed on your board. Thus, you provide a better service for your community, giving them an interface they feel more comfortable with.<a id="id139" class="indexterm"/>
</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec01"/></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec01"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec01"/></h4></div></div></div><div class="section" title="Time For Action—Adding Spanish Support to Your Forum"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec01"/>Time For Action—Adding Spanish Support to Your Forum</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to the phpBB.com downloads page<a class="ulink" href="http://www.phpbb.com/downloads.php"> http://www.phpbb.com/downloads.php</a>.</li><li class="listitem">Scroll down to the<span class="strong"><strong> Language &amp; Image Packs</strong></span> section and locate the<span class="strong"><strong> Español</strong></span> (Spanish) row:<div class="mediaobject"><img src="graphics/1132_05_01.jpg" alt="Time For Action—Adding Spanish Support to Your Forum"/></div></li><li class="listitem">Choose your preferred compression type—ZIP or GZIP—and download the two archives in the selected format. Lets choose the ZIP format as an example. The first ZIP file contains the texts for the phpBB interfaces, and the second one contains the interface graphics, such as the buttons for a new post, quote, and so on. These graphics are provided for the default subSilver theme only.</li><li class="listitem">Uncompress the first file,<code class="literal"> lang_spanish.zip</code> (and FTP it if youre using a hosted service), into the<code class="literal"> language</code> directory within your phpBB directory. This should create a<code class="literal"> lang_spanish</code> subdirectory under<code class="literal"> language</code>.</li><li class="listitem">Uncompress the second file,<code class="literal"> subSilver_spanish.zip</code>, to a selected directory. When you do this, youll notice that it has a nested directory structure, and in your selected directory, youll have a<code class="literal"> subSilver/images/lang_spanish</code> path. If you follow this path, youll find a number of GIF files.</li><li class="listitem">Copy (and/or FTP) the last directory (<code class="literal">lang_spanish</code>, the one that contains all the GIF files) into your corresponding phpBB directory,<code class="literal"> templates/subSilver/images</code>.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec01"/>What Just Happened?</h6></div></div></div><p>After you have successfully uncompressed the ZIP archives and copied their content, your forum structure will look like the following screenshot:</p><div class="mediaobject"><img src="graphics/1132_05_02.jpg" alt="What Just Happened?"/></div><p>Now if you log in to your forum and access your profile, you’ll see that the<span class="strong"><strong> Board Language</strong></span> dropdown now has two values, as shown in the illustration:<a id="id140" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_03.jpg" alt="What Just Happened?"/></div><p>If you change your preference to<span class="strong"><strong> Spanish</strong></span>, you’ll see the whole board with a Spanish interface. ¡Hola!</p><div class="mediaobject"><img src="graphics/1132_05_04.jpg" alt="What Just Happened?"/></div><p>Now you have two languages installed, but English is still the default language for the board. If your community is mainly Spanish speaking, you can consider changing the default language. To do that you need to go to the Administration Panel and follow the<span class="strong"><strong> Configuration</strong></span> link under<span class="strong"><strong> General Admin</strong></span>.</p></div></div></div></div></div></div></div>
<div class="section" title="Avatars: Enabling and Configuring"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec02"/>Avatars: Enabling and Configuring</h1></div></div></div><p>Avatars are those small images that reside under the username in all postings and are also displayed when viewing a user’s profile. They are not enabled by default in phpBB, but can be enabled pretty easily using the Administrator Panel.<a id="id141" class="indexterm"/>
</p><p>There are three options for the use of avatars, and they are not exclusive; you can select any number of them.<a id="id142" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Option one is to enable the so-called<span class="strong"><strong> gallery avatars</strong></span>: The images that can be used as avatars are selected by you and hosted on the same server on which phpBB runs. Users can select their preferred avatar only from the offered images.</li><li class="listitem" style="list-style-type: disc">Option two is to enable<span class="strong"><strong> remote avatars</strong></span>: The avatar image can reside on any server on the Internet and the users are just linking to it, using images URL address (starting with<code class="literal"> http://</code>).</li><li class="listitem" style="list-style-type: disc">Option three is to allow users to<span class="strong"><strong> upload avatars</strong></span>: The users copy their images to your server, and phpBB reads them from there when displaying a post.</li></ul></div><p>All these options have pros and cons to consider when making a decision.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Remote avatars</strong></span> are your safest bet in terms of server security; its all in the hands of the users, and your board is not responsible for hosting or managing the images. However, some users may want to use images that are on their hard drives and are nowhere to be found on the Internet. Also, because of the dynamic nature of the Internet, many pages and even whole sites appear and disappear in a single day. This means that an image your user selected today may not be available tomorrow, and some browsers (like Internet Explorer) will display a broken image icon instead, which is not pretty. Or even if an avatar is available but hosted on a slow site, it may slow the whole page down. There may be issues when the board members use avatars hosted on servers that dont allow hotlinking. Moreover, you dont have control over the sizes of the avatars. Somebody can put a real big picture as an avatar and ruin the whole look of a topic.</li><li class="listitem" style="list-style-type: disc">With<span class="strong"><strong> gallery avatars</strong></span>, you have control over the size of the images, because youre the one selecting them. The drawbacks are that these images will increase your bandwidth usage and will be too restrictive for the users, as they can only pick an image from pre-defined choices.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Uploaded avatars</strong></span> can lead to increased bandwidth, which can be an issue for heavily used boards with a lot of users. Another issue might be that some hosts may not allow you to use file uploads, because of the general concern that anything that a user does to a server can be potentially dangerous. Apart from that, uploaded avatars have quite a few benefits, like defining the size in pixels and the disk size in bytes for the images. With the uploaded avatars, users are free to use any possible image they can lay their hands on, not only those images available on the Internet.</li></ul></div><p>To configure the avatars, you need to log in as an administrator, go to the Administrator Panel, and bring up the general configuration form:<a id="id143" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_05.jpg" alt="Avatars: Enabling and Configuring"/></div><p>Here’s what the avatars section in the configuration form looks like:<a id="id144" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_06.jpg" alt="Avatars: Enabling and Configuring"/></div><p>The first three fields represent the three avatar options discussed. The next three fields are applicable to uploaded avatars only, and the very last field is for gallery avatars only.</p><p>To feel more comfortable with the avatar options, the best thing to do is just to enable all three options and play around with the avatars. After that, you can make your choice.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip01"/>Tip</h3><p><span class="strong"><strong>Getting gallery avatars</strong></span></p><p>You can get avatars for your gallery from<a class="ulink" href="http://www.phpbb.com/styles/"> http://www.phpbb.com/styles/</a>. Click on<span class="strong"><strong> Downloads</strong></span>, and then<span class="strong"><strong> Avatars</strong></span>. Unzip the packages into a subfolder within the<code class="literal"> avatars</code> directory you specified in the configuration (the default is<code class="literal"> images/avatars/gallery</code>).</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"/>Tip</h3><p><span class="strong"><strong>Don’t forget permissions</strong></span></p><p>If you enable avatar uploads, you have to make sure the directory specified to contain the images (the default is<code class="literal"> images/avatars</code>) is writable, meaning<code class="literal"> chmod 777</code> for Linux systems. Setting file permissions was explained in <a class="link" href="ch02.html" title="Chapter 2. Installing and Configuring phpBB">Chapter 2</a>.</p></div><p>You can have categories of gallery avatars; actually you have to have at least one category. What does this mean? It means that you have to copy<span class="emphasis"><em> all</em></span> your gallery avatars into sub-directories of the main avatar gallery directory. For example, you’d copy<code class="literal"> dog.gif</code> and<code class="literal"> cat.gif</code> to<code class="literal"> images/avatars/gallery/pets</code>, even if you host a pet-lovers site and<code class="literal"> pets</code> would be the only gallery you’ll ever need. In any event, this feature helps you keep your galleries organized.</p></div>
<div class="section" title="Managing Smilies"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec03"/>Managing Smilies</h1></div></div></div><p>phpBB comes with a default set of smilies, but you can change the defaults or add new ones. In fact, your users may request that you add more smilies, because the defaults may not be enough for them to express their emotions. Or it’s just that some of your members may be used to seeing different smilies in other boards that they visit, and miss those cute graphics in your board.</p><p>As you know already,<span class="strong"><strong> smilies</strong></span> and<span class="strong"><strong> emoticons</strong></span> are synonyms. "Smilies" is a more widespread term, while "emoticons" is probably more accurate, because not all of the small round faces are smiling. One other interesting thing is that the word "smilie" can be spelled as "smilie"<span class="emphasis"><em> and</em></span>"smiley". phpBB prefers "smiley" but a Google search returned more results on "smilie", so it’s apparently more often used. In this book, we’ve adopted "smilie".<a id="id145" class="indexterm"/>
</p><p>phpBB gives you the ability to:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Edit or delete an existing smilie</li><li class="listitem" style="list-style-type: disc">Add new smilies one by one</li><li class="listitem" style="list-style-type: disc">Add new smilies in batches using the special<code class="literal"> .pak</code> files</li><li class="listitem" style="list-style-type: disc">Create<code class="literal"> .pak</code> files using your currently installed smilies; this is a good idea if you have created a number of smilies that youd like to share with other phpBB administrators.</li></ul></div><div class="section" title="Smilies’ Properties"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec02"/>Smilies’ Properties</h2></div></div></div><p>Let’s first see what a smilie consists of. Every smilie has:<a id="id146" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>An image</strong></span>: Smilie images like <span class="inlinemediaobject"><img src="graphics/1132_05_07.jpg" alt="Smilies’ Properties"/></span> and <span class="inlinemediaobject"><img src="graphics/1132_05_08.jpg" alt="Smilies’ Properties"/></span> reside in the <code class="literal">images/smilies</code> directory of your board’s directory structure.
</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>A code</strong></span>: The code is the sequence of characters a poster needs to type (or have them typed automatically by clicking the corresponding image) in order to display the selected smilie in a post. For the example icons in the previous bullet, the corresponding codes are <span class="strong"><strong>:D</strong></span> and <span class="strong"><strong>:?</strong></span>. Sometimes there can be several codes for one emoticon, and so there are several ways to include the same image in a post. You can use <span class="strong"><strong>:D</strong></span> or <span class="strong"><strong>:-D</strong></span> or <span class="strong"><strong>:grin:</strong></span>, and the result will always be the <span class="inlinemediaobject"><img src="graphics/1132_05_07.jpg" alt="Smilies’ Properties"/></span> image.
</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>An emotion</strong></span>: This is a human-readable representation of the smilie. It may be displayed (depending on the browser) as a tool-tip when a reader holds the mouse over a posters emoticon (in HTML terms, it is the<code class="literal"> alt</code> attribute of the<code class="literal"> img</code> tag).</li></ul></div><p>Here’s a pair of images showing an example. The left-hand illustration shows a posting at the moment of writing; the right-hand one shows how the posting is displayed (with the mouse over the smilie) in an Internet Explorer browser window:</p><div class="mediaobject"><img src="graphics/1132_05_09.jpg" alt="Smilies’ Properties"/></div></div><div class="section" title="Smilies Administration Panel"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec03"/>Smilies Administration Panel</h2></div></div></div><p>All smilie operations are accessible through the Administration Panel using the<span class="strong"><strong> Smilies</strong></span> link under the<span class="strong"><strong> General Admin</strong></span> section:<a id="id147" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_10.jpg" alt="Smilies Administration Panel"/></div><p>Clicking this link brings up a list of existing smilies:</p><div class="mediaobject"><img src="graphics/1132_05_11.jpg" alt="Smilies Administration Panel"/></div><p>This illustration shows the listing cut down in the middle. The listing can grow pretty long as you add new smilies. You can see all the properties of the smilies—the code, the image, and the emotion they represent—as well as the possible actions that you can execute on them.</p><p>Before proceeding with the following exercises, it may be a good idea to make a backup of your<code class="literal"> images/smilies</code> directory, just in case you want to revert to the default smilies.</p></div><div class="section" title="Editing or Deleting a Smilie"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec04"/>Editing or Deleting a Smilie</h2></div></div></div><p>To edit or delete a smilie, use the appropriate link next to the smilie in question.</p><p>Be careful when playing around, because when you click<span class="strong"><strong> Delete</strong></span>, there will be no "Are you sure?" confirmation; the smilie will be removed permanently. Deleting a smilie means that it can no longer be used in postings; it also means that any older postings that use this emoticon will display the code, but not the image.</p><p>Deleting a smilie doesn’t delete the actual image from the server, as chances are this image may be used for other smilies as well. For example, if you delete the smilie with the <span class="strong"><strong>:-D</strong></span> code, the <span class="inlinemediaobject"><img src="graphics/1132_05_07.jpg" alt="Editing or Deleting a Smilie"/></span> image won’t be deleted, because it’s also used in the <span class="strong"><strong>:D</strong></span> smilie. Even if you delete all smilies that use a certain image, the image will stay on the server and can be used later on, by defining a new smilie.</p><p>To edit a smilie, use the<span class="strong"><strong> Edit</strong></span> link next to it. This brings up a form with all the smilie properties, as shown on the illustration.<a id="id148" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_12.jpg" alt="Editing or Deleting a Smilie"/></div><p>The<span class="strong"><strong> Smilie Image File</strong></span> drop-down field lists all the files found in the<code class="literal"> images/smilies</code> folder of your board installation. Selecting an image file from the dropdown displays this image next to the dropdown.</p></div><div class="section" title="Adding New Smilies"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec05"/>Adding New Smilies</h2></div></div></div><p>The simplest way to add a new smilie is by using an existing image.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec02"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec02"/></h4></div></div></div><div class="section" title="Time For Action—Adding a New Smilie Using an Existing Image"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec02"/>Time For Action—Adding a New Smilie Using an Existing Image</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In the smilies admin panel, click the<span class="strong"><strong> Add a new Smiley</strong></span> button. The same form as the one for editing is displayed.<a id="id149" class="indexterm"/></li><li class="listitem">In the first field, type<span class="strong"><strong> :mg:</strong></span>.</li><li class="listitem">In the second field (drop-down), select<span class="strong"><strong> icon_mrgreen.gif</strong></span>.</li><li class="listitem">In the last field, type<span class="strong"><strong> Mr. Green</strong></span>.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span>.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec02"/>What Just Happened?</h6></div></div></div><p>You created a new Mr. Green smilie using the same existing image. In other words, you defined a new way for the users to use this emoticon. Now the users can have Mr. Green displayed in their postings in two ways: by using either the default code,<span class="strong"><strong> :mrgreen:</strong></span>, or the new one,<span class="strong"><strong> :mg:</strong></span>.</p><p>Now let’s add a completely new smilie. Let’s say you took Mr. Green’s icon and painted it all orange. Now let’s call this guy Mr. Orange <span class="inlinemediaobject"><img src="graphics/1132_05_13.jpg" alt="What Just Happened?"/></span> and name the file <code class="literal">mr_orange.gif</code>.</p></div></div><div class="section" title="Time For Action—Adding a Custom Smilie"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec03"/>Time For Action—Adding a Custom Smilie</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Copy/FTP the<code class="literal"> mr_orange.gif</code> file to your<code class="literal"> images/smilies</code> directory.<a id="id150" class="indexterm"/></li><li class="listitem">Go to the smilies admin panel and click the<span class="strong"><strong> Add a new Smiley</strong></span> button.</li><li class="listitem">In the first field, type<span class="strong"><strong> :mrorange:</strong></span>.</li><li class="listitem">In the second field select<span class="strong"><strong> mr_orange.gif</strong></span>.</li><li class="listitem">In the last field, type<span class="strong"><strong> Mr. Orange</strong></span>.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span>.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec03"/>What Just Happened?</h6></div></div></div><p>You’ve just added a brand new shiny smilie face to your board. You can see it now in the smilies listing.</p><div class="mediaobject"><img src="graphics/1132_05_14.jpg" alt="What Just Happened?"/></div></div></div></div></div></div><div class="section" title="Adding Smilies with a .pak File"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec06"/>Adding Smilies with a .pak File</h2></div></div></div><p>You may be wondering how to create GIF files like the one used in the example above. Well, this is a topic that is outside the scope of the book, but you can find many tools and tutorials on the Internet. If you don’t want to deal with the graphics, don’t worry; there is good news for you. There are lots of smilie images out there on the Web, available for you do download and use in your board. To ease the installation, phpBB has a feature to add smilies in batches using the<code class="literal"> .pak</code> files. This "pak" stands for "package".<a id="id151" class="indexterm"/>
</p><p>If you visit<a class="ulink" href="http://www.phpbb.com/styles"> http://www.phpbb.com/styles</a>, click on<span class="strong"><strong> Downloads</strong></span>, and then<span class="strong"><strong> Smilies</strong></span>, you’ll see a listing of smilie packages for you to choose from. Let’s pick one of those packages to download, the one called<span class="strong"><strong> More smilies</strong></span>.</p><div class="mediaobject"><img src="graphics/1132_05_15.jpg" alt="Adding Smilies with a .pak File"/></div><p>If you download<code class="literal"> eusasmiles.zip</code> and uncompress it, you’ll see that it contains a number of GIF files and one<code class="literal"> eusa.pak</code> file. Don’t be scared by the unknown extension of this file, it’s just a plain text file. If you open it with any text-editing program (like Notepad or WordPad for Windows) and look at the file contents, you’ll notice that it contains simply the smilie properties, divided by the sequence of characters<code class="literal"> =+</code>:, used as a delimiter.</p><p>The last line of the file, for example, says:</p><div class="informalexample"><pre class="programlisting">eusa_silenced.gif=+:Silenced=+::-#
</pre></div><p>What this means is that<span class="strong"><strong> :-#</strong></span> is the code for an emoticon that means<span class="strong"><strong> Silenced</strong></span> and whose icon image is called<code class="literal"> eusa_silenced.gif</code>.</p><p>Now let’s use the provided<code class="literal"> .pak</code> file to quickly add a bunch of new smilies to the board.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec03"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec03"/></h4></div></div></div><div class="section" title="Time For Action—Adding Smilies Using a .pak File"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec04"/>Time For Action—Adding Smilies Using a .pak File</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Copy the uncompressed content (the GIF images and the<code class="literal"> .pak</code> file) to the<code class="literal"> images/smilies</code> directory of your bulletin board.<a id="id152" class="indexterm"/></li><li class="listitem">Go to the smilies admin area in the Administration Panel and click on the<span class="strong"><strong> Import Smiley Pack</strong></span> button. Youll see the<span class="strong"><strong> Smiley Pack Import</strong></span> form.<a id="id153" class="indexterm"/><div class="mediaobject"><img src="graphics/1132_05_16.jpg" alt="Time For Action—Adding Smilies Using a .pak File"/></div></li><li class="listitem">In the dropdown, choose<span class="strong"><strong> eusa.pak</strong></span>.</li><li class="listitem">Leave the other fields as they are. They represent your options of what to do with the existing smilies and how to handle conflicts, if any.</li><li class="listitem">Click<span class="strong"><strong> Import Smileys</strong></span>.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec04"/>What Just Happened?</h6></div></div></div><p>You’ve added a whole lot of new smilies in a single shot. You can see them now in the smilies listing, right after the Mr. Orange smiley you added in the previous exercise. Here’s a part of what the new smilies listing will look like:<a id="id154" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_17.jpg" alt="What Just Happened?"/></div></div></div></div></div></div><div class="section" title="Creating a .pak File"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec07"/>Creating a .pak File</h2></div></div></div><p>You can create a<code class="literal"> .pak</code> file with your existing smilies configuration. You can use it for backup purposes or to share your icons. Let’s say you’ve created not only Mr. Orange, but also Mr. White, Mr. Pink, Mr. Brown, and Mr. Blonde, and have added them by hand following the same procedure as for Mr. Orange.<a id="id155" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_18.jpg" alt="Creating a .pak File"/></div><p>Now let’s create a<code class="literal"> .pak</code> file that will contain the properties of all smilies you’ve added, so that you can share your smilies with other phpBB administrators.<a id="id156" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"/>Note</h3><p>The images used in this chapter are available in the book’s download area at<a class="ulink" href="http://www.packtpub.com"> http://www.packtpub.com</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec04"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec04"/></h4></div></div></div><div class="section" title="Time For Action—Creating a .pak File"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec05"/>Time For Action—Creating a .pak File</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to the smilies admin and click the<span class="strong"><strong> Create Smiley Pack</strong></span> button.<a id="id157" class="indexterm"/></li><li class="listitem">You get information about working with<code class="literal"> .pak</code> files and an option to download the<code class="literal"> .pak</code> file generated for you. Download it. The file is called<code class="literal"> smilies.pak</code> by default, but you can always change its name to something else, like<code class="literal"> reservoir_dogs.pak</code> for example.</li><li class="listitem">The package file contains<span class="emphasis"><em> all</em></span> the properties for all the smilies on your board, but you actually need only your<span class="emphasis"><em> five</em></span> custom ones. So open the<code class="literal"> .pak</code> file in a text editor and remove all unnecessary lines, leaving just your five lines. The<code class="literal"> .pak</code> file contents now should look like:<div class="informalexample"><pre class="programlisting">mr_orange.gif=+:Mr. Orange=+::mrorange: mr_white.gif=+:Mr. White=+::mrwhite: mr_pink.gif=+:Mr. Pink=+::mrpink: mr_brown.gif=+:Mr. Brown=+::mrbrown: mr_blonde.gif=+:Mr. Blonde=+::mrblonde:
</pre></div></li><li class="listitem">Zip this<code class="literal"> .pak</code> file together with the five images.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec05"/>What Just Happened?</h6></div></div></div><p>You’ve created a<code class="literal"> .pak</code> file containing all the smilies you’ve created. You can send it to other phpBB admins if they want to install your custom smilies.<a id="id158" class="indexterm"/>
</p></div></div></div></div></div><div class="section" title="Assigning Ranks"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec08"/>Assigning Ranks</h2></div></div></div><p>Ranks are another way of giving your community members a credit for their participation. Only one rank exists by default: the<span class="strong"><strong> Site Admin</strong></span> rank. There are two types of ranks that you can create:<span class="strong"><strong> ranks by number of posts</strong></span> and<span class="strong"><strong> special ranks</strong></span>. The first type of ranks are automatic, and are assigned as a member keeps posting. The second type are not dependent on the number of posts, and you can assign them as you may find appropriate, using the user management facility in the Administration Panel.<a id="id159" class="indexterm"/>
</p><p>Ranks are given names, typically something like<span class="strong"><strong> New user, Enthusiast, Forum addict</strong></span>, and so on. Ranks can optionally have rank images. When viewing postings by a user, the name of the rank assigned to the user is displayed under the username, and the rank image is displayed under the rank name, above the avatar. Here’s an example of how the author-info area of a posting looks when a rank is assigned:</p><div class="mediaobject"><img src="graphics/1132_05_19.jpg" alt="Assigning Ranks"/></div><p>In this illustration,<span class="strong"><strong> The Dude</strong></span> is the username you already know from the previous chapters,<span class="strong"><strong> Forum Wizard</strong></span> is the rank name, the five stars is the rank image, and the paintbrush daub is the user’s avatar.</p><p>The following examples will help you get some hands-on experience on assigning ranks. For the sake of the first example, let’s assume that you have created five rank images. The images are in GIF format and show one, two, three, four, and five blue stars respectively, like this:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">rank1.gif</code>:<span class="inlinemediaobject"><img src="graphics/1132_05_20.jpg" alt="Assigning Ranks"/></span></li><li class="listitem" style="list-style-type: disc"><code class="literal">rank2.gif</code>:<span class="inlinemediaobject"><img src="graphics/1132_05_21.jpg" alt="Assigning Ranks"/></span></li><li class="listitem" style="list-style-type: disc"><code class="literal">rank3.gif</code>:<span class="inlinemediaobject"><img src="graphics/1132_05_22.jpg" alt="Assigning Ranks"/></span></li><li class="listitem" style="list-style-type: disc"><code class="literal">rank4.gif</code>:<span class="inlinemediaobject"><img src="graphics/1132_05_23.jpg" alt="Assigning Ranks"/></span></li><li class="listitem" style="list-style-type: disc"><code class="literal">rank5.gif</code>:<span class="inlinemediaobject"><img src="graphics/1132_05_24.jpg" alt="Assigning Ranks"/></span></li></ul></div><p>If creating GIF files is not your cup of tea, don’t worry, you can download rank images from the Internet: one place to look is, of course, the phpBB.com site. Visit the styles section and click on<span class="strong"><strong> Downloads</strong></span> followed by<span class="strong"><strong> Rank Images</strong></span>. You can also find many rank images on the phpBBHacks site, at<a class="ulink" href="http://www.phpbbhacks.com/rankimages.php"> http://www.phpbbhacks.com/rankimages.php</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec05"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec05"/></h4></div></div></div><div class="section" title="Time For Action—Creating Automatic Ranks"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec06"/>Time For Action—Creating Automatic Ranks</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In the<code class="literal"> images</code> directory of your board, create a subdirectory called<code class="literal"> ranks</code>. This will keep rank-related images separate from the rest of the images.</li><li class="listitem">Copy the files listed above (<code class="literal">rank1.gif</code> through to<code class="literal"> rank5.gif</code>) to the newly created directory.</li><li class="listitem">In the Administration Panel, click the<span class="strong"><strong> Ranks</strong></span> link (the last link in the administration menu).</li><li class="listitem">Click the<span class="strong"><strong> Add new rank</strong></span> button.</li><li class="listitem">Youre presented with the<span class="strong"><strong> Rank Administration</strong></span> form. Fill it out as shown on the illustration:<div class="mediaobject"><img src="graphics/1132_05_25.jpg" alt="Time For Action—Creating Automatic Ranks"/></div></li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span>.</li><li class="listitem">Repeat steps 4 through 6 until you use all rank images. At the end youll have your ranks setup as the following:<div class="mediaobject"><img src="graphics/1132_05_26.jpg" alt="Time For Action—Creating Automatic Ranks"/></div></li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec06"/>What Just Happened?</h6></div></div></div><p>You’ve successfully set up an automated ranking system that will display a rank name and a rank image after each member’s username in the member’s postings. The exact rank will be determined by phpBB based on the total number of posts by this member.</p><p>In practice of course you’d want to use a much bigger number of postings, but for testing the functionality this is enough.</p><p>Now let’s take a look at the procedure for creating special ranks and how you can assign a special rank to the members you feel are special.</p></div></div><div class="section" title="Time For Action—Creating and Assigning a Special Rank"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec07"/>Time For Action—Creating and Assigning a Special Rank</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In the ranks listing click<span class="strong"><strong> Add new rank</strong></span>.</li><li class="listitem">Fill out the form as shown:<div class="mediaobject"><img src="graphics/1132_05_27.jpg" alt="Time For Action—Creating and Assigning a Special Rank"/></div></li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span></li><li class="listitem">Now in the left menu, click the<span class="strong"><strong> Management</strong></span> link in the<span class="strong"><strong> User Admin</strong></span> section.</li><li class="listitem">In the text field, type<span class="strong"><strong> The Dude</strong></span> and click<span class="strong"><strong> Look up user</strong></span>.</li><li class="listitem">Scroll down to the bottom of the user admin form. In the<span class="strong"><strong> Rank Title</strong></span> drop-down, select<span class="strong"><strong> Dude of the year</strong></span>.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span>.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec07"/>What Just Happened?</h6></div></div></div><p>Steps 1-3: You created a special rank, meaning that it’s not related to the number of postings. The<span class="strong"><strong> Minimum Posts</strong></span> field was left blank, as it’s not applicable to special ranks. Actually, even if you do enter something in it, the value will be ignored by phpBB. In this example you didn’t create a new rank image, but reused an existing smilie image instead.</p><p>Steps 4-7: You assigned the newly created special rank to a user. If you now visit the front-end of your board and find a posting by The Dude, you’ll see the new rank.</p></div></div></div></div></div></div>
<div class="section" title="Understanding Forum Permissions"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec04"/>Understanding Forum Permissions</h1></div></div></div><p>Forum permissions were discussed in <a class="link" href="ch03.html" title="Chapter 3. A Quick Tour of phpBB">Chapter 3</a>, but we’ll now take a more insightful approach so that we’ll be able to specify more precisely who can do what on your board.<a id="id160" class="indexterm"/>
</p><p>Let’s start with defining two important terms:<span class="strong"><strong> permission types</strong></span> and<span class="strong"><strong> permission levels</strong></span>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec09"/></h2></div></div></div><div class="section" title="Permission Types and Permission Levels"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec06"/>Permission Types and Permission Levels</h3></div></div></div><p>
<span class="strong"><strong>Permission types</strong></span> and<span class="strong"><strong> permission levels</strong></span> are two important terms when dealing with phpBB permissions, and understanding these will help you when you think of how to assign and control privileges:<a id="id161" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Permission types</strong></span> are the actions that a user can do in the board, such as view, reply, vote, etc. When you think about permission types, think<span class="emphasis"><em> what</em></span>, as in "What can be done?"</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Permission levels</strong></span> reflect restrictions about who can do a certain actions. Every user has at least one permission level. When you think about permission levels, think<span class="emphasis"><em> who</em></span> as in "Who can do it?"</li></ul></div><p>The following list discusses the permission types ("<span class="emphasis"><em>What-s</em></span>") that exist, and the capabilities they provide to a user. (You already know what these actions mean, as they were described in detail in the previous chapters.)<a id="id162" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>View</strong></span>: The user can see that a forum exists on the board front page.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Read</strong></span>: The user can list forum topics, read the postings, view the members profiles, and their contact info.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Reply</strong></span>: The user can post in existing topics.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Post</strong></span>: The user can start new topics.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Edit</strong></span>: The user can edit their own postings.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Delete</strong></span>: The user can delete his or her own postings, provided no one has replied to them yet.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Sticky</strong></span>: The user can start sticky topics. This is dependent on the post privilege—if you cannot post, you certainly cannot post sticky topics.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Announce</strong></span>: The user can start announcements. Just like the sticky type, the post privilege is a prerequisite.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Vote</strong></span>: The user can vote in polls.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Poll create</strong></span>: The user can create polls for others to vote in.</li></ul></div><p>Permission levels, or "<span class="emphasis"><em>Who-s</em></span>", can also be thought of as user types.<a id="id163" class="indexterm"/>
</p><p>Here are the possible permission levels:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>ALL</strong></span>: Everybody who accesses the board; this includes members who are currently not logged in.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>REG</strong></span>: A member registered at the board and currently logged in.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>PRIVATE</strong></span>: A special permission level that is assigned individually. In order for a user on this level to communicate in privacy with others, this user has to be given private access to a private forum. This is the trickiest part of the permissions, so dont be scared if you dont understand it yet. There will be some examples to clarify this concept.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>MOD</strong></span>: A moderator who can do everything to a forum.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>ADMIN</strong></span>: A board administrator (someone like you, who can access the Administration Panel).</li></ul></div></div><div class="section" title="Simple and Advanced Mode of Setting Permissions"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec07"/>Simple and Advanced Mode of Setting Permissions</h3></div></div></div><p>As you know already, there are two ways of setting permissions: simple mode and advanced mode. The simple mode has been discussed in <a class="link" href="ch03.html" title="Chapter 3. A Quick Tour of phpBB">Chapter 3</a>, and as you know, gives you predefined permissions options.</p><p>If you access the advanced mode, you’ll see all the possible permissions types and permission levels we discussed above. To do that, log in as an administrator, go to the Administrator Panel, under<span class="strong"><strong> Forum Admin</strong></span> section click<span class="strong"><strong> Permissions</strong></span>, look up any forum, and click<span class="strong"><strong> Advanced Mode</strong></span>. Here’s what you’ll see:<a id="id164" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_28.jpg" alt="Simple and Advanced Mode of Setting Permissions"/></div><p>This screen shows all the permission types (displayed as table headers) and the permission levels (these are the values in the drop-down boxes). The advanced permissions shown in the above illustration would be displayed in simple mode as<span class="strong"><strong> Registered</strong></span>, shown in the following illustration:</p><div class="mediaobject"><img src="graphics/1132_05_29.jpg" alt="Simple and Advanced Mode of Setting Permissions"/></div><p>We have seen that the simple modes are a quicker and easier way of setting permissions. Let’s now find out exactly<span class="emphasis"><em> what</em></span> the simple modes—<span class="strong"><strong> Public, Registered, Private</strong></span>, and<span class="strong"><strong> Moderators</strong></span>—mean, and<span class="emphasis"><em> which</em></span> advanced permissions settings they group together.</p><p>A rough idea about these modes is that they define who can post in the selected forum (for example, everybody can post in<span class="strong"><strong> Public</strong></span> forums, but only logged-in members can post in<span class="strong"><strong> Registered</strong></span> forums, and so on).</p><p>Except for the<span class="strong"><strong> Public</strong></span> mode, all other simple modes have an option that includes<span class="strong"><strong> [Hidden]</strong></span> in the name. This means that the users without sufficient privileges are unable to not just<span class="emphasis"><em> post</em></span>, but even to<span class="emphasis"><em> see</em></span> that such forums exist.</p><p>Here’s a more detailed explanation of the simple mode permissions:<a id="id165" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Public</strong></span>: Everybody (permission level ALL) can see the public forum, read it, reply in topics, and start new topics. Registered and logged-in members (permission level REG) can even edit and delete their own postings, vote, and create polls.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Registered</strong></span>: ALL can see and read the forum. REG can post, start topics, edit and delete their own postings, vote, and start polls.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Registered [Hidden]</strong></span>: Same as above, except that ALL can no longer see nor read the forum—they have to register to be able to do so.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Private</strong></span>: The forum is visible to ALL just to see it exists, but is PRIVATE, and only users who are explicitly allowed access to this forum can read postings, post, start topics, edit and delete their own postings, vote, and start polls. The next two sections of this chapter explain how to grant private access to users. Another specific thing about private forums is that the private members can also post sticky postings. Announcements, however, are still a "moderators-only" area.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Private [Hidden]</strong></span>: Same as above, except that ALL can no longer see that this forum exists. Its a really protected and private forum.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Moderators</strong></span>: same as<span class="strong"><strong> Registered</strong></span> and<span class="strong"><strong> Private</strong></span>, but only moderators can read, post, start topics, vote, and so on. A user has to be a moderator in this forum in order to use it. Being a moderator for any other forum doesnt mean the user can access this one.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Moderators [Hidden]</strong></span>: Same as above except that ALL cant even see that such a forum exists.</li></ul></div><p>The following table explains the same as the bullets point above, but in greater detail. You’ll see that it is actually a pretty good way to understand permissions in general.<a id="id166" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>x</p>
</th><th style="text-align: left" valign="bottom">
<p>Public</p>
</th><th style="text-align: left" valign="bottom">
<p>Registered</p>
</th><th style="text-align: left" valign="bottom">
<p>Registered</p>
<p>[Hidden]</p>
</th><th style="text-align: left" valign="bottom">
<p>Private</p>
</th><th style="text-align: left" valign="bottom">
<p>Private</p>
<p>[Hidden]</p>
</th><th style="text-align: left" valign="bottom">
<p>Moderators</p>
</th><th style="text-align: left" valign="bottom">
<p>Moderators</p>
<p>[Hidden]</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>View</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Read</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Post</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Reply</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>ALL</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Edit</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Delete</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Sticky</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Announcement</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Vote</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr><tr><td style="text-align: left" valign="bottom">
<p><span class="strong"><strong>Poll create</strong></span></p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>REG</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>PRIVATE</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td><td style="text-align: left" valign="top">
<p>MOD</p>
</td></tr></tbody></table></div><p>When setting permissions it’s always a good idea to choose one of the simple modes. They have been carefully selected by the phpBB team to match the most-used forum types. If you feel you need something different, you can always switch to advanced mode. In such a case, it’s a good idea to first use a simple mode to set and save permissions, and then edit them again, and switch to advanced mode for fine-tuning.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec06"/></h4></div></div></div><div class="section" title="Time For Action—Creating and Fine-Tuning a Private Forum"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec08"/>Time For Action—Creating and Fine-Tuning a Private Forum</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in as an administrator and go to the Administrator Panel.<a id="id167" class="indexterm"/></li><li class="listitem">Go to<span class="strong"><strong> Management</strong></span> under<span class="strong"><strong> Forum Admin</strong></span>.</li><li class="listitem">Create a new category called<span class="strong"><strong> Special forums</strong></span>, and then a new forum called<span class="strong"><strong> The Dudes forum</strong></span> in this category.</li><li class="listitem">Click on the<span class="strong"><strong> Permissions</strong></span> link under<span class="strong"><strong> Forum Admin</strong></span>.</li><li class="listitem">Select<span class="strong"><strong> The Dudes forum</strong></span> from the<span class="strong"><strong> Select a Forum</strong></span> dropdown and click<span class="strong"><strong> Look up Forum</strong></span>.</li><li class="listitem">You are now in the<span class="strong"><strong> Forum Permission Control</strong></span> area and<span class="strong"><strong> Simple Mode</strong></span>.</li><li class="listitem">Select<span class="strong"><strong> Private [Hidden]</strong></span> and click<span class="strong"><strong> Submit</strong></span>.</li><li class="listitem">Repeat step 5.</li><li class="listitem">Click<span class="strong"><strong> Advanced Mode</strong></span> to switch to a more powerful editing form.</li><li class="listitem">In the<span class="strong"><strong> Sticky</strong></span> column, change the PRIVATE value to MOD.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span> to save the settings.</li></ol></div><div class="section" title="What Just Happened"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec08"/>What Just Happened</h6></div></div></div><p>Steps 1-3: You’ve created a new category and a new forum.</p><p>Steps 4-7: You’ve set the forum permissions using the simple mode. You’ve set the permissions so that only special private members can see, read, post, etc., on the forum. The only thing private members cannot do is post announcements. (Of course if the users are not moderators, they can only edit or delete<span class="emphasis"><em> their</em></span> postings, and not other private members’ postings.)</p><p>Steps 8-11: You’ve set the permissions again, this time using advanced mode, and disallowed private members to post sticky posts.</p><p>Now if you visit the front page of your board, you’ll see the new category and the new forum (because you’re logged in as an administrator, and can see and do everything), but as soon as you log out, the forum and the whole category will no longer be visible.</p><p>In the next two sections we’ll find out how to make a private forum visible for some members by making them private members.</p></div></div></div></div></div></div>
<div class="section" title="Understanding User Permissions"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec05"/>Understanding User Permissions</h1></div></div></div><p>You already know how to use the permissions area of the Administrator Panel to make a user a moderator; let’s look at what<span class="emphasis"><em> else</em></span> you can do. If you remember, user permissions are accessible through the<span class="strong"><strong> Permissions</strong></span> link under the<span class="strong"><strong> User Admin</strong></span> section:<a id="id168" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_30.jpg" alt="Understanding User Permissions"/></div><p>You see that along with setting the moderator status here, you can also specify user permissions for each forum (in other words, specify forum permissions that apply to a specific user only). Note that you can use this option only for<span class="emphasis"><em> private forums</em></span>; for all other types of forums, the forum permissions are applied and the user permissions cannot override them.<a id="id169" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note16"/>Note</h3><p>A<span class="emphasis"><em> private forum</em></span> by definition has at least one permission type set to PRIVATE.</p></div><p>In the previous section, we created<span class="strong"><strong> The Dudes forum</strong></span> as a private forum, so now in the user permission control area, we can allow or disallow a user from accessing the private forum. Allowing access means that this user becomes a private member and can do whatever private members are allowed to do—the user will have the permission types (for example read, post, etc.) that were set for the PRIVATE level in the forum’s administration.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec10"/></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec08"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec07"/></h4></div></div></div><div class="section" title="Time For Action—Making The Dude a Private User of The Dudes Forum"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec09"/>Time For Action—Making The Dude a Private User of The Dudes Forum</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in as an administrator and go to the Administration Panel.</li><li class="listitem">Select<span class="strong"><strong> Permissions</strong></span> under<span class="strong"><strong> User Admin</strong></span>.</li><li class="listitem">Type<span class="strong"><strong> The Dude</strong></span> and click<span class="strong"><strong> Look up User</strong></span>. At this point, you see something similar to the previous illustration (at the beginning of this section).</li><li class="listitem">On<span class="strong"><strong> The Dudes forum</strong></span> row, change the first dropdown from<span class="strong"><strong> Disallowed Access</strong></span> to<span class="strong"><strong> Allowed Access</strong></span>.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span> to save the permission settings.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec09"/>What Just Happened?</h6></div></div></div><p>You’ve allowed The Dude to access the private The Dudes forum. By doing this, you’ve made The Dude a private member of this forum and let him enjoy all the permission types that were set to PRIVATE on the forum’s admin.</p><p>If you repeat steps 1-4 again and then click<span class="strong"><strong> Advanced Mode</strong></span>, you’ll see a screen like the following:</p><div class="mediaobject"><img src="graphics/1132_05_31.jpg" alt="What Just Happened?"/></div><p>This<span class="strong"><strong> Advanced Mode</strong></span> form allows you to be even more precise on per-user basis by turning off some permission types that are allowed by default for private members. You don’t have options in the<span class="strong"><strong> Sticky</strong></span> and<span class="strong"><strong> Announce</strong></span> columns, because these permission types were set to MOD and not PRIVATE when setting up the forum permissions.</p><p>There is another way of restricting user privileges, and it has nothing to do with the permissions—the ability to allow or deny private messages and avatars on a per-user basis as well as to activate or deactivate a user. This can be done by editing a user’s profile in the Administrator Panel (the<span class="strong"><strong> Management</strong></span> link under<span class="strong"><strong> User Admin</strong></span> section) and using the<span class="strong"><strong> Special admin-only fields</strong></span>, shown in the following illustration:</p><div class="mediaobject"><img src="graphics/1132_05_32.jpg" alt="What Just Happened?"/></div></div></div></div></div></div></div>
<div class="section" title="Usergroups and Group Permissions"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec06"/>Usergroups and Group Permissions</h1></div></div></div><p>Usergroups are a way for you to create groups of users, based on some criteria that you find appropriate. You don’t have to use usergroups—in the default phpBB installation, no groups exist—but this can be a useful feature.<a id="id170" class="indexterm"/>
</p><p>Users access the usergroups by using the <span class="strong"><strong>Usergroups</strong></span> <span class="inlinemediaobject"><img src="graphics/1132_05_33.jpg" alt="Usergroups and Group Permissions"/></span> top navigation menu icon. You as an administrator can also use this link; it gives you some administrative options as well. When accessed by a group moderator, this link also brings up the interface for moderating a group.<a id="id171" class="indexterm"/></p><p>Every group has a moderator. This community member is responsible for managing the group, and is not to be confused with a forum moderator. Group moderators have no special privileges over the forum topics or postings; they have special privileges only for the group they are moderating. They can add and remove members from the group, can accept or deny membership applications and can change a group type.</p><p>What types of groups exist? A group can be open, closed, or hidden.<a id="id172" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">An<span class="strong"><strong> open</strong></span> group is visible for everybody and accepts new members. In order to become a member to the group, a user applies to join. The group moderator can accept or deny applications. He or she can also add members to the group without having those members to apply first.</li><li class="listitem" style="list-style-type: disc">A<span class="strong"><strong> closed</strong></span> group is a group that does not accept applications. The group moderator can still add new members.</li><li class="listitem" style="list-style-type: disc">A<span class="strong"><strong> hidden</strong></span> group is like the closed group, but is not displayed to the users. Only logged-in members of the group can see it. The group moderator adds new members.</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec11"/></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec09"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec08"/></h4></div></div></div><div class="section" title="Time For Action—Creating a New Group"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec10"/>Time For Action—Creating a New Group</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in as an administrator and go to the Administration Panel.<a id="id173" class="indexterm"/></li><li class="listitem">Click on the<span class="strong"><strong> Management</strong></span> link under the<span class="strong"><strong> Group Admin</strong></span> menu section:<div class="mediaobject"><img src="graphics/1132_05_34.jpg" alt="Time For Action—Creating a New Group"/></div></li><li class="listitem">Click the<span class="strong"><strong> Create New Group</strong></span> button.</li><li class="listitem">Fill out the form as shown:<div class="mediaobject"><img src="graphics/1132_05_35.jpg" alt="Time For Action—Creating a New Group"/></div></li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span>.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec10"/>What Just Happened?</h6></div></div></div><p>You’ve successfully created a new usergroup called<span class="strong"><strong> Test</strong></span> with the world-famous user<span class="strong"><strong> The Dude</strong></span> as a moderator. This group is open and accepts membership applications.</p><p>If you now visit the front-end of the board, go to<span class="strong"><strong> Usergroups</strong></span>, and view the information about the<span class="strong"><strong> Test</strong></span> group, you’ll see a screen like the following:</p><div class="mediaobject"><img src="graphics/1132_05_36.jpg" alt="What Just Happened?"/></div><p>Because you’re still logged in as an administrator, you see the group moderator options for changing the group type and adding/removing members. You don’t see the membership applications interface, because no applications currently exist. Also, because you are not a member of this open group, you see the<span class="strong"><strong> Join Group</strong></span> button.</p><p>Click the<span class="strong"><strong> Join Group</strong></span> button to apply for a group membership. This sends the group moderator an e-mail advising that there is a new pending application. The moderator logs in, goes to the usergroup (the screen above), and accepts or denies this application. If the application is accepted, you become a member of the group and get an e-mail communicating that fact.</p></div></div><div class="section" title="Time For Action—Editing a Group"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec11"/>Time For Action—Editing a Group</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Youre still logged in as an administrator; go to the Administration Panel.<a id="id174" class="indexterm"/></li><li class="listitem">Under<span class="strong"><strong> Group Admin</strong></span>, click<span class="strong"><strong> Management</strong></span>.</li><li class="listitem">The<span class="strong"><strong> Test</strong></span> group is selected; click on<span class="strong"><strong> Look up group</strong></span>.<div class="mediaobject"><img src="graphics/1132_05_37.jpg" alt="Time For Action—Editing a Group"/></div></li><li class="listitem">Change the name and the description of the group as shown. Also, change the<span class="strong"><strong> Group status</strong></span> to<span class="strong"><strong> Hidden group</strong></span>.<div class="mediaobject"><img src="graphics/1132_05_38.jpg" alt="Time For Action—Editing a Group"/></div></li><li class="listitem">Click on<span class="strong"><strong> Submit</strong></span> to save the changes.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec11"/>What Just Happened?</h6></div></div></div><p>You have successfully edited the group. It was a simple thing to do, just like creating the group. But this time you had two additional checkboxes on the<span class="strong"><strong> Edit group</strong></span> form: you could delete the group, and when changing the group moderator, you could select whether the group’s ex-mod stays in the group as a regular member or is removed from the group.</p></div></div></div></div></div><div class="section" title="Group Permissions"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec12"/>Group Permissions</h2></div></div></div><p>The administrator has the option of setting group permissions. The group moderator doesn’t have control over them. The group permissions work just like the user permissions. The only difference is that you can set a permission type once per group and it will apply to all members of the group. This can save you a lot of work. Although a member is part of a group and has group permissions, you can still override these permissions on a per-user basis. This means, for example, that you can specify that all members of a usergroup can post announcements, but then forbid this for a specific user of the group.<a id="id175" class="indexterm"/>
</p><p>Group permissions are accessible through the<span class="strong"><strong> Permissions</strong></span> link in the<span class="strong"><strong> Group Admin</strong></span> section of the Administration Panel navigation menu:</p><div class="mediaobject"><img src="graphics/1132_05_39.jpg" alt="Group Permissions"/></div><p>One common task you might want to do is to create a special hidden forum that can be used only by certain users (for example, a forum for moderators, where they can talk about board or user-related issues without those discussions being publicly available).<a id="id176" class="indexterm"/>
</p><p>In order to do this, you:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create a<span class="strong"><strong> Private [Hidden]</strong></span> forum.</li><li class="listitem" style="list-style-type: disc">Create a private group.</li><li class="listitem" style="list-style-type: disc">Give access to the group to use the private forum.</li></ul></div><p>So far we have discussed the first two points. We’ve created a special private hidden forum called The Dudes forum and you’ve a hidden group called The Dudes gang. Now the last point: giving The Dudes gang access to The Dudes forum.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec10"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec09"/></h4></div></div></div><div class="section" title="Time For Action—Setting Group Permissions"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec12"/>Time For Action—Setting Group Permissions</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in as an administrator, and go to the Administration Panel.<a id="id177" class="indexterm"/></li><li class="listitem">Select<span class="strong"><strong> Permissions</strong></span> under the<span class="strong"><strong> Group Admin</strong></span> section of the navigation menu.</li><li class="listitem">In the next screen, select<span class="strong"><strong> The Dudes gang</strong></span> and click on<span class="strong"><strong> Look up Group</strong></span>.</li><li class="listitem">In the<span class="strong"><strong> Group Permissions Control</strong></span> form, switch to<span class="strong"><strong> Advanced Mode</strong></span>.<div class="mediaobject"><img src="graphics/1132_05_40.jpg" alt="Time For Action—Setting Group Permissions"/></div></li><li class="listitem">Change all dropdowns on<span class="strong"><strong> The Dudes forum</strong></span> row from<span class="strong"><strong> OFF</strong></span> to<span class="strong"><strong> ON</strong></span>.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span> to save the permission settings.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec12"/>What Just Happened?</h6></div></div></div><p>You’ve granted privileges for the whole<span class="strong"><strong> The Dudes gang</strong></span> usergroup to be able to read, post, vote, etc., in<span class="strong"><strong> The Dudes forum</strong></span>. Here are a few more points for you to think about and experiment.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You can use the<span class="strong"><strong> Advanced Mode</strong></span> for granting permissions by turning<span class="strong"><strong> ON/OFF</strong></span> selectively; its not necessary to turn all<span class="strong"><strong> ON</strong></span> or all<span class="strong"><strong> OFF</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Simple Mode</strong></span> cannot be used for setting group permissions, not in the phpBB version this book is based on.</li><li class="listitem" style="list-style-type: disc">Forum moderators and group moderators are completely independent of each other. The Dude is a group moderator of The Dudes gang, but is not a forum moderator in The Dudes forum.</li><li class="listitem" style="list-style-type: disc">You can make everybody in a group a moderator by setting the groups<span class="strong"><strong> Is Moderator</strong></span> status.</li><li class="listitem" style="list-style-type: disc">Group permissions are a fast way to set permissions, but you can still use the user permissions to be more specific. User permissions override group permissions.</li><li class="listitem" style="list-style-type: disc">You can have several usergroups with different access to a forum. For example, you can set up an open group called "Junior Dudes" that can only<span class="emphasis"><em> read</em></span><span class="strong"><strong> The Dudes forum</strong></span>, while the good old<span class="strong"><strong> The Dudes gang</strong></span> usergroup can still<span class="emphasis"><em> post</em></span>.</li></ul></div></div></div></div></div></div></div>
<div class="section" title="Second Look into Database Backups and Restore"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec07"/>Second Look into Database Backups and Restore</h1></div></div></div><p>You already know how to use phpBB’s backup and restore utilities. It was mentioned that they might not work as expected, if you have a very big database and your hosting provider has set some rules on server resources usage. So now let’s take a look at using other means of achieving the same result. MySQL is the RDBMS used in this section; it’s the most popular to run phpBB on.<a id="id178" class="indexterm"/>
</p><div class="section" title="Using phpMyAdmin"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec13"/>Using phpMyAdmin</h2></div></div></div><p>phpMyAdmin can be used for backing up and restoring you forum database. It has an export utility that can help you create an SQL dump of a table or a database or even<span class="emphasis"><em> all</em></span> the databases on a server. An SQL dump is a text file that contains all the necessary SQL commands needed to create a copy of a table or a database. phpBB’s database backup and restore utility uses the same SQL dumps.</p><p>If you’re feeling nosy you can open an SQL dump with a text editor, and you’ll see a whole bunch of SQL commands that start like this:</p><div class="informalexample"><pre class="programlisting">-- phpMyAdmin SQL Dump
-- version 2.6.0-rc2
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Dec 14, 2004 at 10:45 PM
-- Server version: 3.23.47
-- PHP Version: 4.3.0
--
-- Database: ‘forums’
--
-- --------------------------------------------------------
--
-- Table structure for table ‘phpbb_auth_access’
--
CREATE TABLE ‘phpbb_auth_access’ (
‘group_id’ mediumint(8) NOT NULL default ‘0’,
‘forum_id’ smallint(5) unsigned NOT NULL default ‘0’,
‘auth_view’ tinyint(1) NOT NULL default ‘0’,
‘auth_read’ tinyint(1) NOT NULL default ‘0’,
‘auth_post’ tinyint(1) NOT NULL default ‘0’,
‘auth_reply’ tinyint(1) NOT NULL default ‘0’,
‘auth_edit’ tinyint(1) NOT NULL default ‘0’,
‘auth_delete’ tinyint(1) NOT NULL default ‘0’,
‘auth_sticky’ tinyint(1) NOT NULL default ‘0’,
‘auth_announce’ tinyint(1) NOT NULL default ‘0’,
‘auth_vote’ tinyint(1) NOT NULL default ‘0’,
‘auth_pollcreate’ tinyint(1) NOT NULL default ‘0’,
‘auth_attachments’ tinyint(1) NOT NULL default ‘0’,
‘auth_mod’ tinyint(1) NOT NULL default ‘0’,
KEY ‘group_id’ (`group_id`),
KEY ‘forum_id’ (`forum_id`)
) TYPE=MyISAM;
--
-- Dumping data for table `phpbb_auth_access`
--
</pre></div><p>If this looks like an alien language to you, don’t worry; you don’t need to know any of that. It was just an example to give an idea of what SQL dumps look like. The important thing is to know how to create them and use them.</p><p>The good thing about phpMyAdmin is that it allows you to create SQL dumps of individual tables, not of the whole database in a single file. This is good—if you need to restore the database later on and your hosting provider has restrictions on the size of the files that you upload, then you may be able to work around the upload limit by splitting a possibly large database into several smaller SQL dumps.</p><p>Let’s look at an example that will help you understand the procedure of database backups and restoring using phpMyAdmin. For the sake of this and the other examples further in this chapter, let’s assume that the database that contains your board is named<code class="literal"> forums</code>, your database username is<code class="literal"> dbuser</code>, and your password to access the database is<code class="literal"> dbpass</code>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec11"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec10"/></h4></div></div></div><div class="section" title="Time For Action—Creating an SQL Database Dump"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec13"/>Time For Action—Creating an SQL Database Dump</h5></div></div></div><p>You are currently on the front page for your "forums" database. It looks like the following illustration:<a id="id179" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_05_41.jpg" alt="Time For Action—Creating an SQL Database Dump"/></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">
Click the <span class="inlinemediaobject"><img src="graphics/1132_05_42.jpg" alt="Time For Action—Creating an SQL Database Dump"/></span>tab to be taken to a page that looks like the following:
<div class="mediaobject"><img src="graphics/1132_05_43.jpg" alt="Time For Action—Creating an SQL Database Dump"/></div></li><li class="listitem">You can see all the tables in this database listed under<span class="strong"><strong> Export</strong></span> in the top left corner. Here you can individually select which tables to dump. Click<span class="strong"><strong> Select All</strong></span> to dump all tables.</li><li class="listitem">Leave all other fields at their default values. Double-check to see that both<span class="strong"><strong> Structure</strong></span> and<span class="strong"><strong> Data</strong></span> checkboxes are selected.</li><li class="listitem">Select the<span class="strong"><strong> Save as file</strong></span> checkbox.</li><li class="listitem">Click<span class="strong"><strong> Go</strong></span>.</li><li class="listitem">Youll be prompted with a file dialog window asking under what name and where to save the dump file. Use<span class="strong"><strong> mydump.sql</strong></span> as the filename and save it where you think most appropriate (for example, a directory designed to contain all your backup dumps).</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec13"/>What Just Happened?</h6></div></div></div><p>You’ve successfully created an SQL dump file of all the tables and data found in your board database. In step 2 you saw an example of how you can selectively pick which tables to include in the dump and this way create several smaller dumps that together hold all the database tables and data.</p><p>If you now click on <span class="inlinemediaobject"><img src="graphics/1132_05_44.jpg" alt="What Just Happened?"/></span> the tab, you’ll be taken to a page that allows you to execute SQL queries.</p><div class="mediaobject"><img src="graphics/1132_05_45.jpg" alt="What Just Happened?"/></div><p>In the second half of the screenshot, under<span class="strong"><strong> Location of the textfile</strong></span> title, you can upload a SQL dump to be executed into your database. This is the "restore" part of the operation. It’s usually done on a completely different server and a blank database (for example, when you switch hosting providers and move your board).</p><p>In the case shown in the illustration, you see that there is a limit of 8192KB (or 8MB); you cannot upload dumps bigger that this. If your SQL dump is larger, you have to split it into smaller chunks. Another good option would be to explain the situation to your provider (they might suggest that you FTP the file and they can take it from there and import it using tools like the command-line MySQL utilities.</p></div></div></div></div></div><div class="section" title="Using MySQL Command-Line Tools"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec14"/>Using MySQL Command-Line Tools</h2></div></div></div><p>If you have access to MySQL from the command line, huge databases won’t be a problem; you should be able to do your backups and to restore if needed. Chapter 2 already discussed connecting to MySQL from the command line, using the<code class="literal"> mysql</code> utility. Here we discuss another utility:<code class="literal"> mysqldump</code>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec12"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl4sec11"/></h4></div></div></div><div class="section" title="Creating Backups with mysqldump"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec14"/>Creating Backups with mysqldump</h5></div></div></div><p>As the name suggests this is a utility for creating SQL dumps from a MySQL database. It has a lot of options which you can always investigate by calling the utility with the<code class="literal"> --help</code> option, like this:<a id="id180" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mysqldump --help</strong></span>
</pre></div><p>You can also read about this utility at<a class="ulink" href="http://dev.mysql.com/mysqldump"> http://dev.mysql.com/mysqldump</a>, the MySQL online manual.</p><p>Here’s an example of how to use the utility for creating a dump of your<code class="literal"> forums</code> database:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mysqldump -u dbuser -pdbpass forums &gt; mydump.sql</strong></span>
</pre></div><p>This line in plain English means "Create an SQL dump of the database called forums and write this dump to a file called mydump.sql, located in the current directory. To prove that I’m allowed to access this database, I give you my username which is dbuser, and my password, which is dbpass." Make note that the option<code class="literal"> -p</code> and the password are glued together; there is no space like that between the<code class="literal"> -u</code> option and the username.</p><p>If you have access on the server to create a scheduled task (a<span class="strong"><strong> cronjob</strong></span>), you can have this command line executed daily for a fresh database copy. This command may vary depending on your server, mainly in the part after the right angle bracket, where the dump filename and its location are specified.</p><p>You can even go one step further and save hard-drive space by creating a compressed SQL dump and deleting the original dump, which can be large. On Linux systems you can use the<code class="literal"> tar</code> archiver; the whole command that you can run as a cronjob would be something like:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mysqldump -u dbuser -pdbpass forums &gt; mydump.sql ; tar cz mydump.sql -f mydump.tgz ; rm f mydump.sql</strong></span>
</pre></div><p>Now<span class="emphasis"><em> that</em></span> is some real sysadmin-ing! Again if you want to translate this into plain English, it would mean "Create a SQL dump of my forums database and write it into mydump.sql. Compress mydump.sql and create mydump.tgz. Now delete the unneeded mydump.sql."</p></div><div class="section" title="Using the mysql Utility to Restore a Database"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec15"/>Using the mysql Utility to Restore a Database</h5></div></div></div><p>To restore a database means to create a new database out of an existing SQL dump. Now that we have a<code class="literal"> mydump.sql</code> that contains everything from the<code class="literal"> forums</code> database, let’s create a new database called<code class="literal"> forums-copy</code> and have the contents copied there. You can do this in phpMyAdmin, but we’ll see how to do it from the command line.<a id="id181" class="indexterm"/>
</p></div><div class="section" title="Time For Action—Creating a Database Copy from a SQL Dump"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec16"/>Time For Action—Creating a Database Copy from a SQL Dump</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In the command line, type<code class="literal"> mysql -u dbuser pdbpass</code> and hit<span class="emphasis"><em> Enter</em></span>.<a id="id182" class="indexterm"/></li><li class="listitem">Type<code class="literal"> CREATE DATABASE forums-copy</code>; Hit<span class="emphasis"><em> Enter</em></span>.</li><li class="listitem">Type<code class="literal"> \u forums-copy</code>. Hit<span class="emphasis"><em> Enter</em></span>.</li><li class="listitem">Type<code class="literal"> \. mydump.sql</code> Hit<span class="emphasis"><em> Enter</em></span>. If everything is fine, youll see a lot of messages like this one:<code class="literal"> Query OK, 1 row affected (0.00 sec)</code></li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch06lvl6sec14"/>What Just Happened?</h6></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">You connected to the database server.</li><li class="listitem">You created a new database.</li><li class="listitem">You selected the new database (<code class="literal">forums-copy</code>) to use it for the next operations.</li><li class="listitem">You executed the<code class="literal"> mydump.sql</code> file. Here you may need to adjust the path to the file, depending on where its located.</li></ol></div></div></div><div class="section" title="Other Tools"><div class="titlepage"><div><div><h5 class="title"><a id="ch06lvl5sec17"/>Other Tools</h5></div></div></div><p>Sometimes you may not use the command line MySQL tools or phpMyAdmin. Or the hosting provider’s restrictions may make phpMyAdmin unusable for your huge dump. Don’t despair, there’s still hope! You can use some specially designed tools to deal with large databases. One such good tool is called BigDump, and can be downloaded free of charge from<a class="ulink" href="http://www.ozerov.de/bigdump.php"> http://www.ozerov.de/bigdump.php</a>.</p><p>It works around the server restrictions by taking small parts of your dump and executing them chunk by chunk until all the SQL commands are executed.</p></div></div></div></div></div>
<div class="section" title="The Board&#x2019;s Human Side: Flamewars and Banning"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec08"/>The Board’s Human Side: Flamewars and Banning</h1></div></div></div><p>Let’s take a break from the sysadmin stuff and end this chapter with a look at the human side of running an online community. There are situations that you’re most likely to encounter, which happen to almost every board admin, so it’s good to be prepared or at least be aware that you’re not alone.<a id="id183" class="indexterm"/>
</p><p>Whatever your board is about, it’s likely that it starts as a small board with a handful of nice fellows posting in it. Maybe the board will be an addition to your existing site; its forums might discuss the content of your site, where you’ll answer questions and get suggestions.</p><p>If you happen to have a site with interesting content, your community is likely to grow gradually. As more and more people join in, more and more different opinions will be shared. An occasional flamewar can burst out, where some community members start exchanging hostilities. Do not panic! It’s not you or your board or your site that is to blame for the flamewars. They just happen. They have been happening since the dawn of online communication, in Usenet groups, mailing lists, and so on. Flamewars are a part of the online communities; it’s a human thing.</p><p>There can also be some community members that seem to like starting off new flamewars and look like they come to the board with the sole purpose of making the life of your community miserable. It happens. The anonymity provided by the Internet can make some folks behave quite differently from what they really are. You’ll have to learn to live with this fact. But that doesn’t mean that you’ll have to tolerate such behavior. Some respected and valued community members may start limiting their participation and even leave the community for good, because of the bad behavior of those folks. This is something you don’t want to happen.</p><p>It’s tough in such situations and there’s no recipe. You have to use your best judgment and you have to act like a leader and an example for your community. At some point you’ll probably end up writing sticky postings like "Read me before you post", sort of terms of use. This is a good and a necessary step because it sets the ground rules. Without rules there’s no right nor wrong, everybody can have a different understanding of what is acceptable behavior and what is not. You also need to be careful when writing these rules not to make them too restrictive. These rules need to be respected, that’s why they are rules. So don’t set impossible goals and wishlist items as rules; be a realist.</p><p>At some point the board may grow so much that you won’t be able to follow what is happening all the time. You need someone to keep an eye on it. That’s where moderators come into the picture. They are your best helpers with the board. They will volunteer their time to make the forums a better place for peaceful discussions. So choose them carefully. First, you have to trust your moderators. But chances are you’ve never even met those people, how can you trust them? Again, follow your gut feeling and use your best judgment.</p><p>Banning users is never an easy task. Try to avoid this as much as possible, because a banned user can find a way to register again and again using fake IP addresses and will keep abusing your community. And a banned user will be feeling and acting like a victim. So again, try to avoid banning as much as you can. Try to resolve any issues in a peaceful manner, try to listen to that user’s problems and use banning as a last resort. But when you make the decision to ban someone, do it and be firm.</p><p>Here are some more tips that can help you with the board administration.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create a<span class="strong"><strong> Private [Hidden]</strong></span> forum for your moderators. Let them talk about forum issues in privacy and make collective decisions.</li><li class="listitem" style="list-style-type: disc">Create a<span class="strong"><strong> Private [Hidden]</strong></span> forum that will serve as a recycle bin. Instead of deleting a thread, move it there. When only a few postings are to be deleted, but otherwise the topic is OK, split the postings in question into a new topic of their own and move this topic to the bin. The bin helps you have a history of what happened in case you need it. Grant your moderators access to the bin so that they can manage the topics moved there.</li><li class="listitem" style="list-style-type: disc">When some board admins ban users, they do this temporarily and unban the troublemakers after lets say a week. Sometimes this helps.</li><li class="listitem" style="list-style-type: disc">Users will complain about different things—you, the board, other users, and whatnot. Listen to what they have to say. But remember: there are a lot more people that are happy with the board, life, and everything. Its a normal behavior—when youre OK, you dont write a posting to say youre OK, but when youre angry about something, you write about it at once.</li><li class="listitem" style="list-style-type: disc">Read the Netiquette book by Virginia Shea. Its available online at<a class="ulink" href="http://www.albion.com/netiquette/book/"> http://www.albion.com/netiquette/book/</a>. It was written quite some time ago and it speaks about flamewars in Usenet groups and not in bulletin boards. So its even more reassuring to see that youre not alone and your board is not the first one to experience such extremities. Youll recognize quite a few of your community members and situations described there and this is guaranteed to give you a good laugh. Such topics as the types of flames ("The Spelling Flame", "The Get-a-Life Flame") are really amusing.</li><li class="listitem" style="list-style-type: disc">Again, there are no recipes, all the boards are different and unique, so use your best judgment and  be a leader. Good luck!</li></ul></div></div></body></html>
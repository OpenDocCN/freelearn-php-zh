<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Developing your Own Theme</h1>
                </header>
            
            <article>
                
<p>At this point, you know how to find themes on the web and install them for use on your WordPress website. But, there's a lot more that WordPress has to offer, particularly in the theme development department. In this chapter, you'll learn how to turn your own design into a fully functional WordPress theme, which you'll then be able to use on your website. You'll also learn how to share your WordPress theme with other users on the web.</p>
<p>All you will need before we get started is the following:</p>
<ul>
<li>Your own website design</li>
<li>The ability to slice and dice your design to turn it into an HTML structure</li>
</ul>
<p>We'll start out with tips on slicing and dicing, so that your HTML and CSS files are as WordPress-friendly as possible, and then cover the steps for turning that HTML build into a fully functional theme.</p>
<div class="packt_infobox">Note that I assume you are already comfortable writing and working with HTML and CSS.</div>
<p>The topics we will be covering in this chapter include the following:</p>
<ul>
<li class="h1">Setting up your design</li>
<li class="h1">Converting your build into a theme</li>
<li class="h1">Creating template files within your theme</li>
<li class="h1">Making your theme widget-friendly</li>
<li class="h1">Enabling a menu in your theme</li>
<li class="h1">Making your theme editable in the WordPress Customizer</li>
<li class="h1">Creating a child theme</li>
<li class="h1">Sharing your theme</li>
</ul>
<div class="packt_infobox">This chapter covers only the very basics of theme creation. This topic actually deserves a whole book, and it has one! I highly recommend <em>WordPress Theme Development: Beginner's Guide, Rachel McCollin and Tessa Blakeley Silver, Packt Publishing</em>. This book covers everything you could possibly want to know about creating your own theme in detail, including details such as choosing a color scheme, considering typography, writing the best CSS, and laying out your HTML using rapid design comping. If this chapter leaves you wanting more, go there!</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Setting up your design</h1>
                </header>
            
            <article>
                
<p>Just about any design in the world can be turned into a WordPress theme. However, there are some general guidelines you should follow<span>—</span>regarding both the design and the HTML/CSS build of your theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Designing your theme to be WordPress-friendly</h1>
                </header>
            
            <article>
                
<p>While you can design your blog any way you want, a good starting point would be with one of the standard blog layout, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/def63c81-60c5-4f94-a157-9ce3b997c7e7.png" width="1350" height="209"/></p>
<p>Note that, while these standard layouts have a differing number of columns, most of them have the following essential parts:</p>
<ul>
<li>A header</li>
<li>A main column</li>
<li> A side column(s)</li>
<li>A footer</li>
</ul>
<p>WordPress expects your theme to follow this pattern, for the most part. While you can be creative and not include one or more of these blocks in your design, you will get the most educational value out of this experience if you don't skip anything. WordPress will provide you with functions that make your work easier. Also, a build that stays within the same general design patterns of WordPress themes will easily accommodate the existing plugins and widgets.</p>
<p>That said, a common situation in the WordPress world is to build custom home pages or landing pages (that is, purpose-specific pages, which are mostly commercial) that feature completely different designs. Therefore, you might stumble upon websites that don't look like they're built with WordPress at first glance. Also, many modern theme frameworks give you the possibility to create such custom home pages, as well as other custom page templates. This is all part of the trend to make WordPress capable of running any kind of website.</p>
<p>In this chapter, you're going to learn how to build a basic WordPress theme that offers a classic blog layout. The following screenshot demonstrates what the final product will look like:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/d7f2d14b-7fa9-4d67-9225-9fcd0aa8b14a.png" width="1655" height="775"/></p>
<p>The HTML structure of the design is built on top of the <span class="packt_screen">_S</span> starter theme (you can read more about underscores at <a href="https://underscores.me/">https://underscores.me/</a>), and the visual elements are all done through CSS, with only minimal modifications to the original HTML structure.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Three paths to theme development</h1>
                </header>
            
            <article>
                
<p>Essentially, there are three paths that you can follow when developing your new theme:</p>
<ul>
<li>You can either work from the ground up, by building the HTML structure and the functional structure of the theme by hand</li>
<li>You can work on top of an existing theme framework, where you only have to adapt your design to work on the structure provided by the framework itself</li>
<li>You can go for a solution that sits somewhere in between</li>
</ul>
<p>All of these paths have their pros and cons.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Building a theme from the ground up</h1>
                </header>
            
            <article>
                
<p>The main advantage of building a theme from the ground up is the massive educational value you get. When you develop a theme from scratch, you learn the basics of theme construction and function. This kind of knowledge will go a long way for your future projects in WordPress.</p>
<p>On the other hand, it's also the longest of the three paths. In a professional production environment (among people designing and developing themes as a profession), creating themes from scratch is a highly time-consuming approach, making it quite ineffective. And it's not that much about adapting the design (which must always be done with theme frameworks as well); it's more about building the core functionality of the theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Building a theme with a framework</h1>
                </header>
            
            <article>
                
<p>The main advantages of this approach are its time-efficiency and the quality of the final result. For instance, if you're building a theme from scratch, you have to make sure to keep your theme up-to-date long after the development process has finished. The thing is, WordPress gets updated very frequently (around once every 50-90 days), and the purpose of many features changes over time<span>—</span>they might even get completely erased or replaced by new ones. In such a scenario, only modern themes that are kept up-to-date can take full advantage of these features. Updating your theme will obviously take a massive amount of work. This is where theme frameworks come into play. In essence, theme frameworks are themes with a very minimalist design and no visually-complicated aspects.</p>
<p>The purpose of frameworks is to make them the base of any future theme by acting as the parent theme. The fact that the framework itself has no design allows every creator to introduce almost any design imaginable, while taking full advantage of the features and constructions provided by the framework. Now, the strength of quality frameworks is that they get updated almost as frequently as WordPress plugins. In short, if you're using a framework, you don't have to worry about your theme going out of date. Whenever there's an update available, you can simply perform it and forget about the whole thing.</p>
<p>This brings me to the main disadvantage of using theme frameworks. Most of the time, theme frameworks are big, complex pieces of web software (<strong>Hypertext Preprocessor</strong>, or <strong>PHP</strong> scripts). So, if you want to be able to use them effectively, you'll have to spend a significant amount of time learning the framework itself. On top of this, if you decide to switch to a different framework later down the road, you'll have to learn all over again (frameworks are usually very different from each other). As you can see, reaping the benefits of using frameworks has its price.</p>
<p>Here are some of the popular theme frameworks (both paid and free ones), as follows:</p>
<ul>
<li><strong>Gantry</strong> (free): <a href="http://gantry.org/">http://gantry.org/</a></li>
<li><strong>Cherry Framework</strong> (free): <a href="http://www.cherryframework.com/">http://www.cherryframework.com/</a></li>
<li><strong>Hybrid Core</strong> (free): <a href="https://themehybrid.com/hybrid-core">https://themehybrid.com/hybrid-core</a></li>
<li><strong>Unyson Framework</strong> (free): <a href="http://unyson.io/">http://unyson.io/</a></li>
<li><strong>Genesis</strong> (paid): <a href="https://my.studiopress.com/themes/genesis/">https://my.studiopress.com/themes/genesis/</a></li>
<li>Some frameworks are listed on the official WordPress website:<br/>
<a href="https://codex.wordpress.org/Theme_Frameworks">https://codex.wordpress.org/Theme_Frameworks</a></li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Building a theme with a starter theme</h1>
                </header>
            
            <article>
                
<p>Finally, there's also a third solution, one that's somewhere between building a theme from the ground up and using a framework—using a starter theme.</p>
<p>A starter theme, like the one we'll be using in this chapter, is a great solution to make sure that the theme you're building has the right scaffolding, it's up to date with modern practices, and is optimized to be used for a WordPress site. Apart from that, a starter theme leaves you with all of the freedom in the world to adjust your creation however you wish (you have almost the same freedom as you do with from-the-ground-up theme building).</p>
<p>In other words, a starter theme provides you with the best of both worlds; that is, starting from scratch and using a framework. You can learn the basic structure of WordPress themes this way, and at the same time, you don't need to worry about making any silly mistakes because the core of the task is handled by the starter theme itself.</p>
<p>The main idea in the following sections is to learn the craft and get to know all of the basic structures and mechanisms sitting inside WordPress. Your journey with theme development starts once you have a graphic design prepared in Photoshop, or some other similar tool. You can also take the code bundle for this chapter and work with the design from there. Either way, the next step is to turn it into some HTML code.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Converting your design into code</h1>
                </header>
            
            <article>
                
<p>For the purpose of this chapter, I assume that you already know how to take a graphic website design and turn it into an HTML plus CSS structure. With that, we'll cover some pointers on how to do your slicing and dicing as we go through this chapter.</p>
<p>Let's get down to business and take a look at the HTML structure that was generated (by the <span class="packt_screen">_S</span> starter theme) for the purpose of the theme we're building here. Just to remind you, the starter theme can be generated at <a href="https://underscores.me/">https://underscores.me/</a>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Examining the HTML structure</h1>
                </header>
            
            <article>
                
<p>The following is the very basic layout of the main HTML file for my food blog design; I'm showing it here just to give you a general idea of what we're going to be working with:</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en-US"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-
scale=1"&gt;
&lt;link rel="profile" href="http://gmpg.org/xfn/11"&gt;
&lt;link rel="stylesheet" id="open-sans-css"
  href="//fonts.googleapis.com/css?family=Open+Sans%3A300italic
  %2C400italic%2C600italic%2C300%2C400%2C600&amp;subset=latin%2
  Clatin-ext&amp;ver=4.0.1" type="text/css" media="all" /&gt; 
&lt;! -  embedding Google Fonts  - &gt;
&lt;link rel="stylesheet" id="daily-cooking-custom-style-css"
  href="style.css" type="text/css" media="all" /&gt; 
&lt;! -  embedding the style sheet for the design  - &gt;
&lt;title&gt;Daily Cooking&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;div id="page"&gt;
  &lt;header id="masthead" class="site-header" role="banner"&gt;
    &lt;div class="site-branding"&gt;
      &lt;h1 class="site-title"&gt;Daily Cooking&lt;/h1&gt;
    &lt;/div&gt;
    &lt;nav id="site-navigation" class="main-navigation"
    role="navigation"&gt;
      &lt;! -  placeholder for site navigation  - &gt;
    &lt;/nav&gt;
  &lt;/header&gt;

  &lt;div id="content" class="site-content"&gt;
    &lt;div id="primary" class="content-area"&gt;
    &lt;main id="main"  class="site-main" role="main"&gt;
    &lt;article&gt;
      &lt;header class="entry-header"&gt;
        &lt;h1 class="entry-title"&gt;Hello world!&lt;/h1&gt;
      &lt;/header&gt;

      &lt;div class="entry-content"&gt;
        &lt;p&gt;Welcome!&lt;/p&gt;
        &lt;! -  main content block  - &gt;
      &lt;/div&gt;

      &lt;footer class="entry-footer"&gt;
        &lt;! -  footer of the content block  - &gt;
      &lt;/footer&gt;
    &lt;/article&gt;
    &lt;/main&gt;&lt;/div&gt;

    &lt;div id="secondary" role="complementary"&gt;
      &lt;! -  sidebar  - &gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;footer class="site-footer" role="contentinfo"&gt;
    &lt;! -  main footer of the page  - &gt;
  &lt;/footer&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<div class="packt_infobox">This HTML structure can be found in the official code bundle for this chapter<span>—</span>called <kbd>phase 1</kbd>.</div>
<p>You can see that I've separated out the major parts, as follows:</p>
<ul>
<li>The header is in an HTML5 <kbd>&lt;header&gt;</kbd> tag.</li>
<li>As part of it, there's the main site navigation, also in an HTML5 <kbd>&lt;nav&gt;</kbd> <span>tag. </span></li>
<li>Next, we have the main content block, <kbd>&lt;div id="content" class="site-content"&gt;;</kbd>; each individual post will be displayed inside separate HTML5 <kbd>&lt;article&gt;</kbd> tags.</li>
<li>After this, we have a section that handles the sidebar, <kbd>&lt;div id="secondary" role="complementary"&gt;</kbd>. The sidebar is set with the <kbd>role="complementary"</kbd> attribute. Essentially, the role attribute describes the role that the element plays in the context of the document. In this case, the sidebar is complementary to the main content (and if you pay close attention, you'll notice that the main part, that is, the content, is indeed set to <kbd>role="main"</kbd>). In general, such attributes are meant to explain the purpose of elements in the HTML structure.</li>
<li>Finally, there's the footer, using the <kbd>&lt;footer&gt;</kbd> tag. Keep in mind that this is HTML5, and it may not work on older web browsers.</li>
</ul>
<p>Now that I've got my basic layout, I'm going to add a few more HTML elements to flesh it out a bit, including more information in <kbd>&lt;head&gt;</kbd>, as well as in the main content box, plus some additional CSS. Then, I'll fill up the sidebar, header, content, and footer.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Examining the CSS</h1>
                </header>
            
            <article>
                
<p>Generally, a very good practice in web development is to start your CSS design by resetting all of the default styles used by various web browsers. The main issue, and the reason why this is an important step, is that most popular web browsers (or, should I say, every single one of them) have their own default set of CSS styles. And, if you want your theme to look exactly the same in every browser, you have to start your work by resetting those styles, whatever they might actually be. The good thing about this is that you don't have to do it by hand. You can just use one of the reset scripts available on the internet. Keep in mind that every piece of code that's listed in this chapter is also available in the official code bundle that came with your book. So, what we'll do first is just have the following CSS at the beginning of our new <kbd>style.css</kbd> file:</p>
<pre>/* setting up the basic elements - starter setup */
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, font, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td {
  border: 0;
  font-family: inherit;
  font-size: 100%;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}

html {
  font-size: 62.5%;
  overflow-y: scroll;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}

body {
  background: #fff;
}

/* resetting the basic content blocks */
article, aside, details, figcaption, figure, footer, header, main,
  nav, section {
  display: block;
}

/* resetting the lists */
ol, ul {
  list-style: none;
}

table {
  border-collapse: separate;
  border-spacing: 0;
}
caption, th, td {
  font-weight: normal;
  text-align: left;
}

blockquote:before, blockquote:after, q:before, q:after {
  content: "";
}
blockquote, q {
  quotes: " "";
}

a:focus {
  outline: thin dotted;
}
a:hover, a:active {
  outline: 0;
}
a img {
  border: 0;
}</pre>
<p>Let's now take a look at the actual CSS<span>—</span>the things that build our design and not just reset it. First, we'll review the CSS that displays everything you see in the design. Note that I have styles for all of the key elements, such as the header, sidebar, main content area, and footer.</p>
<p>Also, note that this is just the scaffolding, so to speak; it only indicates the individual areas of the final CSS style sheet. Talking about CSS isn't the main thing we're focusing on in this book. Therefore, I'm including the complete version of the aforementioned code bundle, and right now, I'm only presenting the individual areas of the CSS. This is just to make the whole thing easier to grasp once you look at the complete style sheet. To be honest, the final CSS isn't actually that complex from a CSS design point of view, but it is quite lengthy. Here's the simplified version:</p>
<ol>
<li>Let's start with the typography settings and various standard content elements. I'm not showcasing the individual styles here, as they are kind of basic and don't play a huge role in our WordPress site structure:</li>
</ol>
<pre>      /* -  -  -  - -
      Typography
       -  -  -  -  - -*/
      
      body, button, input, select, textarea {}
      h1, h2, h3, h4, h5, h6 {}
      h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {}
      p {}
      b, strong {}
      dfn, cite, em, i {}
      blockquote {}
      address {}
      pre {}
      code, kbd, tt, var {}
      abbr, acronym {}
      mark, ins {}
      sup, sub {}
      small {}
      big {}
      
      /* -  -  -  - 
      Elements
       -  -  -  - -*/
      
      hr {}
      ul, ol {}
      dt {}
      dd {}
      img {}
      figure {}
      table {}
      button, input, select, textarea {}</pre>
<ol start="2">
<li>What follows next is a set of rules that will take care of the alignment, the general design structure, the headers, and other typical HTML elements:</li>
</ol>
<pre>      .site-header {
        width: 15%;
        float: left;
        height: auto;
        background: #279090;
        margin-right: 2.5%;
        border-radius: 6px;
      }
      
      #page {
        width: 1160px;
        margin: 0 auto;
        margin-top: 50px;
        position: relative;
        overflow: auto;
      }
      
      #primary {
        width: 56%;
        float: left;
      }

      /* Navigation */
      .main-navigation {
        clear: both;
        display: block
        float: left;
        width: 100%;
      }

      /* Alignments */
      .alignleft {
        display: inline;
        float: left;
        margin-right: 1.5em;
      }
      .alignright {
        display: inline;
        float: right;
        margin-left: 1.5em;
      }
      .aligncenter {
        clear: both;
        display: block;
        margin: 0 auto;
      }</pre>
<ol start="3">
<li>The center part of the site structure is where the posts and pages will be displayed. The code for it is as follows:</li>
</ol>
<pre>      .site-content .page, .site-content .post {
        margin-bottom: 40px;
        background-color: white;
        border-radius: 6px;
      }
      
      .entry-header h1.entry-title {
        text-align: center;
      }

      .site-content .entry-content {
        padding: 10px 20px;
      }</pre>
<ol start="4">
<li>The code for the main sidebar is demonstrated as follows:</li>
</ol>
<pre>      #secondary {
        width: 24.5%;
        float: left;
        height: auto;
        margin-left: 2%;
        opacity: 0.6;
        background-color: white;
        border-radius: 3px;
        padding: 0 10px;
      }</pre>
<ol start="5">
<li>And finally, the code for the footer is as follows:</li>
</ol>
<pre>      .site-footer {
        float: right;
        padding: 20px;
      }</pre>
<p>Inside this style sheet, you will find many specific classes that aren't just my own creations, but instead come from WordPress itself. Here's what I mean: when WordPress creates all of the items, which includes page lists, category lists, archive lists, images, and galleries, it gives many of these items a particular class name. If you know these class names, you can prepare your style sheet to take advantage of them. This is one more reason why we're using a starter theme here. With it, we don't have to worry about any of this.</p>
<p>For example, when you add an image to a post or page, WordPress gives you the option to have it to the right or left, or at the center of the text. Depending on what you choose, WordPress will assign either of these classes to the image: <kbd>alignleft</kbd>, <kbd>alignright</kbd>, or <kbd>aligncenter</kbd>. These specific classes are handled in the <em>Alignments</em> section of our CSS style sheet. Another thing is that, when you add an image with a caption, WordPress gives it the <kbd>wp-caption</kbd> class. This particular thing is handled in the <em>Captions</em> section of the style sheet. WordPress uses many other classes that you can take advantage of when building your style sheet. I've listed a few of them in <a href="https://cdp.packtpub.com/wordpress_complete___7th_edition/wp-admin/post.php?post=32&amp;action=edit#post_36" target="_blank">Chapter 13</a><span>,</span><em> Creating a Non-Blog Website Part Two – E-Commerce Websites and Custom Content Elements</em>.</p>
<p>Now that you've got your HTML and CSS lined up, you're ready for the next step<span>—</span>turning your HTML build into a WordPress theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Converting your build into a theme</h1>
                </header>
            
            <article>
                
<p>You'll be turning your HTML build into a theme, which is composed of a number of template files and other scripts. We are going to first dig into the inner workings of a theme, so as to get familiar with how it's put together. Then, we'll actually turn our HTML build into a theme directory that WordPress can use. Finally, we'll include WordPress functions that populate the theme with content. As I mentioned in an earlier chapter, doing development for your WordPress website in a local environment can make the whole process much smoother. Consider getting a server up and running on your home computer using WAMP, MAMP, or some other way to install Apache and MySQL.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating the theme directory</h1>
                </header>
            
            <article>
                
<p>The first step to turning your HTML build into a theme, is to create your theme directory and give it everything it needs to be recognized as a theme by WordPress. Let's look at an overview of the steps and then take them one by one, as follows:</p>
<ol>
<li>Name your directory and creating backup copies of your build files</li>
<li>Preparing the essential files</li>
<li>Adding a screenshot of your theme, named <kbd>screenshot.png</kbd></li>
<li>Uploading your theme directory</li>
<li>Activating your theme</li>
</ol>
<p>Let's take these steps one by one now.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Naming your directory and creating backup copies of your build files</h1>
                </header>
            
            <article>
                
<p>You'll want to give your build directory a sensible name. I'm naming my theme <strong>Daily Cooking Custom</strong>. I'll name the directory <kbd>daily-cooking-custom</kbd>. Now, I suggest creating backup copies of your HTML and CSS files. As you'll eventually be breaking up your build into template files, you could easily lose track of where your code came from. By keeping a copy of your original build, you'll be able to go back to it for reference.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Preparing the essential files</h1>
                </header>
            
            <article>
                
<p>WordPress has only the following two requirements to recognize your directory as a theme:</p>
<ul>
<li>A file called <kbd>index.php</kbd> </li>
<li>A file called <kbd>style.css</kbd> </li>
</ul>
<p>Just rename your main design's HTML file <kbd>index.php</kbd>—this takes care of the first requirement. To satisfy the second requirement, your style sheet needs to have an introductory comment that describes the basic information for the whole theme: title, author, and so on. Also, it has to be at the very top of the style sheet. I've added this comment to my <kbd>style.css</kbd> file, as follows:</p>
<pre>/*
Theme Name: Daily Cooking Custom
Theme URI: http://nio.tips/
Author: Karol K
Author URI: http://karol.cc/
Description: Daily Cooking Custom is a custom theme created for the buyers of "WordPress Complete"
Version: 1.0
License: GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Text Domain: daily-cooking-custom
Tags: brown, orange, tan, white, yellow, two-columns, right-sidebar, flexible-width, custom-header, custom-menu, translation-ready
*/</pre>
<p>The preceding structure has been created on the basis of the template available at <a href="https://codex.wordpress.org/Theme_Development#Theme_Stylesheet">https://codex.wordpress.org/Theme_Development#Theme_Stylesheet</a>. Whenever you're creating a new theme, it's always good to check the currently recommended template beforehand. When you add this comment section to your style sheet, just replace all of the details with those that are relevant to your theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Adding a screenshot</h1>
                </header>
            
            <article>
                
<p>Remember when you first learned how to activate a new theme that there were thumbnail versions of the themes in your <span class="packt_screen">Appearance</span> tab? You'll want a thumbnail of your own design. It should be a PNG file with the name <kbd>screenshot.png</kbd>. Just do the following:</p>
<ol>
<li>Flatten a copy of your design in Photoshop or in a similar tool</li>
<li>Change the image width to 1200 px and the height to 900 px</li>
<li>Save it for the web as a PNG-8 file</li>
</ol>
<p>The preceding requirements (1200 px by 900 px) are the current ones at the time of writing. To get the latest guidelines at any point in time, revisit the official Codex at <a href="https://codex.wordpress.org/Theme_Development#Screenshot">https://codex.wordpress.org/Theme_Development#Screenshot</a>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Create a screenshot</h1>
                </header>
            
            <article>
                
<p>Name your file <kbd>screenshot.png</kbd> and save it in your build directory. This is all it takes to have the screenshot enabled and allow WordPress to recognize it when it loads your theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Uploading your directory</h1>
                </header>
            
            <article>
                
<p>Using FTP software, upload your template directory to <kbd>wp-content/themes/</kbd> in your WordPress build. It will share the themes directory with <kbd>twentynineteen</kbd>, and any other theme you've added as you installed WordPress. In the following screenshot, you can see my <kbd>daily-cooking-custom</kbd> theme living in the <kbd>themes</kbd> directory:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a37dcd16-9dc1-4d10-a8f8-c87b00dbf969.png" width="215" height="171"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Activating your theme</h1>
                </header>
            
            <article>
                
<p>You've got the absolute basic necessities in there now, so you can activate your theme (although, it won't look like much yet). Log in to your <kbd>wp-admin</kbd>, and navigate to <span class="packt_screen">Appearance</span>. There, you'll see your theme waiting for you. As you can see, I've created a nice screenshot for my theme, with the name of the theme on it for easier identification:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1dae8fe0-85b9-4155-962c-3131ae37dc30.png" width="1552" height="695"/></p>
<p>At this point, you can activate your new theme and continue working on it to include WordPress-generated content and make it into a full-fledged WordPress theme in general. Don't be alarmed if the theme doesn't look perfectly right after activation, though. There's still some work to do. This is another good reason to have a development server. You wouldn't want to have this incomplete theme active on a live site while you finish the final pieces in the background.</p>
<p>Note that not every theme installation goes as expected. Sometimes, you have to deal with errors. In most cases, WordPress will let you know what went wrong with a notification. Every once in a while, however, activation can result in a critical error and your whole site could go blank. If that happens, simply rename the new theme's directory, or delete it completely. This will force WordPress to switch to the default theme, and things should go back to normal. From there, you can start looking for the issue that caused the crash in the first place.</p>
<p>Speaking of final pieces, your theme is now ready to have all of the WordPress content added, so let's do just that!</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to create basic WordPress content</h1>
                </header>
            
            <article>
                
<p>Right now, your <kbd>index.php</kbd> file is your only theme file. We'll be breaking it up into template files a bit later. First, we need to include WordPress functions that will spit out your content into your theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The functions.php file</h1>
                </header>
            
            <article>
                
<p>In short, the <kbd>functions.php</kbd> file is meant to set up your theme and provide some helper functions and settings to make using the theme easier. Apart from this, the functions file also has many other applications that we're not going to discuss here, as they are beyond the scope of this book. In essence, <kbd>functions.php</kbd> is a file that allows you to perform a very wide scope of modifications. Even though there is a set of standard things that should always be taken care of when dealing with a functions file, they don't restrict you from doing virtually anything you wish. For instance, you could create a classic PHP function, such as <kbd>my_function_name()</kbd>, and then call it from within one of your template files (such as <kbd>index.php</kbd>) through <kbd>&lt;?php my_function_name(); ?&gt;</kbd>, but this is just one of the possible scenarios.</p>
<p>Although this isn't a requirement, it's always good to start your functions file with the following lines of code (just as a good reference point):</p>
<pre>&lt;?php
/**
* Daily Cooking Custom functions and definitions.
*
* @package Daily Cooking Custom
*/</pre>
<p>The preceding lines of code provide essential information about the theme.</p>
<p>The next part is the setup of the default features that the theme is going to enable, as follows:</p>
<pre>if(!function_exists('daily_cooking_custom_setup')) :
function daily_cooking_custom_setup() {

  //Make theme available for translation.
  //Translations can be filed in the /languages/ folder.
  load_theme_textdomain('daily-cooking-custom',   
  get_template_directory().'/languages');

  //Adds RSS feed links to &lt;head&gt; for posts and comments.
  add_theme_support('automatic-feed-links');

  //Let WordPress manage the document title.
  add_theme_support('title-tag');

  //This theme uses wp_nav_menu() in one location.
  register_nav_menus(array(
    'primary' =&gt; __('Primary Menu', 'daily-cooking-custom'),
  ));

  //Switch default core markup for search form, comment form, 
  //and comments to output valid HTML5.
  add_theme_support('html5', array(
    'search-form', 'comment-form', 'comment-list', 'gallery', 'caption',
  ));

  //Set up the WordPress core custom background feature.
  add_theme_support('custom-background', apply_filters(
    'daily_cooking_custom_custom_background_args', array(
    'default-color' =&gt; 'ffffff',
    'default-image' =&gt; '',
  )));

}
endif; //daily_cooking_custom_setup
add_action('after_setup_theme', 'daily_cooking_custom_setup');</pre>
<p>The preceding function, <kbd>daily_cooking_custom_setup()</kbd>, will be executed at just the right time, triggered by the <kbd>after_setup_theme</kbd> action called at the end to set up the basic features of our theme properly. Most of the code is pretty self-explanatory, due to the comments, but there's just one thing I'd like to mention individually, which is the following (registering the menu):</p>
<pre>register_nav_menus(array(
  'primary' =&gt; __('Primary Menu', 'daily-cooking-custom'),
));</pre>
<p>This is a small piece of code that will let us assign any custom menu to appear as the primary menu later on. It is also what we'll use to set our new theme. In addition, the preceding function allows you to register even more menu areas if you wish<span>—</span>and all you'll have to do is add <kbd>'secondary' =&gt; 'Secondary Menu'</kbd>.</p>
<p>Next, let's enable our style sheet CSS file to load with our theme, or more accurately, to be <em>enqueued,</em> and then load precisely the right moment. Here's how to do so:</p>
<pre>function daily_cooking_custom_scripts() {
  wp_enqueue_style('daily-cooking-custom-style', get_stylesheet_uri());
}
add_action('wp_enqueue_scripts', 'daily_cooking_custom_scripts');</pre>
<p>As you can see, there's only one style sheet here. It is enabled by the very first line in the function.</p>
<p>The preceding code closes our first template-like <kbd>functions.php</kbd> file. Later, we will add new lines to it to make it even more functional. Now, the interesting part is that there is no closing PHP tag in the functions file (no <kbd>?&gt;</kbd>). This is not a typo; it is intentional. Since most of the file is pure PHP, we don't need this tag. The complete file is as follows:</p>
<pre>&lt;?php
/**
 * Daily Cooking Custom functions and definitions
 *
 * @package Daily Cooking Custom
 */

if(!function_exists('daily_cooking_custom_setup')) :
function daily_cooking_custom_setup() {

  //Make theme available for translation.
  //Translations can be filed in the /languages/ folder.
  load_theme_textdomain('daily-cooking-custom', 
  get_template_directory().'/languages');

  //Adds RSS feed links to &lt;head&gt; for posts and comments.
  add_theme_support('automatic-feed-links');

  //Let WordPress manage the document title.
  add_theme_support('title-tag');

  //This theme uses wp_nav_menu() in one location.
  register_nav_menus(array(
    'primary' =&gt; __('Primary Menu', 'daily-cooking-custom'),
  ));

  //Switch default core markup for search form, comment form,
  //and comments to output valid HTML5.
  add_theme_support('html5', array(
    'search-form', 'comment-form', 'comment-list', 'gallery', 'caption',
  ));

  //Set up the WordPress core custom background feature.
  add_theme_support('custom-background', apply_filters(
    'daily_cooking_custom_custom_background_args', array(
    'default-color' =&gt; 'ffffff',
    'default-image' =&gt; '',
  )));

}
endif; //daily_cooking_custom_setup
add_action('after_setup_theme', 'daily_cooking_custom_setup');

function daily_cooking_custom_scripts() {
  wp_enqueue_style('daily-cooking-custom-style', get_stylesheet_uri());
}
add_action('wp_enqueue_scripts', 'daily_cooking_custom_scripts');</pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The &lt;head&gt; tag</h1>
                </header>
            
            <article>
                
<p>Okay, let's move on to our <kbd>index.php</kbd> file and the things we can do inside of it. In the following section of the chapter, we're going to be altering specific lines of code from the original HTML structure. Let's see how to do that: </p>
<ol>
<li>Set up the <kbd>&lt;head&gt;&lt;/head&gt;</kbd> section of your HTML file. Let's start with <kbd>charset</kbd> and the <kbd>device-width</kbd> parameter. Here are the two lines to begin with right after the opening <kbd>&lt;head&gt;</kbd> tag:</li>
</ol>
<pre>      &lt;meta charset="&lt;?php bloginfo('charset'); ?&gt;"&gt;
      &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;</pre>
<p style="padding-left: 60px">The first one holds the character set that your blog uses. The other defines the width of the <kbd>viewport</kbd> used. Here, it's set to the width of the device being used (this allows everyone to view the site correctly, including desktop computer users, iPad users, and Android phone users).</p>
<ol start="2">
<li> You need to add another important chunk of code<span>—</span>first, to put header tags into your theme for the pingback URL; second, other miscellaneous WordPress stuff. Add the following lines in your <kbd>&lt;head&gt;</kbd> section:</li>
</ol>
<pre>      &lt;link rel="profile" href="http://gmpg.org/xfn/11"&gt;
      &lt;link rel="pingback" href="&lt;?php bloginfo('pingback_url'); ?&gt;"&gt;</pre>
<ol start="3">
<li>Add the following line right before the closing <kbd>&lt;/head&gt;</kbd> tag (it takes care of displaying your site's title and enabling a number of WordPress-specific functionalities):</li>
</ol>
<pre>      &lt;?php wp_head(); ?&gt;</pre>
<ol start="4">
<li>Now, add the <kbd>body_class()</kbd> function to the body tag, so it looks like the following:</li>
</ol>
<pre>      &lt;body &lt;?php body_class() ?&gt;&gt;</pre>
<ol start="5">
<li>Your header now look like the following:</li>
</ol>
<pre>      &lt;!DOCTYPE html&gt;
<span>      </span>&lt;html &lt;?php language_attributes(); ?&gt;&gt;
<span>      </span>&lt;head&gt;
<span>      </span>&lt;meta charset="&lt;?php bloginfo('charset'); ?&gt;"&gt;
<span>      </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
<span>      </span>&lt;link rel="profile" href="http://gmpg.org/xfn/11"&gt;
<span>      </span>&lt;link rel="pingback" href="&lt;?php bloginfo('pingback_url'); ?&gt;"&gt;
<span>      </span>&lt;?php wp_head(); ?&gt;
<span>      </span>&lt;/head&gt;
<span>      </span>
<span>      </span>&lt;body &lt;?php body_class(); ?&gt;&gt;</pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The header and footer</h1>
                </header>
            
            <article>
                
<p>It's time to start adding some content. Here, we'll take care of things such as displaying a link to the blog's home page, displaying the blog's title, displaying the tagline, and displaying the main navigation. All of these operations are pretty simple, so let's just take a look at the lines of code that take care of them. Then, we'll put these lines of code in just the right place within our HTML structure.</p>
<p>First, we have the code that displays the site's main URL, as follows:</p>
<pre>&lt;?php echo esc_url(home_url('/')); ?&gt;</pre>
<p>Next, the code that displays the site's title is as follows:</p>
<pre>&lt;?php bloginfo('name'); ?&gt;</pre>
<p>The following is the code for displaying the tagline:</p>
<pre>&lt;?php bloginfo('description'); ?&gt;</pre>
<p>The preceding two lines pull information from where you set the blog name and description in <kbd>wp-admin</kbd>, and you can simply change them from the <span class="packt_screen">Settings</span> | <span class="packt_screen">General</span> page.</p>
<p>Lastly, displaying the main navigation is done with the following code:</p>
<pre>&lt;?php wp_nav_menu(array('theme_location' =&gt; 'primary')); ?&gt;</pre>
<p>The <kbd>wp_nav_menu()</kbd> function is a built-in way of displaying the navigation menu. It takes care of the proper HTML structure of the menu and all of its elements. In other words, you don't have to worry about anything else other than using this one line of code.</p>
<p>Now, the part of your HTML that describes the header looks similar to the following listing. Additionally, as you can see, we're linking the logo to the home page, which is a standard practice:</p>
<pre>&lt;div id="page" class="hfeed site"&gt;
  &lt;a class="skip-link screen-reader-text" href="#content"&gt;
  &lt;?php _e( 'Skip to content', 'daily-cooking-custom' ); ?&gt;&lt;/a&gt;

  &lt;header id="masthead" class="site-header" role="banner"&gt;

    &lt;div class="site-branding"&gt;
      &lt;h1 class="site-title"&gt;&lt;a href="&lt;?php echo 
        esc_url(home_url('/')); ?&gt;" 
        rel="home"&gt;&lt;?php bloginfo('name');?&gt;&lt;/a&gt;&lt;/h1&gt;
      &lt;h2 class="site-description"&gt;&lt;?php bloginfo('description');?&gt;
      &lt;/h2&gt;
    &lt;/div&gt;&lt;! -  .site-branding  - &gt;

    &lt;nav id="site-navigation" class="main-navigation" 
      role="navigation"&gt;
      &lt;button class="menu-toggle" aria-controls="menu" 
        aria-expanded="false"&gt;
      &lt;?php _e( 'Primary Menu', 'daily-cooking-custom' ); ?&gt;&lt;/button&gt;
      &lt;?php wp_nav_menu(array('theme_location' =&gt; 'primary')); ?&gt;
    &lt;/nav&gt;&lt;! -  #site-navigation  - &gt;

  &lt;/header&gt;&lt;! -  #masthead  - &gt;

&lt;div id="content" class="site-content"&gt;</pre>
<p>Are you wondering why you should bother with some of this when you could have just typed your blog title, URL, and a description of the theme? One reason is that if you ever want to change your blog's title, you can simply do it in one quick step in <kbd>wp-admin</kbd> and it will change all over your site. The other reason is that if you want to sharing your theme with others, you'll need to give them the ability to easily change the name through their own <kbd>wp-admin</kbd> panels. Keep in mind that anything (anything at all) that will change from site to site based on the site's purpose and content should not be hardcoded into the theme, but should be dynamically generated.</p>
<p>Now, when I refresh the site, there's the actual blog title in the header, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/e9777522-e578-4a96-bcbb-20e96a335f51.png" style="width:17.25em;height:4.67em;" width="333" height="89"/></p>
<p>The two links visible in the header are live links from one of my custom menus. Just to tie things up, I'm going to add some code to my footer to display the "proudly powered by WordPress" message, and to include the <kbd>wp_footer()</kbd> function/hook that's often used by many plugins in one way or another, so every theme should feature it. The code for my footer section now looks like the following:</p>
<pre>  &lt;/div&gt;&lt;! -  #content  - &gt;

  &lt;footer id="colophon" class="site-footer" role="contentinfo"&gt;
    &lt;div class="site-info"&gt;
      &lt;a href="&lt;?php echo esc_url( __( 'http://wordpress.org/', 
       'daily-cooking-custom' ) ); ?&gt;"&gt;
      &lt;?php printf( __( 'Proudly powered by %s', 'daily-cooking-custom' ),   
        'WordPress' );?&gt;&lt;/a&gt;
      &lt;span class="sep"&gt; | &lt;/span&gt;
      &lt;?php printf( __( 'Theme: %1$s by %2$s.', 'daily-cooking-custom' ),
       'Daily Cooking Custom', '&lt;a href="http://karol.cc/" rel="designer"&gt;
       Karol K.&lt;/a&gt;, and 
       &lt;a href="http://underscores.me/" rel="designer"&gt;_S&lt;/a&gt;' ); ?&gt;
    &lt;/div&gt;&lt;! -  .site-info  - &gt;
  &lt;/footer&gt;&lt;! -  #colophon  - &gt;

&lt;/div&gt;&lt;! -  #page  - &gt;

&lt;?php wp_footer(); ?&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
<p>One thing you might have noticed inside the previous listing is the mysterious <kbd>__()</kbd> function. It's a native WordPress function that retrieves the translated string corresponding to the parameters given in the function. It's a feature meant for the internationalization of your site. More details about the function can be found at <a href="https://codex.wordpress.org/Function_Reference/_2">https://codex.wordpress.org/Function_Reference/_2</a>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The sidebar</h1>
                </header>
            
            <article>
                
<p>Now, we can move along to adding WordPress-generated content in the sidebar. Essentially, this part of our work is pretty simple. All we have to do is include some WordPress functions that will handle displaying various bits of dynamic content. In this case, it is the categories, tags, and archives.</p>
<p>Starting at the top, include the following piece of code in the sidebar area:</p>
<pre>&lt;div id="secondary" class="widget-area" role="complementary"&gt;
  &lt;?php if(is_active_sidebar('sidebar-1')) dynamic_sidebar('sidebar-1' ); ?&gt;
&lt;/div&gt;&lt;! -  #secondary  - &gt;</pre>
<p>This code takes care of displaying whatever widgets have been assigned to that particular widget area. Placing widgets in the sidebar of your HTML structure is the easiest, and probably the most usable way, of widget-enabling your theme. Also, WordPress will take care of actually displaying everything properly, so you don't have to worry about any weird-looking elements on your site. For instance, every menu is displayed as a <kbd>&lt;ul&gt;</kbd> list, and every menu element is inside <kbd>&lt;li&gt;</kbd>. This is as in tune with the standards as it can be.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Main column – the loop</h1>
                </header>
            
            <article>
                
<p>This is the most important section of our WordPress code. It's called the loop, and it's an essential part of your new theme. The loop's job is to display your posts in reverse chronological order, choosing only those posts that are appropriate. You need to put all of your other post tags inside the loop. The basic loop text, which has to surround your post information, is displayed using the following code:</p>
<pre>&lt;?php if (have_posts()) : ?&gt;
&lt;?php while (have_posts()) : the_post(); ?&gt;
  &lt;?php get_template_part('content', get_post_format()); ?&gt;
&lt;?php endwhile; else: ?&gt;
  &lt;?php get_template_part('content', 'none'); ?&gt;
&lt;?php endif; ?&gt;</pre>
<p>The <kbd>get_template_part()</kbd> function call that's right in the middle, fetches another file that contains the rest of the loop; but for now, let's just focus on the main section here.</p>
<p>There are two basic parts of the loop, as follows:</p>
<ul>
<li>Individual post information</li>
<li>What to do if there are no appropriate posts</li>
</ul>
<p>The first part is handled by a standard PHP <kbd>while</kbd> loop that goes through every post and, for each element, calls the appropriate <kbd>content-[TYPE].php</kbd> file. The second part is similar, as it calls the <kbd>content-none.php</kbd> file if there are no posts that can be displayed. The use of these various <kbd>content-[TYPE].php</kbd> files is currently the standard for handling the different types of content that WordPress displays. It's a lot more effective and clear than working with the individual <kbd>if</kbd> or <kbd>switch</kbd> clauses.</p>
<p>So, in order to get started with this, let's create a basic <kbd>content.php</kbd> file that will serve the role of a placeholder for the default type of content. In this file, let's place the following code, which handles the loop:</p>
<pre>&lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;

&lt;header class="entry-header"&gt;
  &lt;?php the_title(sprintf('&lt;h1 class="entry-title"&gt;
  &lt;a href="%s" rel="bookmark"&gt;', esc_url(get_permalink())), '&lt;/a&gt;&lt;/h1&gt;');
  ?&gt;

  &lt;?php if('post' == get_post_type()) : ?&gt;
  &lt;div class="entry-meta"&gt;
    &lt;?php daily_cooking_custom_posted_on(); ?&gt;
  &lt;/div&gt;
  &lt;?php endif; ?&gt;
&lt;/header&gt;

&lt;div class="entry-content"&gt;
  &lt;?php
  the_content(sprintf(__('Continue reading %s &lt;span class="meta-nav"&gt;&amp;rarr; 
  &lt;/span&gt;', 'daily-cooking-custom'), the_title('&lt;span class="screen-reader-
  text"&gt;"', '"&lt;/span&gt;', false)));

  wp_link_pages(array('before' =&gt; '&lt;div class="page-links"&gt;' . __('Pages:',  
  'daily-cooking-custom'), 'after'  =&gt; '&lt;/div&gt;'));
  ?&gt;
&lt;/div&gt;

&lt;footer class="entry-footer"&gt;
  &lt;?php daily_cooking_custom_entry_footer(); ?&gt;
&lt;/footer&gt;

&lt;/article&gt;&lt;! -  #post-##  - &gt;</pre>
<p>If you take a closer look, you'll notice that it's very similar to the static HTML version I shared earlier in this chapter. The only difference is that, instead of the dummy text, there are calls to specific WordPress functions and custom-made functions that we'll discuss shortly.</p>
<p>Let's take it from the top; the file starts with these two lines:</p>
<pre>&lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
  &lt;header class="entry-header"&gt;</pre>
<p>This is just some standard HTML and basic WordPress function calls to display proper element IDs and CSS classes. For instance, the <kbd>the_ID()</kbd> function displays the ID of the post. Next, we have the following line:</p>
<pre>&lt;?php the_title(sprintf('&lt;h1 class="entry-title"&gt;&lt;a href="%s" rel="bookmark"&gt;', esc_url(get_permalink())), '&lt;/a&gt;&lt;/h1&gt;'); ?&gt;</pre>
<p>This displays the link and the title of the current content element (which is usually a post), instead of using the dummy text. The <kbd>the_title()</kbd> function takes three parameters (which are all optional). Right here, we're using just two. The first one defines the text to place before the title (in this case, we're making a <kbd>sprintf()</kbd> function call), and the second one defines the text to place after the title. The following is a piece of code that displays various types of meta information about the current content element:</p>
<pre>&lt;?php if('post' == get_post_type()) : ?&gt;
&lt;div class="entry-meta"&gt;
  &lt;?php daily_cooking_custom_posted_on(); ?&gt;
&lt;/div&gt;
&lt;?php endif; ?&gt;</pre>
<p>If what we're dealing with is a standard post, a custom function is called to display the details. This way of handling things<span>—</span>through an additional function<span>—</span>makes everything much clearer in comparison to placing the code right there. Here's what the function looks like (we can place it in our main <kbd>functions.php</kbd> file, or inside a new file in a separate sub-directory called <kbd>inc</kbd>, indicating that it holds additional functions; in our case, this function definition can be found in <kbd>inc\template-tags.php</kbd>):</p>
<pre>function daily_cooking_custom_posted_on() {
  $time_string = '&lt;time class="entry-date published updated" 
  datetime="%1$s"&gt;%2$s&lt;/time&gt;';
  if ( get_the_time( 'U' ) !== get_the_modified_time( 'U' ) ) {
    $time_string = '&lt;time class="entry-date published" 
    datetime="%1$s"&gt;%2$s&lt;/time&gt;&lt;time class="updated" 
    datetime="%3$s"&gt;%4$s&lt;/time&gt;';
  }

  $time_string = sprintf( $time_string,
    esc_attr( get_the_date( 'c' ) ),
    esc_html( get_the_date() ),
    esc_attr( get_the_modified_date( 'c' ) ),
    esc_html( get_the_modified_date() )
  );

  $posted_on = sprintf(
    _x( 'Posted on %s', 'post date', 'daily-cooking-custom' ),
    '&lt;a href="' . esc_url( get_permalink() ) . '" rel="bookmark"&gt;'
    . $time_string . '&lt;/a&gt;'
  );

  $byline = sprintf(
    _x( 'by %s', 'post author', 'daily-cooking-custom' ),
    '&lt;span class="author vcard"&gt;&lt;a class="url fn n" href="' .
    esc_url( get_author_posts_url( get_the_author_meta( 'ID' ) )
    ) . '"&gt;' . esc_html( get_the_author() ) . '&lt;/a&gt;&lt;/span&gt;'
  );

  echo '&lt;span class="posted-on"&gt;' . $posted_on . '&lt;/span&gt;&lt;span
  class="byline"&gt; ' . $byline . '&lt;/span&gt;';
}</pre>
<p>As you can see, this is quite a long function, but the thing to remember is that it's just meant to display the date of when the post was published and the byline of the author. Also, there are language functions (<kbd>_e()</kbd> and <kbd>_x()</kbd>) used here to fetch translated data from the database. You can learn more about these functions at <a href="https://codex.wordpress.org/Function_Reference/_e">https://codex.wordpress.org/Function_Reference/_e</a> and <a href="https://codex.wordpress.org/Function_Reference/_x">https://codex.wordpress.org/Function_Reference/_x</a>.</p>
<p>Going back to our <kbd>content.php</kbd> file, we have the following:</p>
<pre>&lt;div class="entry-content"&gt;
  &lt;?php
  the_content(sprintf(
    __('Continue reading %s &lt;span class="meta-nav"&gt;&amp;rarr;&lt;/span&gt;', 
     'daily-cooking-custom'),
    the_title('&lt;span class="screen-reader-text"&gt;"', '"&lt;/span&gt;', false)
  ));

  wp_link_pages(array(
    'before' =&gt; '&lt;div class="page-links"&gt;' . __('Pages:', 'daily-
    cooking-custom'),
    'after'  =&gt; '&lt;/div&gt;',
  ));
  ?&gt;
&lt;/div&gt;</pre>
<p>The first part (<kbd>the_content()</kbd>) takes care of displaying the contents of the current post, along with a <kbd>Continue reading</kbd> link. This is actually the most important part of the whole file. Next, the second part (<kbd>wp_link_pages()</kbd>), is meant to display page links for paginated posts (WordPress allows you to divide your content into individual subpages; this can be useful when dealing with an overly long piece of text). Finally, we have the code for the footer section of the entry, as follows:</p>
<pre>&lt;footer class="entry-footer"&gt;
  &lt;?php daily_cooking_custom_entry_footer(); ?&gt;
&lt;/footer&gt;</pre>
<p>There's another call to a custom-made function there. Here's what the function looks like:</p>
<pre>function daily_cooking_custom_entry_footer() {
  // Hide category and tag text for pages.
  if ( 'post' == get_post_type() ) {
    $categories_list = get_the_category_list( __( ', ', 
     'daily-cooking-custom' ) );
    if ( $categories_list &amp;&amp; daily_cooking_custom_categorized_blog() ) {
      printf( '&lt;span class="cat-links"&gt;' . __( 'Posted in %1$s', 
       'daily-cooking-custom' ) . '&lt;/span&gt;', $categories_list );
    }

    $tags_list = get_the_tag_list( '', __( ', ', 'daily-cooking-custom' 
      ) );
    if ( $tags_list ) {
      printf( '&lt;span class="tags-links"&gt;' . __( 'Tagged %1$s', 
        'daily-cooking-custom' ) . '&lt;/span&gt;', $tags_list );
    }
  }

  if ( ! is_single() &amp;&amp; ! post_password_required() &amp;&amp; 
  (comments_open() || get_comments_number() ) ) {
    echo '&lt;span class="comments-link"&gt;';
    comments_popup_link(__('Leave a comment', 'daily-cooking-custom'),
     __('1 Comment', 'daily-cooking-custom'), __('% Comments', 
    'daily-cooking-custom'));
    echo '&lt;/span&gt;';
  }

  edit_post_link( __( 'Edit', 'daily-cooking-custom' ), 
  '&lt;span class="edit-link"&gt;', '&lt;/span&gt;' );
}</pre>
<p>All this code handles the post details, such as the categories, tags, and the comment links (which other visitors can click to submit their opinions about the post). One interesting thing I'd like to point out here is the call to the <kbd>comments_popup_link()</kbd> function, as follows:</p>
<pre>comments_popup_link(__('Leave a comment', 'daily-cooking-custom'), __('1 Comment', 'daily-cooking-custom'), __('% Comments', 'daily-cooking-custom'));</pre>
<p>Here, you can see that there are three arguments passed, separated by commas:</p>
<ul>
<li>The first one tells WordPress the text that it has to display when there are no comments.</li>
<li>The second one tells WordPress the text that it has to display when there is just one comment.</li>
<li>The third one tells WordPress the text that it has to display in case there's more than one comment. The percent symbol (<kbd>%</kbd>) gets replaced with the actual number of existing comments.</li>
</ul>
<p>This is it regarding a basic understanding of the loop. Of course, its structure allows you to do many more things and include many custom features. However, for now, we are good with what we have here. Once you save your <kbd>index.php</kbd> and reload your website, you will see your new theme in action.</p>
<div class="packt_infobox">This version of the <kbd>index.php</kbd> file is available in the code bundle for this chapter, inside a sub-directory called <kbd>phase 2</kbd>. Our theme files will go through a couple of phases before we have the final version.</div>
<p>Later in the chapter, I will show you how to create a custom page template, which will take advantage of the loop and use it for a slightly different purpose.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating template files within your theme</h1>
                </header>
            
            <article>
                
<p>You've now got a functional, basic template for your theme. It works great on the main blog page and successfully loads content for anything you can click on within your site. However, we want slightly different templates for other types of content on our site. For example, a single post page needs to have a comment form where visitors can post comments; the page doesn't need to show the date, category, or tags; and the category page should show the category name.</p>
<p>Before we can create other templates, we need to break up the main <kbd>index.php</kbd> file into parts so that these different templates can share the common elements. I've mentioned the importance of the header, sidebar, and footer <span>many times</span>. We're going to break them up now. First, let's take a quick look at how it works.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Understanding the WordPress theme structure</h1>
                </header>
            
            <article>
                
<p>Usually, WordPress themes are composed of a number of template files. This allows the different parts of the site (such as the frontend, blog archive, pages, single posts, and search results) to have different purposes. Breaking the <kbd>index.php</kbd> file into template files allows us to not only share some common parts of the design, but also to have different code in different parts. As I mentioned earlier, we'll soon be breaking up the four main pieces of the design (the header, sidebar, main column, and footer) so that WordPress can make good use of them. While the header and footer are probably shared by all pages, the content in the main column will be different. Also, you may want the sidebar on some pages, but not on others. We'll first create these template files, and then move on to the other, more optional template files.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Breaking it up</h1>
                </header>
            
            <article>
                
<p>We're going to break up the <kbd>index.php</kbd> file by removing some of the code into three new files, as follows:</p>
<ul>
<li><kbd>header.php</kbd></li>
<li><kbd>footer.php</kbd></li>
<li><kbd>sidebar.php</kbd></li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The header.php file</h1>
                </header>
            
            <article>
                
<p>First, we will create a header file. You can do so with the following steps:</p>
<ol>
<li>Cut out the entire top of your <kbd>index.php</kbd> file. This means cutting the <kbd>doctype</kbd> declaration, the <kbd>&lt;head&gt;</kbd> tag, any miscellaneous opening tags, and the <kbd>&lt;header&gt;</kbd> tag. In my case, I'm cutting out all the way from this initial line:</li>
</ol>
<pre>      &lt;!DOCTYPE html&gt;</pre>
<ol start="2">
<li>I'm cutting through to, and including, these lines:</li>
</ol>
<pre><span>      </span>&lt;/header&gt;&lt;! -  #masthead  - &gt;
<span>      </span>&lt;div id="content" class="site-content"&gt;</pre>
<ol start="3">
<li>Paste all these lines into a new file named <kbd>header.php</kbd>, which you created within your theme directory.</li>
<li>Now, at the very top of the <kbd>index.php</kbd> file (that is, where you just cut the header text from), type in the following line of WordPress PHP code:</li>
</ol>
<pre><span>      </span>&lt;?php get_header(); ?&gt;</pre>
<ol start="5">
<li>This is a WordPress function that includes the <kbd>header.php</kbd> file you just created.</li>
</ol>
<p>If you save everything and reload your website now, nothing should change. The important part here is to make sure that the call to the preceding PHP function sits right at the very top of your <kbd>index.php</kbd> file.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The footer.php file</h1>
                </header>
            
            <article>
                
<p>Next, we will create the footer file. You can do so in the following steps:</p>
<ol>
<li>Cut out everything at the very bottom of the <kbd>index.php</kbd> file from the following code:</li>
</ol>
<pre><span>      </span>&lt;/div&gt;&lt;! -  #content  - &gt;
<span>      </span>&lt;footer id="colophon" class="site-footer" role="contentinfo"&gt;</pre>
<ol start="2">
<li>Cut all the way through to the <kbd>&lt;/html&gt;</kbd> tag. Paste the text you just cut into a new <kbd>footer.php</kbd> file. Save it in your theme directory.</li>
<li>Now, at the very bottom of the <kbd>index.php</kbd> file (from where you just cut the footer text), type in the following line of WordPress PHP code:</li>
</ol>
<pre><span>      </span>&lt;?php get_footer(); ?&gt;</pre>
<ol start="4">
<li>This is a special WordPress function that includes the <kbd>footer.php</kbd> file you just created. Again, you should save everything and reload your website to make sure nothing changes.</li>
</ol>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The sidebar.php file</h1>
                </header>
            
            <article>
                
<p>There is just one more essential template file to create. For this one, carry out the following steps:</p>
<ol>
<li>Cut out the entire <kbd>div</kbd> element containing your sidebar. In my case, it's the following line:</li>
</ol>
<pre><span>      </span>&lt;div id="secondary" class="widget-area" role="complementary"&gt;
<span>      </span>  &lt;?php if(is_active_sidebar('sidebar-1')) dynamic_sidebar('sidebar-1' ); ?&gt;
<span>      </span>&lt;/div&gt;</pre>
<ol start="2">
<li>Paste this line into a new file in your theme directory and save it as <kbd>sidebar.php</kbd>.</li>
<li>Now, in <kbd>index.php</kbd><span>, add this function call in place of the lines you've just cut, as follows:</span></li>
</ol>
<pre><span>      </span>&lt;?php get_sidebar(); ?&gt;</pre>
<p>This will include the sidebar.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Your four template files</h1>
                </header>
            
            <article>
                
<p>You now have four template files in your theme directory, namely, <kbd>header.php</kbd>, <kbd>footer.php</kbd>, <kbd>sidebar.php</kbd>, and the now much shorter <kbd>index.php</kbd>. By the way, my <kbd>index.php</kbd> file now has only a handful of WordPress functions and the main loop. The following code shows the entire file:</p>
<pre>&lt;?php get_header(); ?&gt;

  &lt;div id="primary" class="content-area"&gt;
    &lt;main id="main" class="site-main" role="main"&gt;

    &lt;?php if (have_posts()) : ?&gt;

      &lt;?php /* Start the Loop */ ?&gt;
      &lt;?php while (have_posts()) : the_post(); ?&gt;

        &lt;?php
        get_template_part('content', get_post_format());
        ?&gt;

      &lt;?php endwhile; ?&gt;

      &lt;?php daily_cooking_custom_paging_nav(); ?&gt;

    &lt;?php else : ?&gt;

      &lt;?php get_template_part('content', 'none'); ?&gt;

    &lt;?php endif; ?&gt;

    &lt;/main&gt;&lt;! -  #main  - &gt;
  &lt;/div&gt;&lt;! -  #primary  - &gt;

&lt;?php get_sidebar(); ?&gt;
&lt;?php get_footer(); ?&gt;</pre>
<p>This whole cutting-and-pasting process to create these four files was just to set the scene for the real goal of making alternative template files.</p>
<div class="packt_infobox">This version of the <kbd>index.php</kbd> file, as well as <kbd>header.php</kbd>, <kbd>footer.php</kbd>, and <kbd>sidebar.php</kbd>, is available in the code bundle for this chapter, inside a sub-directory called <kbd>phase 3</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Archive template</h1>
                </header>
            
            <article>
                
<p>WordPress is now using the <kbd>index.php</kbd> template file to display every type of web page that's a part of your site. Let's make a new file<span>—</span>one that will be used when viewing the monthly archive, category archive, and tag archive.</p>
<div class="packt_infobox">To learn more about how WordPress utilizes different files to display content, feel free to read the guide at <a href="https://www.codeinwp.com/blog/wordpress-theme-heirarchy/">https://www.codeinwp.com/blog/wordpress-theme-heirarchy/</a>.</div>
<p>To create your archive template, make a copy of <kbd>index.php</kbd> and rename it <kbd>archive.php</kbd>. Now, navigate to see your monthly archive on the site by clicking on either of the months in the sidebar. At this point, the page you'll see should look exactly like the main listing<span>—</span>the one handled by <kbd>index.php</kbd>.</p>
<p>Let's make one change to the archive template. I'd like it to display a message that lets users know what type of archive page they are on. Currently, the archive looks the same as the main index listing, and this isn't the most optimized situation. To fix this, just add the following code the <kbd>&lt;?php if (have_posts()) : ?&gt;</kbd> line:</p>
<pre>&lt;header class="page-header"&gt;
  &lt;?php
  the_archive_title('&lt;h1 class="page-title"&gt;', '&lt;/h1&gt;');
  the_archive_description('&lt;div class="taxonomy-description"&gt;', '&lt;/div&gt;');
  ?&gt;
&lt;/header&gt;</pre>
<p>If I go to see my monthly archive now<span>—</span>or the category/tag archive<span>—</span>I'll get a new heading at the top of the page that lets me know where I am, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/24cb14a0-5569-4b26-baf6-b083686c917d.png" width="1335" height="370"/></p>
<div class="packt_infobox">This version of the <kbd>archive.php</kbd> file is available in the code bundle for this chapter, inside a sub-directory called <kbd>phase 4</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Single template</h1>
                </header>
            
            <article>
                
<p>The next template we need to create is the single post view. Right now, the single post looks like the site's front page (because it's using <kbd>index.php</kbd>)<span>—</span>except it populates the page with the contents of just one post.</p>
<p>To get started, make another copy of <kbd>index.php</kbd>, and name it <kbd>single.php</kbd>. This is the template that WordPress will look for when serving a single post. If it doesn't find <kbd>single.php</kbd>, it'll use <kbd>index.php</kbd>.</p>
<p>Without further delay, here's my <kbd>single.php</kbd> file. You should notice that the file features almost exactly the same elements as <kbd>index.php</kbd>. The only difference is that the <kbd>get_template_part()</kbd> function call fetches a different element. In this case, it's <kbd>single</kbd>, as demonstrated in the following code:</p>
<pre>&lt;?php get_header(); ?&gt;

  &lt;div id="primary" class="content-area"&gt;
    &lt;main id="main" class="site-main" role="main"&gt;

    &lt;?php while (have_posts()) : the_post(); ?&gt;

      &lt;?php get_template_part('content', 'single'); ?&gt;

      &lt;?php daily_cooking_custom_post_nav(); ?&gt;

      &lt;?php
      if (comments_open() || get_comments_number())
        comments_template();
      ?&gt;

    &lt;?php endwhile; // end of the loop. ?&gt;

    &lt;/main&gt;&lt;! -  #main  - &gt;
  &lt;/div&gt;&lt;! -  #primary  - &gt;

&lt;?php get_sidebar(); ?&gt;
&lt;?php get_footer(); ?&gt;</pre>
<p>The aforementioned <kbd>get_template_part('content', 'single')</kbd> call will fetch the <kbd>content-single.php</kbd> file. Here's what the file looks like:</p>
<pre>&lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
  &lt;header class="entry-header"&gt;
    &lt;?php the_title('&lt;h1 class="entry-title"&gt;', '&lt;/h1&gt;'); ?&gt;

    &lt;div class="entry-meta"&gt;
      &lt;?php daily_cooking_custom_posted_on(); ?&gt;
    &lt;/div&gt;
  &lt;/header&gt;

  &lt;div class="entry-content"&gt;
    &lt;?php the_content(); ?&gt;
    &lt;?php
      wp_link_pages( array(
        'before' =&gt; '&lt;div class="page-links"&gt;' . __( 'Pages:',
        'daily-cooking-custom' ),
        'after'  =&gt; '&lt;/div&gt;',
      ) );
    ?&gt;
  &lt;/div&gt;

  &lt;footer class="entry-footer"&gt;
    &lt;?php daily_cooking_custom_entry_footer(); ?&gt;
  &lt;/footer&gt;
&lt;/article&gt;&lt;! -  #post-##  - &gt;</pre>
<p>This file's structure is almost exactly the same as the one we discussed a couple of pages ago<span>—</span><kbd>content.php</kbd>. The following are three specific things that are worth pointing out:</p>
<ul>
<li>The presence of the <kbd>&lt;article&gt;</kbd> tag. The individual post's content is displayed inside this tag.</li>
<li>The call to the <kbd>the_content()</kbd> function. This time, we're displaying the whole content of the post, not just an excerpt.</li>
<li>The call to the <kbd>comments_template()</kbd> function in <kbd>single.php</kbd>. This displays the comment form and the individual comments that have been submitted for this post.</li>
</ul>
<div class="packt_infobox">These versions of the <kbd>single.php</kbd> file and the <kbd>content-single.php</kbd> file are available in the code bundle for this chapter, inside a sub-directory called <kbd>phase 4</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Page template</h1>
                </header>
            
            <article>
                
<p>The last template we're going to create is for the static page view. On my food blog site, this would be the sample page, for example. The easiest way to go about this is to start with the <kbd>single.php</kbd> file this time. So, just make a copy of that file and rename it <kbd>page.php</kbd>. Now, we'll be simplifying the file, so that only the essential information about a given page is displayed. In the end, my <kbd>page.php</kbd> file will look like the following:</p>
<pre>&lt;?php get_header(); ?&gt;

  &lt;div id="primary" class="content-area"&gt;
  &lt;main id="main" class="site-main" role="main"&gt;

    &lt;?php while (have_posts()) : the_post(); ?&gt;

      &lt;?php get_template_part('content', 'page'); ?&gt;

    &lt;?php endwhile; // end of the loop. ?&gt;

  &lt;/main&gt;&lt;! -  #main  - &gt;
  &lt;/div&gt;&lt;! -  #primary  - &gt;

&lt;?php get_sidebar(); ?&gt;
&lt;?php get_footer(); ?&gt;</pre>
<p>I made just a few modifications here. They are as follows:</p>
<ul>
<li>I changed the last parameter of the <kbd>get_template_part()</kbd> function to <kbd>page</kbd>, instead of <kbd>single</kbd>.</li>
<li>I erased the call to <kbd>daily_cooking_custom_post_nav()</kbd>, which handled the display of post navigation.</li>
<li>I erased the whole block of code that handled the comments. We don't need those on pages.</li>
</ul>
<p>Next, we need a custom <kbd>content-page.php</kbd> file. The easiest way to build this is to make a copy of the <kbd>content-single.php</kbd> file and tune it up a bit. Here's my final <kbd>content-page.php</kbd> file:</p>
<pre>&lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
  &lt;header class="entry-header"&gt;
    &lt;?php the_title('&lt;h1 class="entry-title"&gt;', '&lt;/h1&gt;'); ?&gt;
  &lt;/header&gt;

  &lt;div class="entry-content"&gt;
    &lt;?php the_content(); ?&gt;
    &lt;?php
      wp_link_pages(array(
        'before' =&gt; '&lt;div class="page-links"&gt;' . __( 'Pages:',
        'daily-cooking-custom' ),
        'after'  =&gt; '&lt;/div&gt;',
      ));
    ?&gt;
  &lt;/div&gt;

  &lt;footer class="entry-footer"&gt;
  &lt;/footer&gt;
&lt;/article&gt;&lt;! -  #post-##  - &gt;</pre>
<p>Here's what I did here in terms of simplifying the file:</p>
<ul>
<li>I got rid of the whole code displaying metadata.</li>
<li>I erased the entry footer, which was meant to display categories and tags. We don't use those with WordPress pages.</li>
</ul>
<p>Now, my sample page looks much cleaner, as can be seen in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1d99e600-35b0-42f8-bec7-a006f61ad875.png" width="1885" height="815"/></p>
<div class="packt_infobox">These versions of the <kbd>page.php</kbd> file and the <kbd>content-page.php</kbd> file are available in the code bundle for this chapter, inside a sub-directory called <kbd>phase 4</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Generated classes for body and post</h1>
                </header>
            
            <article>
                
<p>As you're modifying your theme to accommodate different types of pages, you should also know about the CSS classes that WordPress will put into your theme. If you look carefully at the code we've been using, you'll see these two functions:</p>
<ul>
<li><kbd>body_class()</kbd>: For example, in the <kbd>header.php</kbd> file, the exact line is <kbd>&lt;body &lt;?php body_class(); ?&gt;&gt;</kbd> </li>
<li><kbd>post_class()</kbd>: For example, in the <kbd>content-page.php</kbd> file, the exact line is <kbd>&lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;</kbd> .</li>
</ul>
<p>The <kbd>body_class()</kbd> function adds a whole bunch of classes to the body tag, depending on the page you're viewing. For example, the main page of my site has the following classes in the body:</p>
<pre>&lt;body class=" home blog custom-background"&gt;</pre>
<p>My <span class="packt_screen">Some Spanish Dishes</span> single post page's body tag looks like the following:</p>
<pre>&lt;body class=" single single-post postid-41 single-format-standard custom-background"&gt;</pre>
<p>If I wanted to style anything differently on any of my pages, I could do it largely via CSS, without having to create another template.</p>
<p>The <kbd>post_class()</kbd> function does something similar with the individual post's <kbd>div</kbd>, giving it different classes depending on the characteristics of the post itself. For example, my <span class="packt_screen">Some Spanish Dishes</span> post's tag has the following class:</p>
<pre>&lt;article id="post-41" class="post-41 post type-post status-publish
format-standard hentry category-uncategorized"&gt;</pre>
<p>Further more, my sample page post tag has the following class:</p>
<pre>&lt;article id="post-2" class="post-2 page type-page status-publish hentry"&gt;</pre>
<p>Using these classes in my style sheet, I could style each post differently depending on its category, tag, post type, and so on. Keep this in mind as you design your theme. This becomes extremely important when working with theme frameworks further down the road. Although modifications inside PHP files are allowed, most of the time, you can customize the design of your whole site just by working in the CSS and tweaking various classes (both the native ones in WordPress and the new ones that the framework uses). Situations where a whole new site working on a theme framework gets built purely in CSS files are not uncommon.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Other WordPress templates</h1>
                </header>
            
            <article>
                
<p>In addition to <kbd>archive.php</kbd><span><span>, </span></span><kbd>single.php</kbd>, and <kbd>page.php</kbd>, there are a number of other standard template files that WordPress looks for before using <kbd>index.php</kbd> for particular views. We're not going to create these files here, but you should feel free to experiment on your own WordPress installation. To learn about the complete file hierarchy for WordPress themes, feel free to visit <a href="https://www.codeinwp.com/blog/wordpress-theme-heirarchy/">https://www.codeinwp.com/blog/wordpress-theme-heirarchy/</a>. There's a great graph there that presents the hierarchy visually. It's very easy to follow and does a much better job at explaining this than I would do here with word alone. In addition, when you browse the official code bundle for this chapter, you'll see that many additional files have been created and are actually available inside the bundle. We cover them here, however, as it would probably be too much information at this point.</p>
<div class="packt_infobox"><span class="packt_screen">Learning more</span><br/>
You can also find a detailed flowchart of the template hierarchy at <a href="https://developer.wordpress.org/themes/basics/template-hierarchy/">https://developer.wordpress.org/themes/basics/template-hierarchy/</a>.</div>
<p>In this chapter, we've experimented with the uses of quite a number of WordPress template tags. In <a href="cb875420-c9d1-48bd-a9a9-b5fc2eb3a91d.xhtml" target="_blank">Chapter 13</a>, <em>Creating a Non-Blog Website Part Two – E-Commerce Websites and Custom Content Elements,</em> I list more of the most useful template tags.</p>
<p>Next, we'll explore making custom templates for pages.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating and using a custom page template</h1>
                </header>
            
            <article>
                
<p>WordPress allows you to create custom templates. These can only be used for pages (not for posts). A custom template allows you to display content differently and to easily use built-in WordPress functions within a template.</p>
<p>Just to give you a good example of what custom page templates are and how they can benefit your site (no matter what theme you're using), let's create a custom version of the archives template. This is also what we will use to create a custom archives page that should be much more useful to our readers than the standard one. The following screenshot shows what the <span class="packt_screen">ARCHIVES</span> page looks like on my blog right now:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/c257d843-3c06-4815-b1f7-4fbb4055e83c.png" style="width:13.25em;height:7.83em;" width="364" height="213"/></p>
<p>There are just a couple of small links in the sidebar that redirect visitors to a standard monthly archive. Of course, later on, when there are more posts on your site, there will be many more links shown (exactly one link for each month of your site's existence).</p>
<p>Now, as far as the idea of <em>archives</em> goes, I have to admit, somewhat reluctantly, that WordPress has never been good at this. One of the few problems with the platform as a web publishing solution is the fact that posts usually have very short life spans. Whenever you publish a post, it sits on the front page for a while, and then it vanishes in the archives, never to be seen again, irrespective of whether it's still relevant or not. In the end, it's really hard for a new visitor to find these old posts on your site.</p>
<p>One of the few chances you have of reviving those old posts is mastering the art of SEO, and driving some new traffic to your old posts through your SEO efforts alone (this the most popular solution). But luckily, it's not the only way to fix this issue. Again, custom page templates are an interesting remedy here.</p>
<p>In the preceding screenshot, you can see that the default version of the archives is just a sidebar widget with some links to individual months. The problem with such content organization is that it provides a rather bad user experience. Archives, in general, are not about listing everything in one place; they are about providing a hub where the visitor can go and find a specific piece of content. For example, think about how archives work in your local library. This is what you want to eventually have on your site as well. So, what we're going to do here is say <em>no</em> to the traditional archives template in WordPress and create a custom page template to handle archives manually. Then, we're going to link to this archive from one of the menus. Here's how to do it.</p>
<p>On our new archives page, we want to achieve the following things:</p>
<ul>
<li><strong>Display a piece of custom text</strong>: For instance, as a form of introduction or a notification message explaining what's in the archives.</li>
<li><strong>Display a categories archive</strong>: This is a list of all of the categories in use on the site.</li>
<li><strong>Display a tag cloud</strong>: This is a form of tag archive where all of the tags in use on the site are displayed one after the other (inline, not in a list format), and the font size increases for the tags that have been used more often than others.</li>
<li>Display a list of the 15 latest posts, or whatever other number you wish.</li>
<li><strong>Display a monthly archives block</strong>: The fact that it's displayed at the bottom is not accidental, as this block is not particularly useful for a typical visitor.</li>
</ul>
<p>To do this, we need to create a template. The following demonstrates the steps that we'll take:</p>
<ol>
<li>Create the template file. Make a copy of <kbd>page.php</kbd> and give it a new name. I like to prepend all of my custom template files with <kbd>tmpl_</kbd>, so that they are sorted separately from all of the WordPress template files that I will create. I'll name this file <kbd>tmpl_archives.php</kbd>. In order for WordPress to be able to identify this file as a template file, we need to add a specially styled comment to the top of the page (just as we did with <kbd>style.css</kbd>). The comment needs to be formatted as follows:</li>
</ol>
<pre>      &lt;?php
      /* Template Name: Blog Archives Custom */
      ?&gt;</pre>
<p style="padding-left: 60px">In the <kbd>wp-admin</kbd> panel, the template will be identified by this template name, so make sure the name signals to you what the template is used for.</p>
<ol start="2">
<li>Add WordPress functions. This is a crucial part of the process, but thankfully not a complicated one at this stage. Look over your new template file and find the occurrence of this line:</li>
</ol>
<pre>      &lt;?php get_template_part('content', 'page'); ?&gt;</pre>
<ol start="3">
<li>Now, erase it and put the following code in its place:</li>
</ol>
<pre>      &lt;?php get_template_part('content', 'tmpl_archives'); ?&gt;</pre>
<p style="padding-left: 60px">This is the result we're after; the middle part of your <kbd>tmpl_archives.php</kbd> file should now look like the following:</p>
<pre>      &lt;?php while (have_posts()) : the_post(); ?&gt;
      &lt;?php get_template_part( 'content', 'tmpl_archives' ); ?&gt;
      &lt;?php endwhile; // end of the loop. ?&gt;</pre>
<ol start="4">
<li>Next, create a completely new file called <kbd>content-tmpl_archives.php</kbd> and add the following code:</li>
</ol>
<pre>      &lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
        &lt;header class="entry-header"&gt;
          &lt;?php the_title('&lt;h1 class="entry-title"&gt;', '&lt;/h1&gt;'); ?&gt;
        &lt;/header&gt;

        &lt;div class="entry-content"&gt;
          &lt;?php the_content(); ?&gt;

          &lt;div style="float: left; width: 50%;"&gt;
            &lt;h2&gt;Categories&lt;/h2&gt;
            &lt;ul&gt;
            &lt;?php wp_list_categories('orderby=name&amp;title_li='); ?&gt;
            &lt;/ul&gt;
          &lt;/div&gt;
          &lt;div style="float: left; width: 50%;"&gt;
            &lt;h2&gt;Tags&lt;/h2&gt;
            &lt;?php wp_tag_cloud('smallest=8&amp;largest=20'); ?&gt;
          &lt;/div&gt;
          &lt;div style="clear: both;"&gt;&lt;/div&gt;&lt;! -  clears float  - &gt;

          &lt;?php
          $how_many_last_posts = 15;
          echo '&lt;h2&gt;Last '.$how_many_last_posts.' Posts&lt;/h2&gt;';
          $my_query = new WP_Query('post_type=post&amp;nopaging=1');
          if($my_query-&gt;have_posts()) {
            echo '&lt;ul&gt;';
            $counter = 1;
            while($my_query-&gt;have_posts() &amp;&amp; 
              $counter&lt;=$how_many_last_posts) 
            {
              $my_query-&gt;the_post();?&gt;
              &lt;li&gt;&lt;a href="&lt;?php the_permalink() ?&gt;"
                rel="bookmark" title="Permanent Link to &lt;?php
                the_title_attribute(); ?&gt;"&gt;&lt;?php the_title();
                ?&gt;&lt;/a&gt;&lt;/li&gt;
              &lt;?php
              $counter++;
            }
            echo '&lt;/ul&gt;';
            wp_reset_postdata();
          }
          ?&gt;

          &lt;h2&gt;By Month&lt;/h2&gt;
            &lt;p&gt;&lt;?php wp_get_archives('type=monthly&amp;
              format=custom&amp;after= |'); 
            ?&gt;&lt;/p&gt;
        &lt;/div&gt;

        &lt;footer class="entry-footer"&gt;
        &lt;/footer&gt;
      &lt;/article&gt;&lt;! -  #post-##  - &gt;</pre>
<p>The code includes some additional functionality for our new archives template. In fact, because we are creating a custom template, we can add any of the WordPress functions we discovered earlier in the chapter, as well as any other WordPress function in existence (see <a href="https://cdp.packtpub.com/wordpress_complete___7th_edition/wp-admin/post.php?post=32&amp;action=edit#post_36" target="_blank">Chapter 13</a>, <em>Creating a Non-Blog Website Part Two – E-Commerce Websites and Custom Content Elements</em>).</p>
<p>Here are some of the more interesting parts of the code, starting with the following:</p>
<pre>&lt;div style="float: left; width: 50%;"&gt;
  &lt;h2&gt;Categories&lt;/h2&gt;
  &lt;ul&gt;
  &lt;?php wp_list_categories('orderby=name'); ?&gt;
  &lt;/ul&gt;
&lt;/div&gt;</pre>
<p>It's about adding a complete list of categories that are present on the site. The <kbd>div</kbd> elements are responsible for displaying this block on the left-hand side and allowing the next block, tags, to be placed next to it (it's a more effective way of achieving such an effect than using HTML tables, because it's a more cross-device-friendly approach).</p>
<p>The next part of the code is the following:</p>
<pre>&lt;div style="float: left; width: 50%;"&gt;
  &lt;h2&gt;Tags&lt;/h2&gt;
  &lt;?php wp_tag_cloud('smallest=8&amp;largest=20'); ?&gt;
&lt;/div&gt;
&lt;div style="clear: both;"&gt;&lt;/div&gt;&lt;! -  clears float  - &gt;</pre>
<p>It has a very similar purpose, only this time we're displaying the aforementioned tag cloud. The last <kbd>div</kbd> element visible here is meant to clear the <kbd>float</kbd> parameter used in the previous <kbd>div</kbd> elements.</p>
<p>Next, we have the part responsible for displaying the latest posts, as follows:</p>
<pre>&lt;?php
$how_many_last_posts = 15;
echo '&lt;h2&gt;Last '.$how_many_last_posts.' Posts&lt;/h2&gt;'; 
$my_query = new WP_Query('post_type=post&amp;nopaging=1');
if($my_query-&gt;have_posts()) {
  echo '&lt;ul&gt;';
  $counter = 1;
  while($my_query-&gt;have_posts() &amp;&amp; $counter&lt;=$how_many_last_posts) {
    $my_query-&gt;the_post();
    ?&gt;
    &lt;li&gt;&lt;a href="&lt;?php the_permalink() ?&gt;" rel="bookmark"
      title="Permanent Link to &lt;?php the_title_attribute();
      ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;?php
    $counter++;
  }
  echo '&lt;/ul&gt;';
  wp_reset_postdata();
}
?&gt;</pre>
<p>Currently, the code displays the 15 latest posts, but this can be adjusted if you just change the value of the <kbd>$how_many_last_posts</kbd> variable.</p>
<p>Finally, there's the block that displays a traditional monthly archive, where every month is represented as a standard link, as follows:</p>
<pre>&lt;h2&gt;By Month&lt;/h2&gt;
&lt;p&gt;&lt;?php wp_get_archives('type=monthly&amp;format=custom&amp;after=
  |'); ?&gt;&lt;/p&gt;</pre>
<p>At this point, you can save the file and proceed to the next step, which is to apply the template to a page.</p>
<p>Leave your HTML editor and log into your <kbd>wp-admin</kbd>. You need to create the page in which you want to use this template. In my case, I'll name my new page <span class="packt_screen">Archives</span>, to make its purpose clear. While working on the page, switch to the <span class="packt_screen">Document</span> tab and scroll down to the <span class="packt_screen">Page Attributes</span> section. This is where you'll find the <span class="packt_screen">Template</span> setting, as demonstrated in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1630a45b-819b-4028-af15-df93effc6ee6.png" style="width:20.33em;height:34.33em;" width="362" height="613"/></p>
<p>Change it from <span class="packt_screen">Default template</span> to <span class="packt_screen">Blog Archives Custom</span> and save the draft or publish it right away. Now, in order to see the page somewhere, you have to add it to one of the menus. We already covered menus in <a href="74cf5381-e680-4dc0-8de9-7d95b3e08b69.xhtml" target="_blank">Chapter 4</a>, <em>Pages, Media, and Importing/Exporting Content,</em> so I'm sure you can get it done quickly. Once you have this handled, you can return to the frontend of your website and click on the <span class="packt_screen">Archives</span> page. However, because your site is not that content-heavy at this point, you won't get a staggering effect, but there'll still be a nice presentation of the most recent posts, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/71f33c13-eda0-4d27-8bb1-896c3ae9a42b.png" width="1865" height="866"/></p>
<p>There is no limit to the number of custom templates that you can make for your WordPress theme.</p>
<div class="packt_infobox">These versions of the <kbd>tmpl_archives.php</kbd> file and the <kbd>content-tmpl_archives.php</kbd> file are available in the code bundle for this chapter, inside a sub-directory called <kbd>phase 5</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Making your theme widget-friendly</h1>
                </header>
            
            <article>
                
<p>If you want to be able to use widgets in your theme, you will need to make your theme widget-friendly (also known as <em>widgetizing</em> your theme). Widgetizing is actually pretty easy, and to be honest with you, we already took care of that when constructing our sidebar. Let's now go back to this and explain how widgetizing works.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Going back to our sidebar</h1>
                </header>
            
            <article>
                
<p>Back in the old days, it was very common for a WordPress site to use statically placed content blocks in the sidebar. In other words, the only way to place dynamic content in the sidebar of our sites was to use handmade code that would fetch whatever data we wanted and then display it. This solution wasn't very usable for everyday users who might not be familiar with the PHP source code. A better solution needed to be found. Hence, widgets.</p>
<p>Widgets give us the ability to set the sidebars in a way so that they fetch the data that's been set in <span class="packt_screen">Appearance</span> | <span class="packt_screen">Widgets</span>. Therefore, the only thing the user has to do is go to <span class="packt_screen">Appearance</span> | <span class="packt_screen">Widgets</span> and pick whatever content they want to feature in the sidebar (or any other widget area for that matter; it could be in the footer as well).</p>
<p>Just to give you an example of old versus new, here's what a standard piece of code might look like that handles displaying blog archives the old way (this can be placed in <kbd>sidebar.php</kbd>):</p>
<pre>&lt;div id="secondary" class="widget-area" role="complementary"&gt;
  &lt;aside&gt;
    &lt;h1&gt;Archives&lt;/h1&gt;
    &lt;ul&gt;
      &lt;?php wp_get_archives(); ?&gt;
    &lt;/ul&gt;
  &lt;/aside&gt;
&lt;/div&gt;&lt;! -  #secondary  - &gt;</pre>
<p>However, this code is not customizable in any way, so a much better solution to display the archives is to use the code that we already have in our <kbd>sidebar.php</kbd>, which is as follows:</p>
<pre>&lt;div id="secondary" class="widget-area" role="complementary"&gt;
  &lt;?php if(is_active_sidebar('sidebar-1')) dynamic_sidebar( 
    'sidebar-1' ); ?&gt;
&lt;/div&gt;&lt;! -  #secondary  - &gt;</pre>
<p>Then, just assign a new <span class="packt_screen">Archives</span> widget to this sidebar in the <span class="packt_screen">Appearance</span> | <span class="packt_screen">Widgets</span> section of <kbd>wp-admin</kbd>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Working with the functions.php file</h1>
                </header>
            
            <article>
                
<p>Let's examine how all this actually works. As I said earlier, the <kbd>functions.php</kbd> file can contain many different elements, so now, it's about time to focus on how to enable dynamic sidebars, also known as widgets. In the <kbd>functions.php</kbd> file, we can place the following code:</p>
<pre>function daily_cooking_custom_widgets_init() {
  register_sidebar(array(
    'name'          =&gt; __('Sidebar', 'daily-cooking-custom'),
    'id'            =&gt; 'sidebar-1',
    'description'   =&gt; '',
    'before_widget' =&gt; '&lt;aside id="%1$s" class="widget %2$s"&gt;',
    'after_widget'  =&gt; '&lt;/aside&gt;',
    'before_title'  =&gt; '&lt;h1 class="widget-title"&gt;',
    'after_title'   =&gt; '&lt;/h1&gt;',
  ));
}
add_action('widgets_init', 'daily_cooking_custom_widgets_init');</pre>
<p>In this code, I'm using one new function to register a new widget area. As you can see, the widget area is simply called <kbd>Sidebar</kbd> (the <kbd>name</kbd> parameter).</p>
<p>Now, the final <kbd>add_action('widgets_init', 'daily_cooking_custom_widgets_init')</kbd> <br/>
function call is what actually registers the widget areas (it's the most important line of code here; it lets WordPress know when to enable the widget areas).</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Adding some widgets</h1>
                </header>
            
            <article>
                
<p>At this point, your theme is ready for widgets! You can now go to <kbd>wp-admin</kbd>, navigate to <span class="packt_screen">Appearance</span> | <span class="packt_screen">Widgets</span>, and add widgets. For example, as you can see in the following screenshot, I've added four widgets to one of the widget areas:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/6d5ada78-3cf6-41ae-b5c4-5f6578cb4a18.png" style="width:15.75em;height:16.58em;" width="384" height="405"/></p>
<p>Be sure to click on <span class="packt_screen">Save</span>, and then return to your website and reload the page. The default items you placed in the sidebar will have been replaced with widgets, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a8d45347-2c65-42cd-bde3-19c0f68445bc.png" style="width:13.08em;height:24.33em;" width="398" height="738"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Additional widgetizing options</h1>
                </header>
            
            <article>
                
<p>What we've just covered is the simplest way to widgetize a theme. There are actually a lot of other possibilities that you could utilize when adding the code to your <kbd>sidebar.php</kbd> and <kbd>functions.php</kbd> files. For example, there are options that allow you to do the following:</p>
<ul>
<li>Widgetize more than one sidebar, giving each a name</li>
<li>Widgetize a part of your sidebar, but leave in some default items</li>
<li>Widgetize the footer</li>
<li>Customize the search form widget, and much more</li>
</ul>
<div class="packt_infobox"><span class="packt_screen">Learning more</span><br/>
To learn about the variety of options available and how to take advantage of them, take a look at the following resource in the Codex: <a href="https://codex.wordpress.org/Widgetizing_Themes">https://codex.wordpress.org/Widgetizing_Themes</a>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Enabling a menu in your theme</h1>
                </header>
            
            <article>
                
<p>The good news I have for you right now is that menus are already enabled in the structure of the theme we're creating here. Because we used the <kbd>wp_nav_menu()</kbd> function in the header of the site (in the <kbd>header.php</kbd> file), if the user creates a menu in <span class="packt_screen">Appearance</span> | <span class="packt_screen">Menus</span>, and then assigns it to the area indicated as <span class="packt_screen">Primary Menu</span>, it will show up on the site, as demonstrated in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/b923da6f-c552-473c-9023-affdcd54be58.png" style="width:31.42em;height:6.83em;" width="809" height="177"/></p>
<p>If you want to have more than one navigation menu in your theme, you can register multiple navigation menu locations, let the user create multiple menus, and choose which menu goes in which location. To learn more about this, check out the Codex at <a href="https://codex.wordpress.org/Navigation_Menus">https://codex.wordpress.org/Navigation_Menus</a>.</p>
<div class="packt_infobox"><span class="packt_screen">Learning more</span><br/>
The <kbd>wp_nav_menu()</kbd> function is quite powerful, and can take a number of parameters that will let you control the classes and IDs, the name of the menu, and more. Take a look here: <a href="https://developer.wordpress.org/reference/functions/wp_nav_menu/">https://developer.wordpress.org/reference/functions/wp_nav_menu/</a>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Making your theme editable in the WordPress Customizer</h1>
                </header>
            
            <article>
                
<p>WordPress Customizer is a relatively recent addition to the WordPress ecosystem. In short, it's a framework meant for live-previewing any changes that the user makes to their website. The Customizer's interface allows for the modification of various aspects of a theme's and website's appearance, starting from the name of the site, the tagline, all the way to the colors used, layouts, widgets, menus, and more. We talked about the Customizer from the user's point of view back in <a href="7ecd502d-b30d-40d9-8b58-623323b644e5.xhtml" target="_blank">Chapter 8</a>, <em>Customizing Your Website Appearance/Design</em>.</p>
<p>Now, from a developer's perspective, when you're building your WordPress theme, there are a couple of things that you should do in order to make it compatible with the Customizer. Luckily, the starter theme that we're using in this chapter as the foundation of our theme, the <span class="packt_screen">_S</span> theme, already comes with some basic Customizer integrations. Let's go over them one by one, and at the same time, see how we can expand our theme's functionality further.</p>
<p>First, let's look at the following line of code. It should be placed at the end of your <kbd>functions.php</kbd> file:</p>
<pre>require get_template_directory() . '/inc/customizer.php';</pre>
<p>This definition simply includes an additional file that takes care of the Customizer integration itself. Even though we could do everything right in the <kbd>functions.php</kbd> file, having the Customizer handled in a separate file makes for a theme structure that's easier to grasp.</p>
<p>That new <kbd>customizer.php</kbd> file is where we're going to add all of our new code. The core of the Customizer integration is done via the <kbd>customize_register</kbd> hook. It allows us to define new Customizer panels, sections (the main elements of navigation within the Customizer), settings (the data that our theme can accept), and controls (the visual UI elements that allow us to tweak our settings).</p>
<p>In order to register all of our new Customizer elements, we can use the following function:</p>
<pre>function daily_cooking_custom_customize_register( $wp_customize )
 { /* */ }
add_action( 'customize_register', 'daily_cooking_custom_customize_register' );</pre>
<p>Within this function is where creating new sections, settings, and controls is done. However, as you'll notice, we already have this function in the <kbd>customizer.php</kbd> file created. This is, again, a result of building our theme on top of the <span class="packt_screen">_S</span> starter theme. We've opted for this approach since it allows us to get started with theme development a lot quicker than building things from scratch.</p>
<p>Our current <kbd>daily_cooking_custom_customize_register()</kbd> function already features the following lines:</p>
<pre>$wp_customize-&gt;get_setting( 'blogname' )-&gt;transport = 'postMessage';
$wp_customize-&gt;get_setting( 'blogdescription' )-&gt;transport = 'postMessage';</pre>
<p>This code capitalizes on some Customizer abilities that are available for WordPress themes by default. Namely, those two enable us to modify the title and blog description.</p>
<p>Now it's time to add something new to the Customizer. Firstly, adding a new section is very simple. Let's start by including the following function call inside our main <kbd>daily_cooking_custom_customize_register()</kbd> function:</p>
<pre>$wp_customize-&gt;add_section();</pre>
<p>The function can take two arguments—the first one is the identifier for your new section, and the other is an array of additional options. Here's what we're going to do:</p>
<pre>$wp_customize-&gt;add_section( 'menu_bar_colors' , array(
  'title' =&gt; 'Menu Bar Colors', 
  'priority' =&gt; 30) );</pre>
<p>This creates a new section titled <kbd>Menu Bar Colors</kbd> and identified by <kbd>menu_bar_colors</kbd>. Now, let's add a new setting. Settings provide a way to communicate with WordPress and let it know that we're using a value that the user can modify. New settings can be added via the <kbd>$wp_customize-&gt;add_setting()</kbd> function call. We can handle this as follows (as you can see, I'm adding not one, but two new <em>settings</em>):</p>
<pre>$wp_customize-&gt;add_setting( 'menu_bar_color1' , array(
  'default' =&gt; '#69CACA') );
$wp_customize-&gt;add_setting( 'menu_bar_color2' , array(
  'default' =&gt; '#279090') );</pre>
<p>Once the settings are in place, the last elements of the puzzle are some new controls. Controls tie the two together; they let WordPress know which sections work with which settings. This is done via the <kbd>$wp_customize-&gt;add_control()</kbd> function call, as follows:</p>
<pre>$wp_customize-&gt;add_control( new WP_Customize_Color_Control( $wp_customize, 'menu_bar_color1', array(
  'label' =&gt; 'Menu Bar Color 1', 
  'section' =&gt; 'menu_bar_colors', 
  'settings' =&gt; 'menu_bar_color1') ) );
$wp_customize-&gt;add_control( new WP_Customize_Color_Control( $wp_customize, 'menu_bar_color2', array(
  'label' =&gt; 'Menu Bar Color 2', 
  'section' =&gt; 'menu_bar_colors', 
  'settings' =&gt; 'menu_bar_color2') ) );</pre>
<p>As you can see, each of our settings gets its own <em>control</em>. At this stage, when you save the file and go to the Customizer from the WordPress dashboard (<span class="packt_screen">Appearance</span> | <span class="packt_screen">Customize</span>), you'll see the new section in the sidebar. Inside it, you'll also see that the elements are all operational. Although, they don't have much impact on the appearance of the theme yet. We'll handle that next. Take a look at the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/08670f13-dc7a-4f9c-969d-84d4f3332e5a.png" style="width:24.67em;height:28.25em;" width="610" height="700"/></p>
<p>The first thing we need to do now is alter the CSS of the theme based on what the user has set in the Customizer. To make that happen, let's add the following code at the end of the <kbd>customizer.php</kbd> file:</p>
<pre>function daily_cooking_customizer_menu_css()
{
  ?&gt;
  &lt;style type="text/css"&gt;
  .site-header .site-branding { background: &lt;?php echo  
    get_theme_mod('menu_bar_color1', '#69CACA'); ?&gt;; }
  .main-navigation ul li { border-bottom: 1px solid &lt;?php echo 
    get_theme_mod('menu_bar_color1', '#69CACA'); ?&gt;; }
  .site-header { background: &lt;?php echo 
    get_theme_mod('menu_bar_color2', 
    '#279090'); ?&gt;; }
  &lt;/style&gt;
  &lt;?php
}
add_action( 'wp_head', 'daily_cooking_customizer_menu_css');</pre>
<p>This new function hooks up to <kbd>wp_head</kbd> and alters the CSS of the website. The most important instructions in it are those three inline PHP echo blocks. Here's one of them:</p>
<pre>echo get_theme_mod('menu_bar_color1', '#69CACA');</pre>
<p>The <kbd>get_theme_mod()</kbd> function allows you to grab the current theme's settings and indicate the name of the specific setting that you need in the first parameter (the second one is the default value). When you save your file now, the new color selection options should be fully enabled. Refer to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/38eec357-eccc-489d-8b97-b8c45e15ac00.png" style="width:28.00em;height:31.92em;" width="602" height="689"/></p>
<p>We have only scratched the surface here in terms of what's possible in the Customizer, but it's still given you a good overview, and has also proven that the Customizer is actually a very developer-friendly environment to work in. Always try putting as many of your theme's settings as possible in the Customizer module; the end user will thank you for it!</p>
<div class="packt_infobox">If you want to learn more about how to work with the Customizer and uncover some of its other features (such as working with JS files for dynamic live previews, for example), then don't hesitate to visit either of these resources:<br/>
<a href="https://codex.wordpress.org/Theme_Customization_API">https://codex.wordpress.org/Theme_Customization_API</a> and <a href="https://developer.wordpress.org/themes/customize-api/">https://developer.wordpress.org/themes/customize-api/</a>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating a child theme</h1>
                </header>
            
            <article>
                
<p>If you've found an existing theme or theme framework that you like, and you just want to adjust it a bit to fit your requirements perfectly, you can create a child theme on top of it. A child theme uses a parent theme as a starting point and, without changing the theme itself, alters just the bits you <em>want to</em> alter.</p>
<p>As a matter of fact, using child themes is the recommended way of making modifications to any theme. The rule of thumb is simple<span>—</span>if you want to change anything at all about a stock theme (either inside the source code, graphics, or template files), do it through a new child theme.</p>
<p>In plain English, a child theme inherits the functionality and features of the parent theme. The biggest value of creating child themes is that you can introduce any bells and whistles you wish without altering the structure of the parent theme. I know that this sounds like some additional work, because if you just want to change a couple of lines of code, then it's always going to be quicker to do it directly within the theme. However, taking the longer <em>child theme</em> route has its benefits, such as the following:</p>
<ul>
<li>The main benefit is that if you were to modify the original theme directly, all your modifications would vanish the minute you updated the theme. However, if you're using child themes, you can take full advantage of any updates that the original theme's authors release. Let me say this again: preserving your modifications after performing a theme update is impossible unless you're using a child theme.</li>
<li>You have a very clear view of the modifications that you've introduced into your theme. Basically, every new thing that you implement through a child theme has to be placed in a new file, so even when you come back to review your child theme after a while, you can still easily identify every piece of your work.</li>
<li>The final benefit<span>—</span>actually, there's probably a lot more of them<span>—</span>is that it's very easy to revert any modification you've introduced through a child theme. In short, if something is causing any serious problems and you have to fix your site quickly, then you can simply delete the files responsible. If you were modifying your original theme directly, going through every file individually would surely take more time and would make any sort of quick recovery very difficult to achieve.</li>
</ul>
<p>Let's take a quick look at how to make a child theme.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating the new theme directory</h1>
                </header>
            
            <article>
                
<p>Just to make things easier to understand here, we'll take the theme that we've been creating in this chapter and build a child theme for it. The starting point is really simple. Create a new directory in <kbd>wp-content/themes/</kbd> and name it <kbd>daily-cooking-child</kbd>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating the style sheet</h1>
                </header>
            
            <article>
                
<p>The only file you need to start with in this directory is the style sheet (<kbd>style.css</kbd>). The style sheet needs the usual header, plus a new line, as follows:</p>
<pre>/*
Theme Name: Daily Cooking Child Theme
Description: Child theme for the Daily Cooking Custom theme.
Theme URI: http://nio.tips/
Author: Karol K
Author URI: http://karol.cc/
Template: daily-cooking-custom
*/</pre>
<p>The key line in this preceding code is <kbd>Template: daily-cooking-custom</kbd>. This instructs WordPress that your new theme is a child theme of <kbd>daily-cooking-custom</kbd>. Just to emphasize, that one line is really crucial. Then, to make your child theme start out with the CSS from the parent theme, add the following code after the comment:</p>
<pre>@import url("../daily-cooking-custom/style.css");</pre>
<p>If you don't use the preceding line, your child theme will begin its existence on a blank style sheet. In most cases, this is not a desirable scenario.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using your child theme</h1>
                </header>
            
            <article>
                
<p>That's it! Your new theme now shows up on the <span class="packt_screen">Appearance</span> page, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/efb7276e-ba70-4e9e-bf9e-f9fe53faf1e5.png" style="width:45.92em;height:18.25em;" width="1281" height="508"/></p>
<p>Granted, the theme is not really useful at this point, but it does exist and you can use it as the base for further modifications. By default, it will use all of the main theme's styles, template files, functions, and everything else. If you activate it, it will present your site as if you were using your main theme.</p>
<p>If you want to change anything, do so in your child theme's directory. You will override the main theme's original template file if you create a new template file (for example, <kbd>single.php</kbd>, <kbd>index.php</kbd>, and <kbd>archive.php</kbd>). The <kbd>functions.php</kbd> file works a little differently, however. If you create a new <kbd>functions.php</kbd> file, it will be executed in addition to the main theme's original <kbd>functions.php</kbd> file. In fact, your new file will be loaded first, right before the original one. If you want to override a specific function in the original <kbd>functions.php</kbd> file, just create a function with the same name. You can also create completely new functions that are not present in the parent theme.</p>
<p>Like I said, every other template file you create inside the child theme (such as, <kbd>page.php</kbd> and <kbd>single.php</kbd>) will override its namesake, so it's the perfect method to include a new, slightly different design or some new features. Apart from replacing the existing template files, you can add new ones that are not present in the parent (including custom page templates).</p>
<p>In the end, the whole topic of child themes is quite an easy one to grasp once you spend a little time trying out different things, and checking how your site reacts to the elements you include in the child theme.</p>
<div class="packt_infobox"><span class="packt_screen">Learning more</span><br/>
The WordPress Codex has a page devoted to learning about child themes, at <a href="https://codex.wordpress.org/Child_Themes">https://codex.wordpress.org/Child_Themes</a>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Sharing your theme</h1>
                </header>
            
            <article>
                
<p>If you want to turn your template into a package that other people can use, you just have to take the following steps:</p>
<ol>
<li>Make sure you have the rights to redistribute images, icons, photos, and so on, that you've included in your theme.</li>
<li>Remove all unnecessary files from your theme's directory. Be sure you don't have backup versions or old copies of any of your files. If you do delete any file, be sure to test your theme to ensure you didn't accidentally delete something important.</li>
<li>Make sure the comment at the top of the <kbd>style.css</kbd> file is complete and accurate.</li>
<li>Create a <kbd>Readme.txt</kbd> file. This is a good place to let future users know which version of WordPress your theme is compatible with, and whether it has any special features or requirements.</li>
<li>Zip the directory and post your theme's ZIP file on your own website for people to download, or submit it directly to the WordPress <span class="packt_screen">Theme Directory</span> at <a href="https://wordpress.org/themes/">https://wordpress.org/themes/</a>. Keep in mind, though, that the review process there tends to take a while. So be ready for a 3-6 month wait before you see your theme online.</li>
</ol>
<p>Even though the preceding looks like a standard step-by-step process, it's actually nothing like it. To be honest, your theme has to be a really high quality one if it's to be allowed into the directory. Every theme undergoes a human review, which often results in themes not passing. In that case, you just have to make the requested changes, resubmit your work, and keep trying until you get in.</p>
<p>Then, there's also the issue of licensing. By default, WordPress is available under the <strong>GNU General Public License</strong> (<strong>GPL</strong>). In plain English, this means that WordPress (the platform) is free, and every derivative work that is built on top of it has to be filed under GPL too<span>—</span>this includes themes. In short, every piece of PHP code you find inside WordPress, various themes, or plugins is GPL (that includes premium themes and plugins). When it comes to artwork and CSS, GPL might not apply. If you want to learn more about the GPL licensing, it's best if you go straight to the official documentation at <a href="https://wordpress.org/news/2009/07/themes-are-gpl-too/">https://wordpress.org/news/2009/07/themes-are-gpl-too/</a>.</p>
<p>Now, apart from the official directory, you can share your theme through other channels. First of all, you have to decide whether you want your theme to be available for free or not. In the case of the former, you can reach out to some popular blogs about WordPress and WordPress design, and simply let them know that you have a theme that you'd like to share. Most of the time (if the theme looks attractive), they will have no problem notifying their community that there's a cool new free theme.</p>
<p>If you want to make your theme a premium one, you can go to <span class="packt_screen">ThemeForest</span> (<a href="https://themeforest.net/">https://themeforest.net/</a>) and try submitting it there. The only challenge is that your theme must really be a high quality one.</p>
<p>I'm not forcing you to share your theme with the community right away, but once you build some expertise and build your themes to be really cool and useful, you really should reach out to people and share your work. Finally, if you're interested in making an impact  in the community, consider launching a website dedicated to it. This website would be a place where you could publish a demo version, deliver some documentation, and provide support forums and other things to deliver a great user experience.</p>
<div class="packt_infobox">The final versions of all of the theme files (including the child theme) are available in the code bundle for this chapter, inside a sub-directory called <kbd>final</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>You have now crossed to the other side of the WordPress themes world<span>—</span>you have learned how to make your own theme. With just basic HTML and CSS code, you can create a design and turn it into a fully functional WordPress theme.</p>
<p>In this chapter, we looked at how to turn your HTML build into a basic theme, creating WordPress templates to influence the display of a variety of views on your site, creating custom templates to be applied to pages within your site, making your new theme widget-ready, creating a child theme, making a theme compatible with the WordPress Customizer, and share your theme with everyone in the WordPress community.</p>
<p>In the next chapter, we'll discuss social media integration, podcasting, and HTTPS (Hypertext Transfer Protocol Secure). This information will allow you to expand your blogging habits, and make your work more diverse and more noticeable on the web.</p>


            </article>

            
        </section>
    </div>



  </body></html>
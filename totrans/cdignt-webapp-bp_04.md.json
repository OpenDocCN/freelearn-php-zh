["```php\napplication/\n├── controllers/\n│   ├── create.php\n│   ├── go.php\n├── models/\n│   ├── image_model.php\n├── views/create/\n│   ├── create.php\n│   ├── result.php\n├── views/nav/\n│   ├── top_nav.php\n├── language/english/\n│   ├── en_admin_lang.php\n```", "```php\nCREATE DATABASE `imagesdb`;\nUSE `imagesdb`;\n\nDROP TABLE IF EXISTS `images`;\nCREATE TABLE `images` (\n  `img_id` int(11) NOT NULL AUTO_INCREMENT,\n  `img_url_code` varchar(10) NOT NULL,\n  `img_url_created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `img_image_name` varchar(255) NOT NULL,\n  `img_dir_name` varchar(8) NOT NULL,\n  PRIMARY KEY (`img_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;\n```", "```php\n$db['default']['hostname'] = 'localhost';\n$db['default']['username'] = 'your username';\n$db['default']['password'] = 'your password';\n$db['default']['database'] = 'imagesdb';\n```", "```php\n    $route['default_controller'] = \"welcome\";\n    $route['404_override'] = '';\n    ```", "```php\n    $route['default_controller'] = \"welcome\";\n    ```", "```php\n    $route['default_controller'] = \"create\";\n    $route['404_override'] = '';\n    ```", "```php\n    $route['create'] = \"create/index\";\n    $route['(:any)'] = \"go/index\";\n    $route['create/do_upload'] = \"create/do_upload\";\n    ```", "```php\n<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Image_model extends CI_Model {\n  function __construct() {\n    parent::__construct();\n  }\n\n  function save_image($data) {\n    do {\n      $img_url_code = random_string('alnum', 8); \n\n      $this->db->where('img_url_code = ', $img_url_code);\n      $this->db->from('images');\n      $num = $this->db->count_all_results();\n    } while ($num >= 1);\n\n    $query = \"INSERT INTO `images` (`img_url_code`, `img_image_name`, `img_dir_name`) VALUES (?,?,?) \";\n    $result = $this->db->query($query, array($img_url_code, $data['image_name'], $data['img_dir_name']));\n\n    if ($result) {\n      return $img_url_code;\n    } else {\n      return flase;\n    }\n  }\n\nfunction fetch_image($img_url_code) {\n    $query = \"SELECT * FROM `images` WHERE `img_url_code` = ? \";\n    $result = $this->db->query($query, array($img_url_code));\n\n    if ($result) {\n      return $result;\n    } else {\n      return false;\n    }\n  }\n}\n```", "```php\n$img_url_code = random_string('alnum', 8); \n```", "```php\ndo {\n  $img_url_code = random_string('alnum', 8); \n\n  $this->db->where('img_url_code = ', $img_url_code);\n  $this->db->from('images');\n  $num = $this->db->count_all_results();\n} while ($num >= 1);\n```", "```php\n$query = \"INSERT INTO `images` (`img_url_code`, `img_image_name`, `img_dir_name`) VALUES (?,?,?) \";\n$result = $this->db->query($query, array($img_url_code, $data['image_name'], $data['img_dir_name']));\n```", "```php\nif ($result) {\n  return $img_url_code;\n} else {\n  return false;\n}\n```", "```php\n    <div class=\"page-header\">\n      <h1><?php echo $this->lang->line('system_system_name'); ?></h1>\n    </div>\n\n    <p><?php echo $this->lang->line('encode_instruction_1'); ?></p>\n\n      <?php echo validation_errors(); ?>\n\n    <?php if (isset($success) && $success == true) : ?>\n      <div class=\"alert alert-success\">\n        <strong><?php echo $this->lang->line('common_form_elements_success_notifty'); ?></strong><?php echo $this->lang->line('encode_encode_now_success'); ?> \n      </div>\n    <?php endif ; ?>\n\n    <?php if (isset($fail) && $fail == true) : ?>\n      <div class=\"alert alert-danger\">\n        <strong><?php echo $this->lang->line('common_form_elements_error_notifty'); ?> </strong><?php echo $this->lang->line('encode_encode_now_error'); ?>\n        <?php echo $fail ; ?> \n      </div>\n    <?php endif ; ?>\n\n    <?php echo form_open_multipart('create/do_upload');?>\n      <input type=\"file\" name=\"userfile\" size=\"20\" />\n      <br />\n      <input type=\"submit\" value=\"upload\" />\n    <?php echo form_close() ; ?>\n    <br />\n    <?php if (isset($result) && $result == true) : ?>\n      <div class=\"alert alert-info\">\n        <strong><?php echo $this->lang->line('encode_upload_url'); ?> </strong> \n        <?php echo anchor($result, $result) ; ?>\n      </div>\n    <?php endif ; ?>\n    ```", "```php\n    <div class=\"page-header\">\n      <h1><?php echo $this->lang->line('system_system_name'); ?></h1>\n    </div>\n\n    <?php if (isset($result) && $result == true) : ?>\n        <strong><?php echo $this->lang->line('encode_encoded_url'); ?> </strong> \n        <?php echo anchor($result, $result) ; ?>\n        <br />\n        <img src=\"img/' . $file_name ;?>\" />\n    <?php endif ; ?>\n    ```", "```php\n    <!-- Fixed navbar -->\n    <div class=\"navbar navbar-inverse navbar-fixed-top\" role=\"navigation\">\n      <div class=\"container\">\n        <div class=\"navbar-header\">\n          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n            <span class=\"sr-only\">Toggle navigation</span>\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n          </button>\n          <a class=\"navbar-brand\" href=\"#\"><?php echo $this->lang->line('system_system_name'); ?></a>\n        </div>\n        <div class=\"navbar-collapse collapse\">\n          <ul class=\"nav navbar-nav\">\n            <li class=\"active\"><?php echo anchor('create', 'Create') ; ?></li>\n          </ul>\n        </div><!--/.nav-collapse -->\n      </div>\n    </div>\n\n    <div class=\"container theme-showcase\" role=\"main\">\n    ```", "```php\n<?php if (!defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Create extends MY_Controller {\n  function __construct() {\n    parent::__construct();\n      $this->load->helper(array('string'));\n      $this->load->library('form_validation');\n      $this->load->library('image_lib');\n      $this->load->model('Image_model');\n      $this->form_validation->set_error_delimiters('<div class=\"alert alert-danger\">', '</div>');\n    }\n\n  public function index() {\n    $page_data = array('fail' => false,\n                       'success' => false); \n    $this->load->view('common/header');\n    $this->load->view('nav/top_nav');\n    $this->load->view('create/create', $page_data);\n    $this->load->view('common/footer');\n  }\n\n  public function do_upload() {\n    $upload_dir = '/filesystem/path/to/upload/folder/';\n    do {\n      // Make code\n      $code = random_string('alnum', 8); \n\n      // Scan upload dir for subdir with same name\n      // name as the code\n      $dirs = scandir($upload_dir);\n\n      // Look to see if there is already a \n      // directory with the name which we \n      // store in $code \n      if (in_array($code, $dirs)) { // Yes there is\n        $img_dir_name = false; // Set to false to begin again\n      } else { // No there isn't\n        $img_dir_name = $code; // This is a new name\n      }\n\n    } while ($img_dir_name == false);\n\n    if (!mkdir($upload_dir.$img_dir_name)) {\n      $page_data = array('fail' => $this->lang->line('encode_upload_mkdir_error'),\n                         'success' => false);\n      $this->load->view('common/header');\n      $this->load->view('nav/top_nav');\n      $this->load->view('create/create', $page_data);\n      $this->load->view('common/footer');\n    }\n\n    $config['upload_path'] = $upload_dir.$img_dir_name;\n    $config['allowed_types'] = 'gif|jpg|jpeg|png';\n    $config['max_size'] = '10000';\n    $config['max_width']  = '1024';\n    $config['max_height']  = '768';\n\n    $this->load->library('upload', $config);\n\n    if ( ! $this->upload->do_upload()) {\n      $page_data = array('fail' => $this->upload->display_errors(),\n                         'success' => false);\n      $this->load->view('common/header');\n      $this->load->view('nav/top_nav');\n      $this->load->view('create/create', $page_data);\n      $this->load->view('common/footer');\n    } else {\n      $image_data = $this->upload->data();\n      $page_data['result'] = $this->Image_model->save_image(array('image_name' => $image_data['file_name'], 'img_dir_name' => $img_dir_name));\n      $page_data['file_name'] = $image_data['file_name'];\n      $page_data['img_dir_name'] = $img_dir_name;\n\n      if ($page_data['result'] == false) {\n        // success - display image and link\n        $page_data = array('fail' => $this->lang->line('encode_upload_general_error'));\n        $this->load->view('common/header');\n        $this->load->view('nav/top_nav');\n        $this->load->view('create/create', $page_data);\n        $this->load->view('common/footer');\n      } else {\n        // success - display image and link\n        $this->load->view('common/header');\n        $this->load->view('nav/top_nav');\n        $this->load->view('create/result', $page_data);\n        $this->load->view('common/footer');\n      }\n    }\n  }\n}\n```", "```php\ndo {\n// something\n} while ('…a condition is not met');\n```", "```php\ndo {\n  // Make code\n  $code = random_string('alnum', 8); \n\n  // Scan uplaod dir for subdir with same name\n  // name as the code\n  $dirs = scandir($upload_dir);\n\n  // Look to see if there is already a \n  // directory with the name which we \n  // store in $code \n  if (in_array($code, $dirs)) { // Yes there is\n    $img_dir_name = false; // Set to false to begin again\n  } else { // No there isn't\n    $img_dir_name = $code; // This is a new name\n  }\n} while ($img_dir_name == false);\n```", "```php\n$code = random_string('alnum', 8);\n```", "```php\n$dirs = scandir($upload_dir);\n```", "```php\n...\n} while ($img_dir_name == false);\n```", "```php\nif (!mkdir($upload_dir.$img_dir_name)) {\n  $page_data = array('fail' => $this->lang->line('encode_upload_mkdir_error'),\n                     'success' => false);\n  $this->load->view('common/header');\n  $this->load->view('nav/top_nav');\n  $this->load->view('create/create', $page_data);\n  $this->load->view('common/footer');\n}\n```", "```php\n$config['upload_path'] = $upload_dir.$img_dir_name;\n$config['allowed_types'] = 'gif|jpg|jpeg|png';\n$config['max_size'] = '10000';\n$config['max_width']  = '1024';\n$config['max_height']  = '768';\n```", "```php\n$this->load->library('upload', $config);\n```", "```php\n    if ( ! $this->upload->do_upload()) {\n      $page_data = array('fail' => $this->upload->display_errors(),\n                         'success' => false);\n      $this->load->view('common/header');\n      $this->load->view('nav/top_nav');\n      $this->load->view('create/create', $page_data);\n      $this->load->view('common/footer');\n    } else {\n...\n```", "```php\n$image_data = $this->upload->data();\n```", "```php\n$page_data['result'] = $this->Image_model->save_image(array('image_name' => $image_data['file_name'], 'img_dir_name' => $img_dir_name));\n```", "```php\n<?php if (!defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Go extends MY_Controller {\n  function __construct() {\n  parent::__construct();\n    $this->load->helper('string');\n  }\n\n  public function index() {\n    if (!$this->uri->segment(1)) {\n      redirect (base_url());\n    } else {\n      $image_code = $this->uri->segment(1);\n      $this->load->model('Image_model');\n      $query = $this->Image_model->fetch_image($image_code);\n\n      if ($query->num_rows() == 1) {\n        foreach ($query->result() as $row) {\n          $img_image_name = $row->img_image_name;\n          $img_dir_name = $row->img_dir_name;\n        }\n\n        $url_address = base_url() . 'upload/' . $img_dir_name .'/' . $img_image_name;\n        redirect (prep_url($url_address));\n      } else {\n        redirect('create');\n      }\n    }\n  }\n}\n```", "```php\n$image_code = $this->uri->segment(1);\n$this->load->model('Image_model');\n$query = $this->Image_model->fetch_image($image_code);\n```", "```php\n....\n        $img_dir_name = $row->img_dir_name;\n        }\n\n        $url_address = base_url() . 'upload/' . $img_dir_name .'/' . $img_image_name;\n        redirect (prep_url($url_address));\n      } else {\n        redirect('create');\n      }\n    }\n  }\n}\n....\n```", "```php\nforeach ($query->result() as $row) {\n  $img_image_name = $row->img_image_name;\n  $img_dir_name = $row->img_dir_name;\n}\n```", "```php\n$url_address = base_url() . 'upload/' . $img_dir_name .'/' . $img_image_name;\nredirect (prep_url($url_address));\n```", "```php\n<?php if (!defined('BASEPATH')) exit('No direct script access allowed');\n\n// General\n$lang['system_system_name'] = \"Image Share\";\n\n// Upload\n$lang['encode_instruction_1'] = \"Upload your image to share it\";\n$lang['encode_upload_now'] = \"Share Now\";\n$lang['encode_upload_now_success'] = \"Your image was uploaded, you can share it with this URL\";\n$lang['encode_upload_url'] = \"Hey look at this, here's your image:\";\n$lang['encode_upload_mkdir_error'] = \"Cannot make temp folder\";\n$lang['encode_upload_general_error'] = \"The Image cannot be saved at this time\";\n```", "```php\n    $route['create'] = \"create/index\";\n    ```", "```php` CodeIgniter looks in the `routes.php` config file and finds the following line:  ```", "```php ```"]
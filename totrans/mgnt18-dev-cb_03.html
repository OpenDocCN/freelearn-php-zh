<html><head></head><body><div class="chapter" title="Chapter&#xA0;3.&#xA0;Working with Products"><div class="titlepage"><div><div><h1 class="title"><a id="ch03"/>Chapter 3. Working with Products</h1></div></div></div><p>In this chapter, we will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Setting up the catalog defaults</li><li class="listitem" style="list-style-type: disc">Working with attribute sets</li><li class="listitem" style="list-style-type: disc">Working with product types</li><li class="listitem" style="list-style-type: disc">Adding a Facebook like button</li><li class="listitem" style="list-style-type: disc">Adding a product to the cart through querystring</li><li class="listitem" style="list-style-type: disc">Embedding a YouTube video</li><li class="listitem" style="list-style-type: disc">Changing the URL of a product page</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec22"/>Introduction</h1></div></div></div><p>The choice of products and how they are displayed on the frontend are very important to make a web shop with good usability. Making a visitor buy something is the main target of every shop owner.</p><p>We have to set up the products in<a id="id108" class="indexterm"/> a way such that a visitor can quickly find what they are looking for. If this is done and the shop looks reliable, a visitor is more likely to buy something.</p><p>This chapter will explain all the possibilities of what you can do with a set of products and how to add extra things such as a video or a <code class="literal">like</code> button.</p><p>The goal of this chapter is to make your shop more user-friendly without a lot of development.</p></div></div>
<div class="section" title="Setting up the catalog defaults"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec23"/>Setting up the catalog defaults</h1></div></div></div><p>The first step is to<a id="id109" class="indexterm"/> configure the catalog settings to the preferred values. We will cover all the configuration values that are possible with a standard installation.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec46"/>Getting ready</h2></div></div></div><p>Open the frontend in a tab of your browser. In the second tab, open the backend and log in.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec47"/>How to do it...</h2></div></div></div><p>In the next steps, we will configure the settings of the catalog (category and product) pages:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to the <span class="strong"><strong>Configuration</strong></span> section in <span class="strong"><strong>System</strong></span>, and click on the <span class="strong"><strong>Catalog</strong></span> tab. You will see the following screen:<div class="mediaobject"><img src="graphics/3329OS_03_11.jpg" alt="How to do it..."/></div></li><li class="listitem">Open the frontend section and set the following values:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>List mode</strong></span>: <span class="strong"><strong>grid (Show products by default in a grid or list)</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Products per page on Grid allowed values</strong></span>: <span class="strong"><strong>12,24,36</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Products per page on Grid default value</strong></span>: <span class="strong"><strong>24</strong></span><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>While changing the allowed and default value for a grid page, make sure the numbers are divisible by the number of products in a row. Otherwise, the number of products on a page will not fit in the grid.</p></div></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Products per page on List allowed values</strong></span>: <span class="strong"><strong>10,20,30,40</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Products per page on List default value</strong></span>: <span class="strong"><strong>10</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Allow all products per page</strong></span>: <span class="strong"><strong>No</strong></span><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>When you have a large number of products, it is not recommended to set the <span class="strong"><strong>Allow all products per page</strong></span> option to <span class="strong"><strong>Yes</strong></span>. When you have 2,000 products, and you want to show all the products on a single page, you will generate an<a id="id110" class="indexterm"/> enormous HTML output that can cause memory issues.</p></div></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Product listing Sort by</strong></span>: <span class="strong"><strong>price</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use Flat Catalog Category</strong></span>: <span class="strong"><strong>No</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use Flat Catalog Product</strong></span>: <span class="strong"><strong>No</strong></span><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>The purpose of the preceding two settings (<span class="strong"><strong>Use Flat Catalog Category</strong></span> and Use Flat Catalog Product) is explained in the <span class="emphasis"><em>Working with EAV tables</em></span> recipe in <a class="link" href="ch05.html" title="Chapter 5. Database Concepts">Chapter 5</a>, <span class="emphasis"><em>Database Concepts</em></span>.</p></div></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Allow Dynamic Media URLs in Products and Categories</strong></span>: <span class="strong"><strong>Yes</strong></span></li></ul></div></li><li class="listitem">Set the following values under the <span class="strong"><strong>Sitemap</strong></span> section:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use tree like category sitemap</strong></span>: <span class="strong"><strong>Yes</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Minimum lines per page</strong></span>: <span class="strong"><strong>30</strong></span></li></ul></div><p>This setting will change the look of the sitemap pages. You can find this at <code class="literal">catalog/seo_sitemap/category</code>.</p></li><li class="listitem">Enable the product reviews for guests. This allows everyone to write a review about a product. When this is enabled, a review form will appear on the product review page.</li><li class="listitem">Open the <span class="strong"><strong>Product Alert Settings</strong></span> section to configure product alert e-mails that will be sent when the price or stock changes.<p>We will configure a stock alert with the following settings:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Allow alert when product price changes</strong></span>: <span class="strong"><strong>No</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Allow alert when product stock changes</strong></span>: <span class="strong"><strong>Yes</strong></span></li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>The previous configurations will send stock alert e-mails (a stock alert is triggered when a product becomes available in stock) to the subscribed e-mail addresses.</p></div></div></li><li class="listitem">We can set the<a id="id111" class="indexterm"/> <span class="strong"><strong>Product Alert Run Settings</strong></span> values in the next section. We will configure a daily job at 0400 hours to send the alert e-mails:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Frequency</strong></span>: <span class="strong"><strong>Daily</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Start time</strong></span>: <span class="strong"><strong>04:00:00</strong></span></li></ul></div></li><li class="listitem">Leave the product image placeholders as they are. Here, we can set a default image that will be shown when a product has no image or the image is not found. The best way is to set the placeholder image(s) in the theme.</li><li class="listitem">In the <span class="strong"><strong>Recently Viewed/Compared Products</strong></span> tab, set the following values:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Show for current</strong></span>: <span class="strong"><strong>Website</strong></span><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note08"/>Note</h3><p>This will show the recent products you viewed over all stores and store views in the website.</p></div></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Default recently viewed count</strong></span>: <span class="strong"><strong>5</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Default recently compared count</strong></span>: <span class="strong"><strong>5</strong></span></li></ul></div></li><li class="listitem">In the <span class="strong"><strong>Price</strong></span> tab, set <span class="strong"><strong>Catalog Price Scope</strong></span> as <span class="strong"><strong>Global</strong></span>. For this tutorial, we don't need different prices for each store view. When <span class="strong"><strong>Price Scope</strong></span> is set to <span class="strong"><strong>Global</strong></span>, we can only configure one price for a product in different store views.</li><li class="listitem">In the <span class="strong"><strong>Layered Navigation</strong></span> section, we will modify some settings to customize the left navigation for the category pages.<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Display product count</strong></span>: <span class="strong"><strong>Yes</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Price ranges</strong></span>: <span class="strong"><strong>Equalize price ranges</strong></span></li></ul></div><p>By setting this, the price steps will always have the same increment.</p></li><li class="listitem">Set the top navigation <span class="strong"><strong>Category</strong></span> to <span class="strong"><strong>3</strong></span>. This will mean that the depth of the navigation is three levels at the maximum.</li><li class="listitem">Skip the <span class="strong"><strong>Search Engine Optimization</strong></span> option. We will look into it in the <span class="emphasis"><em>Changing the URL of a product page</em></span> recipe</li><li class="listitem">Configure the <span class="strong"><strong>Catalog / Search</strong></span> section as follows:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Minimal query length</strong></span>: <span class="strong"><strong>3</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Maximum query length</strong></span>: <span class="strong"><strong>128</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Maximum query words count</strong></span>: <span class="strong"><strong>10</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Search type</strong></span>: <span class="strong"><strong>Like</strong></span></li></ul></div><p>You can set this to full text that has better results, but the performance is not so good. The previous settings configure the search behavior of Magento.</p></li><li class="listitem">Don't forget to save the configuration.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec48"/>How it works...</h2></div></div></div><p>All these settings are saved<a id="id112" class="indexterm"/> in the configuration table of Magento. The frontend files of the catalog pages will pick up these settings and render the output based on these settings.</p><p>When you add extra functionality to the category page, you can easily extend the configuration with extra parameters. More information about extending the configurations is explained in the <span class="emphasis"><em>Extending the system configuration</em></span> recipe of <a class="link" href="ch07.html" title="Chapter 7. Magento Backend">Chapter 7</a>, <span class="emphasis"><em>Magento Backend</em></span>.</p></div></div>
<div class="section" title="Working with attribute sets"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec24"/>Working with attribute sets</h1></div></div></div><p>Magento has a flexible system to work with products. When you sell, for example, a board game and a computer, the specifications of each product are different. Suppose I want to configure an age for the board game and a screen resolution for the computer. In such cases, these things<a id="id113" class="indexterm"/> are covered with <span class="strong"><strong>attributes</strong></span> and <span class="strong"><strong>attribute sets</strong></span>.</p><p>When you create a product, you have to first select an attribute set (with specific attributes) before entering other data.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec49"/>Getting ready</h2></div></div></div><p>Go to the backend and navigate to <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>Attributes</strong></span> | <span class="strong"><strong>Manage Attributes</strong></span> and <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>Attributes</strong></span> | <span class="strong"><strong>Manage Attribute Sets</strong></span>.</p><p>We will create some extra attributes and an attribute set on these pages.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec50"/>How to do it...</h2></div></div></div><p>In the next steps, we will create extra product attributes that we can use with an attribute set:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new attribute on the <span class="strong"><strong>Manage Attributes</strong></span> page.</li><li class="listitem">After you click on <span class="strong"><strong>New Attribute</strong></span>, fill <a id="id114" class="indexterm"/>in the form as follows:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Attribute Code</strong></span>: <span class="strong"><strong>available_from</strong></span> (the code of the attribute used in the database and functions)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Scope</strong></span>: <span class="strong"><strong>Store View</strong></span> (this setting adds the ability to specify a separate value for each store view)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Catalog Input Type for Store Owner</strong></span>: <span class="strong"><strong>Date</strong></span> (this is the type of the attribute)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Default Value</strong></span>: empty</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Unique Value</strong></span>: <span class="strong"><strong>No</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Values Required</strong></span>: <span class="strong"><strong>No</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Apply To</strong></span>: <span class="strong"><strong>All Product Types</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use in Quick Search</strong></span>: <span class="strong"><strong>No</strong></span> (this option searches through the attribute values while performing a quick search)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use in Advanced Search</strong></span>: <span class="strong"><strong>No</strong></span> (this option makes the attribute available to search on in the <span class="strong"><strong>Advanced search</strong></span> option)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Comparable on Front end</strong></span>: <span class="strong"><strong>No</strong></span> (this option shows the attribute in the product comparing tool)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use for Promo Rule Conditions</strong></span>: <span class="strong"><strong>No</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Position</strong></span>: empty</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Visible on Product View Page on Front-end</strong></span>: <span class="strong"><strong>Yes</strong></span> (this option shows the attribute value on product pages)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Used in Product Listing</strong></span>: <span class="strong"><strong>No</strong></span> (this option makes the attribute value available on category pages)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Used for sorting in Product Listing</strong></span>: <span class="strong"><strong>No</strong></span> (this option makes the attribute available to sort on category pages)</li></ul></div></li><li class="listitem">In the <span class="strong"><strong>Manage Label / Options</strong></span> field, fill in the labels for the frontend.</li><li class="listitem">Click on <span class="strong"><strong>Save Attribute</strong></span> and the attribute is saved.</li><li class="listitem">Create a new attribute set by navigating to <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>Attributes</strong></span> | <span class="strong"><strong>Manage Attribute Sets</strong></span>.</li><li class="listitem">Fill in the form as follows and click on <span class="strong"><strong>Save Attribute Set</strong></span>:<div class="mediaobject"><img src="graphics/3329OS_03_01.jpg" alt="How to do it..."/></div></li><li class="listitem">The attribute set overview opens. On<a id="id115" class="indexterm"/> this page, you can drag-and-drop the attributes in the appropriate groups.</li><li class="listitem">Create a group named <code class="literal">Game specific data</code> and drag the <span class="strong"><strong>available_from</strong></span>, <span class="strong"><strong>memory</strong></span>, and <span class="strong"><strong>processor</strong></span> attributes to it.<p>The overview will look as follows:</p><div class="mediaobject"><img src="graphics/3329OS_03_02.jpg" alt="How to do it..."/></div></li><li class="listitem">Save the attribute set.</li><li class="listitem">Create a new<a id="id116" class="indexterm"/> product in <span class="strong"><strong>Manage Products</strong></span> from <span class="strong"><strong>Catalog</strong></span>, and enter the following configuration:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Attribute Set</strong></span>: <span class="strong"><strong>Games</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Product Type</strong></span>: <span class="strong"><strong>Simple Product</strong></span></li></ul></div></li><li class="listitem">Click on <span class="strong"><strong>Continue</strong></span>.<p>You will see that the special game attributes are now available in the <span class="strong"><strong>Game specific data</strong></span> tab:</p></li></ol></div><div class="mediaobject"><img src="graphics/3329OS_03_03.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec51"/>How it works...</h2></div></div></div><p>Attributes and attribute sets are used when you work with multiple families of products. In the sample data of our shop, <a id="id117" class="indexterm"/>there are more attribute sets available for cameras, computers, shirts, shoes, and more.</p><p>With attribute sets, you can group attributes of a family with each other.</p><p>While creating a new attribute, you will have to specify the type of the attribute. The following types are available with different inputs and outputs:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Text field</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Text area</strong></span> (a text field with multiple lines)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Date</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Yes</strong></span> / <span class="strong"><strong>No</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Multiple Select</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Dropdown</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Price</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Media Image</strong></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Fixed Product Tax</strong></span> (this is used for extra taxes such as author taxes)<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip13"/>Tip</h3><p>When you will <a id="id118" class="indexterm"/>use an attribute as a filter in the left navigation on the category pages, this attribute must have the type <span class="strong"><strong>Dropdown</strong></span>, <span class="strong"><strong>Multiple Select</strong></span>, or <span class="strong"><strong>Price</strong></span>.</p></div></div></li></ul></div></div></div>
<div class="section" title="Working with product types"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec25"/>Working with product types</h1></div></div></div><p>In Magento, there are different types of products you can create. The standard product is a simple product. This type of product is <a id="id119" class="indexterm"/>used to sell basic products. However, there are other product types where you can choose options or a size.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec52"/>Getting ready</h2></div></div></div><p>We will create a configurable product. For example, you want to buy a pair of shoes where you can choose their size and color. Open your backend and navigate to <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>Manage Products</strong></span>.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec53"/>How to do it...</h2></div></div></div><p>In the following<a id="id120" class="indexterm"/> steps, we will create a product (shoes) where we can specify their sizes on the product detail page:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Choose the following configuration when you hit the <span class="strong"><strong>Add Product</strong></span> button:<div class="mediaobject"><img src="graphics/3329OS_03_04.jpg" alt="How to do it..."/></div></li><li class="listitem">When we click on <span class="strong"><strong>Next</strong></span>, we have to choose the attributes to configure. This product has to be configurable on the <span class="strong"><strong>Shoe size</strong></span> attribute. Select the checkbox and click on <span class="strong"><strong>Continue</strong></span>.</li><li class="listitem">Fill in the<a id="id121" class="indexterm"/> required attributes, and save the product by clicking on <span class="strong"><strong>Save And Continue Edit</strong></span>.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip14"/>Tip</h3><p>To make a product visible in the store, check the <span class="strong"><strong>Websites</strong></span>, <span class="strong"><strong>Status</strong></span>, <span class="strong"><strong>Visibility</strong></span>, <span class="strong"><strong>Category</strong></span>, and <span class="strong"><strong>Inventory</strong></span> attributes.</p></div></div></li><li class="listitem">Navigate to the <span class="strong"><strong>Associated Products</strong></span> tab where we will create the child products.</li><li class="listitem">By adding the following configuration to the <span class="strong"><strong>Quick simple product creation</strong></span> section, we will add five child products:<div class="mediaobject"><img src="graphics/3329OS_03_05.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the <span class="strong"><strong>Quick Create</strong></span> button<a id="id122" class="indexterm"/> and repeat this four times with a different shoe size.</li><li class="listitem">When everything goes well, the <span class="strong"><strong>Super product attributes configuration</strong></span> section will look as follows:<div class="mediaobject"><img src="graphics/3329OS_03_06.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the <span class="strong"><strong>Save And Continue</strong></span> button and the product is saved.</li><li class="listitem">Navigate to the frontend <a id="id123" class="indexterm"/>and search for the product we just created. When we are on the product detail page, you will see a dropdown where you can choose the options we have just created.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec54"/>How it works...</h2></div></div></div><p>A configurable product is a product in which you will have to configure the options before adding it to the cart. The customer will see the configurable product in the cart, but in the background a simple product is also added to the cart.</p><p>That's the reason we have to create simple products to use as options for the configurable product. The configurable product is the parent that is used to show the child products in the frontend. When a product is sold, the SKU of the selected child product will be used to process the order. That's the reason the stock is configured on the child products.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec55"/>There's more...</h2></div></div></div><p>In Magento, you can create six types of products. The following section gives a short description of what is possible with<a id="id124" class="indexterm"/> the different product types.</p><div class="section" title="Simple product"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec03"/>Simple product</h3></div></div></div><p>A simple product is just a product that you can sell in your web shop. Every product in Magento has a unique ID (<span class="strong"><strong>SKU</strong></span>)<a id="id125" class="indexterm"/> that mostly<a id="id126" class="indexterm"/> has the same value as the article code of the suppliers.</p></div><div class="section" title="Configurable product"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec04"/>Configurable product</h3></div></div></div><p>In this recipe, we created a <a id="id127" class="indexterm"/>configurable product. This product has child products that you can configure on the product detail page (for example, to configure the size). The child products are simple products.</p></div><div class="section" title="Bundled product"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec05"/>Bundled product</h3></div></div></div><p>A bundled product is like a configurable product, but with this one you can specify more (optional) options. For a good example<a id="id128" class="indexterm"/> of a bundled product, you can go to <span class="strong"><strong>Electronics</strong></span> | <span class="strong"><strong>Computers</strong></span> | <span class="strong"><strong>Build Your Own</strong></span>. The products in this category are bundled products.</p></div><div class="section" title="Grouped product"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec06"/>Grouped product</h3></div></div></div><p>A grouped product is a product that represents<a id="id129" class="indexterm"/> a set where you can specify the number of child products. A good example of this can be found in <span class="strong"><strong>Furniture</strong></span> | <span class="strong"><strong>Magento Red Furniture Set</strong></span>.</p></div><div class="section" title="Virtual product"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec07"/>Virtual product</h3></div></div></div><p>A virtual product is like a simple <a id="id130" class="indexterm"/>product but it is not physical. It has no inventory and can't be shipped. In the sample data, the warranties on the bundled products of the sample store are good examples of virtual products.</p></div><div class="section" title="Downloadable product"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec08"/>Downloadable product</h3></div></div></div><p>A downloadable product is a product<a id="id131" class="indexterm"/> that is not physical. When a customer buys a product like this, they will receive a download link where they can download their product such as a PDF, ZIP, MP3, or any other type of file.</p></div></div></div>
<div class="section" title="Adding a Facebook like button"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec26"/>Adding a Facebook like button</h1></div></div></div><p>These days, it is trendy to show a Facebook <code class="literal">like</code> button on your website so that visitors can share the page with<a id="id132" class="indexterm"/> their friends.</p><p>In this recipe, we will <a id="id133" class="indexterm"/>add the <code class="literal">like</code> button on every product page.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec56"/>Getting ready</h2></div></div></div><p>Open your browser and go to a product page. In your IDE, open your configured theme folder.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec57"/>How to do it...</h2></div></div></div><p>In the next steps, we will generate and add the code of a Facebook <code class="literal">like</code> button to the product detail pages:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">catalog/product/view.phtml</code> template from your theme. If it is not in the theme, copy it from the <code class="literal">app/design/frontend/base/default</code> folder.</li><li class="listitem">Go to <a class="ulink" href="http://developers.facebook.com/docs/reference/plugins/like">http://developers.facebook.com/docs/reference/plugins/like</a> from where you can use the <span class="strong"><strong>Configurator</strong></span> page to customize the <code class="literal">like</code> button for your page, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3329OS_03_07.jpg" alt="How to do it..."/></div></li><li class="listitem">Paste the code in your <code class="literal">view.phtml</code> file where it will be more readable; for example, at<a id="id134" class="indexterm"/> the end of the file as a child of the <code class="literal">div</code> tag with the class <code class="literal">product-collateral</code>.</li><li class="listitem">Reload a product page and the <code class="literal">like</code> button will show up.</li><li class="listitem">To change the URL of the <code class="literal">like</code> button, change the <code class="literal">data-href</code> attribute<a id="id135" class="indexterm"/> of the HTML5 code. The following code shows you how to do this to use the product page URL:<div class="informalexample"><pre class="programlisting">&lt;div class="fb-like" 
     data-href="&lt;?php echo Mage::helper('core/url')-&gt;getCurrentUrl() ?&gt;" 
     data-layout="standard" 
     data-action="like" 
     data-show-faces="true" 
     data-share="true"&gt;
&lt;/div&gt;</pre></div></li><li class="listitem">While using the HTML5 code, don't forget to include the JavaScript SDK.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec58"/>How it works...</h2></div></div></div><p>The Facebook <code class="literal">like</code> button is one of the social plugins you can embed in your website. On Facebook, every URL is an object you can like or comment on. You can find more information about the <a id="id136" class="indexterm"/>available social plugins from the following URL:</p><p>
<a class="ulink" href="https://developers.facebook.com/docs/plugins/">https://developers.facebook.com/docs/plugins/</a>
</p><p>In this recipe, we covered the addition of the Facebook <code class="literal">like</code> button, but when you want to add buttons for other social media sites such as Twitter or Google Plus, you can visit the following URLs:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://developers.google.com/+/web/+1button/">https://developers.google.com/+/web/+1button/</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://about.twitter.com/resources/buttons">https://about.twitter.com/resources/buttons</a></li></ul></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec59"/>There's more...</h2></div></div></div><p>When you like a page of your website, Facebook will generate a wall post based on the HTML markup of the page. When you like a page, Facebook will post an image, title, and description of that item on your wall.</p><p>With <span class="strong"><strong>Open Graph</strong></span> (<span class="strong"><strong>og</strong></span>) <code class="literal">meta</code> tags<a id="id137" class="indexterm"/>, you can customize the content of these things. An overview of the available og tags and how to use them can be found at <a class="ulink" href="https://developers.facebook.com/docs/opengraph/using-objects/">https://developers.facebook.com/docs/opengraph/using-objects/</a>.</p></div></div>
<div class="section" title="Adding a product to the cart through querystring"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec27"/>Adding a product to the cart through querystring</h1></div></div></div><p>In some use cases, you will link a visitor to your site when they directly add a product to the cart; for example, when you<a id="id138" class="indexterm"/> have a campaign with a<a id="id139" class="indexterm"/> <span class="strong"><strong>buy now</strong></span> button on an external website. </p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec60"/>Getting ready</h2></div></div></div><p>Open your browser with your shop and navigate to <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>Manage Products</strong></span> in the backend.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec61"/>How to do it...</h2></div></div></div><p>In the next steps, we will create a URL where a product will be added to the cart:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Find a product in your frontend you want to add to the cart. For example, navigate to <span class="strong"><strong>Furniture</strong></span> | <span class="strong"><strong>Living Room</strong></span> | <span class="strong"><strong>Ottoman</strong></span>.</li><li class="listitem">Find this product in the backend and keep the ID in mind.</li><li class="listitem">To add a product, we have to call the <code class="literal">checkout/cart/add</code> URL with the product ID as the <code class="literal">GET</code> parameter. So, the final URL will be <code class="literal">http://magento-dev.local/checkout/cart/add?product=51</code>.</li><li class="listitem">While calling this URL, you will be redirected to the cart page with one item of this product in the cart.</li><li class="listitem">When you add<a id="id140" class="indexterm"/> the <code class="literal">qty</code> parameter to<a id="id141" class="indexterm"/> the query, you can add more than one item of the same product to the cart. Call the <code class="literal">http://magento-dev.local/checkout/cart/add?product=51&amp;qty=3</code> URL, and you will see that three products are added to the cart.</li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip15"/>Tip</h3><p>It is not possible to add two or more different products to the cart with the same query. If you want to do this, you can create a grouped product.</p></div></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec62"/>How it works...</h2></div></div></div><p>If we monitor the <code class="literal">add to cart</code> action in our shop, we will see that there is a <code class="literal">GET</code> or <code class="literal">POST</code> request to the <code class="literal">checkout/cart/add</code> action in the frontend. This action will forward the request to the cart page if it is valid.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec63"/>There's more...</h2></div></div></div><p>Adding a simple product is easy, but if we want to add a grouped, configurable, or bundled product, the querystring is a bit more complex.</p><p>To know which parameters you have to send to the <code class="literal">add</code> action, we have to debug this with Firebug. In the <span class="strong"><strong>Net Panel</strong></span>, as shown in the following screenshot, you can debug the request:</p><div class="mediaobject"><img src="graphics/3329OS_03_08.jpg" alt="There's more..."/></div><p>The preceding screenshot<a id="id142" class="indexterm"/> shows the <code class="literal">POST</code> parameters of a<a id="id143" class="indexterm"/> configurable product.</p></div></div>
<div class="section" title="Embedding a YouTube video"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec28"/>Embedding a YouTube video</h1></div></div></div><p>In a product description, we can add HTML tags so that we can use the <code class="literal">&lt;object&gt;</code> tag to embed a YouTube video<a id="id144" class="indexterm"/> in the description of a product.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec64"/>Getting ready</h2></div></div></div><p>Go to <a class="ulink" href="http://www.youtube.com">http://www.youtube.com</a>, and choose a video that you want to add to the description of the product. </p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec65"/>How to do it...</h2></div></div></div><p>The next steps show you how to embed a YouTube video on a product detail page:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">On the YouTube video page, click on the <span class="strong"><strong>Embed</strong></span> button<a id="id145" class="indexterm"/>. When you click on this button, the following screen shows up:<div class="mediaobject"><img src="graphics/3329OS_03_09.jpg" alt="How to do it..."/></div></li><li class="listitem">Copy the HTML code and paste it in the description of a product.</li><li class="listitem">Save the product.</li><li class="listitem">Go to the product<a id="id146" class="indexterm"/> in the frontend. You will see the video on the product page.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec66"/>How it works...</h2></div></div></div><p>The ability to use HTML tags in product descriptions gives a lot of flexibility for this field. It is possible to use a <span class="strong"><strong>WYSIWYG</strong></span> editor<a id="id147" class="indexterm"/> for the content because this allows us to use widgets such as a YouTube video or other third-party widgets.</p></div></div>
<div class="section" title="Changing the URL of a product page"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec29"/>Changing the URL of a product page</h1></div></div></div><p>When you are on a product<a id="id148" class="indexterm"/> page, the URL of every product always looks clean. The name in the URL makes it very SEO friendly.</p><p>In this recipe, we will explore the possibilities with <span class="strong"><strong>URL rewrites</strong></span><a id="id149" class="indexterm"/> in Magento and how it works.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec67"/>Getting ready</h2></div></div></div><p>Go to the <span class="strong"><strong>Manage Products</strong></span> page from <span class="strong"><strong>Catalog</strong></span> in the backend. Open a product and have a look at the <span class="strong"><strong>URL key</strong></span> attribute. This recipe is based on the <a id="id150" class="indexterm"/>
<span class="strong"><strong>HTC Touch Diamond</strong></span> product.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec68"/>How to do it...</h2></div></div></div><p>In the next steps, the<a id="id151" class="indexterm"/> way you can change the URL of a product page is shown:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Find the appropriate product in the frontend and look for the URL. In this case, this will be <code class="literal">/htc-touch-diamond.html</code>.</li><li class="listitem">In the backend, change the <span class="strong"><strong>URL key</strong></span> attribute to <span class="strong"><strong>buy-now-htc-touch-diamond</strong></span>.</li><li class="listitem">Reload the product in the frontend. The URL will change to the new one we have entered at the backend.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip16"/>Tip</h3><p>When you select the <span class="strong"><strong>Create Permanent Redirect for old URL</strong></span> checkbox, Magento will create a permanent 301 redirect response for the old URL of the product. The checkbox is located in the product's <span class="strong"><strong>Edit</strong></span> page under the <span class="strong"><strong>URL key</strong></span> attribute.</p></div></div></li><li class="listitem">Empty the <span class="strong"><strong>URL key</strong></span> attribute at the backend and save the product again. You will see that Magento autogenerates the <span class="strong"><strong>URL key</strong></span> value based on the name of the product.</li><li class="listitem">At the backend, go to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Configuration</strong></span> | <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>Search Engine Optimizations</strong></span>. <a id="id152" class="indexterm"/>Empty the <span class="strong"><strong>Product URL Suffix</strong></span> field and save the configuration.</li><li class="listitem">Clear the cache by navigating to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Cache Management</strong></span>.</li><li class="listitem">Reindex the <span class="strong"><strong>Product URL Rewrites</strong></span> index by navigating to <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Index Management</strong></span>. In the reindexing process, the URLs will be generated in the <code class="literal">core_url_rewrite</code> database table.</li><li class="listitem">Reload the product in the frontend, and you will see that the <code class="literal">.html</code> suffix is gone.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec69"/>How it works...</h2></div></div></div><p>In Magento, there is a URL rewrite system that maps an SEO-friendly URL to the system URL for that request. You can see all the URL rewrites in the backend. Navigate to <span class="strong"><strong>Catalog</strong></span> | <span class="strong"><strong>URL Rewrite Management</strong></span>, and you will see the complete list of URLs that Magento will map on a controller action. For example, when we search for <code class="literal">htc-touch-diamond</code>, we will see a list with all the URLs for this key.</p><p>What we see is the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Permanent 301 redirect responses (rows where the <span class="strong"><strong>Options</strong></span> column has the value <span class="strong"><strong>RP</strong></span>. RP stands for Redirect Permanently.)</li><li class="listitem" style="list-style-type: disc">The product URL.</li><li class="listitem" style="list-style-type: disc">The category product URL.</li></ul></div><p>All URLs are generated again for each store view. When a product is enabled in multiple stores, it is normal that a product has more than one URLs.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec70"/>There's more...</h2></div></div></div><p>On the URL rewrite page, it is also possible to add custom URL rewrites; for example, a URL rewrite for the contacts page.</p><p>While adding the configuration as shown in the following screenshot, you will create a rewrite for <code class="literal">/sitemap.html</code> for the English store view:</p><div class="mediaobject"><img src="graphics/3329OS_03_10.jpg" alt="There's more..."/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">In the <span class="strong"><strong>Store</strong></span> dropdown, <a id="id153" class="indexterm"/>you can configure the store for the URL rewrite.</li><li class="listitem" style="list-style-type: disc">In the <span class="strong"><strong>ID Path</strong></span> field, the ID of the URL rewrite is set. You have to enter a unique name for this. </li><li class="listitem" style="list-style-type: disc">The value in the <span class="strong"><strong>Request Path</strong></span> field<a id="id154" class="indexterm"/> is the path you want to rewrite. In this case, we want to rewrite something on the <code class="literal">/sitemap.html</code> path.</li><li class="listitem" style="list-style-type: disc">The value in the<span class="strong"><strong> Target Path</strong></span> field is the path where the request will end. In this case, it is the <span class="strong"><strong>contacts</strong></span> page.</li><li class="listitem" style="list-style-type: disc">If the value in the <span class="strong"><strong>Redirect</strong></span> dropdown is set to <span class="strong"><strong>Yes</strong></span>, you can choose for a 301 redirect to the target. When it is set to <span class="strong"><strong>No</strong></span>, the target page will be rendered on the request path (so the URL of the page doesn't change).</li></ul></div></div></div></body></html>
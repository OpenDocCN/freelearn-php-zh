- en: '1'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Installing Moodle
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this first chapter, we’ll start by installing Moodle.
  prefs: []
  type: TYPE_NORMAL
- en: 'After providing an overview describing the most suitable setup, we will outline
    the necessary software and hardware requirements before covering the following
    installations:'
  prefs: []
  type: TYPE_NORMAL
- en: Installing Moodle in a LAMP environment
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Moodle via the **command-line** **interface** (**CLI**)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Upgrading Moodle manually and via the CLI and Git
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We won’t be covering the installation on operating systems other than Linux,
    but we will provide some pointers to resources for Windows and macOS.
  prefs: []
  type: TYPE_NORMAL
- en: Moodle can be scaled from a single instructor to an entire institution. We will
    only cover *basic* installations and present solutions to some common problems.
    We will also assume you are familiar with basic Linux system administration.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will be covering the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Preparing your Moodle installation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installation in a LAMP environment
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installation via the command-line interface
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Updating Moodle
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Preparing your Moodle installation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before you start installing Moodle, you have to decide which setup is right
    for your organization. Once you have decided, there are several hardware and software
    prerequisites you have to fulfill before you can get started.
  prefs: []
  type: TYPE_NORMAL
- en: Choosing your best setup
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There are many different environments in which you can set up Moodle. The three
    main criteria that will help you determine the correct setup are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Flexibility**: If you want to have complete control over your system, install
    plugins, be able to tweak system settings, and make frequent changes to the setup,
    you should host your own server. However, if your preferred choice is to only
    administer Moodle while somebody else is looking after the operating system, the
    web server, and backups, it is better to opt for a professionally-hosted setup,
    particularly the offerings provided by authorized Moodle Partners.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scalability**: This is entirely driven by the number of active learners and
    educators logged in to Moodle simultaneously. Moodle on a small server will not
    be able to cope with hundreds of concurrently logged-in users. On the other hand,
    a load-balanced cluster would be overkill for a small institution with a few dozen
    learners. The following table provides some indicative setups for different types
    of educational organizations:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure 1.1 – Moodle setups depending on user numbers ](img/Figure_1.01_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.1 – Moodle setups depending on user numbers
  prefs: []
  type: TYPE_NORMAL
- en: Please bear in mind that these are only indicative numbers that are not written
    in stone and also depend on the other factors mentioned here.
  prefs: []
  type: TYPE_NORMAL
- en: Each Moodle instance must be installed on a dedicated or shared server, either
    hosted in-house or externally. If you decide to go down the hosted route, avoiding
    a cheap hosting package is highly recommended as those systems are not optimized
    for Moodle usage; their one-size-fits-all approach will significantly impact the
    system’s performance, especially with an increasing number of concurrent users.
  prefs: []
  type: TYPE_NORMAL
- en: 'Moodle HQ offers hosting on [moodlecloud.com](http://moodlecloud.com); however,
    these packages come with some limitations (the numbers depend on the chosen plan):
    user limits, storage limits, no way to install plugins or custom themes, and the
    inability to modify some hard-coded admin settings. If these restrictions are
    acceptable, hosting on [moodlecloud.com](http://moodlecloud.com) might be suitable
    for your organization.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Cost**: Budgetary constraints will undoubtedly play an important role. Unless
    you already have the appropriate infrastructure in place, it will likely be more
    cost effective to host your Moodle system externally as it saves you from purchasing
    servers and renting a 24/7 data connection that caters to your users’ needs. The
    licensing cost will be significantly higher if you use commercial operating systems,
    web servers, and database systems instead of an open source solution. Either way,
    Moodle is designed to support a wide range of possible infrastructures suitable
    to your organization’s IT policy.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In addition to these three criteria, which influence the decision about the
    underlying infrastructure, other factors, such as **in-house expertise**, **compatibility
    with other systems**, **IT policies**, **personal preference**, and **existing
    resources**, will impact your decision.
  prefs: []
  type: TYPE_NORMAL
- en: We will be covering the most popular operating system for hosting Moodle – Linux.
    For other operating systems or setups, such as in virtualized environments or
    on multi-server clusters, please consult your local Moodle Partner ([moodle.com/solutions/certified-service-providers](http://moodle.com/solutions/certified-service-providers)).
    Some hosting companies offer quick one-click installations; while the resulting
    Moodle system is sufficient for experimental sites, it is certainly unsuitable
    for production environments.
  prefs: []
  type: TYPE_NORMAL
- en: Fulfilling Moodle prerequisites
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Several hardware and software requirements must be satisfied before we can start
    installing Moodle.
  prefs: []
  type: TYPE_NORMAL
- en: Hardware requirements
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'These requirements apply if you host Moodle yourself or if it is hosted on
    an external server (shared, virtual, dedicated, or clustered). On cheaper hosting
    packages, the hardware configuration is often insufficient to run Moodle efficiently:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.2 – Moodle hardware ](img/Figure_1.02_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.2 – Moodle hardware
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s take a look at these requirements in more detail:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Disk space**: Moodle itself takes up approximately 1 GB of disk space. However,
    this only provides you with a naked system and does not consider the space you
    require for any learning resources. The faster the disks, the better. RAIDed disks
    are recommended but are not essential on smaller installations.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Memory**: A good rule of thumb is to have 1 GB of RAM for every 5 to 10 **concurrent**
    users. You have to double this calculation on Windows-based systems due to the
    higher overhead of the operating system. Of all the hardware components, RAM will
    impact Moodle’s performance the most.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: The more RAM, the better; the faster the RAM, the better.
  prefs: []
  type: TYPE_NORMAL
- en: '**CPUs**: Processor type and speed are essential too, but not as important
    as RAM. As always, the faster the CPU, the better, and the more cores a CPU has,
    the more powerful it will be.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Network**: While Moodle can run on a standalone machine, its full potential
    is in a networked environment. Fast network cards are essential, as is good upload
    and download speed if the LMS is accessed over the internet.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now, let’s look at the software requirements.
  prefs: []
  type: TYPE_NORMAL
- en: Software requirements
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'While it is recommended to have the latest version installed, for Moodle 4,
    you must have the following components up and running on your server (release-specific
    notes can be found at [moodledev.io/general/releases](http://moodledev.io/general/releases)):'
  prefs: []
  type: TYPE_NORMAL
- en: '**Database**: Moodle officially supports the following database systems: MySQL
    (version 5.7 or later utilizing the ACID-compliant InnoDB storage engine), PostgreSQL
    10+, MariaDB 10.2.29+, Aurora MySQL (on Amazon Web Services), Microsoft SQL Server
    2017+, and Oracle 11.2+.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Web server**: Apache is the preferred web server option, but Moodle works
    well with any other web server that supports PHP, such as Microsoft IIS.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`php.ini` or `.htaccess` file (for more details, see docs.moodle.org/en/Installing_Moodle).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`curl`, `ctype`, `dom`, `fileinfo`, `gd`, `hash`, `iconv`, `intl`, `json`,
    `mbstring`, `openssl`, `pcre`, `simplexml`, `spl`, `xml`, `xmlreader`, `zip`,
    and `zlib`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`exif`, `soap`, `sodium`, `tokenizer`, and `xmlrpc`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`mysql`, `odbc`, and `pgsql` (depending on the database) and `ldap`, `ntlm`,
    and others (depending on the authentication mechanism used)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Depending on your specific setup, additional software might be required. It
    is assumed that the database, web server, PHP, and extensions have been installed
    correctly, as this is not an LMS administrator task. Once this is the case, we
    are ready to go.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: To access Moodle, a modern web browser (the latest version of Firefox, Google
    Chrome, Edge, or Safari) is required.
  prefs: []
  type: TYPE_NORMAL
- en: Before we start the installation process, it is worth familiarizing yourself
    with Moodle’s releases and versions.
  prefs: []
  type: TYPE_NORMAL
- en: Understanding Moodle versions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Moodle versions follow a strict calendar that is published and updated regularly
    on [moodledev.io/general/releases](http://moodledev.io/general/releases). If a
    planned feature is not ready for the imminent release, it will be moved to the
    next version; that is, a release date will never be changed, but the time when
    features will be introduced might be.
  prefs: []
  type: TYPE_NORMAL
- en: The release frequency for **major versions** (4.0, 4.1, and so on) is twice
    a year (the second Monday of May and November).
  prefs: []
  type: TYPE_NORMAL
- en: Moodle releases **minor versions** (4.1.1, 4.1.2, and so on) on the second Monday
    of March, May, July, September, and November. The same applies to unscheduled
    releases in the case of a severe security issue or serious regression being fixed.
  prefs: []
  type: TYPE_NORMAL
- en: 'Moodle distinguishes between two types of releases:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Standard support release**: Bugs will be fixed for 12 months, and security
    issues will be provided for 18 months'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Long-term support release**: Bugs will be fixed for 12 months, and security
    issues will be provided for 36 months'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The simplified release calendar is shown in the following timeline; you can
    find a more detailed version at [moodledev.io/general/releases](http://moodledev.io/general/releases):'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.3 – Moodle releases ](img/Figure_1.03_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.3 – Moodle releases
  prefs: []
  type: TYPE_NORMAL
- en: When Moodle 4.0 was released in April 2022, versions 3.9 to 3.11 were still
    supported. By the time Moodle 4.1 is released, only version 3.9 will be supported
    since its lifetime has been extended (hence the long-long-term support label)
    to give admins more time to upgrade to the version 4 branch.
  prefs: []
  type: TYPE_NORMAL
- en: If you wish to stay up-to-date with future releases, check Moodle’s roadmap
    at [moodledev.io/general/community/roadmap](http://moodledev.io/general/community/roadmap),
    where you will find the current plans for the future technical development of
    all Moodle’s products and services.
  prefs: []
  type: TYPE_NORMAL
- en: OK, enough of version numbers and release dates. Let’s learn how to install
    (the latest version of) Moodle.
  prefs: []
  type: TYPE_NORMAL
- en: Installation in a LAMP environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Moodle is developed in Linux using Apache, MySQL, and PHP (known as the **LAMP
    stack**). If you have a choice, this is the preferred environment to use. There
    is an ongoing debate about whether PostgreSQL is the more suitable database option,
    but we will stick with MySQL/MariaDB as this is the system most administrators
    are familiar with. Also, some organizations are bound to Microsoft SQL or Oracle.
    If this is the case, please refer to the respective installation guide, as this
    is beyond the scope of this book.
  prefs: []
  type: TYPE_NORMAL
- en: 'The high-level installation process is shown in the following process diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.4 – Moodle installation process ](img/Figure_1.04_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.4 – Moodle installation process
  prefs: []
  type: TYPE_NORMAL
- en: 'We will go through each phase in the remaining subsections, covering each installation
    step in a Linux environment. The process is the same for other operating systems,
    which we won’t cover; here are some pointers that should get you started:'
  prefs: []
  type: TYPE_NORMAL
- en: For Windows servers with a small number of users, the **XAMPP**-based Moodle
    distribution is suitable. XAMPP is a free Apache distribution that contains MySQL
    and PHP (as well as Perl) and exists for several operating systems. The Moodle
    distribution for Windows makes full use of XAMPP and is located at [download.moodle.org/windows](http://download.moodle.org/windows).
    The installation works on all the latest Windows PCs and server variants.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For larger **Windows** installations, you have to install Moodle manually, which
    involves installing a database server (MS SQL or any other supported system),
    a web server (Microsoft IIS or Apache), and PHP separately. You can find details
    about this process at [docs.moodle.org/en/Windows_installation](http://docs.moodle.org/en/Windows_installation).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAMP** is a free distribution that contains Apache (and Nginx), MySQL, and
    PHP for macOS. Like its Windows counterpart, the Moodle distributions for macOS
    are only intended for local installations and not for production environments.
    Moodle4Mac is available as universal binaries via MAMP, located at [download.moodle.org/macosx](http://download.moodle.org/macosx).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now, let’s go through the installation process, starting with downloading Moodle.
  prefs: []
  type: TYPE_NORMAL
- en: Downloading Moodle
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Go to [download.moodle.org](http://download.moodle.org) and select the latest
    release:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.5 – Moodle downloads ](img/Figure_1.05_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.5 – Moodle downloads
  prefs: []
  type: TYPE_NORMAL
- en: A newer version is likely to be available by the time you read this. If you
    wish to go with the 4.0.x version this book has been written for, select **Other
    supported releases**; otherwise, feel free to go with the latest stable build;
    most content in this book will still be applicable.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are five types of builds available on Moodle’s download site:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Latest release**: There are two releases for the current version of Moodle:
    the latest stable build and the latest official release. The latest stable version
    is created weekly (every Wednesday) and is the best choice for a new server. The
    latest official release contains the stable build and new fixes, but the version
    will not have gone through the weekly code review and might contain unresolved
    issues.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Other supported releases**: The Moodle development team maintains older versions
    than the current ones, as outlined in the release schedule earlier.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Security-only-supported releases**: Critical fixes impacting security or
    data loss will be provided for one further release, but no other bug fixes will
    be back-ported. See the information on Moodle versions provided earlier.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Legacy releases**: For older versions, the last build is made available.
    However, these are not maintained any further.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Development releases**: Moodle also gives you the option to download beta
    releases of the software (if available) and the latest development release. These
    should only be downloaded for testing or development purposes, never in production
    environments!'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Each version is made available in two compressed formats: TGZ (use the `tar`
    command to uncompress) and ZIP (use the `unzip` command to extract it). You can
    download them by clicking on the respective link or, if you have (secure) shell
    access, retrieving the file directly by using the `wget` command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: The location where you install Moodle is referred to as **dirroot**.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you make use of **Moodle Shell** (**MOOSH**), which is described in more
    detail in [*Chapter 17*](B18779_17.xhtml#_idTextAnchor325), *Working with Moodle
    Admin Tools*, you can use the following command to download the latest stable
    branch of Moodle:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have moved the file to the location where you want to install it on
    your web server (`dirroot`), extract the file using the `unzip` command or `tar`
    if you downloaded the TGZ version:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: If you place the entire folder in your web server documents directory, the site
    will be located at www.yourwebserver.com/moodle. To access your site from www.yourwebserver.com,
    copy the contents directly into the main web server’s documents directory.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: The URL via which Moodle is accessed is referred to as **wwwroot**.
  prefs: []
  type: TYPE_NORMAL
- en: Once the download step has been completed, you must create the database that
    Moodle uses to store its data.
  prefs: []
  type: TYPE_NORMAL
- en: Creating the Moodle database
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Moodle requires a database where it can store its information. While sharing
    an existing database is possible, creating a separate database for Moodle is highly
    recommended. Adding a new database can either be done via a web interface, as
    provided for hosted servers, or via the command line.
  prefs: []
  type: TYPE_NORMAL
- en: Using a hosted server
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Most hosting providers provide a dedicated web interface to carry out basic
    database operations. Alternatively, you can use **phpMyAdmin**, open source software
    that allows you to manage MySQL databases over the web. phpMyAdmin is part of
    most Linux distributions and many control panels, but it is often configured not
    to allow new databases to be created. If this is the case, you must create the
    database from the database manager in your control panel.
  prefs: []
  type: TYPE_NORMAL
- en: 'phpMyAdmin allows you to perform both steps – creating a database and adding
    a new user – in a single action, as shown in the following screenshot. We will
    create a user, `packt`, and also check the **Create database with same name and
    grant all** **privileges** option:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.6 – Creating a Moodle database and user in phpMyAdmin ](img/Figure_1.06_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.6 – Creating a Moodle database and user in phpMyAdmin
  prefs: []
  type: TYPE_NORMAL
- en: While you can use an existing database user account, creating a dedicated user
    for the Moodle database is good practice.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: Do not use the MySQL root account for your Moodle database!
  prefs: []
  type: TYPE_NORMAL
- en: You don’t need to create any tables; Moodle will populate the database during
    installation.
  prefs: []
  type: TYPE_NORMAL
- en: Creating the Moodle database via a web interface is simple, but most technical
    administrators prefer to work via the command line.
  prefs: []
  type: TYPE_NORMAL
- en: Using the command line
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If you don’t have access to a web interface to create MySQL databases and user
    accounts, or if you prefer to use a Linux shell, you can perform these steps via
    the command line:'
  prefs: []
  type: TYPE_NORMAL
- en: Start the database command-line tool by entering `mysql -root -p` and enter
    the password at the prompt.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a database (called `packt`) by entering `CREATE DATABASE packt;` (all
    MySQL commands must be terminated with a semicolon).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Set the default character and collation order to `UTF8` by entering `ALTER DATABASE
    packt DEFAULT CHARACTER SET utf8 COLLATE` `utf8_unicode_ ci;`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a user and password (here, packt@localhost and password, respectively)
    and grant database access permissions by entering `GRANT SELECT, INSERT, UPDATE,
    DELETE, CREATE, CREATE TEMPORARY TABLES, DROP, INDEX, ALTER ON packt.* TO packt@localhost
    IDENTIFIED` `BY 'password';`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Exit the MySQL command tool by entering `QUIT`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'It is necessary to reload the grant tables using the following command line:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: With that, you have set up the database. All you have to do now is create Moodle’s
    data directory. Then, you can start installing Moodle itself.
  prefs: []
  type: TYPE_NORMAL
- en: Creating the Moodle data directory
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Moodle stores most of its information in the database you have just created.
    However, uploaded files such as assignments, course images, or user pictures are
    stored in a separate directory. This data directory in Moodle is usually referred
    to as **moodledata**.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: The location that holds your Moodle data files is referred to as `dataroot`.
  prefs: []
  type: TYPE_NORMAL
- en: Later, the Moodle installer will attempt to create this directory, but in some
    setups, this operation will fail due to security restrictions. To be on the safe
    side, it is better to create `moodledata` manually or via a web-based file manager,
    as provided by some systems.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: It is crucial to create `moodledata` on your server where it cannot be accessed
    publicly – that is, outside your web directory.
  prefs: []
  type: TYPE_NORMAL
- en: '`moodledata` is where all the uploaded files by course authors and learners
    will be stored, so ensure this is adequately dimensioned. You may also consider
    creating `moodledata` in a separate partition.'
  prefs: []
  type: TYPE_NORMAL
- en: Any `moodledata` permissions should be `rwxrwx---` (`chmod –R 0770 moodledata`).
    If you use `0777`, everybody on the server will have access to the files.
  prefs: []
  type: TYPE_NORMAL
- en: Change the user and group of the directory to that of your web server (usually,
    this will be `apache` or `www-data` and `nobody` or `www-data`) by entering `chown
    –R` `apache:nobody moodledata`.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you don’t have permission to create the data directory in a secure location,
    create the `.htaccess` file in your home directory and ensure it contains the
    following two lines:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: These two settings prevent files from being accessed without users having permission
    to do so.
  prefs: []
  type: TYPE_NORMAL
- en: We have completed the first three steps – downloading Moodle, creating the database,
    and preparing `moodledata` – which are the prerequisites for running the installer
    script.
  prefs: []
  type: TYPE_NORMAL
- en: Running the installer script
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The installer script performs two main actions – populating the database and
    creating the configuration file, `config.php`. The Moodle installer is initiated
    by entering the URL of `wwwroot` (the location where you copied Moodle) into your
    web browser; Moodle will recognize that it hasn’t been installed yet and start
    the process automatically.
  prefs: []
  type: TYPE_NORMAL
- en: The Moodle installer has to set a session cookie. If your browser has been configured
    to trigger a warning, make sure you accept that cookie.
  prefs: []
  type: TYPE_NORMAL
- en: 'The first screen lets you choose the language to be used during installation
    – this is not the locale used for Moodle, only the language for the installation:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.7 – Moodle installation – Choose a language ](img/Figure_1.07_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.7 – Moodle installation – Choose a language
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot displays the expected values for the `wwwroot`), the
    `dirroot`) entry, and the `dataroot`) entry; you might have to modify the `moodledata`
    differs:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.8 – Moodle installation – Confirm paths ](img/Figure_1.08_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.8 – Moodle installation – Confirm paths
  prefs: []
  type: TYPE_NORMAL
- en: If `dataroot` cannot be located or does not have the correct permissions, an
    error message containing details will be displayed. The same applies if `dataroot`
    is accessible directly via the web and is not secure.
  prefs: []
  type: TYPE_NORMAL
- en: 'You must select which database you wish to use on the following screen. Only
    the drivers for MySQL, MariaDB, Aurora MySQL, and PostgresSQL are installed on
    my system. The respective PHP extension must be installed first if you wish to
    use other database systems such as Oracle or MS SQL Server:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.9 – Moodle installation – Choose database driver ](img/Figure_1.09_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.9 – Moodle installation – Choose database driver
  prefs: []
  type: TYPE_NORMAL
- en: 'This interface uses the configuration details previously established. The following
    screenshot shows the required fields but will look slightly different if you have
    chosen a database driver other than MySQL:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.10 – Moodle installation – Database settings ](img/Figure_1.10_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.10 – Moodle installation – Database settings
  prefs: []
  type: TYPE_NORMAL
- en: The `localhost` (`127.0.0.1`), which is correct if the database is located on
    the same server as the web server. If it is located on a separate server, specify
    the IP address (preferably unresolved to improve performance).
  prefs: []
  type: TYPE_NORMAL
- en: All the tables the Moodle installer will create will be prefixed with `mdl_`.
    The **Tables prefix** entry should only be changed if you run multiple Moodle
    installations using the same database.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the Moodle installer checks whether certain components have been installed.
    Not all the modules are compulsory – see the *Moodle prerequisites* section of
    this chapter and the notice on-screen. The installer also verifies the critical
    PHP settings. If any of the tests have not passed, you must go back to the *Software
    requirements* section to resolve any problems and restart the installation process
    after the issues have been fixed. Otherwise, some features may not work, or the
    installer will not continue, depending on the importance of the module:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.11 – Moodle installation – Server checks ](img/Figure_1.11_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.11 – Moodle installation – Server checks
  prefs: []
  type: TYPE_NORMAL
- en: When you have confirmed the server check screen, the installer will display
    Moodle’s copyright notice, which you must confirm. The appearance of this screen
    also means that the Moodle configuration file, `config.php`, has been successfully
    created. The installer will display the config file’s content if the creation
    fails (usually because of incorrect permissions). You will have to copy the text
    from the screen and paste it manually into `config.php` in your `dirroot`.
  prefs: []
  type: TYPE_NORMAL
- en: Once you have accepted the agreement (you can find the full text of the GPL
    license at [docs.moodle.org/dev/License](http://docs.moodle.org/dev/License)),
    all the database tables will be created. This process might take a few minutes.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the table has been created and populated, you will see the screen where
    you can set up the administrator account. The default **Username** is admin, which
    should be changed for security reasons. You must fill in the following self-explanatory
    fields: **New password**, **First name**, **Surname**, and **Email address**.
    In [*Chapter 5*](B18779_05.xhtml#_idTextAnchor092), *Managing Users, Cohorts,
    and Authentication*, all other fields will be explained in great detail:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.12 – Moodle installation – setting up the admin account ](img/Figure_1.12_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.12 – Moodle installation – setting up the admin account
  prefs: []
  type: TYPE_NORMAL
- en: The last screen of the installation script asks you to enter some home page
    settings; namely, **Full site name**, **Short name for site**, and **Site home
    summary**. These home page settings can be modified later (see [*Chapter 7*](B18779_07.xhtml#_idTextAnchor140),
    *Enhancing Moodle’s Look* *and Feel*).
  prefs: []
  type: TYPE_NORMAL
- en: Change the **Default timezone** entry to the location of your server, not your
    location. The installer allows you to turn on **Self registration**. Leave this
    disabled for now until you have read [*Chapter 5*](B18779_05.xhtml#_idTextAnchor092),
    *Managing Users, Cohorts, and Authentication*. You must also provide a **Support
    email** (for your user queries) and a **No-reply address** (to avoid email issues).
  prefs: []
  type: TYPE_NORMAL
- en: Once this information has been entered and the screen has been confirmed, you
    are ready to start using Moodle. However, first, you must set up the execution
    of Moodle’s maintenance script.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up the cron process
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Moodle has to perform plenty of background tasks regularly.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: The **cron script**, executed by the **cron process**, performs Moodle’s background
    tasks.
  prefs: []
  type: TYPE_NORMAL
- en: An entire page has been dedicated to cron in the Moodle documentation; you can
    find it at [docs.moodle.org/en/Cron](http://docs.moodle.org/en/Cron). You must
    set up the cron process; otherwise, any timed Moodle features, such as scheduled
    backups, sending forum notifications, statistics processing, and so on, will not
    work.
  prefs: []
  type: TYPE_NORMAL
- en: The script, `cron.php`, is located in the admin directory and can be triggered
    manually through a web browser (if allowed in the security settings). Once executed,
    the output from the script (`<yoursite>/admin/cron.php`) is shown on-screen, and
    you have to navigate back to your Moodle system manually.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are several ways to call the cron script. The most popular option is
    via the `wget` command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: However, if this does not suit your setup, check out [docs.moodle.org/en/Cron](http://docs.moodle.org/en/Cron)
    for alternatives.
  prefs: []
  type: TYPE_NORMAL
- en: Most control panels allow you to set up scheduled tasks via a cron job management
    tool. Bear in mind that this is not part of Moodle but part of your hosting package.
    Alternatively, you can create a crontab entry, a file located in the `/etc` directory
    that contains all the system-wide cron entries. This file can also be edited manually
    using `crontab -e`, but ensure you get the syntax right!
  prefs: []
  type: TYPE_NORMAL
- en: 'To run the CLI cron script every minute, add the following line, replacing
    `<yourpath>` with the directory where your Moodle system is located (`dirroot`):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: It is highly recommended to run the cron process every minute!
  prefs: []
  type: TYPE_NORMAL
- en: That’s it. Moodle is now ready to go. Two optional steps you should quickly
    run through are covered in the next section.
  prefs: []
  type: TYPE_NORMAL
- en: Finalizing the installation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To make sure that Moodle is running without problems, go to **Notifications**
    in the **Site administration** menu of the **General** tab:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.13 – Moodle installation – checking system notifications ](img/Figure_1.13_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.13 – Moodle installation – checking system notifications
  prefs: []
  type: TYPE_NORMAL
- en: In the case of my installation, there are two issues – the cron script has not
    been configured and the mobile app is not enabled. I need to fix the former issue;
    the latter can wait until [*Chapter 11*](B18779_11.xhtml#_idTextAnchor216), *Enabling
    Mobile Learning*. Other messages might appear in the **Notifications** area, and
    you should resolve them promptly.
  prefs: []
  type: TYPE_NORMAL
- en: Moodle provides some statistics about its usage on [moodle.net/stats](http://moodle.net/stats),
    and to be included in these figures, you have to register your Moodle site via
    **Site administration** | **General** | **Registration**. Registration with Moodle
    is optional and free, and you decide what information will be made public.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: Even if you opt out of providing any usage patterns for your site, it is still
    highly recommended to register to receive information on new Moodle releases,
    security alerts, and other important news.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the registration form, alongside a screenshot from the public
    statistics:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.14 – Moodle registration and statistics ](img/Figure_1.14_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.14 – Moodle registration and statistics
  prefs: []
  type: TYPE_NORMAL
- en: This concludes the installation process for Moodle in a LAMP environment. If
    you have encountered any issues that have not been covered in these instructions
    or if your setup differs from the one described, go to [docs.moodle.org/en/Installing_Moodle](http://docs.moodle.org/en/Installing_Moodle),
    where more installation details are provided, and exceptions are covered in great
    detail.
  prefs: []
  type: TYPE_NORMAL
- en: An alternative to installing Moodle via the web interface is via the **command-line
    interface** (**CLI**), which is the topic of the following section.
  prefs: []
  type: TYPE_NORMAL
- en: Installation via the command-line interface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Moodle provides a CLI that lets you perform several administrative tasks from
    the Unix shell prompt. There is no CLI for Windows-based systems. CLI-based installations
    are useful if you need to automate setups, for example, in an environment where
    you host multiple Moodle instances.
  prefs: []
  type: TYPE_NORMAL
- en: The CLI is not for the faint-hearted, so be careful when using it. You must
    execute the installation script as the web server user, usually `www-data` or
    `apache`. You can run the installation script, `install.php`, in interactive mode
    (you will have to enter any parameters by hand) or in non-interactive mode, where
    the script will run silently.
  prefs: []
  type: TYPE_NORMAL
- en: 'From your `dirroot`, you can initiate the interactive script as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'Something more interesting is the CLI’s non-interactive mode, as this can be
    used for scripting and automation purposes. A list of all the available parameters
    can be displayed using the `--``help` command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'The output of the executed command is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.15 – Moodle installation via the CLI ](img/Figure_1.15_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.15 – Moodle installation via the CLI
  prefs: []
  type: TYPE_NORMAL
- en: 'An example command line would look similar to the following, where you will
    have to adjust the parameters to your local setup:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: More Moodle tasks can be administered via the CLI, for example, resetting passwords
    or putting Moodle in maintenance mode. We will show the relevant syntax at the
    appropriate places throughout this book and have also dedicated a section to the
    CLI in [*Chapter 17*](B18779_17.xhtml#_idTextAnchor325), *Working with Moodle*
    *Admin Tools*.
  prefs: []
  type: TYPE_NORMAL
- en: Once your Moodle system is up and running, you need to ensure that it is kept
    up to date. Updating Moodle manually and via the command line is covered in the
    following section.
  prefs: []
  type: TYPE_NORMAL
- en: Updating Moodle
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We provided an overview of Moodle’s release calendar earlier in this chapter.
    There is usually no need to install every single minor point release; however,
    there are several scenarios when you should upgrade your Moodle system:'
  prefs: []
  type: TYPE_NORMAL
- en: Security patches have been issued
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: New features have been added
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bugs have been fixed that affect your setup
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A major version is released
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The support cycle of your setup comes to an end
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'There are principally two ways Moodle systems can be updated: you can run updates
    manually (using the web interface or the CLI) or stay up to date using Git commands.
    Both procedures will be described in this section.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Either way, before you start, ensure you put Moodle in maintenance mode to
    ensure that no other user is logged in during the update. Go to **Site administration**
    | **Server** | **Maintenance mode**, choose **Enable** for **Maintenance mode**,
    and enter a maintenance message:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.16 – Enabling maintenance mode ](img/Figure_1.16_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.16 – Enabling maintenance mode
  prefs: []
  type: TYPE_NORMAL
- en: 'You can also put Moodle in maintenance mode using its CLI, as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Using the `--enablelater=MINUTES` flag, you can specify the period before entering
    CLI maintenance mode, which is useful when you run an automatic update.
  prefs: []
  type: TYPE_NORMAL
- en: 'To change back to normal mode, use the `--disable` parameter instead of `--enable`,
    as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: Once Moodle has been put in maintenance mode, you are ready to update your Moodle
    system.
  prefs: []
  type: TYPE_NORMAL
- en: Updating Moodle manually
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The high-level process for updating Moodle manually is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.17 – Updating Moodle ](img/Figure_1.17_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.17 – Updating Moodle
  prefs: []
  type: TYPE_NORMAL
- en: If you update from a previous version of Moodle, the process is the same. However,
    double-check the upgrading document at [docs.moodle.org/en/Upgrading](http://docs.moodle.org/en/Upgrading)
    for any version-specific issues.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: You have to be at least on version 3.6 to update directly to Moodle 4\. If you’re
    upgrading from earlier versions, you must upgrade to 3.6 as a first step.
  prefs: []
  type: TYPE_NORMAL
- en: Before you install a new update, it is highly recommended that you run a `moodledata`,
    and `dirroot` (in particular, `config.php`).
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, let’s go through the update workflow step by step:'
  prefs: []
  type: TYPE_NORMAL
- en: '**New version**'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once you have created a backup, it is time to replace the old version of `dirroot`
    with the latest code. Simply copy the new files over the existing ones; existing
    files will be overridden, except `config.php`, which is not part of the download
    bundle.
  prefs: []
  type: TYPE_NORMAL
- en: 'Alternatively, you can rename the old `dirroot` folder and create a new directory.
    However, you must copy the following files and directories from your old directory
    to your new `dirroot`:'
  prefs: []
  type: TYPE_NORMAL
- en: '`config.php`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`.htaccess` (if present)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Any theme folders that have been created
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Any modified language packs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The content of the local directory
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Any third-party modules and custom code not located in `local`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Once you go to the location of your Moodle site and log in as an administrator,
    the system will recognize that a new version is available and kick off the installer
    automatically.
  prefs: []
  type: TYPE_NORMAL
- en: 'The first screen displays the build of the new version (here, 4.0.2) and asks
    you to confirm that you wish to go ahead with the upgrade:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.18 – Updating Moodle – New version ](img/Figure_1.18_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.18 – Updating Moodle – New version
  prefs: []
  type: TYPE_NORMAL
- en: '**Server checks**'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, a screen is displayed that links the release notes and performs the same
    server check as the one described during installation.
  prefs: []
  type: TYPE_NORMAL
- en: '**Plugins check**'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Moodle plugins, whether core (**Standard**) or third-party (**Additional**),
    sometimes cause problems when upgrading Moodle. The **Source/Status** column highlights
    any actions required or problems found, and you should resolve any issues. Refer
    to [*Chapter 8*](B18779_08.xhtml#_idTextAnchor168), *Understanding Moodle Plugins*,
    for more details:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.19 – Updating Moodle – Plugins check ](img/Figure_1.19_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.19 – Updating Moodle – Plugins check
  prefs: []
  type: TYPE_NORMAL
- en: '**System upgrade**'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once this screen has been confirmed, the actual system upgrade starts, during
    which new database fields are created, and data is modified if and when necessary.
  prefs: []
  type: TYPE_NORMAL
- en: '**New settings**'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Any new system settings added to Moodle are shown and can be changed straight
    away. For example, in the following screenshot, a new **Number of participants
    per page** parameter has been added:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.20 – Updating Moodle – New settings ](img/Figure_1.20_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.20 – Updating Moodle – New settings
  prefs: []
  type: TYPE_NORMAL
- en: Once the upgrade process has been completed, check the **Notifications** page.
    Also, don’t forget to turn off **Maintenance mode**!
  prefs: []
  type: TYPE_NORMAL
- en: An alternative to manually updating Moodle is to utilize the CLI, which we will
    cover in the following subsection.
  prefs: []
  type: TYPE_NORMAL
- en: Updating Moodle via the CLI
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'As expected, Moodle updates can also be run using the already-discussed CLI.
    Once you have backed up your data and updated to the latest version, all you need
    to do is run the following script:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: Updating Moodle via the CLI is even more powerful when combined with the Git
    checkout of the Moodle source code. That is what we’ll look at next.
  prefs: []
  type: TYPE_NORMAL
- en: An alternative approach exists to keep a current version up to date, which uses
    the open source versioning system **Git**. All checked-in Moodle code is made
    available via this method, which only allows you to update the modules that have
    changed.
  prefs: []
  type: TYPE_NORMAL
- en: 'Setting up Git is a cumbersome process, which is beyond the scope of this book.
    You can find details at [docs.moodle.org/en/Git_for_Administrators](http://docs.moodle.org/en/Git_for_Administrators).
    However, once set up, Git is a very streamlined system, particularly in conjunction
    with the CLI mentioned earlier. The following is a sample script that gets the
    latest version of the source code, puts Moodle in maintenance mode, merges the
    old code with the new, runs the upgrade script, and disables maintenance mode:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: 'The execution of the `git fetch` command can be seen in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.21 – Fetching the new Moodle version ](img/Figure_1.21_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.21 – Fetching the new Moodle version
  prefs: []
  type: TYPE_NORMAL
- en: If you have changed any core code, potential conflicts might arise and must
    be resolved (Git will prompt you to do so).
  prefs: []
  type: TYPE_NORMAL
- en: Most commercial Moodle providers use Git to keep their Moodle instances up to
    date. If you feel comfortable using shell scripts, this should be your preferred
    method since it streamlines the update workflow and reduces the number of issues
    that can arise.
  prefs: []
  type: TYPE_NORMAL
- en: 'There is one last issue we haven’t covered yet: when do you know that updates
    are available? That’s what update notifications are there for.'
  prefs: []
  type: TYPE_NORMAL
- en: Update notifications
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Moodle can notify you about a newly available version via email or message.
    To support this feature, the **Automatically check for available updates** setting
    under **Site administration** | **Server** | **Update notifications** has to remain
    enabled, as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.22 – Update notifications ](img/Figure_1.22_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.22 – Update notifications
  prefs: []
  type: TYPE_NORMAL
- en: On your production site, the **Required code maturity** option should be set
    to **Stable version**; other maturity levels should only be considered on test
    instances. The same holds for the **Notify about new** **builds** parameter.
  prefs: []
  type: TYPE_NORMAL
- en: 'Alternatively, you can check for updates (core and plugins) by going to **Site
    administration** | **General** | **Notifications**. This information is updated
    every 24 hours via the cron process you set up earlier and takes into account
    the update notification settings. You can also initiate the request via the **Check
    for available** **updates** button:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.23 – Update notifications ](img/Figure_1.23_B18779.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1.23 – Update notifications
  prefs: []
  type: TYPE_NORMAL
- en: This concludes this section on updating your Moodle site, both manually and
    via the command line.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter taught you how to install and update Moodle.
  prefs: []
  type: TYPE_NORMAL
- en: After providing an overview describing the most suitable setup, we outlined
    the necessary software and hardware requirements and described Moodle’s versioning
    strategy and release calendar.
  prefs: []
  type: TYPE_NORMAL
- en: Then, we covered Moodle’s installation via the web and its powerful CLI. We
    did the same for Moodle upgrades, where we briefly introduced Git.
  prefs: []
  type: TYPE_NORMAL
- en: The fact that Moodle uses a portable software architecture and facilitates standard
    open source components allows it to be installed on multiple platforms. However,
    this also means that different peculiarities and quirks must be considered in
    different environments.
  prefs: []
  type: TYPE_NORMAL
- en: Now that your system is up and running, in the next chapter, we’ll look at the
    components of Moodle, which will give you a better understanding of the system
    and how to administer it.
  prefs: []
  type: TYPE_NORMAL

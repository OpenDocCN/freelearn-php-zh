- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Multilingual and Internationalization
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 多语言和国际化
- en: One of the greatest strengths of Drupal has always been its ability to provide
    multilingual and internationalization capabilities. Not only can you empower content
    editors with the ability to add site content in multiple languages, but you can
    also translate the administrative interface.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 最伟大的优势之一一直是其提供多语言和国际化的能力。您不仅可以让内容编辑员能够以多种语言添加网站内容，还可以翻译管理界面。
- en: This chapter will cover the multilingual and internationalization features of
    **Drupal 10**, which have been greatly enhanced in each release since **Drupal
    6**. The previous version of Drupal required many extra modules to provide internationalization
    efforts, but now the majority is provided by Drupal core.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍 **Drupal 10** 的多语言和国际化功能，这些功能自 **Drupal 6** 以来在每次发布中都得到了极大的增强。Drupal 的早期版本需要许多额外的模块来提供国际化工作，但现在大多数功能都由
    Drupal 核心提供。
- en: 'Drupal core provides the following multilingual modules:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 核心提供了以下多语言模块：
- en: '**Language**: This provides you with the ability to detect and support multiple
    languages'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言**：这为您提供了检测和支持多种语言的能力'
- en: '**Interface translation**: This takes installed languages and translates strings
    that are presented through the user interface'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**界面翻译**：这会将已安装的语言翻译成通过用户界面呈现的字符串'
- en: '**Configuration translation**: This allows you to translate configuration entities,
    such as date formats and views'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配置翻译**：这允许您翻译配置实体，例如日期格式和视图'
- en: '**Content translation**: This brings the power of providing content in different
    languages and displaying in the current language of the user'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容翻译**：这带来了提供不同语言内容并在用户当前语言中显示的强大功能'
- en: Each module serves a specific purpose in creating a multilingual experience
    for your Drupal site. Under the hood, Drupal supports the language code for all
    entities and cache contexts. These modules expose the interfaces to implement
    and deliver internationalized experiences.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 每个模块在为您的 Drupal 网站创建多语言体验方面都发挥着特定的作用。在底层，Drupal 支持所有实体和缓存上下文的语言代码。这些模块公开了接口以实现和提供国际化体验。
- en: 'In this chapter, we will cover the following recipes to make your site multilingual
    and internationalized:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下食谱，以使您的网站实现多语言和国际化的功能：
- en: Determining how the current language is selected
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定当前语言的选择方式
- en: Translating administrative interfaces
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 翻译管理界面
- en: Translating configurations
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 翻译配置
- en: Translating content
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 翻译内容
- en: Creating multilingual views
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建多语言视图
- en: Determining how the current language is selected
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确定当前语言的选择方式
- en: Out of the box, Drupal is capable of determining which language it should show
    for both the content and user interface without much more than adding a few settings
    from the admin screen. This is a required step in making sure that, at all times,
    the appropriate language is used for each user when presenting content.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Drupal 能够确定它应该显示的内容和用户界面语言，而无需在管理屏幕上添加更多设置。这是确保在所有时间，向每个用户展示内容时都使用适当的语言所必需的步骤。
- en: The following recipe will show you how to set the parameters for how Drupal
    decides which language to use to present content on a page to a user. There are
    a handful of ways you can detect the language to use.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 以下食谱将向您展示如何设置 Drupal 决定在页面上向用户展示内容时使用哪种语言的参数。您有几种方法可以检测要使用哪种语言。
- en: Getting ready
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: First, log in to your Drupal site and go to the **Extend** section of the admin.
    Enable the **Language**, **Content Translation**, and **Interface** **Translation**
    modules.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，登录到您的 Drupal 网站，并转到管理界面中的 **扩展** 部分。启用 **语言**、**内容翻译** 和 **界面翻译** 模块。
- en: How to do it…
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Next, navigate to the **Administration** | **Configuration** | **Regional and
    Language** | **Languages** sections of the admin.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，导航到管理界面中的 **管理** | **配置** | **区域和语言** | **语言** 部分。
- en: 'Click on the **Detection and selection** tab. There are two sections on this
    screen:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **检测和选择** 选项卡。在此屏幕上有两个部分：
- en: 'The top section, **Interface text language detection**, lets you dictate how
    the current language is selected for the interface text:'
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶部部分，**界面文本语言检测**，允许您指定如何选择界面文本的当前语言：
- en: '![Figure 11.1 – Language detection options in the admin screen](img/Figure_11.01_B18548.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.1 – 管理屏幕中的语言检测选项](img/Figure_11.01_B18548.jpg)'
- en: Figure 11.1 – Language detection options in the admin screen
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.1 – 管理屏幕中的语言检测选项
- en: 'As you can see, there are many language detection methods available: **Account
    administration pages**, **URL**, **Session**, **User**, **Browser**, and **Selected
    language**.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正如你所见，有许多可用的语言检测方法：**账户管理页面**、**URL**、**会话**、**用户**、**浏览器**和**选择的语言**。
- en: 'The second section, **Content language detection**, lets you dictate how the
    current language is selected when displaying content to users (browsing the site):'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个部分，**内容语言检测**，允许你指定在向用户显示内容（浏览网站）时如何选择当前语言：
- en: '![Figure 11.2 – Customize Content language detection to differ from Interface
    text language detection settings](img/Figure_11.02_B18548.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图11.2 – 自定义内容语言检测以区别于界面文本语言检测设置](img/Figure_11.02_B18548.jpg)'
- en: Figure 11.2 – Customize Content language detection to differ from Interface
    text language detection settings
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.2 – 自定义内容语言检测以区别于界面文本语言检测设置
- en: So, there are two options available – **content language** and **interface**.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，有两个选项可供选择——**内容语言**和**界面**。
- en: How it works…
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Drupal is capable of detecting and setting the current language in a variety
    of ways. How does it know how to do this?
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal能够以多种方式检测和设置当前语言。它是如何知道如何做到这一点的呢？
- en: Under the hood, Drupal evaluates these language detection settings through its
    `LanguageNegotiator` class when a response is being generated to serve the user.
    It chooses the detected language based on the order and configuration of the settings.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在幕后，Drupal通过其`LanguageNegotiator`类在生成响应以服务用户时评估这些语言检测设置。它根据设置的顺序和配置选择检测到的语言。
- en: The `LanguageNegotiator` class evaluates the language detection settings in
    order, which are evaluated using their specific language negotiation plugin implementations,
    located in the `modules/language/src/Plugin/LanguageNegotiation` directory within
    Drupal.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '`LanguageNegotiator`类按顺序评估语言检测设置，这些设置是通过它们特定的语言协商插件实现来评估的，这些插件位于Drupal的`modules/language/src/Plugin/LanguageNegotiation`目录中。'
- en: There’s more…
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: Let’s look at the two sections of the **Detection and** **selection** tab.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看**检测和选择**标签页的两个部分。
- en: Interface text language detection
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 界面文本语言检测
- en: As stated, Drupal is capable of providing translation and language detection
    capabilities for content and the interface itself, as shown in *Figure 11**.1*.
    On top of that, Drupal is also capable of controlling these rules for both scenarios,
    allowing maximum flexibility for users and editors regarding what language they
    see in different areas of the site.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如所述，Drupal能够为内容和界面本身提供翻译和语言检测功能，如图*图11.1*所示。除此之外，Drupal还能够控制这两种情况下的规则，使用户和编辑在网站的不同区域看到的语言具有最大灵活性。
- en: 'Let’s look at the detection methods displayed in *Figure 11**.1*:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看*图11.1*中显示的检测方法：
- en: '**Account administration pages**: This option allows users who have access
    to the administration area of Drupal to set the preferred language of the administration
    interface. When you enable this option, a new field appears on the **User** form
    that lets you select which language to use. This is useful for users who may want
    to have the Drupal admin in one language while reviewing the site/editing content
    in another language. In this example, a user is setting the administrative language
    to **Spanish**:'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**账户管理页面**：此选项允许有权访问Drupal管理区域的用户设置管理界面的首选语言。当你启用此选项时，用户表单上会出现一个新字段，允许你选择要使用哪种语言。这对于可能希望将Drupal管理界面设置为一种语言，同时在另一种语言中审查/编辑内容的用户来说很有用。在这个例子中，用户将管理语言设置为**西班牙语**：'
- en: '![Figure 11.3 – Selecting Spanish as the Drupal admin language in the user
    account](img/Figure_11.03_B18548.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![图11.3 – 在用户账户中选择Drupal管理语言为西班牙语](img/Figure_11.03_B18548.jpg)'
- en: Figure 11.3 – Selecting Spanish as the Drupal admin language in the user account
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.3 – 在用户账户中选择Drupal管理语言为西班牙语
- en: '`/es/admin/config/languages`, `es` is the language code, and Spanish would
    be used to translate the interface text for the user. The language code in the
    URL will always be set to **Spanish** in this case.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/es/admin/config/languages`，其中`es`是语言代码，并且将使用西班牙语来翻译用户界面的文本。在这种情况下，URL中的语言代码始终设置为**西班牙语**。'
- en: '`/foo/bar?language=es`) or a session parameter:'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: （`/foo/bar?language=es`）或会话参数：
- en: '![Figure 11.4 – Setting the session parameter that will trigger the translation
    language to use](img/Figure_11.04_B18548.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图11.4 – 设置将触发翻译语言使用的会话参数](img/Figure_11.04_B18548.jpg)'
- en: Figure 11.4 – Setting the session parameter that will trigger the translation
    language to use
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.4 – 设置将触发翻译语言使用的会话参数
- en: '**User**: This option will set the current language, based on the language
    preference in the Drupal user account under **Site language**. If a user edits
    their account, they will see this option and be able to set it to any of the listed
    languages.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**：此选项将根据**站点语言**下Drupal用户账户的语言偏好设置当前语言。如果用户编辑他们的账户，他们将看到此选项，并能够将其设置为列出的任何语言。'
- en: '**Browser**: This option will set the current language based on the user’s
    browser preferences (Chrome, Firefox, or Safari).'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**浏览器**：此选项将根据用户的浏览器偏好设置（Chrome、Firefox或Safari）设置当前语言。'
- en: '**Selected language**: This option lets an admin set the default sitewide language.
    This is typically used as a final fallback setting if none of the preceding options
    are enabled or configured.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择语言**：此选项允许管理员设置整个站点的默认语言。这通常用作最后的回退设置，如果前面的选项都没有启用或配置。'
- en: Content language detection
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 内容语言检测
- en: These options will determine how the current language is set when displaying
    content to a user. They will only appear if you enable the **Customize Content
    language detection to differ from Interface text language detection settings**
    checkbox just under its heading, as shown in *Figure 11**.2*.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 这些选项将确定在向用户显示内容时如何设置当前语言。只有当你启用其标题下方刚刚提到的**自定义内容语言检测以区别于界面文本语言检测设置**复选框时，它们才会出现，如图*图11**.2*所示。
- en: 'When enabled, you can set different criteria for language detection when viewing
    content. If not, the interface text settings are inherited. Most of the available
    options in this section are the same as the ones we already mentioned, except
    for two:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 当启用时，你可以设置不同的标准来检测查看内容时的语言。如果不启用，则继承界面文本设置。本节中大多数可用的选项与我们之前提到的相同，只是有两个例外：
- en: '`language_content_entity` request parameter in the URL'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: URL中的`language_content_entity`请求参数
- en: '**Interface**: Enabling this option will use whatever language was detected
    from the interface text detection configuration from the previous section'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**界面**：启用此选项将使用上一节中界面文本检测配置中检测到的任何语言。'
- en: Important note
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Take note that in both sections, the options are listed in a draggable table
    – you can set the language detection priority by moving them up or down the list.
    In most cases, however, the default settings are just fine and work for most scenarios.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在两个部分中，选项都列在一个可拖动的表格中 - 你可以通过上下移动它们来设置语言检测的优先级。然而，在大多数情况下，默认设置就足够好了，适用于大多数场景。
- en: Translating administrative interfaces
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 翻译管理界面
- en: The interface translation module provides a method for translating strings found
    in the Drupal user interface. Harnessing the `Language` module, interface translations
    are automatically downloaded from the Drupal translation server. By default, the
    interface language is loaded through the language code as a path prefix. With
    the default `Language` configuration, paths will be prefixed with the default
    language.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 接口翻译模块提供了一个翻译Drupal用户界面中找到的字符串的方法。通过利用`Language`模块，接口翻译会自动从Drupal翻译服务器下载。默认情况下，接口语言是通过语言代码作为路径前缀来加载的。在默认的`Language`配置下，路径将以默认语言为前缀。
- en: Interface translations are based on strings provided in the code that are passed
    through the internal translation functions.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 接口翻译基于代码中提供的字符串，这些字符串通过内部翻译函数进行传递。
- en: In this recipe, we will enable Spanish, import the language files, and review
    the translated interface strings to provide missing or custom translations.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将启用西班牙语，导入语言文件，并审查翻译的界面字符串，以提供缺失或自定义翻译。
- en: Getting ready
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Drupal provides an automated installation process for translation files. For
    this to work, your web server must be able to communicate with [https://localize.drupal.org/](https://localize.drupal.org/).
    If your web server cannot automatically download the files from the translation
    server, you can refer to the manual installation instructions, which will be covered
    in the *There’s* *more…* section.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal为翻译文件提供自动安装过程。为了使其工作，你的Web服务器必须能够与[https://localize.drupal.org/](https://localize.drupal.org/)进行通信。如果你的Web服务器无法从翻译服务器自动下载文件，你可以参考手动安装说明，这些说明将在*更多…*部分中介绍。
- en: How to do it…
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Go to **Extend** and install the **Interface Translation** module. It will prompt
    you to enable the **Language**, **File**, and **Field** modules to also be installed
    if they are not already.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 **扩展** 并安装 **接口翻译** 模块。如果尚未安装，它将提示您启用 **语言**、**文件** 和 **字段** 模块。
- en: After the module is installed, click on **Configuration**. Go to the **Languages**
    page under the **Regional and** **Language** section.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模块安装后，点击 **配置**。在 **区域和语言** 部分下转到 **语言** 页面。
- en: 'Click on **Add language** in the languages overview table:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在语言概览表中点击 **添加语言**。
- en: '![Figure 11.5 – The language overview section in the admin](img/Figure_11.05_B18548.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.5 – 管理界面中的语言概览部分](img/Figure_11.05_B18548.jpg)'
- en: Figure 11.5 – The language overview section in the admin
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.5 – 管理界面中的语言概览部分
- en: The **Add language** page provides a select list of all available languages
    that the interface can be translated to. Select **Spanish**, and then click on
    **Add language**.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**添加语言** 页面提供了一个选择列表，列出了所有可翻译到接口的语言。选择 **西班牙语**，然后点击 **添加语言**。'
- en: A batch process will run; install the translation language files, and import
    them.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将运行一个批处理过程；安装翻译语言文件，并导入它们。
- en: 'The **INTERFACE TRANSLATION** column specifies the percentage of active translatable
    interface strings that have a matching translation. Clicking on the link allows
    you to view the **User interface** **translation** form:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**接口翻译** 列指定了具有匹配翻译的活跃可翻译接口字符串的百分比。点击链接可以查看 **用户界面** **翻译** 表单：'
- en: '![Figure 11.6 – The language overview screen with a newly added language, Spanish](img/Figure_11.06_B18548.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.6 – 包含新添加的语言西班牙语的语言概览屏幕](img/Figure_11.06_B18548.jpg)'
- en: Figure 11.6 – The language overview screen with a newly added language, Spanish
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.6 – 包含新添加的语言西班牙语的语言概览屏幕
- en: The **Filter Translatable Strings** form allows you to search for translated
    strings or untranslated strings. Select **Only untranslated strings** from the
    **Search in** drop-down list and click on **Filter**.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**过滤器可翻译字符串** 表单允许您搜索翻译后的字符串或未翻译的字符串。从 **搜索范围** 下拉列表中选择 **仅未翻译字符串**，然后点击 **过滤**。'
- en: Using the textbox on the right-hand side of the screen, a custom translation
    can be added to **Only untranslated strings**. Type in a translation for the item.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用屏幕右侧的文本框，可以为 **仅未翻译字符串** 添加自定义翻译。输入条目的翻译。
- en: '![Figure 11.7 – Translating raw strings for Spanish in the admin](img/Figure_11.07_B18548.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.7 – 在管理界面中翻译西班牙语的原始字符串](img/Figure_11.07_B18548.jpg)'
- en: Figure 11.7 – Translating raw strings for Spanish in the admin
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.7 – 在管理界面中翻译西班牙语的原始字符串
- en: Click on **Save translations** to save the modification.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **保存翻译** 以保存修改。
- en: Go to `/es/node/add`, and you will notice that the `Basic` page content type
    description will now match your translation.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 `/es/node/add`，您会注意到 `基本` 页面内容类型的描述现在与您的翻译相匹配。
- en: How it works…
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The interface translation module provides `\Drupal\locale\LocaleTranslation`,
    which implements `\Drupal\Core\StringTranslation\Translator\TranslatorInterface`.
    This class is registered under the `string_translation` service as an available
    lookup method.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 接口翻译模块提供了 `\Drupal\locale\LocaleTranslation`，该类实现了 `\Drupal\Core\StringTranslation\Translator\TranslatorInterface`
    接口。这个类在 `string_translation` 服务下注册为可用的查找方法。
- en: When the `t` function or the `\Drupal\Core\StringTranslation\StringTranslationTrait::t`
    method is invoked, the `string_translation` service is called to provide a translated
    string. The `string_translation` service will iterate through the available translators
    and return a translated string, if possible.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 当调用 `t` 函数或 `\Drupal\Core\StringTranslation\StringTranslationTrait::t` 方法时，会调用
    `string_translation` 服务以提供翻译后的字符串。`string_translation` 服务将遍历所有可用的翻译器，并在可能的情况下返回一个翻译后的字符串。
- en: Important note
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Developers need to note that this is a key reason to ensure that module strings
    are passed through translation functions. It allows you to identify strings that
    need to be translated.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 开发者需要注意，这是确保模块字符串通过翻译函数传递的一个关键原因。这允许您识别需要翻译的字符串。
- en: The translator provided in the interface translation will then attempt to resolve
    the provided string against known translations for the current language. If a
    translation has been saved, it will be returned.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 接口翻译提供的翻译器将尝试将提供的字符串与当前语言的已知翻译进行匹配。如果已保存翻译，则将返回该翻译。
- en: There’s more…
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: We will explore ways to install other languages, check translation statuses,
    and many more in the following sections.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将探讨安装其他语言、检查翻译状态以及更多内容。
- en: Manually installing language files
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 手动安装语言文件
- en: Translation files can be manually installed by downloading them from the [Drupal.org](http://Drupal.org)
    translation server and uploading them through the language interface. You can
    also use the `import` interface to upload custom `.``po`) files.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过从 [Drupal.org](http://Drupal.org) 翻译服务器下载并通过语言界面上传来手动安装翻译文件。您还可以使用 `导入`
    界面上传自定义 `.po` 文件。
- en: Drupal core and most contributed projects have `.po` files available at the
    Drupal translations site, [https://localize.drupal.org](https://localize.drupal.org).
    On the site, click on `.po` file for Drupal core in all available languages. Additionally,
    clicking on a language will provide more translations for a specific language
    across projects.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 核心和大多数贡献项目在 Drupal 翻译网站上都有 `.po` 文件，可在 [https://localize.drupal.org](https://localize.drupal.org)
    找到。在网站上，点击所有可用语言的 Drupal 核心模块的 `.po` 文件。此外，点击一种语言将提供跨项目的更多翻译。
- en: '![Figure 11.8 – Language files available on Drupal.org](img/Figure_11.08_B18548.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.8 – Drupal.org 上可用的语言文件](img/Figure_11.08_B18548.jpg)'
- en: Figure 11.8 – Language files available on Drupal.org
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.8 – Drupal.org 上可用的语言文件
- en: You can import a `.po` file by going to the `.po` file and then the appropriate
    language. You can treat the uploaded files as custom-created translations. This
    is recommended if you are providing a custom translation file that was not provided
    by [Drupal.org](http://Drupal.org). If you are updating [Drupal.org](http://Drupal.org)
    translations manually, make sure that you check the box that overwrites existing
    noncustom translations. The final option allows you to replace customized translations
    if the `.po` file provides them. This can be useful if you have translated missing
    strings that might now be provided by the official translation file.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过访问 `.po` 文件和相应的语言来导入 `.po` 文件。您可以像对待自定义创建的翻译一样处理上传的文件。如果您提供的是由 [Drupal.org](http://Drupal.org)
    未提供的自定义翻译文件，则建议这样做。如果您正在手动更新 [Drupal.org](http://Drupal.org) 的翻译，请确保勾选覆盖现有非自定义翻译的复选框。最后一个选项允许您在
    `.po` 文件提供的情况下替换自定义翻译。如果您已翻译了可能现在由官方翻译文件提供的缺失字符串，这可能很有用。
- en: Checking translation status
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 检查翻译状态
- en: As you add new modules, the available translations will grow. The `Interface
    translation` module provides a translation status report that is accessible from
    the `Reports` page. This will check the default translation server for the project
    and check whether there is a `.po` file available or whether it has changed. In
    the event of a custom module, you can provide a custom translation server, which
    is covered in the *Providing translations for a custom* *module* section.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 随着您添加新的模块，可用的翻译将增加。`界面翻译` 模块提供了一个可从 `报告` 页面访问的翻译状态报告。这将检查项目的默认翻译服务器，并检查是否有 `.po`
    文件可用或是否已更改。对于自定义模块，您可以提供自定义翻译服务器，这在 *为自定义 * *模块* *提供翻译* 部分中有所介绍。
- en: If an update is available, you will be alerted. You can then import the translation
    file updates automatically or download and manually import them.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有更新可用，您将收到通知。然后您可以自动导入翻译文件更新或下载并手动导入它们。
- en: Exporting translations
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 导出翻译
- en: In the `.po` file. You can export all the available source text that is discovered
    in your current Drupal site without translations. This will provide a base `.po`
    for translators to work on.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `.po` 文件中。您可以导出在当前 Drupal 网站上发现的所有未翻译的源文本。这将提供一个基础 `.po` 文件，供翻译人员工作。
- en: Additionally, you can download a specific language. Specific language downloads
    can include non-customized translations, customized translations, and missing
    translations. Downloading customized translations can be used to help make contributions
    to the multilingual and internationalization efforts of the Drupal community!
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还可以下载特定语言。特定语言的下载可以包括非自定义翻译、自定义翻译和缺失翻译。下载自定义翻译可以帮助为 Drupal 社区的多语言和国际工作做出贡献！
- en: Interface translation permissions
  id: totrans-101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 界面翻译权限
- en: The interface translation module provides a single permission called **Translate
    interface text**. This permission permits users to interact with all the module’s
    capabilities. It is flagged with a security warning, as it allows users with this
    permission to customize all the output text presented to users.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 接口翻译模块提供了一个名为**翻译界面文本**的单个权限。此权限允许用户与模块的所有功能进行交互。它带有安全警告标志，因为它允许具有此权限的用户自定义呈现给用户的所有输出文本。
- en: However, it does allow you to provide a role for translators and limits their
    access to just translation interfaces.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，它确实允许您为翻译者提供一个角色，并限制他们仅对翻译界面进行访问。
- en: Providing translations for a custom module
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为自定义模块提供翻译
- en: Modules can provide custom translations in their directories or point to a remote
    file. These definitions are added to the module’s `info.yml` file. First, you
    need to specify the `interface translation project` key if it differs from the
    project’s machine name.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 模块可以在它们的目录中提供自定义翻译或指向一个远程文件。这些定义被添加到模块的`info.yml`文件中。首先，如果您需要指定与项目的机器名称不同的`接口翻译项目`键。
- en: You need to then specify a server pattern through the `interface translation
    server pattern` key. This can be a relative path to Drupal’s root, such as `modules/custom/mymodule/translation.po`,
    or a remote file URL at [http://example.com/files/translations/mymodule/translation.po](http://example.com/files/translations/mymodule/translation.po).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您需要通过`接口翻译服务器模式`键指定一个服务器模式。这可以是一个指向Drupal根目录的相对路径，例如`modules/custom/mymodule/translation.po`，或者一个远程文件URL，如[http://example.com/files/translations/mymodule/translation.po](http://example.com/files/translations/mymodule/translation.po)。
- en: Distributions (or other modules) can implement `hook_locale_translation_projects_alter`
    to provide this information on behalf of modules or alter defaults.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 发行版（或其他模块）可以实现`hook_locale_translation_projects_alter`来代表模块提供此信息或更改默认值。
- en: 'The server pattern accepts the following different tokens:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器模式接受以下不同的标记：
- en: '`%core` for the version of a course (for example, *10.x*)'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`%core`用于课程的版本（例如，*10.x*）'
- en: '`%project` for the project’s name'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`%project`用于项目的名称'
- en: '`%version` for the current version string'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`%version`用于当前版本字符串'
- en: '`%language` for the language code'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`%language`用于语言代码'
- en: More information on the interface translation keys and variables can be found
    in the `local.api.php` document file, located in the interface translation module’s
    base folder.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 关于接口翻译键和变量的更多信息，可以在接口翻译模块的基本文件夹中的`local.api.php`文档文件中找到。
- en: See also
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: Refer to the Drupal translation server at [https://localize.drupal.org/translate/drupal8](https://localize.drupal.org/translate/drupal8)
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请参阅[https://localize.drupal.org/translate/drupal8](https://localize.drupal.org/translate/drupal8)的Drupal翻译服务器
- en: You can contribute using the localization server at [https://www.drupal.org/node/302194](https://www.drupal.org/node/302194)
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以使用本地化服务器[https://www.drupal.org/node/302194](https://www.drupal.org/node/302194)进行贡献
- en: Refer to the `locale.api.php` documentation at [https://api.drupal.org/api/drupal/core%21modules%21locale%21locale.api.php/8](https://api.drupal.org/api/drupal/core%21modules%21locale%21locale.api.php/8)
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请参阅[https://api.drupal.org/api/drupal/core%21modules%21locale%21locale.api.php/8](https://api.drupal.org/api/drupal/core%21modules%21locale%21locale.api.php/8)的`locale.api.php`文档
- en: Refer to PO and POT files at [https://www.drupal.org/node/1814954](https://www.drupal.org/node/1814954)
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请参阅[https://www.drupal.org/node/1814954](https://www.drupal.org/node/1814954)的PO和POT文件
- en: Translating configuration
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 翻译配置
- en: The `Configuration translation` module provides an interface for translating
    configurations with Interface translation and Language as dependencies. This module
    allows you to translate configuration entities. The ability to translate configuration
    entities adds an extra level of internationalization.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '`配置翻译`模块提供了一个接口，用于通过接口翻译和语言作为依赖项来翻译配置。此模块允许您翻译配置实体。能够翻译配置实体增加了国际化的一层。'
- en: Interface translation allows you to translate strings provided in your Drupal
    site’s code base. Configuration translation allows you to translate importable
    and exportable configuration items that you have created, such as your site title
    or date formats.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 接口翻译允许您翻译在您的Drupal站点代码库中提供的字符串。配置翻译允许您翻译您创建的可导入和导出的配置项，例如您的站点标题或日期格式。
- en: In this recipe, we will translate date format configuration entities. We will
    provide localized date formats for Danish to provide a more internationalized
    experience.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将翻译日期格式配置实体。我们将为丹麦语提供本地化日期格式，以提供更国际化的体验。
- en: Getting ready
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Your Drupal site needs to have two languages enabled in order to use **Configuration
    Translation**. Install **Danish** from the **Languages** interface.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 您的 Drupal 网站需要启用两种语言才能使用**配置翻译**。从**语言**界面安装**丹麦**语言。
- en: How to do it…
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Go to **Extend** and install the **Configuration Translation** module. It will
    prompt you to enable the **Interface Translation**, **Language**, **File**, and
    **Field** modules to also be installed if they are not already.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**扩展**并安装**配置翻译**模块。如果尚未安装，它将提示您安装**界面翻译**、**语言**、**文件**和**字段**模块。
- en: After the module is installed, go to **Configuration**. Then, go to the **Configuration
    translation** page under the **Regional and** **Language** section.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模块安装后，转到**配置**。然后，转到**区域和语言**部分下的**配置翻译**页面。
- en: 'Click on the list for the **Date format** option in the configuration entity
    option table:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击配置实体选项表中的**日期格式**选项列表：
- en: '![Figure 11.9 – Selecting a configuration entity type to translate](img/Figure_11.09_B18548.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.9 – 选择要翻译的配置实体类型](img/Figure_11.09_B18548.jpg)'
- en: Figure 11.9 – Selecting a configuration entity type to translate
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.9 – 选择要翻译的配置实体类型
- en: We will translate the default long date format to represent the **Danish** format.
    Click on the **Translate for the Default long date** **format** row.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将翻译默认的长日期格式以表示**丹麦**格式。点击**翻译默认长日期格式**行。
- en: 'Click on **Add** to create a **Danish** translation:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**以创建**丹麦**翻译：
- en: '![Figure 11.10 – Adding different date formats for different languages](img/Figure_11.10_B18548.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.10 – 为不同语言添加不同的日期格式](img/Figure_11.10_B18548.jpg)'
- en: Figure 11.10 – Adding different date formats for different languages
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.10 – 为不同语言添加不同的日期格式
- en: For `l j. F, Y – H.i`. This will display the day of the week, the day of the
    month, the month, the full year, and the 24-hour notation for time.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 `l j. F, Y – H.i`。这将显示星期几、月份中的日期、月份、完整年份以及时间的24小时制表示。
- en: Click on **Save translation**.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存翻译**。
- en: Now, whenever a user is browsing your Drupal site with **Danish** as their language,
    the date format will be localized for their experience.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，当用户使用**丹麦**作为他们的语言浏览您的 Drupal 网站时，日期格式将根据他们的体验进行本地化。
- en: How it works…
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The `Configuration translation` module requires interface translation; however,
    it does not work in the same fashion. The module modifies all entity types that
    extend the `\Drupal\Core\Config\Entity\ConfigEntityInterface` interface. It adds
    a new handler under the `config_translation_list` key. This is used to build a
    list of available configuration entities and their bundles.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '`配置翻译`模块需要界面翻译；然而，它的工作方式并不相同。该模块修改了所有扩展`\Drupal\Core\Config\Entity\ConfigEntityInterface`接口的实体类型。它在`config_translation_list`键下添加了一个新的处理器。这用于构建可用配置实体及其捆绑包的列表。'
- en: The module alters the configuration schema in Drupal and updates the default
    configuration element definitions to use a specified class under `\Drupal\config_translation\Form`.
    This allows `\Drupal\config_translation\Form\ConfigTranslationFormBase` and its
    child classes properly saved translated configuration data that can be modified
    through the configuration translation screens.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 该模块修改了 Drupal 的配置架构，并更新了默认配置元素定义，以使用`\Drupal\config_translation\Form`下的指定类。这允许`\Drupal\config_translation\Form\ConfigTranslationFormBase`及其子类正确保存通过配置翻译屏幕可以修改的翻译配置数据。
- en: 'When the configuration is saved, it is identified as being part of a collection.
    The collection is identified as `language.LANGCODE` and all translated configuration
    entities are saved and loaded by this identifier. Here is an example of how the
    configuration items are stored in a database:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 当配置被保存时，它被识别为集合的一部分。该集合被识别为`language.LANGCODE`，所有翻译配置实体都通过此标识符保存和加载。以下是如何在数据库中存储配置项的示例：
- en: '![Figure 11.11 – The configuration export containing language-specific configuration
    files](img/Figure_11.11_B18548.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.11 – 包含特定语言配置文件的配置导出](img/Figure_11.11_B18548.jpg)'
- en: Figure 11.11 – The configuration export containing language-specific configuration
    files
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.11 – 包含特定语言配置文件的配置导出
- en: When browsing the site in the `es` language code, the appropriate `block.block.bartik_account_menu`
    configuration entity will be loaded. If you are using the default site, or no
    language code, the configuration entity with an empty collection will be used.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `es` 语言代码浏览站点时，将加载适当的 `block.block.bartik_account_menu` 配置实体。如果您使用的是默认站点或没有语言代码，将使用带有空集合的配置实体。
- en: There’s more…
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Configuration entities and the ability to translate them are a big part of Drupal
    8’s multilingual capabilities. We’ll explore them in detail in the next recipe.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 配置实体及其可翻译的能力是Drupal 8多语言功能的重要组成部分。我们将在下一个配方中详细探讨它们。
- en: Altering configuration translation info definitions
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修改配置翻译信息定义
- en: 'Modules can invoke the `hook_config_translation_info_alter` hook to alter discovered
    configuration mappers. For instance, the `Node` module does this to modify the
    `node_type` configuration entity:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 模块可以调用 `hook_config_translation_info_alter` 钩子来修改发现的配置映射器。例如，`Node` 模块就是这样做的，以修改
    `node_type` 配置实体：
- en: '[PRE0]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This updates the `node_type` definition to use the `\Drupal\node\ConfigTranslation\NodeTypeMapper`
    custom mapper class. This class adds the node type’s title as a configurable translation
    item.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这将更新`node_type`定义以使用`\Drupal\node\ConfigTranslation\NodeTypeMapper`自定义映射器类。此类添加了节点类型的标题作为可配置的翻译项。
- en: Translating views
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 翻译视图
- en: Views are configuration entities. When the `Configuration translation` module
    is enabled, it is possible to translate views. This will allow you to translate
    displayed titles, exposed form labels, and other items. Refer to the *Creating
    multilingual views* recipe in this chapter for more information.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 视图是配置实体。当启用`配置翻译`模块时，可以翻译视图。这将允许您翻译显示的标题、暴露的表单标签和其他项目。有关更多信息，请参阅本章中的*创建多语言视图*配方。
- en: Translating content
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 翻译内容
- en: The content translation module provides a method for translating content entities,
    such as nodes and blocks. Each content entity needs to have translation enabled,
    which allows you to granularly decide what properties and fields are translated.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 内容翻译模块提供了一种翻译内容实体（如节点和块）的方法。每个内容实体都需要启用翻译功能，这允许您细粒度地决定哪些属性和字段需要翻译。
- en: Content translations are duplications of the existing entity but flagged with
    a proper language code. When a visitor uses a language code, Drupal attempts to
    load content entities using that language code. If a translation is not present,
    Drupal will render the default untranslated entity.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 内容翻译是现有实体的副本，但带有适当的语言代码标记。当访客使用语言代码时，Drupal会尝试使用该语言代码加载内容实体。如果不存在翻译，Drupal将渲染默认未翻译的实体。
- en: Getting ready
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Your Drupal site needs to have two languages enabled to use content translation.
    Install **Spanish** from the **Languages** interface.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 您的Drupal站点需要启用两种语言才能使用内容翻译。从**语言**界面安装**西班牙语**。
- en: How to do it…
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Go to **Extend**, and install the **Content translation** module. It will prompt
    you to enable the **Language** modules to also be installed if they are not already.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**扩展**，并安装**内容翻译**模块。如果尚未安装，它将提示您安装**语言**模块。
- en: After the module is installed, go to **Configuration**. Go to the **Content
    language and translation** page under the **Regional and** **Language** section.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在模块安装后，转到**配置**。在**区域和语言**部分下转到**内容语言和翻译**页面。
- en: Check the checkbox next to the **Content to expose** settings for the current
    content types.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**要公开的内容**设置旁边的复选框中勾选当前内容类型。
- en: 'Enable the content translation for the **Basic** page, and keep the provided
    default settings that enable translation for each field. Click on **Save configuration**:'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为**基本**页面启用内容翻译，并保留提供的默认设置，这些设置使每个字段都启用了翻译。点击**保存配置**：
- en: '![Figure 11.12 – Selecting which properties and fields are translatable for
    a specific content type](img/Figure_11.12_B18548.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.12 – 选择特定内容类型可翻译的属性和字段](img/Figure_11.12_B18548.jpg)'
- en: Figure 11.12 – Selecting which properties and fields are translatable for a
    specific content type
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.12 – 选择特定内容类型可翻译的属性和字段
- en: First, create a new **Basic page** node. We will create this in the site’s default
    language.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，创建一个新的**基本页面**节点。我们将在站点的默认语言中创建它。
- en: 'When viewing the new node, click on the **Translate** tab. From the **Spanish**
    language row, click on **Add** to create a translated version of the node:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在查看新节点时，点击**翻译**选项卡。从**西班牙语**语言行中，点击**添加**以创建节点的翻译版本：
- en: '![Figure 11.13 – Translating content for a node into other languages](img/Figure_11.13_B18548.jpg)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![图11.13 – 将节点内容翻译成其他语言](img/Figure_11.13_B18548.jpg)'
- en: Figure 11.13 – Translating content for a node into other languages
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.13 – 将节点内容翻译成其他语言
- en: 'The content will be prepopulated with the default language’s content. Replace
    the title and body with the translated text:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内容将预填充为默认语言的内容。用翻译文本替换标题和正文：
- en: '![Figure 11.14 – Adding a Spanish translation for the About us page](img/Figure_11.14_B18548.jpg)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![图11.14 – 为“关于我们”页面添加西班牙语翻译](img/Figure_11.14_B18548.jpg)'
- en: Figure 11.14 – Adding a Spanish translation for the About us page
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.14 – 为“关于我们”页面添加西班牙语翻译
- en: Click on **Save and keep published (this translation)** to save the new translation.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存并保持已发布（此翻译）**以保存新的翻译。
- en: How it works…
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The `Content` translation module works by utilizing language code flags. All
    content entities and field definitions have a language code key. A content entity
    has a language code column, which specifies what language the content entity is
    for. Field definitions also have a language code column, which is used to identify
    the translation for the content entity. Content entities can provide handler definitions
    for handling translations; otherwise, the `Content translation` module will provide
    its own.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '`内容`翻译模块通过利用语言代码标志来工作。所有内容实体和字段定义都有一个语言代码键。内容实体有一个语言代码列，指定内容实体是哪种语言。字段定义也有一个语言代码列，用于识别内容实体的翻译。内容实体可以提供处理翻译的处理器定义；否则，`内容翻译`模块将提供自己的。'
- en: Each entity and field record is saved with the proper language code to use.
    When an entity is loaded, the current language code is taken into consideration
    to ensure that the proper entity is loaded.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 每个实体和字段记录都保存了适当的语言代码。当加载实体时，会考虑当前的语言代码以确保加载正确的实体。
- en: There’s more…
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: Content translation is more than just providing content in different languages.
    Drupal has additional features on top to make managing and displaying translated
    content more flexible and robust as well.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 内容翻译不仅仅是提供不同语言的内容。Drupal还提供了额外的功能，使管理和显示翻译内容更加灵活和健壮。
- en: Flagging translations as outdated
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 标记翻译为过时
- en: 'The Content translation module provides a mechanism to flag translated entities
    as possibly being outdated. The **Flag other translations as outdated** flag provides
    a way to make a note of entities that will need updated translations:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 内容翻译模块提供了一个机制，可以将已翻译的实体标记为可能过时。**标记其他翻译为过时**的标志提供了一种记录需要更新翻译的实体的方法：
- en: '![Figure 11.15 – You can flag other translations as outdated if the one being
    edited changes](img/Figure_11.15_B18548.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![图11.15 – 如果正在编辑的内容发生变化，您可以标记其他翻译为过时](img/Figure_11.15_B18548.jpg)'
- en: Figure 11.15 – You can flag other translations as outdated if the one being
    edited changes
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.15 – 如果正在编辑的内容发生变化，您可以标记其他翻译为过时
- en: This flag does not change any data but instead provides a moderation tool. This
    makes it
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 此标志不会更改任何数据，而是提供了一种审核工具。这使得它
- en: easy for translators to identify content that has been changed and requires
    updating.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 翻译员可以轻松识别已更改并需要更新的内容。
- en: The **TRANSLATION** tab for the content entity will highlight all translations
    that are still
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 内容实体的**翻译**选项卡将突出显示所有尚未翻译的翻译内容
- en: marked as outdated. As they are changed, the editor can uncheck the flag.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 标记为过时。随着它们的变化，编辑者可以取消选中标志。
- en: Translating content links
  id: totrans-186
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 翻译内容链接
- en: Mostly, Drupal menus contain links to nodes. Menu links are not translated by
    default, and the **Custom menu links** option must be enabled under **Content
    translation**. You will need to translate node links manually from the menu administration
    interface.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数情况下，Drupal菜单包含指向节点的链接。菜单链接默认不翻译，必须在**内容翻译**下启用**自定义菜单链接**选项。您需要从菜单管理界面手动翻译节点链接。
- en: Enabling a menu link from the node create and edit form will not work with translations.
    If you edit the menu settings from a translation, it will edit the untranslated
    menu link.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 从节点创建和编辑表单启用菜单链接与翻译不兼容。如果您从翻译编辑菜单设置，它将编辑未翻译的菜单链接。
- en: Defining translation handlers for entities
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 定义实体翻译处理器
- en: The Content translation module requires entity definitions to provide information
    about translation handlers. If this information is missing, it will provide its
    own defaults.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 内容翻译模块需要实体定义来提供有关翻译处理器的信息。如果此信息缺失，它将提供自己的默认值。
- en: Content entity definitions can provide a `translation` handler. If not provided,
    they will default to `\Drupal\content_translation\ContentTranslationHandler`.
    A node provides this definition and uses it to place the content translation information
    into the vertical tabs.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 内容实体定义可以提供`translation`处理器。如果没有提供，它们将默认为`\Drupal\content_translation\ContentTranslationHandler`。节点提供此定义并使用它将内容翻译信息放入垂直标签中。
- en: The `content_translation_metadata` key defines how to interact with translation
    metadata information, such as flagging other entities as outdated. The `content_translation_deletion`
    key provides a form class to handle entity translation deletion.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '`content_translation_metadata`键定义了如何与翻译元数据信息交互，例如标记其他实体为过时。`content_translation_deletion`键提供了一个表单类来处理实体翻译删除。'
- en: Creating multilingual views
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建多语言视图
- en: Views, being configuration entities, are available for translation. However,
    the power of multilingual views does not lie just in configuration translation.
    Views allow you to build filters that react to the current language code. This
    ensures that the content, which has been translated into the user’s language,
    is displayed.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 视图作为配置实体，可以进行翻译。然而，多语言视图的力量并不仅仅在于配置翻译。视图允许您构建对当前语言代码做出反应的过滤器。这确保了翻译成用户语言的内容被显示。
- en: In this recipe, we will create a multilingual view that provides a block showing
    recent articles. If there is no content, we will display a translated `no` `results`
    message.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，我们将创建一个多语言视图，显示最近的文章块。如果没有内容，我们将显示翻译后的“无结果”消息。
- en: Getting ready
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Your Drupal site needs to have two languages enabled in order to use **Content
    Translation**. Install **Spanish** from the **Languages** interface. Enable content
    translation for **Articles**. You will also need to have some translated content
    as well.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 您的Drupal站点需要启用两种语言才能使用**内容翻译**。从**语言**界面安装**西班牙语**。为**文章**启用内容翻译。您还需要一些翻译内容。
- en: How to do it…
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Go to **Views** from **Structure**, and click on **Add** **new view**.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**结构**进入**视图**，然后点击**添加****新视图**。
- en: Provide a view name, such as `Recent articles`, and change the type of content
    to `Article`. Mark that you would like to **Create a block**, and then click on
    **Save** and **edit**.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供视图名称，例如“最近文章”，并将内容类型更改为“文章”。标记您想要**创建一个块**，然后点击**保存**和**编辑**。
- en: 'Add new **Filter criteria**. Search for **Translation language** and add the
    filter for **Content**. Set the filter to check **Interface text language selected
    for page**. This will only display that the content has been translated or the
    base language is the current language:'
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加新的**过滤条件**。搜索**翻译语言**并为**内容**添加过滤。将过滤器设置为检查**页面选定的界面文本语言**。这将仅显示内容已被翻译或基语言是当前语言：
- en: '![Figure 11.16 – Changing a view to return results in the language of the selected
    page](img/Figure_11.16_B18548.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![图11.16 – 将视图更改为以选定页面的语言返回结果](img/Figure_11.16_B18548.jpg)'
- en: Figure 11.16 – Changing a view to return results in the language of the selected
    page
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.16 – 将视图更改为以选定页面的语言返回结果
- en: Add `No results behavior` to the `Currently no` `recent articles`.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“无结果行为”添加到“当前无”**最近文章**。
- en: Save the view.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存视图。
- en: Click on the **Translate** tab. Click on **Add** for the **Spanish** row to
    translate the view for the language.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**翻译**选项卡。点击**西班牙语**行的**添加**以翻译该语言的视图。
- en: 'Expand the **Master display** settings and then the **Recent articles** display
    options’ fieldsets. Modify the **Display title** option to provide a translated
    title:'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开主显示设置，然后修改**最近文章**显示选项的字段集。修改**显示标题**选项以提供翻译后的标题：
- en: '![Figure 11.17 - Translating the View display title property](img/Figure_11.17_B18548.jpg)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![图11.17 - 翻译视图显示标题属性](img/Figure_11.17_B18548.jpg)'
- en: Figure 11.17 - Translating the View display title property
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.17 - 翻译视图显示标题属性
- en: 'Expand **No results behavior** to modify the text on the right-hand side of
    the screen, using the textbox on the left-hand side of the screen as the source
    for the original text:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开**无结果行为**以修改屏幕右侧的文本，使用屏幕左侧的文本框作为原始文本的来源：
- en: '![Figure 11.18 – Translating the No results behavior text](img/Figure_11.18_B18548.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![图11.18 – 翻译无结果行为文本](img/Figure_11.18_B18548.jpg)'
- en: Figure 11.18 – Translating the No results behavior text
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.18 – 翻译无结果行为文本
- en: Click on **Save translation**.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存翻译**。
- en: 'Place the block on your Drupal site. Visit the site through `/es` and note
    the translated `Views` block:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将该块放置在您的Drupal网站上。通过`/es`访问网站并注意翻译后的`视图`块：
- en: '![Figure 11.19 – The home page translated to Spanish](img/Figure_11.19_B18548.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![图11.19 – 翻译成西班牙语的首页](img/Figure_11.19_B18548.jpg)'
- en: Figure 11.19 – The home page translated to Spanish
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.19 – 翻译成西班牙语的首页
- en: How it works…
  id: totrans-217
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Views provide the translation language filter that builds off this element.
    The views plugin system provides a mechanism for gathering and displaying all
    available languages. These will be saved as a token internally and then substituted
    with the actual language code when a query is executed. If a language code is
    no longer available, you will see the **Content language for selected** page,
    and views will fall back to the current language when viewed.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 视图提供了基于此元素的翻译语言过滤器。视图插件系统提供了一个收集和显示所有可用语言的机制。这些将被作为令牌内部保存，并在查询执行时用实际的语言代码替换。如果语言代码不再可用，您将看到**所选内容的语言**页面，并且当查看时视图将回退到当前语言。
- en: Important note
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: You will come across the translation language filter option when editing views
    provided by Drupal core or contributed modules. While this is not an option in
    the user interface, it is a default practice to add a language filter defined
    as `***LANGUAGE_language_content***`, which will force the view to be multilingual.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 当您编辑由Drupal核心或贡献模块提供的视图时，会遇到翻译语言过滤器选项。虽然这不是用户界面中的选项，但将语言过滤器定义为`***LANGUAGE_language_content***`是一种默认做法，这将强制视图成为多语言。
- en: The filter tells **Views** to query, based on the language code of the entity
    and its fields.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 过滤器告诉**视图**根据实体的语言代码及其字段进行查询。
- en: Views are configuration entities. The Configuration translation module allows
    you to translate views. Views can be translated from the main Configuration translation
    screens from the **Configuration** area or by editing individual views.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 视图是配置实体。配置翻译模块允许您翻译视图。您可以从**配置**区域的**主要配置翻译屏幕**或通过编辑单个视图来翻译视图。
- en: Most translation items will be under the **Master display settings** tab unless
    overridden in specific displays. Each display type will also have its own specific
    settings.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数翻译项都将位于**主显示设置**选项卡下，除非在特定显示中覆盖。每种显示类型也将有其自己的特定设置。
- en: There’s more…
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容…
- en: Translating interface items in Drupal goes quite deep. This extends well into
    views, where you can translate exposed filters, display formats, and menu items
    stemming from views displays.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在Drupal中翻译界面元素相当深入。这很好地扩展到了视图，您可以在视图中翻译暴露的过滤器、显示格式和源自视图显示的菜单项。
- en: Translating exposed form items and filters
  id: totrans-226
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 翻译暴露表单项和过滤器
- en: Each view can translate the exposed form from the **Exposed Form** section.
    This does not translate the labels on the form but the form elements. You can
    translate the **submit** button text, **reset** button label, **sort** label,
    and how **ascending** or **descending** should be translated.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 每个视图都可以从**暴露表单**部分翻译暴露的表单。这不会翻译表单上的标签，而是表单元素。您可以翻译**提交**按钮文本、**重置**按钮标签、**排序**标签，以及如何翻译**升序**或**降序**。
- en: 'You can translate the labels for exposed filters from the **Filters** section.
    Each exposed filter will show up as a collapsible fieldset, allowing you to configure
    the administrative label and front-facing label:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从**过滤器**部分翻译暴露的过滤器标签。每个暴露的过滤器都会显示为一个可折叠的表单组，允许您配置管理标签和前端标签：
- en: '![Figure 11.20 – Translating exposed filter labels in a view](img/Figure_11.20_B18548.jpg)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![图11.20 – 在视图中翻译暴露的过滤器标签](img/Figure_11.20_B18548.jpg)'
- en: Figure 11.20 – Translating exposed filter labels in a view
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.20 – 在视图中翻译暴露的过滤器标签
- en: By default, available translations need to be imported through the global interface
    translation context.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，可用的翻译需要通过全局界面翻译上下文导入。
- en: Translating display and row format items
  id: totrans-232
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 翻译显示和行格式项
- en: 'Some display formats have translatable items. These can be translated in each
    display mode’s section. For example, the following items can be translated with
    their display format:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 一些显示格式有可翻译的项。这些可以在每个显示模式的章节中翻译。例如，以下项可以使用其显示格式进行翻译：
- en: The `Table` format allows you to translate the table summary
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`表格`格式允许您翻译表格摘要'
- en: The `RSS feed` format allows you to translate the feed description
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RSS源`格式允许您翻译源描述'
- en: The `Page` format allows you to translate the page’s title
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`页面`格式允许您翻译页面的标题'
- en: The `Block` format allows you to translate the block’s title
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Block`格式允许您翻译块的标题'
- en: Translating page display menu items
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 翻译页面显示菜单项
- en: 'Custom menu links can be translated through the Content translation module.
    Views use a page display; however, they do not create custom menu link entities.
    The `Views` module takes all views with a page display and registers their paths
    into the routing system directly, as if defined in a module’s `routing.yml` file:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过内容翻译模块翻译自定义菜单链接。视图使用页面显示；然而，它们不会创建自定义菜单链接实体。`Views`模块将所有具有页面显示的视图直接注册到路由系统中，就像在模块的`routing.yml`文件中定义一样：
- en: '![Figure 11.21 – Translating menu tabs provided by a view](img/Figure_11.21_B18548.jpg)'
  id: totrans-240
  prefs: []
  type: TYPE_IMG
  zh: '![图11.21 – 翻译视图提供的菜单标签](img/Figure_11.21_B18548.jpg)'
- en: Figure 11.21 – Translating menu tabs provided by a view
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.21 – 翻译视图提供的菜单标签
- en: For example, the **People** view that lists all users can be translated to have
    an updated tab name and link description.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，列出所有用户的**People**视图可以翻译成具有更新的标签页名称和链接描述。

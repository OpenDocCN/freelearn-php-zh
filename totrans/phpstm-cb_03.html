<html><head></head><body><div class="chapter" title="Chapter&#xA0;3.&#xA0;Refactoring and Building"><div class="titlepage"><div><div><h1 class="title"><a id="ch03"/>Chapter 3. Refactoring and Building</h1></div></div></div><p>In this chapter, we will cover the following recipes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Renaming elements</li><li class="listitem" style="list-style-type: disc">Copying elements</li><li class="listitem" style="list-style-type: disc">Moving elements</li><li class="listitem" style="list-style-type: disc">Moving a method</li><li class="listitem" style="list-style-type: disc">Moving a variable</li><li class="listitem" style="list-style-type: disc">Deleting elements</li><li class="listitem" style="list-style-type: disc">Searching code in a project</li><li class="listitem" style="list-style-type: disc">Comparing files</li><li class="listitem" style="list-style-type: disc">Restoring elements using comparison</li><li class="listitem" style="list-style-type: disc">Setting the run configuration</li><li class="listitem" style="list-style-type: disc">Running your code</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec37"/>Introduction</h1></div></div></div><p>Grandma's advice: stick to software engineering.</p><p>Software engineering advice: emphasize on code reusability. Any code base engineered according to the software engineering paradigm will be reusable. That is to say, you can use your code forever having written it once. They say "Write once, use forever".</p><p>Revisiting the pizza baking use case, you will observe that in order to cook whatever dish, you just had to use the <code class="literal">add</code> function since you stuck to the mentioned paradigm. Suppose there are 50 different types of dishes that you are about to cook. Each dish is different in itself, but each will require the <code class="literal">add</code> method. If you convert this into technology, you will, in most cases, inherit the <code class="literal">Dish</code> class. That is your <code class="literal">PizzaDish</code>. The methods of the <code class="literal">Dish</code> class are reused in all the classes such as <code class="literal">PizzaDish</code>.</p><p>If you want to change the business logic, you can happily and comfortably change the logic inside the method body, and the changes will be reflected in all of the classes that inherit (or use) this class.</p><p>So far, so good...but if you were to change the signature of the method inside the base class itself, what will you do? Yes, this can arise in the initial phase of development when the plans change a bit and thus lead to change in the use case.</p></div></div>
<div class="section" title="Renaming elements"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec38"/>Renaming elements</h1></div></div></div><p>As the saying goes, change is<a id="id163" class="indexterm"/> inevitable; you must be ready for change, whatever the timeline might be. Engineers are negligent enough to commit mistakes while renaming—typographical errors, forgetting where to change, and so on. Don't worry, you can at least rest assured with PhpStorm at your disposal. What PhpStorm does is that it provides a refactoring system, in which you can make your change penetrate throughout the project, visible in one single step: <span class="strong"><strong>The Refactoring Step</strong></span>. If you opt for <a id="id164" class="indexterm"/>refactoring, you have the freedom to do a number of refactoring tasks.</p><p>So, an <code class="literal">addIngredient</code> method can be easily written as <code class="literal">addingredient</code> at some point in code; <code class="literal">toolTip</code> can be written as <code class="literal">tootLip</code>, and so on. There might be five places in your code where you used the method <code class="literal">addSalt</code>, but when you changed the method signature of <code class="literal">add</code>, somehow you forgot and changed it in only four locations in your code base. Such petty mistakes can be safely termed as silly mistakes but might cause more damage than you can imagine. They eat up the most valuable resource—time. You will end up realizing that it was just a typographical error or a slip but only to realize that you crossed over the deadline.</p><p>With refactoring, you can safely rename a method signature and tell PhpStorm to penetrate this change by finding and making the same change across all the occurrences.</p><p>Refactoring applies to all the elements of code: class names, method names, method signatures, variable names, and so on. PhpStorm treats them alike! Justice PhpStorm!</p><p>A directory in a PHP project is much like the package in Java—if you ever had a previous encounter with the Java programming language. In simple words, a directory in a PHP project is a grouping for classes. You can group similar classes in directories. Thus, your controller classes might be under your controller directory, model classes under model directory, configuration files under the <code class="literal">config</code> directory, and so on. Directories are important. Consider this, if you wish to change the name of a particular directory, you need to refactor it. You need to rename it. Thus, all those lines of code that refer to a class (<code class="literal">include</code>, <code class="literal">include once</code> or <code class="literal">require</code>, <code class="literal">require_once</code>) will be automatically updated once you rename a particular directory.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec78"/>How to do it...</h2></div></div></div><p>The elements that we are going to rename are directories and classes; let's have a look at them one by one.</p><div class="section" title="Renaming a directory"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec02"/>Renaming a directory</h3></div></div></div><p>To rename a<a id="id165" class="indexterm"/> directory, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In order to rename a directory, you need to access the right-click on the context menu and select the <span class="strong"><strong>Rename</strong></span> option.</li><li class="listitem">On providing the new <a id="id166" class="indexterm"/>name, you can choose whether to let this change penetrate throughout the project wherever this directory has been referenced.</li><li class="listitem"> You can also choose whether you want to replace the occurrence in comments and strings as well. This is shown in the following screenshot:<div class="mediaobject"><img src="graphics/3878OT_03_01.jpg" alt="Renaming a directory"/></div></li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>If you wish to see which occurrences are there corresponding to this directory, you can select the <span class="strong"><strong>Preview</strong></span> button, or else, you can directly <span class="strong"><strong>Refactor</strong></span> the changes. Once you have refactored the changes, you can sit back and concentrate on further development plans.</p></div></div></div><div class="section" title="Renaming a class"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec03"/>Renaming a class</h3></div></div></div><p>Sometimes, even the <a id="id167" class="indexterm"/>best plan cannot be guaranteed to be foolproof. You might have started to go east, but due to the wind current, you felt that going southeast was a better and feasible option. Plan destroyed? Not at all—some amendments are required, and then you are good to go.</p><p>Here's a use case—you planned to cook some <code class="literal">Dish</code> and went to the kitchen, but you found out that the essential ingredients were missing. What will you do? Remain hungry? Not at all... You will proceed to cook some other dish that is a <code class="literal">Dish</code>. In order to proceed, you will try to reuse some of the logic that you used in <code class="literal">PizzaDish</code>. In technical terms, you will need to rename (refactor) your class.</p></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec79"/>How it works...</h2></div></div></div><p>In order to do that (refactor your class), you need to place your cursor over the class name. access the right-click context menu, and select <span class="strong"><strong>Rename</strong></span>. You can do <span class="strong"><strong>Preview</strong></span> to check for which occurrences will be changed, and once you are convinced, you can do <span class="strong"><strong>Refactor</strong></span>.</p><p>Simple, isn't it? Indeed.</p><p>The refactoring in this <a id="id168" class="indexterm"/>case will <a id="id169" class="indexterm"/>look as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_02.jpg" alt="How it works..."/></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec80"/>There's more...</h2></div></div></div><p>Until now, we were familiar with renaming elements. Now, it is time to see how a method can be renamed.</p><div class="section" title="Renaming a method"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec04"/>Renaming a method</h3></div></div></div><p>Refactoring in the case <a id="id170" class="indexterm"/>of methods in PhpStorm provides you with a fine-grained control to make changes in either the name of the method or the method signature. To change the method name is easy. Similar to renaming a directory and renaming a class, you need to place your cursor over the target method name, access the right-click context menu and proceed to <span class="strong"><strong>Rename</strong></span>. You can apply the changes in the box specified. If you want to preview, you can <span class="strong"><strong>Preview</strong></span>, or else you can <span class="strong"><strong>Refactor</strong></span>, and PhpStorm will happily propagate the changes across the occurrences.</p></div><div class="section" title="Renaming member variables"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec05"/>Renaming member variables</h3></div></div></div><p>Of all the renaming <a id="id171" class="indexterm"/>criteria and explanations provided, renaming a member variable is the most typical, and it requires the most amount of maturity in <a id="id172" class="indexterm"/>handling. In short, this one is a "handle with care" situation. Variables can be local or global or scope-based. You require a variable name, <code class="literal">$salt</code>, for the ingredient salt to be added to <code class="literal">PizzaDish</code> and another <code class="literal">$salt</code> for algorithmic purposes—say to add random characters to your password to make the container for the cooked dish more safe. Thus, you want some salt to cook your dish as well as to prevent others from eating it.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note08"/>Note</h3><p>In order to rename a variable carefully, the steps are the same as those described in the previous cases—the addition is the warning <span class="emphasis"><em>CAREFUL</em></span>. You need to place your cursor over the variable name, access the right-click on the context menu, and select <span class="strong"><strong>Rename</strong></span>, and PhpStorm will display all of the occurrences. You can select from the available list and selectively rename the required occurrences.</p></div></div></div></div><div class="section" title="See also..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec81"/>See also...</h2></div></div></div><p>You can also refer to the renaming method and renaming directory in previous sections.</p><p>Changing the method signature<a id="id173" class="indexterm"/> is not difficult either. In plural cases, you might realize that passing an extra argument will do the trick for you. So, you have the magic wand PhpStorm with which you can very easily do the magic to make this happen.</p><p>You can start by placing the cursor over the method name, accessing the right-click context menu, and selecting <span class="strong"><strong>Change the Method Signature</strong></span>. The magic begins.</p><p>PhpStorm provides you with many options to change the signature of the target method. You can refer to the previous chapter, where changing the method signature has been described in detail.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip13"/>Tip</h3><p>To avoid the need to change a method signature just for the sake of adding or deleting parameters, you can use PHP <code class="literal">func_get_args()</code>, by which you can make your method independent from the hassles of parameters. Thus, you just need to create a method with no parameters and use <code class="literal">func_get_args()</code> to get all the arguments, 1, 5, or even 35 easily. You might ask "why in the world would we use parameters then?" The answer to this is rather short. You should have mercy on the PHP interpreter; it has to do more processing in that case.</p></div></div></div></div>
<div class="section" title="Copying elements"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec39"/>Copying elements</h1></div></div></div><p>A directory contains<a id="id174" class="indexterm"/> classes, classes contain methods and variables, methods contain variables, and methods use variables.</p><p>The point to prove is that everything is related in one way or another. You can equally want to copy a directory, as you want to copy a class safely to some location other than the current location or declaration.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec82"/>How to do it...</h2></div></div></div><p>Copying a directory means that somewhere, some concept has changed, which led to a regrouping of the classes. So, it will be better to think again. If you are still determined, you need to perform the following step:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Go to <span class="strong"><strong>Project View</strong></span>, (<span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>1</em></span>), highlight the target directory, access the right-click context menu, go to <span class="strong"><strong>Refactor</strong></span>, and then choose the <span class="strong"><strong>Copy</strong></span> option. PhpStorm will ask you for the details. The details will be the new name, and the target directory under which you wish to copy the directory to. PhpStorm will copy that for you.</li></ul></div><p>There is one more way to achieve the same effect for a directory:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You can also directly copy a directory from one location to another by the same old <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span> and <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>V</em></span> combination.</li></ul></div><p>For a directory, it creates the same effect the difference lies in the way they work. Refactor is a more PhpStorm way to copy; it does not save anything to the clipboard.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec83"/>How it works...</h2></div></div></div><p>Copying is more an operating system approach. It copies the name as a string value in the clipboard. So, you can paste the name as-is inside the editor and paste the directory as-is in the project view. Interesting, isn't it?</p><p>The copy directory looks as it does in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_03.jpg" alt="How it works..."/></div><p>Which one should you choose then? It's your call. Do either, but make sure you follow the <span class="strong"><strong>Don't Repeat Yourself</strong></span> (<span class="strong"><strong>DRY</strong></span>)<a id="id175" class="indexterm"/> principle.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec84"/>There's more...</h2></div></div></div><p>As of now, you are familiar with copying the elements, and now it is time to move to copying a class.</p><div class="section" title="Copying a class"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec06"/>Copying a class</h3></div></div></div><p>Copying a class <a id="id176" class="indexterm"/>means <a id="id177" class="indexterm"/>copying the business logic in most scenarios. In software engineering, a sophisticated name given to this process is <a id="id178" class="indexterm"/>
<span class="strong"><strong>Off-The-Shelf</strong></span> development. You can cheat everyone but not yourself, you copycat! A class is copied in order to reuse most of the existing business logic that exists in it. More logic is, however, pumped into the class to inflate it. To copy a class and start your Off-The-Shelf development, you need to copy a class by accessing the right-click context menu and selecting the <span class="strong"><strong>Copy</strong></span> option. The dialog box is similar. The questions are similar. The effect is similar. The outcome is different. Here, a single class is copied from one location to another.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note09"/>Note</h3><p>Like you can do a copy-paste for a directory, you could do exactly the same for a class of your choice. Following the operating system way of copying, the name of the class to be copied is placed on the clipboard as well. If you paste it in an editor, the name of the class will be pasted, and if you paste the name of the class in the Project view, the class as a whole will be pasted inside the Project view at the selected location.</p></div></div></div></div></div>
<div class="section" title="Moving elements"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec40"/>Moving elements</h1></div></div></div><p>Any keen software <a id="id179" class="indexterm"/>engineer knows the importance of cut or copy and paste. The information associated with this important statement is given here:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Cutting and pasting is faster than copying and pasting. However, cutting and pasting changes the location of the selected element. Also, copying keeps the original in place, whereas cutting removes it from where it was.</li></ul></div><p>Any dedicated software engineer will already have this knowledge through past experience.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec85"/>How to do it...</h2></div></div></div><p>We have talked about renaming elements, copying elements, and now, it's time to move a directory.</p><div class="section" title="Moving a directory"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec07"/>Moving a directory</h3></div></div></div><p>If you are sure that <a id="id180" class="indexterm"/>somewhere, your architecture has changed in such a way that your grouping has changed, you should be prepared to move an entire directory (your grouping) to some other grouping (some other directory or location). In order to move a directory, you need to perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">You need to go to the Project view, select the desired directory (also known as grouping), access the right-click context menu, and select the <span class="strong"><strong>Move</strong></span> option.</li><li class="listitem">PhpStorm will ask you a single question as to where you want to move this selected directory.</li><li class="listitem">Once you answer, PhpStorm will take care of the rest of the things, and your task will be accomplished.</li></ol></div></div><div class="section" title="Moving a class"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec08"/>Moving a class</h3></div></div></div><p>You want to move<a id="id181" class="indexterm"/> your class to some other directory (or namespace, folder, or grouping in the most layman terminology) ideally in some case where you started off your development in haste without a proper plan and now you realize that what you thought your entity will be like was not the best solution possible. OK, don't blame yourself. Instead, use PhpStorm to help you refactor your class by moving it to a more appropriate place. The command to do this is the same.</p><p>Use the right-click context menu, refactor, and move. Specify the location of the target directory where you want to relocate this class to. PhpStorm will prompt you on completion.</p></div></div></div>
<div class="section" title="Moving a method"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec41"/>Moving a method</h1></div></div></div><p>There are two <a id="id182" class="indexterm"/>prerequisites to moving a method to some other class. One is the most common prerequisite: you should be clear about what you are doing. The other is that the method to be moved must be static. If it is not, PhpStorm will alert you by saying <span class="strong"><strong>Move non-static method is not supported</strong></span>.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec86"/>How to do it...</h2></div></div></div><p>To move the method, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Just place the cursor over the method name, and access the <span class="strong"><strong>Refactor</strong></span> option from the right-click context menu and move.</li><li class="listitem">You need to provide the name of the target class where you wish to move this method.</li><li class="listitem">You have the option to preview which occurrences will be affected by this change (movement).</li><li class="listitem">Once you are happy with the proposed results, you can refactor the method. The target class will now contain the method you just moved, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3878OT_03_04.jpg" alt="How to do it..."/></div></li></ol></div></div></div>
<div class="section" title="Moving a variable"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec42"/>Moving a variable</h1></div></div></div><p>Moving a member <a id="id183" class="indexterm"/>variable to some other class is simple but quite important from an architectural point of view. A variable usually denotes an attribute from the real world. So, if you planned sugar for <code class="literal">PizzaDish</code>, you will definitely and very quickly need to move the sugar from <code class="literal">PizzaDish</code> to some other dish, say <code class="literal">Cookie</code>. Just like methods, you can only move the static members to some other class.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec87"/>How to do it...</h2></div></div></div><p>Select <span class="strong"><strong>Refactor</strong></span> from the right-click context menu, and then select <span class="strong"><strong>Move</strong></span>.</p><p>If the current member variable to be moved was private in the current class, the <span class="strong"><strong>Move</strong></span> operation will convert the member to public.</p><p>PhpStorm warns you before performing the move, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_05.jpg" alt="How to do it..."/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip14"/>Tip</h3><p>Wherever you put the sugar, you should always try to use the syntactic sugar because it eases a bit of the documentation load.</p></div></div><p>PhpStorm said "Your knowledge level has been increased to 200 percent". You must say "Great!"... 200 percent... how? You already knew how to copy or cut and paste under the operating system you were comfortable with. 100 percent knowledge... Now you know a PhpStorm way to do the same plus 100 percent knowledge. So, applying simple mathematics, your knowledge level is now 200 percent"</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note10"/>Note</h3><p>Besides this<a id="id184" class="indexterm"/> refactoring by moving, you can also play around with your code by moving any program construct or identifier across the code. This is not refactoring but simple moving. PhpStorm can be configured to respect your <code class="literal">if-else</code> or other blocks of code. To move a line of code, you just need to place your cursor over the desired line and use the magical shortcut <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Up</em></span> or <span class="emphasis"><em>Down</em></span>. Your line will be moved up or down. This action works well for a selection of code as well.</p></div></div></div></div>
<div class="section" title="Deleting elements"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec43"/>Deleting elements</h1></div></div></div><p>The deletion of code from<a id="id185" class="indexterm"/> the code base is itself a very daring task. Asking a programmer to delete business logic in the code is like asking for one of the kidneys!</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec88"/>Getting ready</h2></div></div></div><p>PhpStorm attempts to ease this by providing a <span class="strong"><strong>Safe Delete</strong></span> option. You can delete an element in your code by refactoring it. This refactoring will find the occurrences of the selected element, and as soon as you ask it to proceed, PhpStorm happily deletes the selected occurrences of the element in your project.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec89"/>How to do it...</h2></div></div></div><p>To delete a file, you need to follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Access the right-click context menu after placing the cursor over the target filename.</li><li class="listitem">Choose the <span class="strong"><strong>Safe Delete</strong></span> option. PhpStorm then asks you whether you want to look into the comments and strings inside your code, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3878OT_03_16.jpg" alt="How to do it..."/></div></li><li class="listitem">If you continue, PhpStorm <a id="id186" class="indexterm"/>will let you know of any potential problems in deleting the file.</li><li class="listitem">You can then have a look at the list of files that are under the radar by selecting the <span class="strong"><strong>View usages</strong></span> options or pressing <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>F7</em></span>.</li><li class="listitem">PhpStorm will provide you with a list of the files that have references to what you are deleting. If you change your mind, you can rerun safe delete. If you are determined enough, you can proceed to delete. If you choose not to delete, you can cancel this process altogether, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3878OT_03_17.jpg" alt="How to do it..."/></div></li><li class="listitem">If you are happy with the consequences of the delete process, you can choose the <span class="strong"><strong>Delete Anyway</strong></span> option.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec90"/>How it works…</h2></div></div></div><p>Once finalized, PhpStorm <a id="id187" class="indexterm"/>will proceed to delete the files by performing the following actions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Finding the elements in the file to be deleted</li><li class="listitem" style="list-style-type: disc">Finding the occurrence(s) of the elements in the other files in the project</li><li class="listitem" style="list-style-type: disc">Removing the occurrence from the other files in the project</li><li class="listitem" style="list-style-type: disc">Deleting the file that was selected initially</li></ul></div></div></div>
<div class="section" title="Searching code in a project"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec44"/>Searching code in a project</h1></div></div></div><p>It is highly unlikely that anyone<a id="id188" class="indexterm"/> will remember each and every line of code. If your <a id="id189" class="indexterm"/>manager scolds you for not having remembered the last line where you made a certain change, all you need to do is to smile and continue working with PhpStorm. When you forget while typing where you kept your wireless keyboard or when you can forget where you kept your car keys while driving the same car, you can forget anything. Humans can forget anything. The human brain acts in unexplained ways.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec91"/>Getting ready</h2></div></div></div><p>Having PhpStorm by your side means that you can afford to forget about your code. Even if you have some memory of keywords such as Pizza or Dish, there are facilities available in PhpStorm where you can find all mentions of these keywords. Are you still not convinced about the success of this power of PhpStorm? Stay tuned for more information.</p><p>Within PhpStorm, there is a <a id="id190" class="indexterm"/>
<span class="strong"><strong>Find in path</strong></span> tool. It is one of the best features provided by PhpStorm from the technical and usage perspectives. Technically, it is programmed to be smart while at the same time being fast. If you somehow happen to search something that PhpStorm thinks could become an issue, it warns you by showing you an alert, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_06.jpg" alt="Getting ready"/></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec92"/>How to do it...</h2></div></div></div><p>The journey to search for an <a id="id191" class="indexterm"/>item in the project begins with a simple and easy-to-remember <a id="id192" class="indexterm"/>keyboard shortcut, <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>F</em></span>. As soon as you initiate the command, you will be asked to provide your search parameters.</p><p>The first option you are provided is the string you want to search for. This is the most basic and the most important requirement needed for the search to proceed.</p><p>If you don't provide any text, the <span class="strong"><strong>Find</strong></span> button cannot perform a search. The text that you enter here should be provided strategically to save your and PhpStorm's time. The following example with multiple perspectives is the best. Assume that you are very hungry and need to know how to cook pizza. Your search string will be <code class="literal">pizza</code>.</p><p>You can narrow down the search criteria, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_07.jpg" alt="How to do it..."/></div><p>There is a <span class="strong"><strong>Directory</strong></span> radio button in the pop up. You can select that in order to let PhpStorm know that it has to select inside a particular directory only. When you specify the path to the target <a id="id193" class="indexterm"/>directory, PhpStorm will perform the same task of searching, but <a id="id194" class="indexterm"/>this time it will do so with narrowed-down search criteria. The point worth noting here is that a project is just a collection of directories, so when you search in a project, you actually search in a set of directories and/or certain files. When you select a directory, you thus make the search faster because PhpStorm has to search less. Lazy PhpStorm!</p><p>If there are directories inside the target directory, you can tell PhpStorm to actually descend into the directories by selecting the <span class="strong"><strong>Recursively</strong></span> option, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_08.jpg" alt="How to do it..."/></div><p>However, you might still need to work through many results to find the target.</p><p>If you want to tell PhpStorm to search in certain files, you can do that by selecting one of the following values from the drop-down box next to the <span class="strong"><strong>Custom</strong></span> scope:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Project Files</strong></span>: The search will be limited to the project files.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Projects and Libraries</strong></span>: The search will include the project directory and the libraries that are used in the project.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Project Test Files</strong></span>: The search will look into the test files for the project.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Open Files</strong></span>: The search will look into the files that are currently open in the editor.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Files in previous search results</strong></span>: The search will look into the files that were used in the previous searches. This means PhpStorm remembers what you searched for.</li></ul></div><p>If you want to have your<a id="id195" class="indexterm"/> own custom search criteria, you can do that as well. PhpStorm <a id="id196" class="indexterm"/>will record your preferences and allow you to switch to them whenever you want to search. To do that, there is the button next to the custom dropdown. When you press that, you will be asked to save your preferences, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_09.jpg" alt="How to do it..."/></div><p>As soon as you hit the <span class="strong"><strong>Save</strong></span> button, your preferences will start appearing in the same dropdown under the division, <span class="strong"><strong>Custom</strong></span> scopes. If, at some point in the future, you need to change the custom search scope you just created, you need to follow the same steps. The same form will appear, and you can edit your preferences from there.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec93"/>How it works…</h2></div></div></div><p>You still have a lot to search. The human mind is very lazy, and it always looks for better alternatives that consume less energy. Searching inside the project was a bit too much. You still have to look into the search results manually and then decide which one your desired version of pizza is, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_10.jpg" alt="How it works…"/></div><p>Your <code class="literal">pizza</code> could have been a <code class="literal">Pizza</code>. In that case, you need to select the <span class="strong"><strong>Case Sensitive</strong></span> option. PhpStorm will differentiate between <code class="literal">Pizza</code> and <code class="literal">pizza</code>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note11"/>Note</h3><p>If you are sure that you just want to search for a pizza, you should check the <span class="strong"><strong>Whole words only</strong></span> option. Thus, PhpStorm will know that it has to search pizza only and not the likes of <code class="literal">pizzadish</code>, <code class="literal">pizzacooking</code>, or <code class="literal">pizzacooked</code>.</p></div></div><p>If you just want to<a id="id197" class="indexterm"/> search for the occurrence of <code class="literal">pizza</code> inside comments (PHPDoc included), you <a id="id198" class="indexterm"/>need to select the <span class="strong"><strong>Comments only</strong></span> option.</p><p>If you just want to find out how many strings contain the word <code class="literal">pizza</code>, you should select the <span class="strong"><strong>String literals only</strong></span> option. PhpStorm will look at the string constants only.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec94"/>There's more...</h2></div></div></div><p>The most important part of searching appears when you decide that you are going to search for all those cases in which there is <code class="literal">pizza</code> at the end or in the middle or at the beginning. By now, regular expressions may start to ring a bell. Your search string can probably be like <code class="literal">^pizza</code> if you are interested in all words that start with pizza. You then need to select the <span class="strong"><strong>Regular expression</strong></span> option. You will obviously want to create more and more use cases in order to master the art of <a id="id199" class="indexterm"/>
<span class="strong"><strong>RegEx</strong></span>. For help with regard to the usage of RegEx, you can head to the help section in PhpStorm. For ease, the same table has been copied here. People familiar with Java will feel at home!</p></div></div>
<div class="section" title="Comparing files"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec45"/>Comparing files</h1></div></div></div><p>Changed code is a<a id="id200" class="indexterm"/> nightmare. This is unanimously agreed by the community of developers across the world. To control change, there are versioning systems available. These can show you in detail that a file has changed whenever you upload your changed file to the versioning server. However, who is responsible for the changes you make to your local working copy? How are you going to track which change caused your code to break down?</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec95"/>Getting ready</h2></div></div></div><p>You can use file comparisons. Since PhpStorm records each and every activity that you perform on the editor, you can find out the actual nonworking code by comparing your troublesome file across different timelines. If you feel <span class="emphasis"><em>timelines</em></span> is an alien here, you might feel easy to know that PhpStorm actually saves your local copy versions according to timestamps. If at some point in time, your code stops working and undo will not help, you can use file comparison to review the timeline and compare the historical file with your current file. You will then be able to identify which change was the culprit in preventing your code from executing.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec96"/>How to do it...</h2></div></div></div><p>In order to view the local history and compare the current file with the historical file, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">You need to access the right-click context menu, select the <span class="strong"><strong>local history</strong></span> option, and select the <span class="strong"><strong>Show history</strong></span> option.</li><li class="listitem">You will be given details of the differences according to the timestamp of the file's history, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3878OT_03_11.jpg" alt="How to do it..."/></div></li><li class="listitem">Similarly, you can<a id="id201" class="indexterm"/> compare two files with each other. You need to go to the project view, select the two files of interest, access the right-click context menu, and select the <span class="strong"><strong>Compare 2 files</strong></span> option. You will be presented with a similar comparison window that shows any differences between the two files you selected.</li><li class="listitem">The blue lines show changed content, the green line shows new content, and the red line shows conflicted content.</li><li class="listitem">There are directional arrows(<span class="strong"><strong>&gt;&gt;</strong></span> and <span class="strong"><strong>&lt;&lt;</strong></span>), which indicate which change should be passed on to which file, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3878OT_03_12.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec97"/>How it works...</h2></div></div></div><p>If you don't like the colors, you<a id="id202" class="indexterm"/> can change them as well by navigating to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Editor</strong></span> | <span class="strong"><strong>Colors &amp; Fonts</strong></span> | <span class="strong"><strong>Diff </strong></span>in your destination, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_13.jpg" alt="How it works..."/></div><p>Sometimes, you have to live <a id="id203" class="indexterm"/>with someone else's noncompliance with software engineering practices. Such cases appear when you work in a team. A team member has, by mistake, made some changes to the code and pushed it to the code base. Being the senior programmer, you are asked to swing into action and fix that. But you don't have a clue as to how to proceed. You can use the same difference (or file comparison system) to compare the files in the repository itself. Once you compare it with the last few revisions, you will, in no time at all, discover the error and will be able to fix it. Thus, you will prove your worth as a programmer! Thanks PhpStorm.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note12"/>Note</h3><p>Whatever comparison you do and whichever files you compare, the keyboard shortcut is <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span> by default. It is expected that you will remember this. Remembering this shortcut is applicable to compare only when the change history window is open.</p></div></div></div></div>
<div class="section" title="Restoring elements using comparison"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec46"/>Restoring elements using comparison</h1></div></div></div><p>Besides file comparison, this<a id="id204" class="indexterm"/> difference system can be a great deal of help<a id="id205" class="indexterm"/> if you wish to recover deleted files or folders. You just need to remember the name of the directory in which the deleted file was initially located. Will that relate to the problem? Yes, it will. If you view the local history of the folder, you will be able to see which actions have been performed on the directory.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec98"/>Getting ready</h2></div></div></div><p>The actions could be<a id="id206" class="indexterm"/> anything: new files or folders, a change in <a id="id207" class="indexterm"/>some of the files or folders, deletion of files or folders, and so on. You can now safely thank PhpStorm for monitoring each and every action you perform.</p><p>Once you find out the resource you were missing the most, you can revert to a timestamp that was just prior to the disastrous change.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec99"/>How to do it...</h2></div></div></div><p>The simplest way to restore changes is to use the keyboard shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Z</em></span> to undo. You will be able to undo your previous edit in the file until you close it. The same is true for projects as well.</p><p>You can undo deletions, renames, or any changes that your project has. These are safe and PhpStorm keeps a record of all the history.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec100"/>How it works...</h2></div></div></div><p>Restoring the file is based on timestamps, or it can be restored using SVN or other versioning tools. We have discussed that undo is useful in software engineering, but the working of that is based on your operating system, which is beyond the scope of this book.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec101"/>See also</h2></div></div></div><p>This recovery process is already described in <span class="emphasis"><em>Restoring Deleted Resources</em></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note13"/>Note</h3><p>The only prerequisite is that the deletion process should be carried out inside PhpStorm only. If the resource was deleted outside it, PhpStorm will not be able to help.</p></div></div></div></div>
<div class="section" title="Setting the run configuration"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec47"/>Setting the run configuration</h1></div></div></div><p>Having learned how to code <a id="id208" class="indexterm"/>within the PhpStorm editing system, you should be able to execute your code now. No, no! It is not being assumed that you don't know how to run code—the perspective being discussed here is PhpStorm. You can now read the mentioned statement again.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec102"/>How to do it...</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Run configuration can be set for the project-wide files. To make the configurations, you need to go to <span class="strong"><strong>Run</strong></span> | <span class="strong"><strong>Edit Configurations</strong></span> from the main menu. A dialog will appear that asks you a number of questions. The answers will assist you by providing a quicker way to execute your code.</li><li class="listitem">Once you open the settings area, you need to broadly concentrate on the methods that are of interest to you. If you do not specify any settings, PhpStorm will determine the type of the scripts that you have written. The PHP script settings are an emulation of the scenario when you used to execute a PHP script via the command line by providing command-line arguments, specifying interpreter options or environment variables in case you wished to do something wild.</li></ol></div><p>The arguments you specify <a id="id209" class="indexterm"/>are the command-line arguments to your PHP script.</p><p>The interpreter options are the options that you used to provide to your PHP interpreter. Some commonly used switches will make you recall those painful days: <code class="literal">-a</code>, <code class="literal">-v</code>, <code class="literal">--info</code>, and so on.</p><p>The following is a list of options available:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Options</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-a</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Run as<a id="id210" class="indexterm"/> interactive shell.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-c&lt;path&gt;|&lt;file&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Look<a id="id211" class="indexterm"/> for <code class="literal">php.ini</code> file in this directory.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-n</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No <code class="literal">php.ini</code> file will<a id="id212" class="indexterm"/> be used.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-d foo[=bar]</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Define<a id="id213" class="indexterm"/> INI entry <code class="literal">foo</code> with value <code class="literal">bar</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-e</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Generate<a id="id214" class="indexterm"/> extended information for debugger/profiler.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-f&lt;file&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Parse<a id="id215" class="indexterm"/> and execute <code class="literal">&lt;file&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-h</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This is<a id="id216" class="indexterm"/> help.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-i</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id217" class="indexterm"/>gives PHP information.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-l</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Syntax <a id="id218" class="indexterm"/>check only (lint).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-m</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show <a id="id219" class="indexterm"/>code compiled in modules.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-r&lt;code&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Run<a id="id220" class="indexterm"/> PHP <code class="literal">&lt;code&gt;</code> without using script tags <code class="literal">&lt;?...?&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-B&lt;begin_code&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Run <a id="id221" class="indexterm"/>PHP <code class="literal">&lt;begin_code&gt;</code> before processing input lines.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-R&lt;code&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Run<a id="id222" class="indexterm"/> PHP <code class="literal">&lt;code&gt;</code> for every input line.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-F&lt;file&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Parse <a id="id223" class="indexterm"/>and execute <code class="literal">&lt;file&gt;</code> for every input line.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-E&lt;end_code&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Run <a id="id224" class="indexterm"/>PHP <code class="literal">&lt;end_code&gt;</code> after processing all input lines.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-H</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Hide <a id="id225" class="indexterm"/>any passed arguments from external tools.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-S&lt;addr&gt;:&lt;port&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Run <a id="id226" class="indexterm"/>with built-in web server.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-t&lt;docroot&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Specify<a id="id227" class="indexterm"/> document <a id="id228" class="indexterm"/>root <code class="literal">&lt;docroot&gt;</code> for built-in web server.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-s</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Output<a id="id229" class="indexterm"/> HTML syntax highlighted source.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-v</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id230" class="indexterm"/>gives the version number.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-w</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Output <a id="id231" class="indexterm"/>source with stripped comments and whitespace.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-z&lt;file&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Load Zend <a id="id232" class="indexterm"/>extension <code class="literal">&lt;file&gt;.</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">args...</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Arguments<a id="id233" class="indexterm"/> passed to script. Use <code class="literal">-- args</code> when first argument starts with <code class="literal">-</code> or the script is read from <code class="literal">stdin</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--ini</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show <a id="id234" class="indexterm"/>configuration file names.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--rf&lt;name&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show <a id="id235" class="indexterm"/>information about function <code class="literal">&lt;name&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--rc&lt;name&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show <a id="id236" class="indexterm"/>information about class <code class="literal">&lt;name&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--re&lt;name&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show <a id="id237" class="indexterm"/>information about extension <code class="literal">&lt;name&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--rz&lt;name&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show <a id="id238" class="indexterm"/>information about Zend extension <code class="literal">&lt;name&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--ri&lt;name&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show<a id="id239" class="indexterm"/> configuration for extension <code class="literal">&lt;name&gt;</code>.</p>
</td></tr></tbody></table></div><p>On saving the settings, your PHP script will be ready to be run.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note14"/>Note</h3><p>It is worth noting here that this is just a PhpStorm way of executing the command-line PHP scripts. If you remember that there is a terminal view available in PhpStorm, you will easily relate that you can do the same tasks in the terminal as well.</p></div></div><p>The other configuration<a id="id240" class="indexterm"/> worth your interest is the PHP Web Application settings. It appears to lay people or nonprogrammers that web programming is an easy cake.</p><p>Happy are those who reject the advice of evil men and who do not follow the example of sinners.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec103"/>How it works...</h2></div></div></div><p>Thinking that web programming is easy, is like thinking that everyone can bake tasty pizza. Bear in mind that tasty is the word. To handle the challenge of executing a web-based application, you need to tell PhpStorm some facts that are basically settings. The settings you need to specify here are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A valid web server needs to be specified where your application will be launched. To configure a new server, there is a small square button to the right-hand side of the dropdown provided. Clicking on that, you are taken to an all-new settings area where you need to set up a web server.<p>Complications! Go find those who say web programming is easy. You are free to do what you want with them, but here, with PhpStorm, you need to specify the configurations to set up a web server. To set up a new web server, you need to specify the name that you will use to address this web server in the future (near or far). You need to set the hostname (you'll probably be using localhost or <code class="literal">127.0.0.1</code>) and the port number (the most common case will lead you to keep <code class="literal">80</code> as the value here). You can also specify a debugger here.</p><p>By default, PhpStorm supports <span class="strong"><strong>Xdebug</strong></span>
<a id="id241" class="indexterm"/> and <a id="id242" class="indexterm"/>
<span class="strong"><strong>zend-debugger</strong></span>. Don't scratch your head as to what a debugger is. It will be taken up later in this book. Some developers prefer keeping their web server document root clean by only putting symbolic links inside it. The symbolic links point to some other location on the local disk. The reason for this is that the document root might not provide sufficient permissions that are required to write into a directory. You can obviously control your own directory more easily than the server's document root. If you have some symbolic links inside the document root, you can tell PhpStorm about it too. The left-hand side of the table is the actual path under which your project is saved, and to the right-hand side is the symbolic link under your document root.</p><p>You can specify the start URL (base URL in spoken language). This is simple.</p></li><li class="listitem" style="list-style-type: disc">The browser in <a id="id243" class="indexterm"/>which you need to view the web application needs to be specified too. You can select the browser from a list of predefined browsers. If you think you need to be specifically targeting certain browsers to view your code in, you need to go to the <span class="strong"><strong>Web Browsers</strong></span> settings. This can be reached via two ways:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The square button onto the right-hand side of the browser dropdown. The options that you get to fill in are the browser-related configurations. You can tell PhpStorm to follow the operating system underlying the selected default browser. You can select from either Firefox, Internet Explorer, Safari, Chrome, or Opera by selecting the path where the executable lies. You can also set a web browser as active or inactive and make a browser the default. You can use the browser settings with PhpStorm.</li><li class="listitem" style="list-style-type: disc">The other one is via <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Web Browsers</strong></span>. Both the paths take you to the same destination, which is as follows:</li></ul></div><div class="mediaobject"><img src="graphics/3878OT_03_14.jpg" alt="How it works..."/></div><p>There are lots of web browsers available across the world. You can select a web browser of your choice and set it here for use in PhpStorm.</p></li></ul></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec104"/>There's more...</h2></div></div></div><p>You can also set a<a id="id244" class="indexterm"/> pre-run configuration by setting some command that is executed just before your application gets executed. There are certain options available for configuration. You can even create your own new PhpStorm tool based on this configuration and use it here, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_03_15.jpg" alt="There's more..."/></div><p>That's all there is to set your web application to be executed on a web server and viewed on a web browser. To execute web application code that you created, you need to right-click on the file in the editor and select <span class="strong"><strong>Open in browser</strong></span>. Bingo!</p></div></div>
<div class="section" title="Running your code"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec48"/>Running your code</h1></div></div></div><p>Having entered the world of<a id="id245" class="indexterm"/> PHP knowingly, you also stepped into the world of web programming as PHP is a popular web programming language too. An application written in PHP will have to be executed in either of the two mediums.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec105"/>Getting ready</h2></div></div></div><p>You need a web server such as Apache with the PHP module installed. If you need a web server, you are probably creating a web-based application that will run on a web browser.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec106"/>How to do it...</h2></div></div></div><p>To run PHP code, you need to learn just a shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>F10</em></span>. The rest is taken care of by PhpStorm.</p><p>The code will be executed according to the configuration you set. For more details about executing PHP code, you can refer to the previous chapter as well.</p><p>However, if you have no prior experience in executing PHP code in PhpStorm and you are not in the mood to try out something new, you can resort to old-school methods.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec107"/>How it works…</h2></div></div></div><p>You can use PhpStorm as the development system and the file transfer system to upload your code onto the web server where you can test the code there and then. The precondition is that the webserver should be a development server and that you just need to make changes to the PHP code only.</p><p>Does it not sound too old fashioned? Maybe. Read on.</p><p>If the development server is your local machine, this will be an inefficient way of doing things. In the case of your development server not being on your local machine, even if it is on the local network, there is a time lag involved in transferring files over the network. Being a developer, obviously you cannot afford to have this time lag unless the business requirements are such that you cannot have the entire system set up on your local machine.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip15"/>Tip</h3><p>In all other cases, it is recommended that you have a local replica of the development server set up on your machine.</p></div></div><p>Keep in pace with the new <a id="id246" class="indexterm"/>fashion. PhpStorm rocks!</p></div></div></body></html>
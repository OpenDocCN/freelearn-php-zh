- en: Chapter 1. Installing Phalcon
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter will walk you through installing Phalcon on your chosen platform.
    The installation process differs a little bit depending on which operating system
    you happen to be using. Since Phalcon is a PHP extension written in C, installation
    is a little bit more involved than downloading an archive of PHP files and uploading
    them to your server.
  prefs: []
  type: TYPE_NORMAL
- en: But installation should still take you less than an hour. Depending on your
    system and experience with PHP extensions, it could take only minutes. At the
    end of this chapter, you will have a high performance PHP framework that will
    simplify the process of developing your application and help you get your project
    up and running faster.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, you will learn how to:'
  prefs: []
  type: TYPE_NORMAL
- en: Meet Phalcon's system requirements
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Find the correct Phalcon DLL for use on a Windows machine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install the Phalcon DLL on a Windows machine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install Phalcon on Linux
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install Phalcon on Mac
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install Phalcon on FreeBSD
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit your `php.ini` to use Phalcon
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Configure Apache for Phalcon
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Phalcon system requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You will of course need a web server in order to use Phalcon. Apache is the
    most common, but if you have an Nginx or Cherokee web server, that will work too.
    You can even use PHP's built-in web server as your Phalcon development server
    if you wish. For the purposes of this book, we will assume you have Apache installed.
  prefs: []
  type: TYPE_NORMAL
- en: Along with that, you will need PHP installed. While Phalcon will work with any
    version of PHP higher than Version 5.3.1, it is recommended that you use PHP 5.3.11
    or greater. Versions of PHP before 5.3.11 still have security flaws and memory
    leaks that were fixed in the later versions.
  prefs: []
  type: TYPE_NORMAL
- en: But that is about all you need. Phalcon is not really very picky. There are
    a few other requirements you may need to meet on each specific operating system,
    and we will cover them in the individual installation processes.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Phalcon on Windows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will walk through installing Phalcon on Windows. Even if
    you aren't installing the extension on Windows, please read through this section.
    Many of the steps involved, such as locating your `php.ini`, apply to all operating
    systems.
  prefs: []
  type: TYPE_NORMAL
- en: The Phalcon extension for Windows comes compiled as a DLL. However, you must
    locate the correct DLL for your version of PHP. The first requirement when installing
    Phalcon in Windows is a PHP binary compiled with Windows Visual Studio 9.0\. It
    is possible to have a Windows PHP installation compiled with another version of
    Visual Studio. If you have one of these other versions, you will have to install
    the correct version of PHP if you want Phalcon to work on your system.
  prefs: []
  type: TYPE_NORMAL
- en: So, let's take a look at your PHP installation to discover just which version
    of PHP you have installed. First, you need to locate the document root of your
    web server. Or, in other words, you need to locate the folder on your computer
    that corresponds to the page you get when you browse to `http://localhost` or
    the folder on your server that maps to the home page of `http://yourdomain.com`.
    We are going to create a PHP file that will tell us everything we need to know
    to pick the right version of the PhalconPHP DLL and drop it in that folder.
  prefs: []
  type: TYPE_NORMAL
- en: 'So, open up your text editor or IDE and create a new file. Name it `info.php`.
    In that file, insert the following code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Save the file to your document root. Where your document root is depends upon
    which web server stack you have installed on your machine. It could be Apache
    directly from the official site, such as XAMPP, Wamp, or AMPPS, or one of the
    other versions of Apache, PHP, and MySQL stacks available. Your best bet is to
    visit the site where you downloaded your chosen version of Apache and read the
    documentation.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you have saved the file, browse to `http://localhost/inf` `o.php` and
    you should see a page like the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Installing Phalcon on Windows](img/7673OS_01_01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: You will notice the PHP version at the top of the page. We will be paying attention
    to the first two numbers separated by a dot. They will either be **5.3** as shown
    in the previous screenshot or 5.4\. If they are 5.2 or less, you will need to
    update your PHP installation.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, you want to make sure that your version of PHP was compiled with Microsoft
    Visual Studio 9.0\. So, search for the word **Compiler** in your browser window.
    The command to open the search box on most browsers is *Ctrl* + *F*. It is usually
    near the top of the page as shown in the following screenshot. If your PHP was
    compiled with Visual Studio 9.0, you should see **MSVC9 (Visual C++ 2008)**, as
    shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Installing Phalcon on Windows](img/7673OS_01_02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Below the **Compiler**, you will see the **Architecture** listing. It will say
    **x86** or **x64**. In the previous screenshot, PHP was compiled for the **x86**
    architecture.
  prefs: []
  type: TYPE_NORMAL
- en: Next, we need to see if you have a thread-safe version of PHP or not. So, search
    for PHP Extension Build in your browser window. Next to this, you will see the
    build version of your PHP installation. If you see an NTS at the end of this number,
    then you do not have a thread-safe version of PHP.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have these pieces of information, we can go to [http://phalconphp.com/en/download/windows](http://phalconphp.com/en/download/windows).
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Downloading the example code**'
  prefs: []
  type: TYPE_NORMAL
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you. You can also find all
    the code used in the book by visting GitHub page [http://eristoddle.github.io/phalconBlog/](http://eristoddle.github.io/phalconBlog/).
  prefs: []
  type: TYPE_NORMAL
- en: 'Here, we will see the page as shown in the following screenshot, which lists
    multiple versions of the Phalcon PHP extension:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Installing Phalcon on Windows](img/7673OS_01_03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: It may look daunting, but we just did the research that will enable us to choose
    the correct version. We know whether we have a thread-safe version or not. We
    know whether we have an x86 or x64 architecture. And we know whether we have PHP
    5.3 or 5.4\. Don't worry about the last number in the PHP version. We just need
    to download the extension that fits our configuration. The Phalcon extension for
    PHP 5.3.9 will work for all versions of PHP 5.3 and the extension for PHP 5.4.0
    will work for all versions of PHP 5.4.
  prefs: []
  type: TYPE_NORMAL
- en: After downloading the extension, unzip it. Inside the zip file will be a DLL.
    Next, we need to move this DLL into the folder where your other PHP extensions
    exist. If you have XAMPP installed, this folder will most likely be `c:\xampp\php\ext`,
    and with Wamp, that would be `c:\wamp\bin\php_version_number\ext`, where `php_version_number`
    is replaced with the version number of PHP you have installed. For other versions
    of web server stacks, you will have to visit the documentation to find the PHP
    extension folder.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now we have the extension where it needs to be, but we aren''t done yet. We
    need to have PHP load the extension when it runs. So we have to locate the `php.ini`
    file and edit it. But guess what, we can use our `info.php` file to tell us where
    this file is. So load it again in your browser and search for **Loaded Configuration
    File**. Listed beside this entry is its location, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Installing Phalcon on Windows](img/7673OS_01_04.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Once you locate this file, open it with your text editor or IDE and scroll
    to the very bottom. This file can be quite long. At the very bottom of this file,
    you will want to add the following line to tell PHP to load Phalcon:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Save the file. Some server stacks like XAMPP have desktop software to stop
    and start Apache, while others like Apache from the official site only have a
    tray icon to control stopping and starting of the server. Or, you can just restart
    Apache from the command line. Restart Apache now and Phalcon is installed. But
    let''s check to make sure. Load `http://localh` `ost/info.php` in your browser
    again and search for Phalcon and you should be greeted by a page as shown in the
    following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Installing Phalcon on Windows](img/7673OS_01_05.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Installing Phalcon on Linux
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Linux is the most common operating system for a web server. Phalcon does require
    you to have root access to your web server. If you are on a shared server, you
    won't get root access, but you may be able to talk to your hosting provider to
    install Phalcon for you. If you have a VPS, cloud server, or dedicated server,
    you most likely have root access. If not, you can ask your hosting provider to
    give you access.
  prefs: []
  type: TYPE_NORMAL
- en: It is beyond the scope of this book to walk you through installing Phalcon on
    each and every Linux installation, but there are prebuilt versions of the Phalcon
    extension for some versions of Linux.
  prefs: []
  type: TYPE_NORMAL
- en: 'For Debian Linux, you will find a repo at the following link:'
  prefs: []
  type: TYPE_NORMAL
- en: '[http://debrepo.frbit.com/](http://debrepo.frbit.com/)'
  prefs: []
  type: TYPE_NORMAL
- en: 'For Arch Linux, you can go to the following link to download a PKGBUILD:'
  prefs: []
  type: TYPE_NORMAL
- en: '[http://aur.archlinux.org/packages.php?ID=61950](http://aur.archlinux.org/packages.php?ID=61950)'
  prefs: []
  type: TYPE_NORMAL
- en: 'And for OpenSUSE, you can find a package at the following link:'
  prefs: []
  type: TYPE_NORMAL
- en: '[http://software.opensuse.org/package/php5-phalcon](http://software.opensuse.org/package/php5-phalcon)'
  prefs: []
  type: TYPE_NORMAL
- en: 'For all other versions of Linux, we will have to compile Phalcon ourselves.
    This is not hard, and if you have been using Linux for a while, you are probably
    used to compiling your own software by now. First, we have to be sure we have
    the following software installed:'
  prefs: []
  type: TYPE_NORMAL
- en: Git
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GCC Compiler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PHP development resources
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you don't have these installed, you can install them via the command line.
  prefs: []
  type: TYPE_NORMAL
- en: 'For Ubuntu, the command line is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'For Fedora, CentOS, and RHEL, the command line is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'For OpenSUSE, the command line is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'For Solaris, the command line is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have met all the requirements, open up a terminal window and type
    the following commands to download the Git repository and compile the Phalcon
    extension:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: On some Linux installations, the compilation may fail because `libpcre3-dev`
    is missing. You can fix this issue by installing this package with your Linux
    package manager.
  prefs: []
  type: TYPE_NORMAL
- en: 'You just compiled your first PHP extension. Now we need to add the reference
    to our extension to the `php.ini` file. We can find it by creating the `info.php`
    file as discussed in the *Installing Phalcon on Windows* section of this chapter,
    loading it in our browser, and searching the resulting page for **Loaded Configuration
    File**. Locate the file listed here in your file-system and add the following
    line to the very bottom of the file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Now save the file. If you do happen to be installing Phalcon for PHP 5.4 on
    a Debian type Linux, the procedure for installing a new PHP extension has changed.
    It is no longer a best practice to edit the main `php.ini` file. In the same folder
    where you found the `php.ini` file, usually with the `/etc/apache5/` path, you
    will find a `mods-available` folder. It is in this folder that you will be creating
    a custom `.ini` file just for Phalcon, and you will call it `phalcon.ini`. This
    file will be empty because we aren''t adding any custom configuration settings
    to Phalcon. Then, to enable the extension, we just run the following in the command
    line:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Now restart your web server. The command to restart Apache differs depending
    on the type of Linux. For Debian and Ubuntu type Linuxes, you can type the following
    command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Installing Phalcon on Mac
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To install Phalcon on Mac, the steps are basically the same as installing it
    on Linux. You must compile the extension from the source code. But first there
    are some requirements. You need to have Git, php5-devel, and Xcode with the command
    line tools installed. Xcode is available for free from the official Mac site,
    but is not installed by default.
  prefs: []
  type: TYPE_NORMAL
- en: Also, Xcode's command line tools are not installed with Xcode by default. In
    order to make sure to install these tools, open Xcode's **Preference** panel,
    choose the **Download** tab, and click on the **Install** button located next
    to the **Command Line Tools** listing.
  prefs: []
  type: TYPE_NORMAL
- en: To install Git, just point your web browser to [http://git-scm.com/download/mac](http://git-scm.com/download/mac),
    download the file, and install it. You will also need to install php5-devel if
    you don't already have it on your system. How you install this depends on the
    package manager you have installed on your Mac. There are also some prebuilt php5-devel
    binaries available for the Mac. A search on Google for "install Mac php5-devel"
    should point you in the right direction.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that we have met all the requirements, the steps are the same as installing
    Phalcon on Linux. First, use Git to pull the source code down to your computer
    and build the extension by issuing the following commands in the Terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'Then, use the steps we went over in the *Installing Phalcon on Windows* section
    of this chapter to locate your `php.ini` file. Once you have found your `php.ini`
    file, open it and add the following line to the very bottom of your file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Next, restart Apache and you're set.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Phalcon on FreeBSD
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you happen to be installing Phalcon on FreeBSD, you''ve got it easy. There
    is a port of Phalcon available. It can be installed with the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Or
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: Optional Phalcon dependencies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'By now, you should have a working installation of Phalcon. But to use some
    of Phalcon''s functionality, you may need to install one, some, or all of the
    following PHP extensions:'
  prefs: []
  type: TYPE_NORMAL
- en: PDO
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PDO/MySQL
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PDO/PostgreSQL
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PDO/SQLite
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PDO/Oracle
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: mbstring
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mcrypt
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: openSSL
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mongo
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You will only need these if you plan to use the functionality they provide.
    For the purposes of this book, you will need to make sure that you have the PDO,
    PDO/MySQL, Mcrypt, and mbstring extensions installed.
  prefs: []
  type: TYPE_NORMAL
- en: Finding help
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Phalcon is constantly being improved, but every now and then, you may run into
    issues where the standard installation process may not work or you may run into
    other bugs. It is beyond the scope of this book to cover everything that could
    happen while installing or using Phalcon. To find help with issues like this,
    I suggest three places to look:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Phalcon''s official forum: [http://forum.phalconphp.com/](http://forum.phalconphp.com/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Phalcon''s bugtracker: [https://github.com/phalcon/cphalcon/issues](https://github.com/phalcon/cphalcon/issues)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Phalcon''s official documentation: [http://docs.phalconphp.com/en/latest/](http://docs.phalconphp.com/en/latest/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we learned how to choose the correct version of the Phalcon
    PHP extension for our operating system. We also learned how to install the extension
    on a multitude of systems. We edited our `php.ini` file so that Phalcon will now
    load with our PHP installation and become an integral part of the language.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will begin developing our Phalcon blog by putting together
    the skeleton structure of our site.
  prefs: []
  type: TYPE_NORMAL

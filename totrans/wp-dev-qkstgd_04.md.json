["```php\n<?php\n/*\nPlugin Name: WPQAPC After Post Content\nPlugin URI: http://www.wpexpertdeveloper.com/wpquick-after-post\nDescription: Add dynamic content after the post\nVersion: 1.0\nAuthor: Rakhitha Nimesh\nAuthor URI: http://www.wpexpertdeveloper.com\n*/\n```", "```php\nadd_filter( 'the_content', 'wpqapc_file_attachment_display' );\nfunction wpqapc_file_attachment_display( $content ){\n  global $post;\n  if( is_singular( 'post' ) ){\n    $after_content = '<div id=\"wpquick-article-ads\" style=\"padding:20px;text-align:center;font-size:20px;background:red;color:#FFF;\">GET MEMBERSHIP WITH 30% DISCOUNT</div>';\n    return $content . $after_content;\n  }\n  return $content;\n}\n```", "```php\nregister_activation_hook( __FILE__, 'wpqpa_activate' );\nfunction wpqpa_activate(){\n  global $wpdb;\n  $table_attachments = $wpdb->prefix . 'wpqpa_post_attachments';\n  $sql_attachments = \"CREATE TABLE IF NOT EXISTS $table_attachments (\n                 id int(11) NOT NULL AUTO_INCREMENT,\n                 file_name varchar(255) NOT NULL,\n                 user_id int(11) NOT NULL,\n                 post_id int(11) NOT NULL,\n                 file_path longtext NOT NULL,\n                 updated_at datetime NOT NULL,\n                 uploaded_file_name varchar(255) NOT NULL,\n                 PRIMARY KEY (id)\n                 );\";\n\n  require_once( ABSPATH . 'wp-admin/includes/upgrade.php' );\n  dbDelta( $sql_attachments );\n  $default_headers = array('Version' => 'Version');\n  $plugin_data = get_file_data(__FILE__, $default_headers, 'plugin');\n  update_option( 'wpqpa_version',$plugin_data['Version'] );\n}\n```", "```php\nif ( ! defined( 'WPQPA_PLUGIN_DIR' ) ) {\n  define( 'WPQPA_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );\n}\nif ( ! defined( 'WPQPA_PLUGIN_URL' ) ) {\n  define( 'WPQPA_PLUGIN_URL', plugin_dir_url( __FILE__ ) );\n}\n```", "```php\nadd_action( 'add_meta_boxes_post', 'wpqpa_post_attachments_meta_box' );\nfunction wpqpa_post_attachments_meta_box( $post ){\n  add_meta_box( 'wpqpa-post-attachments', __( 'Post attachments', 'wpqpa' ),\n'display_post_attachments_meta_box', 'post', 'normal', 'high' );\n}\n```", "```php\n$wpqpa = new WPQPA();\nadd_meta_box( 'wpqpa-post-attachments', __( 'Post attachments', 'wpqpa' ),\narray($wpqpa, 'display_post_attachments_meta_box') , 'post', 'normal', 'high' );\n```", "```php\nfunction display_post_attachments_meta_box( $post, $metabox ){\n  global $wpdb;\n  $display = '<div class=\"wpqpa-files-panel\" >\n   <div class=\"wpqpa-files-add-form\" >\n     <div class=\"wpqpa-files-msg\" style=\"display:none\" ></div>\n     <div class=\"wpqpa-files-add-form-row\">\n     <div class=\"wpqpa-files-add-form-label\">'.__(\"File Title\",\"wpqpa\").'</div>\n     <div class=\"wpqpa-files-add-form-field\">\n     <input type=\"text\" class=\"wpqpa-file-name\" name=\"wpqpa_file_name\" />\n     </div>\n     </div>\n     <div class=\"wpqpa-files-add-form-row\">\n     <div class=\"wpqpa-files-add-form-label\">'.__(\"File\",\"wpqpa\").'</div>\n     <div class=\"wpqpa-files-add-form-field\">\n     <input type=\"file\" class=\"wpqpa-file\" name=\"wpqpa_file\" />\n     </div>\n     </div>\n    <div class=\"wpqpa-clear\"></div>\n  </div>';\n  $display .= wp_nonce_field( \"wpqpa_attachment\", \"wpqpa_nonce\", true, false );\n  echo $display;\n}\n```", "```php\n<input type=\"hidden\" id=\"wpqpa_nonce\" name=\"wpqpa_nonce\" value=\"bff32cce02\">\n<input type=\"hidden\" name=\"_wp_http_referer\" value=\"/wp-admin/post.php?post=9&action=edit\">\n```", "```php\nadd_action( 'admin_enqueue_scripts', 'wpqpa_load_scripts',9 );\nadd_action( 'wp_enqueue_scripts', 'wpqpa_load_scripts',9 );\nfunction wpqpa_load_scripts(){\n  wp_register_style( 'wpqpa_css', WPQPA_PLUGIN_URL . 'css/wpqpa.css' );\n  wp_enqueue_style( 'wpqpa_css' );\n}\n```", "```php\nadd_action( 'init', 'wpqpa_save_private_attachment_files' );\nfunction wpqpa_save_private_attachment_files(){\n  global $wpdb;\n  if( ! isset( $_POST['wpqpa_file_name'] ) ){\n    return;\n  }\n  $file_name = isset($_POST['wpqpa_file_name']) ?        sanitize_text_field($_POST['wpqpa_file_name']) : '';\n  $file_nonce = isset( $_POST['file_nonce'] ) ? ( $_POST['file_nonce'] ) : '';\n  $post_id = isset( $_POST['post_ID'] ) ? (int) ( $_POST['post_ID'] ) : 0;\n  $user_id = get_current_user_id();\n  // Remaining code\n}\n```", "```php\nif ( ! isset( $_POST['wpqpa_nonce'] ) || ! wp_verify_nonce( $_POST['wpqpa_nonce'], 'wpqpa_attachment' ) ) {\n  $result_upload = wpqpa_process_file_upload();\n  // Upload code section 1\n}else{\n  // Handle error for invalid data submission\n}\n```", "```php\nif( isset( $result_upload['status'] ) && $result_upload['status'] == 'success' ){\n  $file_date = date(\"Y-m-d H:i:s\");\n  $uploaded_file_name = $result_upload['base_name'];\n  $wpqpa_post_attachments_table = \"{$wpdb->prefix}wpqpa_post_attachments\";\n  $wpdb->insert(\n    $wpqpa_post_attachments_table,\n    array(\n      'file_name' => $file_name,\n      'user_id' => $user_id,\n      'post_id' => $post_id,\n      'file_path' => $result_upload['relative_file_path'],\n      'updated_at' => $file_date,\n      'uploaded_file_name' => $uploaded_file_name,\n    ),\n    array( '%s', '%d', '%d', '%s', '%s', '%s' ) );\n}else{\n  // Handle file upload errors\n}\n```", "```php\nadd_action( 'post_edit_form_tag' , 'wpqpa_post_edit_form_tag' );\nfunction wpqpa_post_edit_form_tag( ) {\n  echo ' enctype=\"multipart/form-data\" ';\n}\n```", "```php\nfunction wpqpa_file_attachment_list( $post ){\n  global $wpdb;\n  $display = '<div class=\"wpqpa-files-list\" >';\n  $sql = $wpdb->prepare( \"SELECT * FROM {$wpdb->prefix}wpqpa_post_attachments WHERE post_id = %d order by updated_at desc \", $post->ID );\n\n  $files_list = $wpdb->get_results( $sql );\n  foreach( $files_list as $file_row ){\n    $url = get_permalink( $file_row->post_id );\n    $url = wpqpa_add_query_string( $url, \"wpqpa_file_download=yes&wpqpa_private_file_id =\". $file_row->id.\"&wpqpa_post_id=\".$file_row->post_id );\n\n    $display .= '\n      <div class=\"wpqpa-file-item\" id=\"PF'.$file_row->id.'\" data-file-id=\"'.$file_row->id.'\" >\n      <div class=\"wpqpa-file-item-row\" >\n      <div class=\"wpqpa-file-item-name wpqpa-files-list-name\" >'.$file_row->file_name.'</div>\n      <div class=\"wpqpa-file-item-download\" ><a href=\"'.$url.'\" >'.__(\"Download\",\"wpqpa\").'</a></div>\n      <div class=\"wpqpa-clear\"></div>\n      </div>\n      <div class=\"wpqpa-clear\"></div>\n      </div>';\n  }\n  $display .= '</div>';\n  return $display;\n}\n```", "```php\nadd_filter( 'the_content', 'wpqpa_file_attachment_display' );\nfunction wpqpa_file_attachment_display( $content ){\n  global $post;\n  if( is_singular( 'post' ) ){\n    return $content . wpqpa_file_attachment_list( $post );\n  }\n  return $content;\n}\n```", "```php\nadd_action( 'init', 'wpqpa_file_attachment_download' );\nfunction wpqpa_file_attachment_download(){\n  global $wpdb;\n  if( isset( $_GET['wpqpa_file_download'] ) && sanitize_text_field($_GET['wpqpa_file_download']) =='yes' && isset( $_GET['wpqpa_private_file_id'] ) ){\n\n    $wpqpa_file_download = $_GET['wpqpa_file_download'];\n    $wpqpa_file_id = isset( $_GET['wpqpa_private_file_id'] ) ? (int) $_GET['wpqpa_private_file_id'] : '';\n    $wpqpa_post_id = isset( $_GET['wpqpa_post_id'] ) ? (int) $_GET['wpqpa_post_id'] : '';\n\n    if( $wpqpa_file_id != '' && $wpqpa_post_id != '' ){\n      $sql = $wpdb->prepare( \"SELECT * FROM {$wpdb->prefix}wpqpa_post_attachments WHERE id = %d AND post_id = %d order by updated_at desc \", $wpqpa_file_id, $wpqpa_post_id );\n      $attachments = $wpdb->get_results( $sql,ARRAY_A );\n      if( ! isset( $attachments[0] ) ){\n        return;\n      }\n      $file_link = site_url() . $attachments[0]['file_path'];\n      $upload_dir = wp_upload_dir();\n      $file_dir = $upload_dir['basedir'] . $attachments[0]['file_path'];\n      // Remaining code for file downloads\n    }\n  }\n}\n```", "```php\n$file_mime_type = mime_content_type( $file_dir );\nif( $file_mime_type != '' ){\n  header( 'Cache-Control: public' );\n  header( 'Content-Description: File Transfer' );\n\n  if( isset( $attachments[0]['uploaded_file_name'] ) && $attachments[0]['uploaded_file_name'] != '' ){\n    header( 'Content-disposition: attachment;filename='.$attachments[0]['uploaded_file_name'] );\n  }else{\n    header( 'Content-disposition: attachment;filename='.basename( $file_dir ) );\n  }\n  header( 'Content-Type: '. $file_mime_type );\n  header( 'Content-Transfer-Encoding: binary' );\n  header( 'Content-Length: '. filesize( $file_dir ) );\n  readfile( $file_dir);\n  exit;\n}\n```", "```php\nadd_action( 'wp_loaded', 'wpqpa_upgrade_process' );\nfunction wpqpa_upgrade_process(){\n  $default_headers = array('Version' => 'Version');\n  $plugin_data = get_file_data( __FILE__, $default_headers, 'plugin' );\n  $stored_version = get_option('wpqpa_version');\n  $current_version = $plugin_data['Version'];\n  if ( !$stored_version && $current_version ) {\n    update_option( 'wpqpa_version', $plugin_data['Version'] );\n  }\n  if ( version_compare($current_version, $stored_version ) >= 0 ) {\n    update_option( 'wpqpa_max_upload_limit',20 );\n  }\n  update_option( 'wpqpa_version', $plugin_data['Version'] );\n}\n```", "```php\n<?php\nglobal $wpdb;\nif (!defined('WP_UNINSTALL_PLUGIN')) {\n  die;\n}\ndelete_option('wpqpa_version');\n$wpdb->query(\"DROP TABLE IF EXISTS {$wpdb->prefix}wpqpa_post_attachments\");\n```"]
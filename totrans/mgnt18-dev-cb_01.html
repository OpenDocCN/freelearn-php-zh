<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Getting Started with Magento"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with Magento</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Preparing the development environment</li><li class="listitem" style="list-style-type: disc">Installing Magento with sample data</li><li class="listitem" style="list-style-type: disc">Adding version control to the source code</li><li class="listitem" style="list-style-type: disc">Configuring the development tools</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Introduction</h1></div></div></div><p>You have probably heard of Magento. It is an out-of-the-box e-commerce platform with many features, such as catalog navigation, promotion rules, RSS feeds, product search, product tags, product reviews, tax rules, reports, and order management.</p><p>The company behind<a id="id0" class="indexterm"/> Magento is Varien. In 2007, they started thinking about an open source e-commerce platform that would be designed for a large number of uses. After one year of developing, the first stable release Magento 1.0 came out in 2008. When Magento became more popular in the later years, eBay showed interest in it and now owns 100 percent of Magento.</p><p>If you install Magento and configure it, then you can start selling products online. But when you want a custom theme, extra shipping methods, and other features, you have to extend the software as per the rules of Magento. If you know something about PHP programming, follow the steps described in the recipes, and you can start editing your Magento store.</p><p>We will create a development environment where you can start working. We will install sample data so that the shop is not empty and is ready to go. If you are new, you can start here. If you are a pro, you can still start here, because we follow the best practices of Magento development. Let's get started. Good luck!</p></div></div>
<div class="section" title="Preparing the development environment"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Preparing the development environment</h1></div></div></div><p>We will set up a development <a id="id1" class="indexterm"/>environment with Magento. For this, we need to set up a <span class="strong"><strong>LAMP</strong></span> (<span class="strong"><strong>Linux, Apache, MySQL, PHP</strong></span>)<a id="id2" class="indexterm"/> environment. In<a id="id3" class="indexterm"/> that LAMP environment, we will create a <span class="strong"><strong>Fully Qualified Domain Name</strong></span> (<span class="strong"><strong>FQDN</strong></span>) and a virtual host.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Getting ready</h2></div></div></div><p>We have to set up a development server that we will use to run Magento. When we have a Ubuntu desktop environment, we have to install the latest versions of the following software:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Apache2</li><li class="listitem" style="list-style-type: disc">PHP</li><li class="listitem" style="list-style-type: disc">MySQL server</li><li class="listitem" style="list-style-type: disc">Extra PHP libraries</li></ul></div><p>We can install these software by running the following commands on a CLI interface. These commands are based on a Ubuntu-based Linux distribution. To run the commands on a desktop with Ubuntu OS, launch the <span class="strong"><strong>Terminal</strong></span> program:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">To install the web server Apache2, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo apt-get install apache2</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">To install PHP, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo apt-get install php5</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">To install the MySQl server, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo apt-get install mysql-server</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">To install the required PHP extensions that Magento uses, such as the MySQL bridge, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo apt-get install php5-mysql php5-curl php5-gd php-pear</strong></span>
</pre></div></li></ul></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>How to do it...</h2></div></div></div><p>When everything is installed, <a id="id4" class="indexterm"/>we will create a virtual host with an FQDN. We want our development environment to be available at <code class="literal">http://magento-dev.local/</code>. To do this, we have to create a virtual host with this domain name. This domain points to the IP of our previously created web server.</p><p>The following steps describe how you<a id="id5" class="indexterm"/> can create a virtual host with an FQDN:<a id="id6" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a <code class="literal">magento-dev.local</code> file in the <code class="literal">/etc/apache2/sites-available/</code> directory.</li><li class="listitem">To create and edit the file, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo nano /etc/apache2/sites-available/magento-dev.local</strong></span>
</pre></div></li><li class="listitem">Paste the following content in that file:<div class="informalexample"><pre class="programlisting">&lt;VirtualHost *:80&gt;
 # ServerName (domain) and admin email
 ServerAdmin webmaster@magento-dev.local
 ServerName magento-dev.local

 DocumentRoot /var/www/magento-dev.local/public # Folder of the site. We have to create this

 # Log file locations
 LogLevel warn
 ErrorLog /var/log/apache2/magento-dev.error.log
 CustomLog /var/log/apache2/magento-dev.access.log combined
&lt;/VirtualHost&gt;</pre></div></li><li class="listitem">Run the following commands in the terminal to create the <code class="literal">www</code> root folder:<div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To create the site folder (document root), run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo mkdir /var/www/magento-dev.local/public</strong></span>
<span class="strong"><strong>sudo chown -R www-data:www-data /var/www/magento-dev.local/</strong></span>
</pre></div></li><li class="listitem">To enable the site, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo a2ensite magento-dev.local</strong></span>
</pre></div></li><li class="listitem">To reload the Apache server, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo service apache2 reload</strong></span>
</pre></div></li><li class="listitem">To test the site, we have to add the following line in our host's file (<code class="literal">/etc/hosts</code>):<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>127.0.0.1 magento-dev.local</strong></span>
</pre></div><p>This will point the domain <code class="literal">magento-dev.local</code> to the IP address 127.0.0.1. This is the IP address of the local web server (localhost), so a request to this URL doesn't go to the Internet but goes to the local web server.</p></li></ol></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>How it works...</h2></div></div></div><p>This recipe describes how to install a web server from a CLI interface. If you already have a web server with a specific domain, you can skip this chapter.</p><p>The Magento files will be installed in the public directory. When a request is made to the domain, the <code class="literal">www-data</code> user will execute the request. So, it is best that all files and folders have the <code class="literal">www-data</code> user and <a id="id7" class="indexterm"/>group to avoid permission problems.</p><p>On a Linux server, every file and folder has three types of permissions. These permissions are <span class="strong"><strong>read</strong></span>, <span class="strong"><strong>write</strong></span>, <span class="strong"><strong>and execute</strong></span> (<span class="strong"><strong>rwx</strong></span>).<a id="id8" class="indexterm"/> You can set these permissions in three scopes: for owners, groups, and others. On every file request, Linux decides, based on the permissions, whether a user can read, write, or execute a certain file.</p><p>For an HTTP request, the <code class="literal">www-data</code> user will be used to execute a request. So, it is important to ensure that the <code class="literal">www-data</code> user has enough file permissions to run the application. To change file permissions, you can use the <code class="literal">chmod</code> command. To change the owner and group, you can use the <code class="literal">chown</code> command<a id="id9" class="indexterm"/>.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>There's more…</h2></div></div></div><p>It is also possible to run Magento and the web server on other operating systems. To run a web server, we need Apache, MySQL, and PHP. It is possible to install these software on a Windows or Mac device.</p><p>The variant for Windows operating systems is <span class="strong"><strong>WAMP</strong></span> (<span class="strong"><strong>Windows, Apache, MySQL, and PHP</strong></span>).<a id="id10" class="indexterm"/> You can find more information about this variant on the WAMP website at <a class="ulink" href="http://www.wampserver.com">http://www.wampserver.com</a>.</p><p>For Mac OS, the alternative is MAMP. More information on MAMP is available at <a class="ulink" href="http://www.mamp.info">http://www.mamp.info</a>.</p><p>A cross-platform web server is XAMP. You can download the installer for Linux, Windows, or Mac from their website at <a class="ulink" href="http://www.apachefriends.org/en/xampp.html">http://www.apachefriends.org/en/xampp.html</a>.</p></div></div>
<div class="section" title="Installing Magento with sample data"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Installing Magento with sample data</h1></div></div></div><p>When you install Magento, you<a id="id11" class="indexterm"/> can start with an empty database or a database with some sample products and configurations. For our development<a id="id12" class="indexterm"/> environment, the best approach is to start with the sample data because we can start using Magento directly after installation.</p><p>For a new webshop, it is recommended to start with an empty database and do the configuration yourself. To install Magento, we need the following data:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The Magento code</li><li class="listitem" style="list-style-type: disc">The sample data</li></ul></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Getting ready</h2></div></div></div><p>You can download Magento and the sample data from Magento's website (<a class="ulink" href="http://www.magentocommerce.com/download">http://www.magentocommerce.com/download</a>). Download the latest <span class="strong"><strong>Full release</strong></span> and the <span class="strong"><strong>Sample data</strong></span>. The recipes of this book are based on the Magento Version 1.8.1.0. For the sample<a id="id13" class="indexterm"/> data, you can<a id="id14" class="indexterm"/> use the 1.6.1.0 Version.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>How to do it...</h2></div></div></div><p>The following steps show you how to install a clean Magento webshop with sample data:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Extract the code in the appropriate folder of our web server. In our case, this is <code class="literal">/var/www/magento-dev.local/public</code>. Take a look at the folder structure by running the <code class="literal">ls -la</code> command in the site's root folder. We have to take care that the hidden files are included in the folder:<div class="informalexample"><pre class="programlisting">ls -la
drwxrwxr-x .
drwxrwxr-x ..
-rwxrw-r-- .htaccess
-rw-rw-r-- .htaccess.sample
-rw-rw-r-- api.php
drwxrwxr-x app
-rw-rw-r-- cron.php
-rw-rw-r-- cron.sh
drwxrwxr-x downloader
drwxrwxr-x errors
-rw-rw-r-- favicon.ico
-rw-rw-r-- get.php
-rw-rw-r-- .htaccess
-rw-rw-r-- .htaccess.sample
drwxrwxr-x includes
-rw-rw-r-- index.php
-rw-rw-r-- index.php.sample
-rw-rw-r-- install.php
drwxrwxr-x js
drwxrwxr-x lib
-rw-rw-r-- LICENSE_AFL.txt
-rw-rw-r-- LICENSE.html
-rw-rw-r-- LICENSE.txt
-rw-rw-r-- mage
drwxrwxr-x media
-rw-rw-r-- php.ini.sample
drwxrwxr-x pkginfo
-rw-rw-r-- RELEASE_NOTES.txt
drwxrwxr-x shell
drwxrwxr-x skin
drwxrwxr-x var</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>In Linux, hidden files or folders start wit a dot (.), such as the <code class="literal">.htaccess</code> file. The <code class="literal">-a</code> option<a id="id15" class="indexterm"/> of the <code class="literal">ls</code> command<a id="id16" class="indexterm"/> that we used shows all the files and folders, including the hidden ones. It is important to see that the <code class="literal">.htaccess</code> file is in the directory because<a id="id17" class="indexterm"/> this file contains the configuration for URL rewrites and other server configurations.</p></div></div></li><li class="listitem">When you <a id="id18" class="indexterm"/>extract the sample data archive, you see a media folder and a SQL file. The SQL file contains the database, the media folder, and the images. To install the media folder, merge this folder with the site's root media folder.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>It is important to install the sample data before running the Magento install wizard. If Magento doesn't find the sample data in the database, the wizard continues with an empty database without the sample data.</p></div></div></li><li class="listitem">To install the database, you have to run the following commands:<div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To create the database, run the following commands:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>mysql -u root -p</strong></span>
<span class="strong"><strong>create database magento_dev;</strong></span>
<span class="strong"><strong>exit;</strong></span>
</pre></div></li><li class="listitem">To import the SQL file, run the following commands: <div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>mysql -u &lt;&lt;username&gt;&gt; -p magento_dev &lt; "path_to_sample_data.sql"</strong></span>
</pre></div></li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>To avoid permission problems, ensure that all files and folders have the right permissions. For security reasons, it is recommended that all files have just enough permissions so that only the right users can access the right files. When you give all the rights (777), you don't have permission problems; but, every user on the server can read, write, and execute every file of your application.</p></div></div></li><li class="listitem">The next step is to run the Magento installation wizard. Go to the site's URL and the installer will <a id="id19" class="indexterm"/>be displayed as <a id="id20" class="indexterm"/>shown in the following screenshot:<div class="mediaobject"><img src="graphics/3329OS_01_01.jpg" alt="How to do it..."/></div></li><li class="listitem">Continue with the installation process by accepting the terms and conditions.</li><li class="listitem">On the next screen, choose the correct language, locale, and currency for your store.</li><li class="listitem">On the <span class="strong"><strong>Configuration</strong></span> page, fill the form with the right data:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Database Type</strong></span>: Enter <code class="literal">MySQL</code> in this field.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Host</strong></span>: Enter <code class="literal">localhost</code> in this field.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Database Name</strong></span>: Enter <code class="literal">magento_dev</code> (your Magento database name) in this field.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>User Name</strong></span>: Enter <code class="literal">root</code> (your Magento database username) in this field.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>User Password</strong></span>: Enter <code class="literal">root</code> (your database user password) in this field. It is possible to leave this empty.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Tables Prefix</strong></span>: Leave this field empty (if filled, all tables will have the prefix that is entered here).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Base URL</strong></span>: Enter <code class="literal">http://magento-dev.local/</code> (the URL of your webshop) in this field.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Admin Path</strong></span>: Enter <code class="literal">admin</code> (the path to the backend) in this field.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Enable Charts</strong></span>: This<a id="id21" class="indexterm"/> check box must be checked.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Skip Base URL Validation Before the Next Step</strong></span>: This check box must be unchecked (if checked, the wizard will check for a valid URL when processing this form).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use Web Server (Apache) Rewrites</strong></span>: This check box must be unchecked.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Use Secure URLs (SSL)</strong></span>: This<a id="id22" class="indexterm"/> check box must be unchecked.</li></ul></div></li><li class="listitem">Submit the form and continue to the next step. In this step, you can configure the admin account. Fill in the right data and remember the login and password, because this is required to manage the store. Leave the encryption key empty.</li><li class="listitem">After submitting this form, the installation wizard terminates. The setup is complete. You can now visit your store and enter the backend with the username that you have created in the installation wizard.<p>  </p><div class="mediaobject"><img src="graphics/3329OS_01_02.jpg" alt="How to do it..."/></div><p>
</p></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>How it works...</h2></div></div></div><p>We just created a fully<a id="id23" class="indexterm"/> functional Magento store. Technically, you can start selling products.</p><p>We have started with <a id="id24" class="indexterm"/>the sample data. The SQL file that we inserted in the database contains all the data for the sample webshop. When you want to create an empty shop, you can start with an empty database.</p><p>When installing a new shop, always follow the installer. The installer creates the <code class="literal">app/etc/local.xml</code> file and installs the values that you have set in the installer. These values are currency, timezone, backend user, and so on. The installer will show up when there is no <code class="literal">local.xml</code> file<a id="id25" class="indexterm"/> in the <code class="literal">app/etc/</code> folder. In all other cases, the webshop will show up.</p><p>With a complete <code class="literal">local.xml</code> file in the <code class="literal">app/etc</code> folder, you can install Magento. However, this is not <a id="id26" class="indexterm"/>recommended because you don't have a backend user and the other configurations.</p></div></div>
<div class="section" title="Adding version control to the source code"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Adding version control to the source code</h1></div></div></div><p>With version control, you can manage the changes that are made in the computer files. When you add this<a id="id27" class="indexterm"/> to a programming code, you can track all the changes you have made to the code from the time you initialized it. There are some very popular version control systems on the market, such as Subversion (SVN), Mercurial SCM, CVS, and Git SCM.</p><p>In this recipe, we will use<a id="id28" class="indexterm"/> Git SCM to add version control to our previously created Magento code. We will initialize an empty repository. After that, we will do several commits to add all the Magento code to the repository.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Getting ready</h2></div></div></div><p>Go to your command line, and install Git on your local server by running the following command in the terminal:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo apt-get install git</strong></span>
</pre></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>How to do it...</h2></div></div></div><p>The following steps show you how you can add the Magento code to the version control system Git:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We have to initialize the Git repository. To do this, navigate to the source folder and enter the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git init</strong></span>
</pre></div></li><li class="listitem">Run the following command and you will see that all the files are marked as untracked:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git status</strong></span>
</pre></div><p>In the next steps, we will add the other folders to the repository.</p></li><li class="listitem">Add the <code class="literal">app/</code> folder to the repository by running the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git add app/ </strong></span>
</pre></div><p>This will add all the files in the <code class="literal">app/</code> directory. When you run the <code class="literal">git status</code> command, you will see a list of all the files.</p></li><li class="listitem">Run the following command to remove the <code class="literal">local.xml</code> file from the repository but not from the drive:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git rm --cached app/etc/local.xml</strong></span>
</pre></div></li><li class="listitem">Run the following command to create the first commit:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git commit –m "add app folder"</strong></span>
</pre></div></li><li class="listitem">Run the following <a id="id29" class="indexterm"/>command to track the file's status:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git status</strong></span>
</pre></div></li><li class="listitem">Create a <code class="literal">.gitignore</code> file in the root, and add the following content in it:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>app/etc/local.xml</strong></span>
</pre></div></li><li class="listitem">Run the <code class="literal">git status</code> command again, and you will see that <code class="literal">local.xml</code> is ignored.</li><li class="listitem">Commit the <code class="literal">.gitignore</code> file by running the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git commit .gitignore –m "add gitignore file"</strong></span>
</pre></div></li><li class="listitem">Add the other<a id="id30" class="indexterm"/> application files and folders to the repository by running the command <a id="id31" class="indexterm"/><code class="literal">git add</code> &lt;<code class="literal">folder or filename</code>&gt;. Run this command for the following folders:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">downloader</code> (for installing plugins)</li><li class="listitem" style="list-style-type: disc"><code class="literal">errors</code> (configuration about error handling)</li><li class="listitem" style="list-style-type: disc"><code class="literal">js</code> (the JS library folder)</li><li class="listitem" style="list-style-type: disc"><code class="literal">lib</code> (contains PHP libraries)</li><li class="listitem" style="list-style-type: disc"><code class="literal">pkginfo</code> (information about upgrades)</li><li class="listitem" style="list-style-type: disc"><code class="literal">shell/</code> (contains PHP CLI scripts)</li><li class="listitem" style="list-style-type: disc"><code class="literal">skin/</code> (the CSS and images folder)</li><li class="listitem" style="list-style-type: disc"><code class="literal">api.php</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">cron.php</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">cron.sh</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">favicon.ico</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">get.php</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">index.php</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">index.php.sample</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">install.php</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">LICENCE_AFL.txt</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">LICENCE.html</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">LICENCE.txt</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">mage</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">php.ini.sample</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">RELEASE_NOTES.txt</code></li></ul></div></li><li class="listitem">Run a new <code class="literal">git commit</code> command<a id="id32" class="indexterm"/>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git commit –m "add additional files"</strong></span>
</pre></div></li><li class="listitem">Ignore the other <a id="id33" class="indexterm"/>nonstatic Magento files <a id="id34" class="indexterm"/>and folders. Add the following content in the <code class="literal">.gitignore</code> file:<div class="informalexample"><pre class="programlisting">/app/etc/local.xml

/errors/local.xml

/media/css/
/media/dhl
/media/downloadable
/media/import/
/media/js/
/media/catalog/
/media/customer
/media/upload/
/media/wysiwyg/
/media/captcha/
/media/tmp/
/media/xmlconnect

/var/import/
/var/export/
/var/cache/
/var/log/
/var/session/
/var/locks/
/var/package
/var/report/
/var/resource_config.json

sitemap.xml</pre></div></li><li class="listitem">Add the <code class="literal">media/</code> and <code class="literal">var/</code> folders to the repository with the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git add media/.htaccess</strong></span>
<span class="strong"><strong>git add var/.htaccess</strong></span>
</pre></div><p>We only need the <code class="literal">.htaccess</code> files, the other files are ignored because they are dynamic.</p></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>How it works...</h2></div></div></div><p>When working with a version<a id="id35" class="indexterm"/> control system, you have to keep in mind that another person who clones the project can set up the environment with a database and the code in the Git. That environment has to be the same as the one you have committed.</p><p>It is very important that <a id="id36" class="indexterm"/>every Magento core file and your customized files are in the Git repository. You don't have to add configuration files, such as <code class="literal">app/etc/local.xml</code> and <code class="literal">errors/local.xml</code>, in version control. When running your code on another server, the settings in the configuration files are mostly different from the settings on the server.</p><p>Dynamically generated files such as cache files and user images are stored in the <code class="literal">media</code> and <code class="literal">var</code> folder, so we don't need the content of these folders.</p><p>The only important file in these folders is the <code class="literal">.htaccess</code> file, which has the configuration to restrict the <code class="literal">var</code> folder and the <code class="literal">media</code> folder.</p></div></div>
<div class="section" title="Configuring the development tools"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Configuring the development tools</h1></div></div></div><p>When you start customizing your Magento store, a good development environment with the following <a id="id37" class="indexterm"/>components saves time:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A code editor (IDE)</li><li class="listitem" style="list-style-type: disc">A MySQL client (phpMyAdmin or MySQL Workbench)</li><li class="listitem" style="list-style-type: disc">A command-line tool</li></ul></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>Getting ready</h2></div></div></div><p>NetBeans is an <a id="id38" class="indexterm"/>open source IDE that can be used for a lot of programming languages. The PHP support is well maintained and there are a lot of integrations with other systems (Git, SVN, and MySQL).</p><p>To install NetBeans, <a id="id39" class="indexterm"/>you have to download it from their site at <a class="ulink" href="http://netbeans.org">http://netbeans.org</a> and run the installer. Make <a id="id40" class="indexterm"/>sure that when you download it, you select the PHP version or the full version.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>How to do it...</h2></div></div></div><p>The following steps show<a id="id41" class="indexterm"/> you how to create a NetBeans project with the Magento files as the document root:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To create the project, <a id="id42" class="indexterm"/>open NetBeans and navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Project</strong></span>.</li><li class="listitem">In the dialog window, click on <span class="strong"><strong>PHP Application with Existing Sources</strong></span> as shown in the following screenshot:<div class="mediaobject"><img src="graphics/3329OS_01_03.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on <span class="strong"><strong>Next</strong></span> and configure the following settings:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Source Folder</strong></span>: This field is set to the location of your Magento code</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Project Name</strong></span>: The NetBeans project name is entered in this field</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>PHP Version</strong></span>: This field<a id="id43" class="indexterm"/> is set to <span class="strong"><strong>PHP 5.3</strong></span> or higher</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Default Encoding</strong></span>: This field is set to <span class="strong"><strong>UTF-8</strong></span></li></ul></div><p>The following<a id="id44" class="indexterm"/> screenshot gives the sample values for these settings:</p><div class="mediaobject"><img src="graphics/3329OS_01_04.jpg" alt="How to do it..."/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>When you are working with a version control system (SVN, Git, or something else), it is recommended to check the option <span class="strong"><strong>Put NetBeans metadata into a separate directory</strong></span>. If not checked, a <code class="literal">.nbproject</code> folder is created in your Magento root, which you will not have in your version control system. Another possibility is to add the <code class="literal">.nbproject</code> folder in the <code class="literal">.gitignore</code> file.</p></div></div></li><li class="listitem">Click on <span class="strong"><strong>Next</strong></span>.</li><li class="listitem">Configure the following<a id="id45" class="indexterm"/> settings:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Run as:</strong></span> In our case, this field is set to a local web server</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Project URL</strong></span>: In this field, enter<code class="literal"> http://magento-dev.local</code>, the URL that we have configured for Magento</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Index File</strong></span>: This field is set to <code class="literal">index.php</code></li></ul></div><p>The following screenshot <a id="id46" class="indexterm"/>gives the sample values for these settings:</p><div class="mediaobject"><img src="graphics/3329OS_01_05.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on <span class="strong"><strong>Finish</strong></span> and your NetBeans project is ready.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>How it works...</h2></div></div></div><p>When the project is started, you see the document root in the left-hand side column of the window. When you double click on a file, the file will open in the main window. In this window, you can view the file's history, format the code, refactor variable names, and a lot more.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>There's more…</h2></div></div></div><p>Behind the development <a id="id47" class="indexterm"/>environment in the IDE, a database client and a command-line tool are very useful when developing in Magento.</p><div class="section" title="MySQL client phpMyAdmin"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>MySQL client phpMyAdmin</h3></div></div></div><p>phpMyAdmin is <a id="id48" class="indexterm"/>a MySQL client that runs as a web application. It is an easy-to-use tool for direct SQL input in <a id="id49" class="indexterm"/>a database.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To install phpMyAdmin, open your terminal and run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo apt-get install phpmyadmin</strong></span>
</pre></div></li><li class="listitem">Follow the installer's instructions.</li><li class="listitem">Edit the <code class="literal">/etc/apache2/apache.conf</code> file, and add the following code at the end of the file:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Include /etc/phpmyadmin/apache.conf</strong></span>
</pre></div></li><li class="listitem">Reload the Apache server with the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo service apache2 reload</strong></span>
</pre></div></li><li class="listitem">Go to <code class="literal">http://magento-dev.local/phpmyadmin</code>, and you will see the login screen. You can log in with the credentials of the database user for your Magento database.</li></ol></div></div><div class="section" title="Command-line tool Wiz"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Command-line tool Wiz</h3></div></div></div><p>Magento has a lot of system tasks that you have to execute in your development process. All these actions could be triggered in the backend. However, because this is a time consuming job, a shell <a id="id50" class="indexterm"/>interface can save you a lot of time.</p><p>Wiz is a command-line tool that <a id="id51" class="indexterm"/>you can download from <a class="ulink" href="https://github.com/classyllama/Wiz">https://github.com/classyllama/Wiz</a>.</p><p>Follow the installation instructions on their website. When installed, you have to change the directory of your shell to your Magento root. If you are in the Magento root, all the commands you run are executed for that Magento installation.</p><p>The following are some useful commands:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">wiz admin-resetpass</code>: This command<a id="id52" class="indexterm"/> can be used when you forget your admin password</li><li class="listitem" style="list-style-type: disc"><code class="literal">wiz admin-createadmin</code>: This command<a id="id53" class="indexterm"/> creates a new administrative user from scratch</li><li class="listitem" style="list-style-type: disc"><code class="literal">wiz cache-clear</code>: This command<a id="id54" class="indexterm"/> clears all cache or specific cache</li><li class="listitem" style="list-style-type: disc"><code class="literal">wiz devel-showhints</code>: This command <a id="id55" class="indexterm"/>enables or<a id="id56" class="indexterm"/> disables frontend hints</li><li class="listitem" style="list-style-type: disc"><code class="literal">wiz module-list</code>: This command<a id="id57" class="indexterm"/> gives a list of all the installed modules</li><li class="listitem" style="list-style-type: disc"><code class="literal">wiz sql-cli</code>: This command <a id="id58" class="indexterm"/>opens the MySQL command line</li></ul></div></div></div></div></body></html>
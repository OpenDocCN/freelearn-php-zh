<html><head></head><body><div class="chapter" title="Chapter&#xA0;9.&#xA0;HTML5 Support"><div class="titlepage"><div><div><h1 class="title"><a id="ch09"/>Chapter 9. HTML5 Support</h1></div></div></div><p>
<span class="emphasis"><em>HTML5<a id="id855" class="indexterm"/> is the latest version of HTML specification; the final draft is not likely to be completed anywhere soon, but most browsers support a majority of features that are specified in the latest working draft.</em></span>
</p><p>Some of the <a id="id856" class="indexterm"/>most important offerings of HTML5 are listed as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Audio and video tags</li><li class="listitem" style="list-style-type: disc">CSS3 support</li><li class="listitem" style="list-style-type: disc">Support for drawing graphics using SVG and CSS3 2D and 3D</li><li class="listitem" style="list-style-type: disc">Local storage, Web/JS workers, and geo location</li><li class="listitem" style="list-style-type: disc">HTML5 form elements</li></ul></div><p>For the scope of this book, we will be more focused on new form elements. HTML5 introduces a lot of new form elements. In previous versions of HTML, web developers were limited to use just the standard input types provided in the earlier HTML specifications. Now with the HTML5 specification, we have different elements for various different user inputs.</p><p>The list of newly<a id="id857" class="indexterm"/> available input elements is listed as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">datetime</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">datetime-local</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">time</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">date</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">week</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">month</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">email</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">url</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">number</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">range</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">color</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">tel</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">search</code></li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip32"/>Tip</h3><p>
<span class="strong"><strong>HTML5 specification</strong></span>
</p><p>For <a id="id858" class="indexterm"/>further reading, please refer to the HTML5.0 specification available on the W3C website: <a class="ulink" href="http://www.w3.org/TR/html5/.">http://www.w3.org/TR/html5/.</a>
</p><p>The following <a id="id859" class="indexterm"/>link points to specification for the <code class="literal">&lt;input&gt;</code> element:</p><p>
<a class="ulink" href="http://www.w3.org/TR/html5/forms.html#the-input-element">http://www.w3.org/TR/html5/forms.html#the-input-element</a>
</p></div></div><p>In this chapter we will understand the usage of these input elements.</p><div class="section" title="HTML5 input elements"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec83"/>HTML5 input elements</h1></div></div></div><p>Zend Framework 2.0 now supports all of the newly specified HTML5 input types; these inputs<a id="id860" class="indexterm"/> are available under <code class="literal">Zend\Form\Element</code> like any other input types. The following table describes each of these elements along with their class names:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Input type</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">datetime</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\DateTime</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id861" class="indexterm"/> to render the <span class="strong"><strong>Date/Time Element</strong></span> input field with the time zone set to <code class="literal">UTC</code></li><li class="listitem" style="list-style-type: disc">HTML <a id="id862" class="indexterm"/>tag: <code class="literal">&lt;input type="datetime" name="element-date-time"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <code class="literal">datetime</code> element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_06.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">datetime-local</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\DateTimeLocal</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id863" class="indexterm"/> to render the <span class="strong"><strong>Date/Time Local Element</strong></span><a id="id864" class="indexterm"/> input<a id="id865" class="indexterm"/> field for the client browser's time zone</li><li class="listitem" style="list-style-type: disc">HTML tag: <code class="literal">&lt;input type="datetime-local" name="element-date-time-local"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <code class="literal">datetime-local</code> element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_07.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">time</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Time</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id866" class="indexterm"/> to render the <span class="strong"><strong>Time Element</strong></span> field</li><li class="listitem" style="list-style-type: disc">HTML<a id="id867" class="indexterm"/> tag: <code class="literal">&lt;input type="time" name="element-time"&gt;</code></li><li class="listitem" style="list-style-type: disc">The time element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_08.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">date</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Date</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id868" class="indexterm"/> to render the <span class="strong"><strong>Date Element</strong></span> field</li><li class="listitem" style="list-style-type: disc">HTML<a id="id869" class="indexterm"/> tag: <code class="literal">&lt;input type="date" name="element-date"&gt;</code></li><li class="listitem" style="list-style-type: disc">The<a id="id870" class="indexterm"/> <code class="literal">date</code> element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_09.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">week</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Week</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id871" class="indexterm"/> to render the <span class="strong"><strong>Week Element</strong></span> field</li><li class="listitem" style="list-style-type: disc">HTML<a id="id872" class="indexterm"/> tag: <code class="literal">&lt;input type="week" name="element-week"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <code class="literal">week</code> element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_10.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">month</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Month</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id873" class="indexterm"/> to render the <span class="strong"><strong>Month Element</strong></span> field</li><li class="listitem" style="list-style-type: disc">HTML<a id="id874" class="indexterm"/> tag: <code class="literal">&lt;input type="month" name="element-month"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <a id="id875" class="indexterm"/><code class="literal">month</code> element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_11.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">email</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Email</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id876" class="indexterm"/> to render the <span class="strong"><strong>Email</strong></span><a id="id877" class="indexterm"/> input field</li><li class="listitem" style="list-style-type: disc">HTML tag: <code class="literal">&lt;input type="email" name="element-email"&gt;</code></li></ul></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">url</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Url</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id878" class="indexterm"/> to render the <span class="strong"><strong>URL</strong></span> input<a id="id879" class="indexterm"/> field</li><li class="listitem" style="list-style-type: disc">HTML tag: <code class="literal">&lt;input type="url" name="element-url"&gt;</code></li></ul></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">number</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Number</code></li><li class="listitem" style="list-style-type: disc">Used <a id="id880" class="indexterm"/>to render the <span class="strong"><strong>Number Element</strong></span> input<a id="id881" class="indexterm"/> field</li><li class="listitem" style="list-style-type: disc">HTML tag: <code class="literal">&lt;input type="number" name="element-number"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <code class="literal">number</code> <a id="id882" class="indexterm"/>element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_12.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">range</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element<a id="id883" class="indexterm"/>: <code class="literal">Zend\Form\Element\Range</code></li><li class="listitem" style="list-style-type: disc">Used to render the <span class="strong"><strong>Range Element</strong></span> input field using slider control</li><li class="listitem" style="list-style-type: disc">HTML<a id="id884" class="indexterm"/> tag: <code class="literal">&lt;input type="range" name="element-range"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <code class="literal">range</code> element rendered in Opera 12.0 is shown in the following screenshot: </li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_13.jpg" alt="HTML5 input elements"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">color</code>
</p>
</td><td style="text-align: left" valign="top">
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Element: <code class="literal">Zend\Form\Element\Color</code></li><li class="listitem" style="list-style-type: disc">Used<a id="id885" class="indexterm"/> to render the <span class="strong"><strong>Color Element</strong></span> <a id="id886" class="indexterm"/>input field with a color picker</li><li class="listitem" style="list-style-type: disc">HTML tag: <code class="literal">&lt;input type="color" name="element-color"&gt;</code></li><li class="listitem" style="list-style-type: disc">The <code class="literal">color</code> element rendered in Opera 12.0 is shown in the following screenshot:</li></ul></div>
<div class="mediaobject"><img src="graphics/1929OS_09_14.jpg" alt="HTML5 input elements"/></div>
</td></tr></tbody></table></div></div></div>
<div class="section" title="Time for action &#x2013; HTML5 input elements"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec84"/>Time for action – HTML5 input elements</h1></div></div></div><p>In this example we will be creating a test HTML5 form for rendering various types of HTML5 input elements:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create <a id="id887" class="indexterm"/>a test action for rendering the form element <code class="literal">formAction()</code><a id="id888" class="indexterm"/>; it can be created under the new controller <code class="literal">Html5TestController  - module/Users/src/Users/Controller/Html5TestController.php</code>.</li><li class="listitem">Add references to <code class="literal">Zend\Form\Form</code> and <code class="literal">Zend\Form\Element</code>:<div class="informalexample"><pre class="programlisting">use Zend\Form\Element;
use Zend\Form\Form;</pre></div></li><li class="listitem">Add <a id="id889" class="indexterm"/>various HTML5 form elements to the form:<div class="informalexample"><pre class="programlisting">$form  = new Form();

// Date/Time Element 
$dateTime = new <span class="strong"><strong>Element\DateTime</strong></span>('element-date-time');
$dateTime
-&gt;setLabel('Date/Time Element')
-&gt;setAttributes(array(
  'min'  =&gt; '2000-01-01T00:00:00Z',
  'max'  =&gt; '2020-01-01T00:00:00Z',
  'step' =&gt; '1', 
));
$form-&gt;add($dateTime);

// Date/Time Local Element 
$dateTime = new <span class="strong"><strong>Element\DateTimeLocal</strong></span>('element-date-time-local');
$dateTime
-&gt;setLabel('Date/Time Local Element')
-&gt;setAttributes(array(
  'min'  =&gt; '2000-01-01T00:00:00Z',
  'max'  =&gt; '2020-01-01T00:00:00Z',
  'step' =&gt; '1',
));
$form-&gt;add($dateTime);

// Time Element 
$time = new <span class="strong"><strong>Element\Time</strong></span>('element-time');
$time-&gt;setLabel('Time Element');
$form-&gt;add($time);

// Date Element 
$date = new <span class="strong"><strong>Element\Date</strong></span>('element-date');
$date
-&gt;setLabel('Date Element')
-&gt;setAttributes(array(
  'min'  =&gt; '2000-01-01',
  'max'  =&gt; '2020-01-01',
  'step' =&gt; '1',
));
$form-&gt;add($date);

// Week Element 
$week = new <span class="strong"><strong>Element\Week</strong></span>('element-week');
$week-&gt;setLabel('Week Element');
$form-&gt;add($week);

// Month Element 
$month = new <span class="strong"><strong>Element\Month</strong></span>('element-month');
$month-&gt;setLabel('Month Element');
$form-&gt;add($month);

// Email Element 
$email = new <span class="strong"><strong>Element\Email</strong></span>('element-email');
$email-&gt;setLabel('Email Element');
$form-&gt;add($email);

// URL Element 
$url = new <span class="strong"><strong>Element\Url</strong></span>('element-url');
$url-&gt;setLabel('URL Element');
$form-&gt;add($url);

// Number Element 
$number = new <span class="strong"><strong>Element\Number</strong></span>('element-number');
$number-&gt;setLabel('Number Element');
$form-&gt;add($number);

// Range Element 
$range = new <span class="strong"><strong>Element\Range</strong></span>('element-range');
$range-&gt;setLabel('Range Element');
$form-&gt;add($range);

// Color Element 
$color = new <span class="strong"><strong>Element\Color</strong></span>('element-color');
$color-&gt;setLabel('Color Element');
$form-&gt;add($color);</pre></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec82"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have created a simple form purely using HTML5 elements that are supported by Zend <a id="id890" class="indexterm"/>Framework 2.0. The form in its current shape can be rendered by creating the necessary view. Our next task will be to build the view for this form with the use of HTML5 helpers and render all the form elements that were added to the form.</p></div></div>
<div class="section" title="HTML5 view helpers"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec85"/>HTML5 view helpers</h1></div></div></div><p>Zend Framework<a id="id891" class="indexterm"/> provides view helpers for rendering all the form elements described in the previous section. The <code class="literal">formElement()</code> view helper can be used <a id="id892" class="indexterm"/>to render any kind of input dynamically based on the input type, however it is not the suggested practice.</p><p>The <a id="id893" class="indexterm"/>following table gives you the list of standard HTML5 helpers available for the HTML5 input elements:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Input type</p>
</th><th style="text-align: left" valign="bottom">
<p>Helper</p>
</th><th style="text-align: left" valign="bottom">
<p>Helper function</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">datetime</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormDateTime</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formDateTime()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">datetime-local</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormDateTimeLocal</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formDateTimeLocal()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">time</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormTime</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formTime()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">date</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormDate</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formDate()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">week</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormWeek</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formWeek()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">month</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormMonth</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formMonth()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">email</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormEmail</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formEmail()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">url</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormUrl</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formUrl()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">number</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormNumber</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formNumber()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">range</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormRange</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formRange()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">color</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormColor</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formColor()</code>
</p>
</td></tr></tbody></table></div><p>Apart from the standard list of view helpers, Zend Framework also provides helpers for the <code class="literal">tel</code> and <code class="literal">search</code> input types; these input types are an extension of the text input, but certain browsers (especially mobile browsers) support stylized input options in both these elements.</p><p>The following<a id="id894" class="indexterm"/> table gives you the list of additional<a id="id895" class="indexterm"/> HTML5 helpers available for the HTML5 input elements:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Input type</p>
</th><th style="text-align: left" valign="bottom">
<p>Helper</p>
</th><th style="text-align: left" valign="bottom">
<p>Helper function</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tel</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormTel</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formTel()</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">search</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Zend\Form\View\Helper\FormSearch</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">formSearch()</code>
</p>
</td></tr></tbody></table></div></div>
<div class="section" title="Time for action &#x2013; HTML5 view helpers"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec86"/>Time for action – HTML5 view helpers</h1></div></div></div><p>In this task we will render all the form elements that we created in the previous task. We will<a id="id896" class="indexterm"/> make use of ZF's HTML5 view helpers to render these elements. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a simple view that can be used to render the form.</li><li class="listitem">Make use of view helpers to render various form elements using the following code:<div class="informalexample"><pre class="programlisting">$this-&gt;formDateTime($form-&gt;get('element-date-time'));
$this-&gt;formDateTimeLocal($form-&gt;get('element-date-time-local'));
$this-&gt;formTime($form-&gt;get('element-time'));
$this-&gt;formDate($form-&gt;get('element-date'));
$this-&gt;formWeek($form-&gt;get('element-week'));
$this-&gt;formMonth($form-&gt;get('element-month'));
$this-&gt;formEmail($form-&gt;get('element-email'));
$this-&gt;formUrl($form-&gt;get('element-url'));
$this-&gt;formNumber($form-&gt;get('element-number'));
$this-&gt;formRange($form-&gt;get('element-range'));
$this-&gt;formColor($form-&gt;get('element-color'));</pre></div></li><li class="listitem">Test the form in an HTML5-compatible browser such as Opera 12. You should be able to see a form like the one shown in the following screenshot:<div class="mediaobject"><img src="graphics/1929OS_09_01.jpg" alt="Time for action – HTML5 view helpers"/></div></li><li class="listitem">Now,<a id="id897" class="indexterm"/> test the same form in an HTML5 non-compatible browser such as IE 9. You should be able to see a form like the one shown in the following screenshot. You can see that the unsupported input elements are replaced with textboxes:<div class="mediaobject"><img src="graphics/1929OS_09_02.jpg" alt="Time for action – HTML5 view helpers"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec83"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have created our first HTML5 form using ZF2 form elements. As of now, Opera 12 offers<a id="id898" class="indexterm"/> the best support for HTML5; other browsers such as Chrome and Safari are also good in terms of support. So, if you are testing your HTML5 forms, make sure that you are testing them in a browser that is compatible, such as Opera 12.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note12"/>Note</h3><p>
<span class="strong"><strong>HTML5 browser compatibility</strong></span>
</p><p>Support for HTML5 specifications is inconsistent among various browsers; Opera <a id="id899" class="indexterm"/>and Chrome seem to offer best support in terms of compliance, but none of them are fully compliant. With each new browser version, there is additional support for these features. There are many resources available on the Internet that allow you to check your browser's compatibility with HTML5.</p><p>
<a class="ulink" href="http://html5test.com/">http://html5test.com/</a> is a portal that ranks and compares browsers based<a id="id900" class="indexterm"/> on their HTML5 support.</p><p>
<a class="ulink" href="http://caniuse.com/">http://caniuse.com/</a> is also a great website that lets users check if they can use a specific HTML5<a id="id901" class="indexterm"/> feature on a specific browser.</p></div></div></div><div class="section" title="Have a go hero"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec84"/>Have a go hero</h2></div></div></div><p>Here is a simple task for you before you move on to using advanced HTML5 attributes. Now<a id="id902" class="indexterm"/> that you have created a form using all the standard HTML5 elements, try to extend the form by using the view helpers to render the <code class="literal">tel</code> and <code class="literal">search</code> type inputs.</p></div></div>
<div class="section" title="HTML5 attributes"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec87"/>HTML5 attributes</h1></div></div></div><p>You <a id="id903" class="indexterm"/>might have noticed in the beginning of the chapter that we were using new attributes such as <code class="literal">min</code>, <code class="literal">max</code>, and <code class="literal">step</code>. These are new attributes that are defined in the HTML5 specification that allow developers to specify additional configuration on the input element. Some important attributes are discussed in the following list:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">max</code>: Applicable <a id="id904" class="indexterm"/>to the <span class="strong"><strong>Number</strong></span>, <span class="strong"><strong>Range</strong></span>,<a id="id905" class="indexterm"/> and <a id="id906" class="indexterm"/><span class="strong"><strong>Date</strong></span> fields; allows specification<a id="id907" class="indexterm"/> of<a id="id908" class="indexterm"/> maximum value in the input.</li><li class="listitem" style="list-style-type: disc"><code class="literal">min</code>: Applicable<a id="id909" class="indexterm"/> to the <span class="strong"><strong>Number</strong></span>, <span class="strong"><strong>Range</strong></span>,<a id="id910" class="indexterm"/> and <a id="id911" class="indexterm"/><span class="strong"><strong>Date</strong></span> fields; allows specification <a id="id912" class="indexterm"/>of a <a id="id913" class="indexterm"/>minimum value in the input.</li><li class="listitem" style="list-style-type: disc"><code class="literal">step</code>: Applicable <a id="id914" class="indexterm"/>to the <span class="strong"><strong>Number</strong></span>, <span class="strong"><strong>Range</strong></span>, and<a id="id915" class="indexterm"/> <span class="strong"><strong>Date</strong></span> fields; allows specification of an increment value in the input.</li><li class="listitem" style="list-style-type: disc"><code class="literal">list</code>: Applicable<a id="id916" class="indexterm"/> to various textbox style inputs.<a id="id917" class="indexterm"/> Allows developers to map the field to a data list, thus allowing end users to pick them from the list.</li><li class="listitem" style="list-style-type: disc"><code class="literal">placeholder</code>: Applicable<a id="id918" class="indexterm"/> to various textbox style <a id="id919" class="indexterm"/>inputs. Allows developers to show placeholder text until the element gains focus.</li><li class="listitem" style="list-style-type: disc"><code class="literal">pattern</code>: Applicable <a id="id920" class="indexterm"/>to various textbox <a id="id921" class="indexterm"/>style inputs. Allows developers to validate the user input against a regular express-and-throw-a-validation error.</li><li class="listitem" style="list-style-type: disc"><code class="literal">required</code>: Prevents<a id="id922" class="indexterm"/> users from submitting <a id="id923" class="indexterm"/>the form with empty values in the required fields.</li><li class="listitem" style="list-style-type: disc"><code class="literal">multiple</code>: Applicable <a id="id924" class="indexterm"/>to file input; <a id="id925" class="indexterm"/>allows multiple file uploads from a single file control.</li></ul></div><div class="section" title="Multiple file uploads"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec85"/>Multiple file uploads</h2></div></div></div><p>For implementing multiple file uploads, you will need to set the <code class="literal">multiple</code> attribute on the file<a id="id926" class="indexterm"/> input element to <code class="literal">TRUE</code>. If the browser supports<a id="id927" class="indexterm"/> multiple file uploads, then the user will be allowed to select multiple files, otherwise the control will limit to just one file selection.</p></div></div>
<div class="section" title="Time for action &#x2013; HTML5 multiple file uploads"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec88"/>Time for action – HTML5 multiple file uploads</h1></div></div></div><p>Perform the following steps for HTML5 multiple file uploads:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new <code class="literal">ImageUpload</code> form; make<a id="id928" class="indexterm"/> sure that the <code class="literal">multiple</code> attribute for the <code class="literal">File</code> element<a id="id929" class="indexterm"/> is set to <code class="literal">TRUE</code>:<div class="informalexample"><pre class="programlisting">&lt;?php
// filename : module/Users/src/Users/Form/MultiImageUploadForm.php
namespace Users\Form;

use Zend\Form\Form;
use Zend\Form\Element;
use Zend\InputFilter;

class MultiImageUploadForm extends Form
{
    public function __construct($name = null, $options = array())
    {
        parent::__construct($name, $options);
        $this-&gt;addElements();
        $this-&gt;addInputFilter();
    }
    
    public function addElements() 
    {
      $imageupload = new Element\File('imageupload');
      $imageupload-&gt;setLabel('Image Upload')
        -&gt;setAttribute('id', 'imageupload')
<span class="strong"><strong>        -&gt;setAttribute('multiple', true); </strong></span>
<span class="strong"><strong>        //Enables multiple file uploads</strong></span>
      $this-&gt;add($imageupload);
      
      $submit = new Element\Submit('submit');
      $submit-&gt;setValue('Upload Now');
      $this-&gt;add($submit);
    }
    
    public function addInputFilter()
    {
      $inputFilter = new InputFilter\InputFilter();
      // File Input
      $fileInput = new InputFilter\FileInput('imageupload');
      $fileInput-&gt;setRequired(true);
<span class="strong"><strong>      $fileInput-&gt;getFilterChain()-&gt;attachByName(</strong></span>
<span class="strong"><strong>        'filerenameupload',</strong></span>
<span class="strong"><strong>        array(</strong></span>
<span class="strong"><strong>          'target' =&gt; './data/images/temp.jpg',</strong></span>
<span class="strong"><strong>          'randomize' =&gt; true</strong></span>
<span class="strong"><strong>        )</strong></span>
<span class="strong"><strong>      );</strong></span>
      $inputFilter-&gt;add($fileInput);
      $this-&gt;setInputFilter($inputFilter);
    }
}</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip33"/>Tip</h3><p>
<span class="strong"><strong>Zend\Filter\File\RenameUpload</strong></span>
</p><p>The <code class="literal">RenameUpload</code> filter<a id="id930" class="indexterm"/> is used to rename and move the uploaded file to a new<a id="id931" class="indexterm"/> path specified<a id="id932" class="indexterm"/> in the <code class="literal">target</code>. To find out more please refer to the framework documentation at <a class="ulink" href="http://framework.zend.com/manual/2.2/en/modules/zend.filter.file.rename-upload.html.">http://framework.zend.com/manual/2.2/en/modules/zend.filter.file.rename-upload.html.</a>
</p></div></div></li><li class="listitem">Set up an action to handle the file uploads, and to redirect the user to an upload <a id="id933" class="indexterm"/>confirmation page:<div class="informalexample"><pre class="programlisting">public function multiUploadAction()
{
  // prepare form
  $form = $this-&gt;getServiceLocator()-&gt;get('MultiImageUploadForm');
  $request = $this-&gt;getRequest();
  if ($request-&gt;isPost()) {
    $post = array_merge_recursive(
      $request-&gt;getPost()-&gt;toArray(),
      $request-&gt;getFiles()-&gt;toArray()
    );
        $form-&gt;setData($post);
    if ($form-&gt;isValid()) {
      $data = $form-&gt;getData();
      // Form is valid, save the form!
      return $this-&gt;redirect()-&gt;toRoute('users/html5-test', array('action' =&gt; 'processMultiUpload'));
    }
  }
  $viewModel  = new ViewModel(array('form' =&gt; $form));
  return $viewModel;
}</pre></div></li><li class="listitem">Now test the form in your browser that supports multiple file uploads with HTML5, for example, Opera 12. You will see that the file selector interface allows the selection of more than one file as shown in the following screenshot:<div class="mediaobject"><img src="graphics/1929OS_09_03.jpg" alt="Time for action – HTML5 multiple file uploads"/></div></li><li class="listitem">After you choose <span class="strong"><strong>Upload now</strong></span><a id="id934" class="indexterm"/> and once the upload process <a id="id935" class="indexterm"/>is completed, you will see the confirmation page as shown in the following screenshot:<div class="mediaobject"><img src="graphics/1929OS_09_04.jpg" alt="Time for action – HTML5 multiple file uploads"/></div></li><li class="listitem">You can verify if the files are uploaded successfully and the filters are applied by navigating through the <code class="literal">data/images</code> directory and looking up for the <a id="id936" class="indexterm"/>uploaded files. You can see that all files start<a id="id937" class="indexterm"/> with <code class="literal">temp</code> and have a <code class="literal">_&lt;random_number&gt;</code> suffix in their filenames:<div class="mediaobject"><img src="graphics/1929OS_09_05.jpg" alt="Time for action – HTML5 multiple file uploads"/></div></li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip34"/>Tip</h3><p>
<span class="strong"><strong>Filters with multiple file uploads</strong></span>
</p><p>When <a id="id938" class="indexterm"/>applying filters with multiple file uploads, the filter(s) will be applied to all the files that are successfully uploaded with the same filter option settings.</p></div></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec86"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have now created an HTML5 multiple file upload form using HTML5 attributes and Zend form elements. We have also applied a filter to rename the uploaded files and have also seen how filters work in multiple file uploads.</p></div><div class="section" title="Pop quiz – HTML5 support"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec87"/>Pop quiz – HTML5 support</h2></div></div></div><p>Q1. Which of the following methods is a newly supported HTML5 input type?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><code class="literal">text</code></li><li class="listitem"><code class="literal">radio</code></li><li class="listitem"><code class="literal">checkbox</code></li><li class="listitem"><code class="literal">number</code></li></ol></div><p>Which of the following input types do not have a <code class="literal">Form</code> element defined in ZF 2.1?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><code class="literal">tel</code></li><li class="listitem"><code class="literal">date</code></li><li class="listitem"><code class="literal">color</code></li><li class="listitem"><code class="literal">search</code></li></ol></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec89"/>Summary</h1></div></div></div><p>HTML5 is a very robust and powerful specification of HTML which is still partially supported by most browsers. As newer versions of browsers come out in the market, you will get to see much more enhanced support for this specification. In our next chapter, we will be using ZF2 to build mobile web applications.</p></div></body></html>
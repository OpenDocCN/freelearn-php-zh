<html><head></head><body><div class="chapter" title="Chapter&#xA0;9.&#xA0;Eliminating Stress with the Help of Automation"><div class="titlepage"><div><div><h1 class="title"><a id="ch09"/>Chapter 9. Eliminating Stress with the Help of Automation</h1></div></div></div><p>So far, we've covered almost every aspect of what testing in practice is. We've learned what can be done with Codeception at all the levels of testing: unit, functional, and acceptance. We've covered additional resources on how to improve and debug your tests while looking at architectural choices and long-term considerations.</p><p>To keep it short, in this chapter, we're going to take the final step, which is nowadays considered as the best practice: continuous integration.</p><p>We are going to understand what a continuous integration system is, and what the choices that we have are. We'll also start working with Jenkins.</p><p>In this chapter, we will discuss everything that we need to install and configure. We will run our builds and obtain the required level of automation for our project. We'll cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Automating the build process</li><li class="listitem" style="list-style-type: disc">Creating the required build files</li><li class="listitem" style="list-style-type: disc">Configuring the Jenkins build</li><li class="listitem" style="list-style-type: disc">Going forward</li></ul></div><div class="section" title="Automating the build process"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec46"/>Automating the build process</h1></div></div></div><p>There are two <a id="id432" class="indexterm"/>aspects that you should always take into consideration when planning and implementing your tests. Firstly, 100 percent code coverage won't help you in removing the possibility of having or introducing a bug, which means that exploratory manual testing will always be needed, and it will have to be factored in while writing your initial draft of the master test plan. Secondly, until now, all the tests and reports that we've generated for such a small project can be run manually by whoever changes the code.</p><p>When the size of your code starts to grow and you start to support hundreds of classes and multi-faceted frontend functionalities, when your code lives past the first month and more than one developer will need to access it over and over again, all the knowledge related to tests and how they work or what kind of information can be extracted from them will become more and more difficult to maintain. The worst part is that most likely nobody will use it without any struggle.</p><p>Here, you have two <a id="id433" class="indexterm"/>choices: accept the fate that your tests will be long forgotten and nobody will know what's been covered and what needs to be covered, or start automating all this by forcing some sort of automated code revision, which might trigger reports and e-mails to warn about anything that can potentially go wrong, or has already gone wrong.</p><div class="section" title="Introducing continuous integration systems"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec67"/>Introducing continuous integration systems</h2></div></div></div><p>
<span class="strong"><strong>Extreme Programming</strong></span> (<span class="strong"><strong>XP</strong></span>) has<a id="id434" class="indexterm"/> introduced the concept of <a id="id435" class="indexterm"/>
<span class="strong"><strong>continuous integration</strong></span> (<span class="strong"><strong>CI</strong></span>). Nowadays, it's used in many companies as a part of their QA procedures, regardless of the practice adopted.</p><p>Whether frequent integration<a id="id436" class="indexterm"/> is better than continuous integration is something I'd prefer to leave out of this discussion. The main difference between the two is based on the frequency at which the integration happens. On top of this, CI has been conceived to be a part of TDD, and it is specifically aimed at running tests before merging any features into the active branch. This is done to ensure that the new functionality won't break the existing one.</p><p>Systems like Jenkins (formerly known as Hudson), Bamboo, CruiseControl, and Travis, have been created so that the work of the different developers can be <span class="emphasis"><em>integrated</em></span> and tested before being shipped. This also ensures that certain quality standards are reached so that we can avoid introducing incoherence in the code base, and we can report the results to the developers.</p><p>These software systems perform a multitude of tasks. They're made in such a way that they can support any programming language and testing framework.</p><p>Usually, they're built for providing a flexible way of defining your integration work flow: code check out, preparation, build (which usually includes testing and other quality assurance-related tasks), report publishing, artifact creation, and eventually deployment. All of these steps can be controlled within the system and/or through scripting of various types. For instance, you can use Ant or Maven in Travis, Bamboo, or Jenkins. Apart from the basic functionality, several plugins are normally available in these systems for extending the functionality of integrating additional third-party applications, libraries, and services.</p><p>Before getting <a id="id437" class="indexterm"/>into the nitty-gritty details of configuring the continuous integration system of our choice, we may want to first see what's available and how we can choose.</p></div><div class="section" title="Available systems"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec68"/>Available systems</h2></div></div></div><p>There are <a id="id438" class="indexterm"/>a number of CI systems, and many of them have been created specifically for certain programming languages; therefore, they can perform only a restricted set of operations.</p><p>The more complex the system is, the more time it takes to prepare it to behave as we want it to, but you'll have the ability to perform as many functions as required, and you will also have the ability to switch them on or off on a per-project basis.</p><p>The most well-known system is <a id="id439" class="indexterm"/>Jenkins. It is an open source system (<a class="ulink" href="http://jenkins-ci.org">http://jenkins-ci.org</a>). It was forked in 2011 from Hudson, after a dispute with Oracle. It is a CI system written in Java, and it became popular as an alternative to CruiseControl. It has always been regarded as the most polyfunctional CI system available. This is also because its huge community provides hundreds of different plugins for any kind of functionality.</p><p>The only problem I see with Jenkins, apart from configuring it, is hosting it, although, installing and maintaining it has always been easy for me.</p><p>You might be unable to host the system yourself, so you may want to look for something that provides a hosted solution. Bamboo is another choice that is said to be particularly straightforward if you are migrating from Jenkins. It also provides out-of-the-box integration with other Atlassian products, such as Jira, BitBucket, HipChat, and so on.</p><p>As a matter of choice, we'll be looking into Jenkins, installing the required plugins, and then creating the build by using the Apache Ant scripts.</p></div><div class="section" title="Installing and configuring Jenkins"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec69"/>Installing and configuring Jenkins</h2></div></div></div><p>There isn't much to be<a id="id440" class="indexterm"/> said about the installation of<a id="id441" class="indexterm"/> Jenkins. As the installation page shows, it's cross-compatible and it can be run on operating systems, such as Windows, Linux, Unix, and Docker. For more<a id="id442" class="indexterm"/> information, check out <a class="ulink" href="https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins">https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins</a>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note33"/>Note</h3><p>It's important to remember that its only requirement is Java, so you should have up-to-date versions of JDK and JRE.</p></div></div><p>Most <a id="id443" class="indexterm"/>distributions<a id="id444" class="indexterm"/> already package Jenkins and provide it with their official package repositories, thereby solving most of the problems of dependencies.</p><p>The installation on *nix systems will create its own dedicated user <code class="literal">Jenkins,</code> which will be used for doing all the operations that will be run through its interface. Never run Jenkins as a superuser. This can cause security issues. The workspace where the projects will be checked out is normally located at <code class="literal">/var/lib/jenkins/home/workspace,</code> which you can inspect manually if something goes wrong.</p><p>When started, Jenkins will be listening on port <code class="literal">8080</code> (not always, be sure to read the post-installation instructions, if any, or check the opened ports using <code class="literal">netstat -ltn</code> on Linux), and it will be accessible from the web browser.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip17"/>Tip</h3><p>If you want to expose your service to a wider audience, then you might want to install a proxy in order to serve it from port <code class="literal">80</code>, with whichever hostname you want. We won't cover this aspect, but Jenkins provides additional documentation on how to achieve this.</p></div></div><p>So, let's open <code class="literal">http://&lt;yourhostname&gt;:8080</code> in our browser, and let's start configuring the basics.</p><div class="section" title="Understanding the Jenkins organization"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec13"/>Understanding the Jenkins organization</h3></div></div></div><p>Before doing this, you <a id="id445" class="indexterm"/>may need to understand how Jenkins is organized. If you are already experienced with it, then you may want to skip over to the next section.</p><p>There are only two sections that you need to keep an eye out for:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The jobs list</li><li class="listitem" style="list-style-type: disc">The management panel</li></ul></div><p>The first one is where you will normally land, and it is what you will be working on most of the time.</p><p>In the Jenkins<a id="id446" class="indexterm"/> terminology, a <span class="strong"><strong>job</strong></span> is<a id="id447" class="indexterm"/> a specific set of rules and operations that needs to be performed in a specific project. You can have different jobs for the same project, which perform slightly or completely different operations, and these can be triggered sequentially.</p><p>A <span class="strong"><strong>build</strong></span><a id="id448" class="indexterm"/> is the process of executing a job. We will cover this and see what we can achieve with a single build by configuring the various aspects of the job. The build can result in the creation of one or more artefacts, deploy the build result somewhere or trigger some other job or process within Jenkins itself, or outside of it.</p><p>You need to fix Jenkins' security immediately after installing it, unless you will be the only person accessing it and the server where it's installed will have no external access, it's probably better to navigate to <code class="literal">http://jenkins:8080/configureSecurity/</code>.</p><p>You can set up whichever authentication system you want, using PAM, LDAP, or its internal user database. We will be using the latter, but remember that if you're willing to do something a bit stronger or interconnected, there may be additional steps that you may need to follow. Most of the interface forms have a few small info buttons that you can use to display some information, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B03646_09_01.jpg" alt="Understanding the Jenkins organization"/><div class="caption"><p>View of the <span class="strong"><strong>Configure Global Security</strong></span> page with an open info box</p></div></div><p>The second aspect that <a id="id449" class="indexterm"/>requires a little thinking from your side is how Jenkins will be accessing and checking your repository.</p><p>Any major online repository provider, such as GitHub and BitBucket will let you create a so-called <a id="id450" class="indexterm"/>
<span class="strong"><strong>deployment key</strong></span>, which is used for a read-only access to the repository.</p><p>For anything more complex, such as merging and pushing your branches, you would need to set up its own user, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B03646_09_02.jpg" alt="Understanding the Jenkins organization"/><div class="caption"><p>The deployment keys setup page in BitBucket, available from the settings of each repository</p></div></div><p>If you have more repositories that are hosted by different places, then you need to set up as many credentials as needed for Jenkins. This can be accomplished by going to <code class="literal">http://jenkins:8080/credential-store/</code> (or <span class="strong"><strong>Home</strong></span> | <span class="strong"><strong>Credentials</strong></span> | <span class="strong"><strong>Global Credentials</strong></span>). As you<a id="id451" class="indexterm"/> can see, there's a lot behind the scenes, so feel free to explore and read the documentation for understanding what's needed. Normally starting with the setup of the global credentials may be enough, but there are cases where a non-global configuration is needed.</p><p>In order to do so, we need to create the SSH key pairs for the user <code class="literal">jenkins</code> first.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>peach ~ $ sudo -s</strong></span>
<span class="strong"><strong>root peach # su jenkins -</strong></span>
<span class="strong"><strong>jenkins peach $ cd ~</strong></span>
<span class="strong"><strong>jenkins ~ $ pwd</strong></span>
<span class="strong"><strong>/var/lib/jenkins</strong></span>
<span class="strong"><strong>jenkins ~ $ ssh-keygen</strong></span>
<span class="strong"><strong>Generating public/private rsa key pair.</strong></span>
<span class="strong"><strong>Enter file in which to save the key (/var/lib/jenkins/.ssh/id_rsa):</strong></span>
<span class="strong"><strong>Enter passphrase (empty for no passphrase):</strong></span>
<span class="strong"><strong>Enter same passphrase again:</strong></span>
<span class="strong"><strong>Your identification has been saved in /var/lib/jenkins/.ssh/id_rsa.</strong></span>
<span class="strong"><strong>Your public key has been saved in /var/lib/jenkins/.ssh/id_rsa.pub.</strong></span>
<span class="strong"><strong>The key fingerprint is:</strong></span>
<span class="strong"><strong>ff:be:b1:ee:c2:69:82:96:00:e4:9d:dd:67:cf:1e:d7 jenkins@mangotree</strong></span>
<span class="strong"><strong>The key's randomart image is:</strong></span>
<span class="strong"><strong>+---[RSA 2048]----+</strong></span>
<span class="strong"><strong>|                 |</strong></span>
<span class="strong"><strong>|                 |</strong></span>
<span class="strong"><strong>| . . o. .        |</strong></span>
<span class="strong"><strong>|+ . *.oo  .      |</strong></span>
<span class="strong"><strong>|.o o .o+S. E     |</strong></span>
<span class="strong"><strong>|+ o   .+o        |</strong></span>
<span class="strong"><strong>|+*. . o.         |</strong></span>
<span class="strong"><strong>|+. . .           |</strong></span>
<span class="strong"><strong>|                 |</strong></span>
<span class="strong"><strong>+-----------------+</strong></span>
</pre></div><p>Now that you have your<a id="id452" class="indexterm"/> SSH key, you need to grab the public key, which is stored at <code class="literal">/var/lib/jenkins/.ssh/id_rsa.pub,</code> and then copy it to your repository as a deployment key. You can copy it to the clipboard by using the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>root jenkins # xclip -sel clip &lt; /var/lib/jenkins/.ssh/id_rsa.pub</strong></span>
</pre></div><p>This has been done through the <code class="literal">root</code> user because the <code class="literal">jenkins</code> user won't have the X display setup in its environment and this is likely to cause the error shown here:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>No protocol specified</strong></span>
<span class="strong"><strong>Error: Can't open display: :0</strong></span>
</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip18"/>Tip</h3><p>If you are on a headless server, then you won't have many choices. You can either <code class="literal">scp</code> on the file to your local machine or <code class="literal">cat</code> the file and then paste it in the browser manually.</p></div></div><p>Now that you have your deployment key set up, you need to go back to Jenkins and then navigate to the credentials store. Once there, set the username as <code class="literal">jenkins</code> (which is the system's user name), and set the private key as <code class="literal">From the Jenkins master ~/.ssh</code>.</p><p>The following sections will cover the installation of additional plugins and the configuration of the job.</p></div><div class="section" title="Installing the required plugins"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec14"/>Installing the required plugins</h3></div></div></div><p>Now that you<a id="id453" class="indexterm"/> have covered the basic configuration of Jenkins, you need to install the required plugins so that everything works as expected.</p><p>This section is normally handled easily by <a id="id454" class="indexterm"/>Jenkins. There's a project that is specifically for the PHP projects on Jenkins. You can find it at <a class="ulink" href="http://jenkins-php.org">http://jenkins-php.org</a>. Not only does the project list the following plugins, but it also lists a meta plugin, which is available on Jenkins, and it will download all the required plug-ins.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Checkstyle</strong></span>: This<a id="id455" class="indexterm"/> is used for processing the PHP_CodeSniffer log files in the Checkstyle format</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Clover PHP</strong></span>: This <a id="id456" class="indexterm"/>is used for processing the PHPUnit's Clover XML log file</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Crap4J</strong></span>: This is<a id="id457" class="indexterm"/> used for processing the PHPUnit's Crap4J XML log file</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>DRY</strong></span>: This <a id="id458" class="indexterm"/>is used for processing the phpcpd log files in the PMD-CPD format</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>HTML Publisher</strong></span>: This<a id="id459" class="indexterm"/> is used for publishing the documentation generated by phpDox</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>JDepend</strong></span>: This<a id="id460" class="indexterm"/> is used for processing the PHP_Depend log files in the JDepend format</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Plot</strong></span>: This <a id="id461" class="indexterm"/>is used for processing the phploc CSV output</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>PMD</strong></span>: This<a id="id462" class="indexterm"/> is used for processing the PHPMD log files in the PMD format</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Violations</strong></span>: This is<a id="id463" class="indexterm"/> used for processing the various log files</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>xUnit</strong></span>: This is <a id="id464" class="indexterm"/>used for processing the PHPUnit's JUnit XML log file</li></ul></div><p>The preceding list is taken from <a class="ulink" href="http://jenkins-php.org/installation.html">http://jenkins-php.org/installation.html</a>, and it might change in the future, so keep that in mind.</p><p>If you navigate to <span class="strong"><strong>Manage Jenkins</strong></span> | <span class="strong"><strong>Manage Plugins</strong></span>, then you can search for the plugin <code class="literal">php</code> and select <span class="strong"><strong>Install without restart</strong></span>. When you are on the installation page, select the <span class="strong"><strong>Restart Jenkins when installation is complete and no jobs are running</strong></span> option (sometimes the installation page does not refresh itself automatically, so you might have to refresh the page; a list of plugins will get installed even if you navigate away from this page).</p><p>Now, you need to<a id="id465" class="indexterm"/> install the tools needed by these plugins, so open the <code class="literal">composer.json</code> file and then add the following to your <code class="literal">require-dev</code> section:</p><div class="informalexample"><pre class="programlisting">// composer.json
"phploc/phploc": "@stable",
"pdepend/pdepend": "@stable",
"phpmd/phpmd": "@stable",
"sebastian/phpcpd": "@dev",
"yiisoft/yii2-coding-standards": "*",
"theseer/phpdox": "@stable"</pre></div><p>Now, run the <code class="literal">composer update</code> to install these effectively.</p></div></div></div></div>
<div class="section" title="Creating the required build files"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec47"/>Creating the required build files</h1></div></div></div><p>A part of the <a id="id466" class="indexterm"/>configuration of the build will be stored in Jenkins, but it's mostly for publishing the reports and the documentation (if you need it). We saw the actual configuration on how to run the various scripts in <a class="link" href="ch08.html" title="Chapter 8. Analyzing Testing Information">Chapter 8</a>, <span class="emphasis"><em>Analyzing Testing Information</em></span>. This is in the <code class="literal">build.xml</code> file. This default name can be picked up by Jenkins automatically. This can be configured, but it's pointless to do so unless you already have a file with that name.</p><p>The build file should sit at the root of the project repository, and it should have a valid XML.</p><p>The language we are going to use to write the build file is Apache Ant. There are either more complex solutions, such as Maven, or more ad-hoc solutions such as Phing for this, but I still prefer Ant. This is because it's simple and flexible (it's verbose, but once you've written it, there isn't much to be said). It also allows you to run anything that is not specific for a particular language.</p><p>We're going to create the build file by copying the basic structure from the <a id="id467" class="indexterm"/>
<code class="literal">jenkins-php</code> project (available at <a class="ulink" href="http://jenkins-php.org/automation.html">http://jenkins-php.org/automation.html</a>), and then by amending it with the corrections that I'll explain in the next few paragraphs. I'll be splitting the functionality of Composer, Yii, and Codeception in separate files, while the main functionality (from <code class="literal">jenkins-php</code>) will remain as it is.</p><div class="section" title="Understanding the basic Ant structure"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec70"/>Understanding the basic Ant structure</h2></div></div></div><p>Ant is<a id="id468" class="indexterm"/> quite simple because it's a collection of directives. The root of the XML is a <code class="literal">&lt;project&gt;</code> tag, which contains a series of <code class="literal">&lt;target&gt;</code> tags that can be called from the Jenkins job, and you can choose the <code class="literal">&lt;property&gt;</code> option for defining the properties, and then choose the <code class="literal">&lt;include&gt;</code> statements for including separate files.</p><p>There is no default name for the targets, but the main target is usually called <code class="literal">build</code>. It comes with a series of dependencies, which trigger the other targets sequentially.</p><p>Each directive has a series of additional attributes and tags, and these can be nested in them. The user contributed directives can also be downloaded separately for these (and most of the Linux distributions provide the common ones in a separate package). This can help you in avoiding the effort that is put in when you have to create these by hand. For instance, you can use this for archiving and packaging a collection of files, which are normally wrappers for the actual command-line tools.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note34"/>Note</h3><p>Remember that Ant is not an imperative programming language, so check its documentation if you want to extend and modify the language.</p><p>The documentation for the core Ant directives<a id="id469" class="indexterm"/> is available online at <a class="ulink" href="http://ant.apache.org/manual/">http://ant.apache.org/manual/</a>, and it's probably a good starting point for understanding it.</p></div></div></div><div class="section" title="Adjusting the build.xml file"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec71"/>Adjusting the build.xml file</h2></div></div></div><p>Compared<a id="id470" class="indexterm"/> to the file you have copied from <code class="literal">jenkins-php</code>, we are going to keep most of the targets, albeit the <code class="literal">phpunit</code> target, which can be safely deleted. This is because we're going to switch to a custom target specifically for Codeception. The rest of the changes will be made in separate files, and they will be discussed after this.</p><p>The most important changes that need to be made are relative to the folders you want these programs to work on. Every single command accepts different arguments, so include all the directories you want. Let's start amending the first target, which will do a syntax check of all the files that we specify:</p><div class="informalexample"><pre class="programlisting">&lt;target name="lint" description="Perform syntax check of sourcecode files"&gt;
    &lt;apply executable="php" failonerror="true"&gt;
        &lt;arg value="-l" /&gt;

<span class="strong"><strong>        &lt;fileset dir="${basedir}/models"&gt;</strong></span>
<span class="strong"><strong>            &lt;include name="**/*.php" /&gt;</strong></span>
<span class="strong"><strong>            &lt;modified /&gt;</strong></span>
<span class="strong"><strong>        &lt;/fileset&gt;</strong></span>
<span class="strong"><strong>        &lt;fileset dir="${basedir}/modules"&gt;</strong></span>
<span class="strong"><strong>            &lt;include name="**/*.php" /&gt;</strong></span>
<span class="strong"><strong>            &lt;modified /&gt;</strong></span>
<span class="strong"><strong>        &lt;/fileset&gt;</strong></span>
<span class="strong"><strong>        &lt;fileset dir="${basedir}/controllers"&gt;</strong></span>
<span class="strong"><strong>            &lt;include name="**/*.php" /&gt;</strong></span>
<span class="strong"><strong>            &lt;modified /&gt;</strong></span>
<span class="strong"><strong>        &lt;/fileset&gt;</strong></span>
<span class="strong"><strong>        &lt;fileset dir="${basedir}/tests"&gt;</strong></span>
<span class="strong"><strong>            &lt;include name="**/*.php" /&gt;</strong></span>
<span class="strong"><strong>            &lt;modified /&gt;</strong></span>
<span class="strong"><strong>        &lt;/fileset&gt;</strong></span>
    &lt;/apply&gt;
&lt;/target&gt;</pre></div><p>Next, we can add our code directories to be picked up by phploc, which will give us an idea of the complexity of our project:</p><div class="informalexample"><pre class="programlisting">&lt;target name="phploc-ci"
        depends="prepare"
        description="Measure project size using PHPLOC and log result in CSV and XML format. Intended for usage within a continuous integration environment."&gt;
    &lt;exec executable="${toolsdir}phploc"&gt;
        &lt;arg value="--count-tests" /&gt;
        &lt;arg value="--log-csv" /&gt;
        &lt;arg path="${basedir}/build/logs/phploc.csv" /&gt;
        &lt;arg value="--log-xml" /&gt;
        &lt;arg path="${basedir}/build/logs/phploc.xml" /&gt;
<span class="strong"><strong>        &lt;arg path="${basedir}/models" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/controllers" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/modules" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/tests" /&gt;</strong></span>
    &lt;/exec&gt;
&lt;/target&gt;</pre></div><p>pdepend uses a different syntax in defining new directories; as you can see, if you need to make changes, you will need to invoke the commands' help manually:</p><div class="informalexample"><pre class="programlisting">&lt;target name="pdepend"
        depends="prepare"
        description="Calculate software metrics using PHP_Depend and log result in XML format. Intended for usage within a continuous integration environment."&gt;
    &lt;exec executable="${toolsdir}pdepend"&gt;
        &lt;arg value="--jdepend-xml=${basedir}/build/logs/jdepend.xml" /&gt;
        &lt;arg value="--jdepend-chart=${basedir}/build/pdepend/dependencies.svg" /&gt;
        &lt;arg value="--overview-pyramid=${basedir}/build/pdepend/overview-pyramid.svg" /&gt;
        &lt;arg path<span class="strong"><strong>=</strong></span>"<span class="strong"><strong>${basedir}/models,${basedir}/controllers,${basedir}/modules,${basedir}/tests</strong></span>" /&gt;
    &lt;/exec&gt;
&lt;/target&gt;</pre></div><p>Next in line is PHP Mess Detection (PHPMD), which will help us keep the code clean and tidy. Once again, the syntax is slightly different than the previous ones:</p><div class="informalexample"><pre class="programlisting">&lt;target name="phpmd-ci"
        depends="prepare"
        description="Perform project mess detection using PHPMD and log result in XML format. Intended for usage within a continuous integration environment."&gt;
    &lt;exec executable="${toolsdir}phpmd"&gt;
        &lt;arg path<span class="strong"><strong>=</strong></span>"<span class="strong"><strong>${basedir}/models,${basedir}/controllers,${basedir}/modules</strong></span>" /&gt;
        &lt;arg value="xml" /&gt;
        &lt;arg path="${basedir}/build/phpmd.xml" /&gt;
        &lt;arg value="--reportfile" /&gt;
        &lt;arg path="${basedir}/build/logs/pmd.xml" /&gt;
    &lt;/exec&gt;
&lt;/target&gt;</pre></div><p>PHP Code Sniffer (PHPCS) can be also taken as an additional and more important step for linting your code. As explained, we also need to specify the specific Yii coding standard:</p><div class="informalexample"><pre class="programlisting">&lt;target name="phpcs-ci"
        depends="prepare"
        description="Find coding standard violations using PHP_CodeSniffer and log result in XML format. Intended for usage within a continuous integration environment."&gt;
    &lt;exec executable="${toolsdir}phpcs" output="/dev/null"&gt;
        &lt;arg value="--report=checkstyle" /&gt;
        &lt;arg value="--report-file=${basedir}/build/logs/checkstyle.xml" /&gt;
        &lt;arg value<span class="strong"><strong>=</strong></span>"<span class="strong"><strong>--standard=${basedir}/vendor/yiisoft/yii2-coding-standards/Yii2/ruleset.xml</strong></span>" /&gt;
        &lt;arg value="--extensions=php" /&gt;
        &lt;arg value="--ignore=autoload.php" /&gt;
<span class="strong"><strong>        &lt;arg path="${basedir}/models" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/controllers" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/modules" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/tests" /&gt;</strong></span>
    &lt;/exec&gt;
&lt;/target&gt;</pre></div><p>The last one is PHP Copy-Paste Detector (PHPCPD), which does exactly what it says on the label:</p><div class="informalexample"><pre class="programlisting">&lt;target name="phpcpd-ci"
        depends="prepare"
        description="Find duplicate code using PHPCPD and log result in XML format. Intended for usage within a continuous integration environment."&gt;
    &lt;exec executable="${toolsdir}phpcpd"&gt;
        &lt;arg value="--log-pmd" /&gt;
        &lt;arg path="${basedir}/build/logs/pmd-cpd.xml" /&gt;
<span class="strong"><strong>        &lt;arg path="${basedir}/models" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/controllers" /&gt;</strong></span>
<span class="strong"><strong>        &lt;arg path="${basedir}/modules" /&gt;</strong></span>
    &lt;/exec&gt;
&lt;/target&gt;</pre></div><p>As you have probably<a id="id471" class="indexterm"/> noticed, some of the targets that I've pasted here are the <code class="literal">-ci</code> targets. These targets are required by Jenkins in order to generate all the necessary reports. We will pick these up and publish them in our build later. Remember to mirror the changes on the other targets as well; I have excluded them here to avoid redundancy.</p><p>In addition to these changes, it's worth noticing that I've selected the Yii 2 CheckStyle rule set for validating the syntax. This step is quite useful for maintaining the overall code style and for keeping it in sync with the one used by the developers of the framework, and cross-team.</p><p>Now that we've made the basic changes, let's go to the Composer, Yii, and the Codeception files.</p></div><div class="section" title="Preparing the environment for the build"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec72"/>Preparing the environment for the build</h2></div></div></div><p>The <code class="literal">build</code> command, which<a id="id472" class="indexterm"/> is the default invoked target, has a chain of dependencies that will sequentially trigger the <code class="literal">prepare</code> target, run some other targets for the build, run the tests, and then generate the required documentation with phpDox.</p><p>The <code class="literal">prepare</code> target depends on the <code class="literal">clean</code> target. These two steps will clean up the environment, generate the required folder structure to accommodate the results that will be produced by the following steps, and set some properties to avoid invoking the target twice.</p><p>For instance, the <code class="literal">prepare</code> target has the following property set at the end:</p><div class="informalexample"><pre class="programlisting">&lt;property name="prepare.done" value="true"/&gt;</pre></div><p>While the target definition is:</p><div class="informalexample"><pre class="programlisting">&lt;target name="prepare"
        <span class="strong"><strong>unless="prepare.done"</strong></span>
        depends="clean, composer.composer, yii.migrate-all"
        description="Prepare for build"&gt;</pre></div><p>It has now become clear that <span class="emphasis"><em>unless</em></span> the property is set, we can execute the content of the target. The same thing happens with the <code class="literal">clean</code> target.</p><p>In these two targets, we need to update the list of directories that are cleaned and recreated every time the job is run. You should, at least, have the following directories, and you can also include any other directories that are relevant to your project for <code class="literal">clean</code>.</p><div class="informalexample"><pre class="programlisting">&lt;target name="clean"
        unless="clean.done"
        description="Cleanup build artifacts"&gt;
<span class="strong"><strong>    &lt;delete dir="${basedir}/runtime/*"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/web/assets/*"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/vendor"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/build/api"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/build/logs"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/build/pdepend"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/build/phpdox"/&gt;</strong></span>
<span class="strong"><strong>    &lt;delete dir="${basedir}/tests/codeception/_output"/&gt;</strong></span>
    &lt;property name="clean.done" value="true"/&gt;
&lt;/target&gt;</pre></div><p>And for <code class="literal">prepare</code>, the following directories will be recreated:</p><div class="informalexample"><pre class="programlisting">&lt;target name="prepare"
        unless="prepare.done"
        depends="clean, composer.composer, yii.migrate-all"
        description="Prepare for build"&gt;
    <span class="strong"><strong>&lt;mkdir dir="${basedir}/build/api"/&gt;</strong></span>
<span class="strong"><strong>    &lt;mkdir dir="${basedir}/build/logs"/&gt;</strong></span>
<span class="strong"><strong>    &lt;mkdir dir="${basedir}/build/pdepend"/&gt;</strong></span>
<span class="strong"><strong>    &lt;mkdir dir="${basedir}/build/phpdox"/&gt;</strong></span>
<span class="strong"><strong>    &lt;mkdir dir="${basedir}/tests/codeception/_output"/&gt;</strong></span>
    &lt;property name="prepare.done" value="true"/&gt;
&lt;/target&gt;</pre></div></div><div class="section" title="Adding the required configuration settings"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec73"/>Adding the required configuration settings</h2></div></div></div><p>Before we<a id="id473" class="indexterm"/> start adding our custom files, we need to add some of the configuration files, which some of the executables, namely phpmd and PHPDox, will expect to be in the <code class="literal">/build</code> directory.</p><p>The <code class="literal">jenkins-php</code> project will provide most of these configuration files, and these can be copied from <a class="ulink" href="http://jenkins-php.org/configuration.html">http://jenkins-php.org/configuration.html</a>.</p><p>In case of phpmd, you can adjust the level of the cyclomatic complexity threshold.</p><div class="informalexample"><pre class="programlisting">    &lt;!-- build/phpmd.xml --&gt;
    &lt;rule ref="rulesets/codesize.xml/CyclomaticComplexity"&gt;
        &lt;priority&gt;1&lt;/priority&gt;
        &lt;properties&gt;
            &lt;property name="reportLevel" value="7" /&gt;
        &lt;/properties&gt;
    &lt;/rule&gt;</pre></div><p>The default value is normally <code class="literal">10</code>, but the suggested value is <code class="literal">5</code>.</p><p>For PHPDox, the story is a little complex. The current configuration is not particularly flexible, so I've decided to go through the longest possible route, which is, generating the skeleton file with the help of the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ vendor/bin/phpdox --skel &gt; build/phpdox.xml</strong></span>
</pre></div><p>This created a file that has all the documented options, and from there, I created my own configuration file:</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;!-- build/phpdox.xml --&gt;
&lt;phpdox  silent="false"&gt;
    &lt;project name="Yii2" source="${basedir}/.." workdir="${basedir}/phpdox"&gt;

        &lt;collector publiconly="false"&gt;
            &lt;include mask="${phpDox.project.source}/models/*.php" /&gt;
            &lt;include mask="${phpDox.project.source}/modules/*.php" /&gt;
            &lt;include mask="${phpDox.project.source}/controllers/*.php" /&gt;
            &lt;include mask="${phpDox.project.source}/vendor/yiisoft/yii2/*.php" /&gt;
        &lt;/collector&gt;

        &lt;generator output="${basedir}/api"&gt;
            &lt;build engine="html" enabled="true"&gt;
                &lt;file extension="html" /&gt;
            &lt;/build&gt;
        &lt;/generator&gt;

    &lt;/project&gt;
&lt;/phpdox&gt;</pre></div><p>Regardless of my efforts, the <a id="id474" class="indexterm"/>current version that I'm using (0.7) had a bug that caused it to crash when run from Jenkins. This has been fixed in the current dev-master version, but this has caused other problems for me. I'm pretty sure that you should be fine when the next version will be released. In our case, the documentation is less critical from the perspective of the non-working tests.</p></div><div class="section" title="Adding Composer, Yii, and Codeception support in Ant"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec74"/>Adding Composer, Yii, and Codeception support in Ant</h2></div></div></div><p>Now we need to<a id="id475" class="indexterm"/> integrate the changes that are needed to prepare our application for testing. We will be using Composer to install the required <a id="id476" class="indexterm"/>dependencies <a id="id477" class="indexterm"/>and Yii to run the needed migrations. After this we will need support for Codeception, as it's the main tool for running the tests.</p><p>As we've seen in the definition of <code class="literal">prepare</code>, the target is dependent on <code class="literal">clean</code>, <code class="literal">composer.composer</code> and <code class="literal">yii.migrate-all</code>.</p><p>The first target is taken from <a class="ulink" href="https://github.com/shrikeh/ant-phptools">https://github.com/shrikeh/ant-phptools</a>, which provides a wrapper for Composer. It's not the best, but it was the only one that showed up on a quick search. The package does what it does quite well, and it's dependent on a properties file called <code class="literal">composer.properties</code>, and an example of it is provided by the project author.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip19"/>Tip</h3><p>There are some built-in properties that are accessible in an Ant script, which can be useful for understanding, for instance, the current directory and building up the appropriate paths in a more distributable fashion. This is available at <a class="ulink" href="http://ant.apache.org/manual/properties.html">http://ant.apache.org/manual/properties.html</a>.</p></div></div><p>Calling the <code class="literal">composer.composer</code> target will install Composer, if not found in the specified <a id="id478" class="indexterm"/>directory, and use it to update all the <a id="id479" class="indexterm"/>dependencies. I would prefer if it wiped the installation directory of the dependencies and <a id="id480" class="indexterm"/>then ran <code class="literal">composer install</code>. Unfortunately, that's the only way to install the dependencies defined in the <code class="literal">composer.lock</code>, instead of updating them.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip20"/>Tip</h3><p>If you have any doubts about the differences between <code class="literal">composer.lock</code> and <code class="literal">composer.json</code>, feel free to step back for a second, and skim through <a class="link" href="ch02.html" title="Chapter 2. Tooling up for Testing">Chapter 2</a>, <span class="emphasis"><em>Tooling up for Testing</em></span>.</p></div></div><p>I've put the <code class="literal">composer.xml</code> and the <code class="literal">composer.properties</code> file in the <code class="literal">/build</code> directory, and I've added the following at the beginning of the project defined in <code class="literal">build.xml</code>.</p><div class="informalexample"><pre class="programlisting">&lt;include file="${basedir}/build/composer.xml" as="composer"/&gt;</pre></div><p>Now, we can add the dependency of <code class="literal">composer.composer</code> to the list of the targets defined in the <code class="literal">prepare</code> target without any problems.</p><p>The second step is resetting the database to a state that we can use, and we will do it by re-running all of the migrations and applying all of the missing ones.</p><p>For this, I've created a simple Ant project. You can place it in your <code class="literal">/build</code> directory, which you can download from <a class="ulink" href="https://github.com/ThePeach/Yii2-Ant">https://github.com/ThePeach/Yii2-Ant</a>. The project provides a wrapper for the Yii CLI interface for running the migrations.</p><p>I won't go into the details of this project, as it's simple and it can be understood quite easily.</p><p>We can include it like we did in the Composer project earlier, as follows:</p><div class="informalexample"><pre class="programlisting">&lt;!-- build.xml --&gt;
&lt;include file="${basedir}/build/yii.xml" as="yii"/&gt;</pre></div><p>You can <a id="id481" class="indexterm"/>invoke it either by calling the ready-made <a id="id482" class="indexterm"/>target <code class="literal">migrate-all</code>, as we did for the dependencies of <code class="literal">prepare</code> in our <code class="literal">build.xml</code>, or by calling the <code class="literal">migrate</code> MacroDef the way you want:</p><div class="informalexample"><pre class="programlisting">&lt;migrate exec="${yii.script}" action="down"/&gt;
&lt;migrate exec="${yii.script}" action="up"/&gt;
&lt;migrate exec="${yii.tests.script}" action="down"/&gt;
&lt;migrate exec="${yii.tests.script}" action="up"/&gt;</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note35"/>Note</h3><p>Ant has to extend its basic syntax, which defines new tasks like <a id="id483" class="indexterm"/>MacroDef. You can read more about this in the official Apache Ant documentation, which can be found at <a class="ulink" href="https://ant.apache.org/manual/Tasks/macrodef.html">https://ant.apache.org/manual/Tasks/macrodef.html</a>.</p></div></div><p>The <code class="literal">migrate</code> action <a id="id484" class="indexterm"/>will always pass <code class="literal">all</code> as an argument to the <code class="literal">yii</code> script, and this is enough for what we need to achieve, but this could be improved.</p><p>Codeception is added in a similar way. You can grab a copy from the repository I've created at <a class="ulink" href="https://github.com/ThePeach/CodeCeption-Ant">https://github.com/ThePeach/CodeCeption-Ant</a>.</p><p>This Ant project provides a main target called <code class="literal">run-tests</code>, which you can execute without worrying too much about the parameters and such. You can also dynamically pass some parameters at run time to fine-tune the invocation of Codeception, such as <code class="literal">codeception.suites</code> and <code class="literal">codeception.options</code>.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ant -Dcodeception.suites=unit -Dcodeception.options=--coverage-html build</strong></span>
</pre></div><p>If not set, these will be assigned an empty value and <code class="literal">--xml --coverage-xml --coverage-html</code> respectively.</p></div></div>
<div class="section" title="Configuring the Jenkins build"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec48"/>Configuring the Jenkins build</h1></div></div></div><p>The easiest <a id="id485" class="indexterm"/>way to configure the build is by starting with the <code class="literal">jenkins-php</code> project template. You can always import it separately and integrate it with your own project later.</p><p>The <span class="emphasis"><em>Integration</em></span> page available at the <code class="literal">jenkins-php</code> website (<a class="ulink" href="http://jenkins-php.org/integration.html">http://jenkins-php.org/integration.html</a>) will explain how to import the project. Remember to adjust the parameters to your own configuration.</p><p>Now go to the dashboard, click on the new project <span class="strong"><strong>jenkins-php</strong></span>, and then select <span class="strong"><strong>Configure</strong></span> from the menu.</p><p>If you've never used Jenkins, then you might get a little scared by the length of the configuration page. However, there are only three sections that you need to keep in mind, and we'll cover them now.</p><div class="section" title="Generic build settings"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec75"/>Generic build settings</h2></div></div></div><p>Generic build settings <a id="id486" class="indexterm"/>contains settings for the enable/disable switch for the build, how many builds to keep, when to discard the build and the repository configuration, and so on.</p><p>If you're using Git, then you will have the ability to configure almost anything,such as being able to merge branches, committing and pushing back integrated changes, and so on.</p><p>We will just need to specify the branch as <code class="literal">*/master</code> and the deployment key as we what saved before, from our repository provider.</p></div><div class="section" title="Build settings"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec76"/>Build settings</h2></div></div></div><p>The build settings <a id="id487" class="indexterm"/>are the only thing that you need to care about when deciding what to run; here you specify the target names and any additional options.</p><p>In our case, this is <code class="literal">build</code>, and by clicking <span class="strong"><strong>Advanced</strong></span>, we can fill in the <span class="strong"><strong>Properties</strong></span> field with <code class="literal">codeception.suites=unit</code>. This will allow us to run a test build without having to wait for long.</p></div><div class="section" title="Postbuild settings"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec77"/>Postbuild settings</h2></div></div></div><p>This is the longest section of <a id="id488" class="indexterm"/>the configuration. All the steps that will be performed for publishing the reports in the dashboard of the build, such as linking the documentation that you need to the various pieces, choosing what the thresholds required to decide are, and deciding when to mark the job failed, and so on are defined here.</p><p>The default threshold values defined here are quite high, so there isn't much that you should be worried about.</p><p>The only changes that we will need to make are regarding the reports generated by Codeception, which will provide the JUnit XML reports, the Clover XML reports, and the coverage in the HTML format.</p><p>Toward the end of the configuration page, you will find a section titled <span class="strong"><strong>Publish Clover PHP Coverage Report</strong></span>, here update the Clover XML report path to <code class="literal">tests/codeception/_output/coverage.xml,</code> and the <span class="strong"><strong>Publish HTML Report</strong></span> to <code class="literal">tests/codeception/_output/coverage/</code>. If you click on <span class="strong"><strong>Advanced panel</strong></span>, then you will be able to modify the thresholds, and you can use them to decide how much coverage you require from your tests.</p><p>Just after this step, you will see <span class="strong"><strong>Publish xUnit test results report</strong></span>, here change <code class="literal">PHPUnit-3.x Pattern</code> to <code class="literal">tests/codeception/_output/report.xml</code>. As you have done before, in the next step, you can configure the thresholds for the failed tests. By default, there shouldn't be any failed tests. So, all the fields will be set to 0. Do not change this setting, unless you want to live in shame.</p></div><div class="section" title="Executing the job"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec78"/>Executing the job</h2></div></div></div><p>Let's test <a id="id489" class="indexterm"/>everything and check if it is working as expected. Save the configuration, and click on <span class="strong"><strong>Build Now</strong></span> to execute the job.</p><p>Once finished, you can head back to the page of the build, and then you will see the following graphs:</p><div class="mediaobject"><img src="graphics/B03646_09_03.jpg" alt="Executing the job"/><div class="caption"><p>The project dashboard at a glance</p></div></div><p>Most of the graphs<a id="id490" class="indexterm"/> that appear on the right-hand side of the column are a quick way of understanding what triggered a failed build.</p><p>The two graphs, which are generated by PDepend, displayed at the very top show the so-called <span class="strong"><strong>Overview Pyramid</strong></span> and the <span class="strong"><strong>Abstraction Instability Chart</strong></span>. Both of them show interesting stats about your project, which you can depend on for taking some decisions in terms of performance, scalability, and maintainability.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip21"/>Tip</h3><p>PDepend documentation provides further information about both of these graphs, and I highly recommend reading the following sources:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <a id="id491" class="indexterm"/>Overview Pyramid at <a class="ulink" href="http://pdepend.org/documentation/handbook/reports/overview-pyramid.html">http://pdepend.org/documentation/handbook/reports/overview-pyramid.html</a></li><li class="listitem" style="list-style-type: disc">The <a id="id492" class="indexterm"/>Abstraction Instability Chart at <a class="ulink" href="http://pdepend.org/documentation/handbook/reports/abstraction-instability-chart.html">http://pdepend.org/documentation/handbook/reports/abstraction-instability-chart.html</a></li></ul></div></div></div><p>At this point, you<a id="id493" class="indexterm"/> should have all the tools required for stepping forward and implementing, improving and excelling at testing and at automating your projects.</p></div></div>
<div class="section" title="Going forward"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec49"/>Going forward</h1></div></div></div><p>If you've managed to get to this point, then you might need to make some additional considerations.</p><p>As we've seen, automation incorporates a lot of reporting tools, suites for testing, and other projects to help you understand, improve, and analyze your project.</p><p>One of the biggest gripes of automation is the speed at which it performs all the tests.</p><p>There are techniques to halve the time it takes to perform these tests. While Jenkins and <code class="literal">jenkins-php</code> provide targets for running the targets in parallel, by executing <code class="literal">build-parallel</code>. With Codeception, the story is a bit different and you would need to take a different route by extending the Ant project we've created before. Codeception uses robo-paracept to parallelize the tests.</p><p>If you want to discover more about Codeception, then there's a nice article available at <a class="ulink" href="http://codeception.com/docs/12-ParallelExecution">http://codeception.com/docs/12-ParallelExecution</a>. You'll notice that it will work by marking groups of tests together and aggregating them so that Paracept will be able to run in parallel.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec50"/>Summary</h1></div></div></div><p>You've seen most of what you need to know about automation. The topic is quite vast, and we've covered Jenkins, how it works, and how it is configured. We've learned to make use of Ant to decide what to do, and how to drive your build. We've also looked at what is being generated by the build and displayed it in the Jenkins dashboard.</p></div></body></html>
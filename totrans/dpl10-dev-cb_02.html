<html><head></head><body>
<div id="_idContainer012">
<h1 class="chapter-number" id="_idParaDest-58"><a id="_idTextAnchor059"/><span class="koboSpan" id="kobo.1.1">2</span></h1>
<h1 id="_idParaDest-59"><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.2.1">Content Building Experience</span></h1>
<p><span class="koboSpan" id="kobo.3.1">As you know, Drupal is a content management system that excels in its editorial capabilities and content modeling. </span><span class="koboSpan" id="kobo.3.2">In this chapter, we will cover how to set up your content editing experience and add an editorial </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">review workflow.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">This chapter dives into creating custom types and harnessing different fields to create advanced structured content. </span><span class="koboSpan" id="kobo.5.2">We will walk through customizing the forms used for creating content and learn how to customize the content’s display. </span><span class="koboSpan" id="kobo.5.3">The next thing we will learn is how to build custom landing pages using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.6.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.7.1"> module. </span><span class="koboSpan" id="kobo.7.2">We’ll also learn how to add and manage content and utilize menus for linking to content. </span><span class="koboSpan" id="kobo.7.3">At the end of this chapter, you will be able to create a custom authoring experience for your </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">Drupal site.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">So, let’s take a look at what topics we will cover in </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">this chapter:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Configuring the </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">WYSIWYG editor</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Creating an editorial workflow with </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">content moderation</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Creating a custom content type with </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">custom fields</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Customizing the form display for </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">editing content</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Customizing the display output </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">of content</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Using layouts to build </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">landing pages</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Creating menus and </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">linking content</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Using Workspaces to create content </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">staging areas</span></span></li>
</ul>
<h1 id="_idParaDest-60"><a id="_idTextAnchor061"/><span class="koboSpan" id="kobo.27.1">Configuring the WYSIWYG editor</span></h1>
<p><span class="koboSpan" id="kobo.28.1">Drupal is</span><a id="_idIndexMarker071"/><span class="koboSpan" id="kobo.29.1"> integrated </span><a id="_idIndexMarker072"/><span class="koboSpan" id="kobo.30.1">with </span><strong class="bold"><span class="koboSpan" id="kobo.31.1">CKEditor 5</span></strong><span class="koboSpan" id="kobo.32.1"> as the default </span><strong class="bold"><span class="koboSpan" id="kobo.33.1">What You See Is What You Get</span></strong><span class="koboSpan" id="kobo.34.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.35.1">WYSIWYG</span></strong><span class="koboSpan" id="kobo.36.1">) editor. </span><span class="koboSpan" id="kobo.36.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.37.1">Editor</span></strong><span class="koboSpan" id="kobo.38.1"> module provides an API to integrate WYSIWYG editors, although CKEditor (the default editor) contributed modules can provide integrations with other </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">WYSIWYG editors.</span></span></p>
<p><span class="koboSpan" id="kobo.40.1">Text </span><a id="_idIndexMarker073"/><span class="koboSpan" id="kobo.41.1">formats control the formatting of content and the WYSIWYG editor configuration for content authors. </span><span class="koboSpan" id="kobo.41.2">The standard Drupal installation profile provides a fully configured text format with the enabled CKEditor. </span><span class="koboSpan" id="kobo.41.3">We will walk through the steps of recreating this </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">text format.</span></span></p>
<p><span class="koboSpan" id="kobo.43.1">In this recipe, we will create a new text format with a custom CKEditor </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">WYSIWYG configuration.</span></span></p>
<h2 id="_idParaDest-61"><a id="_idTextAnchor062"/><span class="koboSpan" id="kobo.45.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.46.1">Before getting started, make sure the </span><strong class="source-inline"><span class="koboSpan" id="kobo.47.1">CKEditor</span></strong><span class="koboSpan" id="kobo.48.1"> module is installed. </span><span class="koboSpan" id="kobo.48.2">This module is automatically installed with Drupal’s </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">standard installation.</span></span></p>
<h2 id="_idParaDest-62"><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.50.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.51.1">Let’s create a new text format with a custom CKEditor </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">WYSIWYG configuration:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.53.1">Visit </span><strong class="bold"><span class="koboSpan" id="kobo.54.1">Configuration</span></strong><span class="koboSpan" id="kobo.55.1"> from the administrative toolbar and head to </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">Text formats and editors</span></strong><span class="koboSpan" id="kobo.57.1"> under the </span><strong class="bold"><span class="koboSpan" id="kobo.58.1">Content </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.59.1">Authoring</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.60.1"> heading.</span></span></li>
<li><span class="koboSpan" id="kobo.61.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.62.1">Add text format</span></strong><span class="koboSpan" id="kobo.63.1"> to begin creating the next </span><span class="No-Break"><span class="koboSpan" id="kobo.64.1">text format.</span></span></li>
<li><span class="koboSpan" id="kobo.65.1">Enter a name for the text format, such as the </span><span class="No-Break"><span class="koboSpan" id="kobo.66.1">Editor format.</span></span></li>
<li><span class="koboSpan" id="kobo.67.1">Select which roles have access to this format – this allows you to have granular control over what users can use when </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">authoring content.</span></span></li>
<li><span class="koboSpan" id="kobo.69.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.70.1">CKEditor</span></strong><span class="koboSpan" id="kobo.71.1"> from the </span><strong class="bold"><span class="koboSpan" id="kobo.72.1">Text editor</span></strong><span class="koboSpan" id="kobo.73.1"> select list. </span><span class="koboSpan" id="kobo.73.2">The configuration form for </span><strong class="bold"><span class="koboSpan" id="kobo.74.1">CKEditor</span></strong><span class="koboSpan" id="kobo.75.1"> will then </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">be loaded.</span></span></li>
<li><span class="koboSpan" id="kobo.77.1">You may now use an in-place editor to drag buttons onto the provided toolbar to configure your </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.78.1">CKEditor</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.79.1"> toolbar:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer008">
<span class="koboSpan" id="kobo.80.1"><img alt="Figure 2.1 – The text format edit form" src="image/Figure_2.01_B18548.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.81.1">Figure 2.1 – The text format edit form</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.82.1">Select </span><a id="_idIndexMarker074"/><span class="koboSpan" id="kobo.83.1">any of the </span><strong class="bold"><span class="koboSpan" id="kobo.84.1">Enabled filters</span></strong><span class="koboSpan" id="kobo.85.1"> options, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.86.1">Figure 2</span></em></span><em class="italic"><span class="koboSpan" id="kobo.87.1">.2</span></em><span class="koboSpan" id="kobo.88.1">, except for </span><strong class="bold"><span class="koboSpan" id="kobo.89.1">Display any HTML as plain text</span></strong><span class="koboSpan" id="kobo.90.1">. </span><span class="koboSpan" id="kobo.90.2">That would be counterintuitive to using a </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">WYSIWYG editor:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer009">
<span class="koboSpan" id="kobo.92.1"><img alt="Figure 2.2 – The Enabled filters checkboxes" src="image/Figure_2.02_B18548.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.93.1">Figure 2.2 – The Enabled filters checkboxes</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.94.1">Once you’re satisfied, click on </span><strong class="bold"><span class="koboSpan" id="kobo.95.1">Save configuration</span></strong><span class="koboSpan" id="kobo.96.1"> to save your configuration and create the text filter. </span><span class="koboSpan" id="kobo.96.2">It will now be available to users when adding content to rich </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">text fields.</span></span></li>
</ol>
<h2 id="_idParaDest-63"><a id="_idTextAnchor064"/><span class="koboSpan" id="kobo.98.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.99.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">Filter</span></strong><span class="koboSpan" id="kobo.101.1"> modules </span><a id="_idIndexMarker075"/><span class="koboSpan" id="kobo.102.1">provide text formats that control how rich text fields are presented to the user. </span><span class="koboSpan" id="kobo.102.2">Drupal will render rich text saved in a text area based on the defined text format for the field. </span><span class="koboSpan" id="kobo.102.3">Text fields with “</span><em class="italic"><span class="koboSpan" id="kobo.103.1">formatted</span></em><span class="koboSpan" id="kobo.104.1">” in their title will respect text format settings; others will render in </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">plain text.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.106.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.107.1">The text formats and editor’s screen warns of a security risk due to improper configuration. </span><span class="koboSpan" id="kobo.107.2">This is because you could grant an anonymous user access to a text format that allows full HTML or allows image sources to be from remote URLs. </span><span class="koboSpan" id="kobo.107.3">This may leave your site open to </span><strong class="bold"><span class="koboSpan" id="kobo.108.1">Cross-Site Scripting</span></strong><span class="koboSpan" id="kobo.109.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.110.1">XSS</span></strong><span class="koboSpan" id="kobo.111.1">) attacks. </span><span class="koboSpan" id="kobo.111.2">A cross-site scripting attack</span><a id="_idIndexMarker076"/><span class="koboSpan" id="kobo.112.1"> is when attackers can inject malicious client-side scripts into </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">your site.</span></span></p>
<p><span class="koboSpan" id="kobo.114.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.115.1">Editor</span></strong><span class="koboSpan" id="kobo.116.1"> module provides a bridge to WYSIWYG editors and text formats. </span><span class="koboSpan" id="kobo.116.2">It alters the text format form and rendering to allow the integration of WYSIWYG editor libraries. </span><span class="koboSpan" id="kobo.116.3">This allows each text format to have a configuration for its </span><span class="No-Break"><span class="koboSpan" id="kobo.117.1">WYSIWYG editor.</span></span></p>
<p><span class="koboSpan" id="kobo.118.1">Out of the box, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">Editor</span></strong><span class="koboSpan" id="kobo.120.1"> module alone does not provide an editor. </span><span class="koboSpan" id="kobo.120.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.121.1">CKEditor</span></strong><span class="koboSpan" id="kobo.122.1"> module</span><a id="_idIndexMarker077"/><span class="koboSpan" id="kobo.123.1"> works with the Editor API to enable the usage of the </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">WYSIWYG editor.</span></span></p>
<p><span class="koboSpan" id="kobo.125.1">Contributed modules </span><a id="_idIndexMarker078"/><span class="koboSpan" id="kobo.126.1">can provide support for other WYSIWYG editors. </span><span class="koboSpan" id="kobo.126.2">For instance, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">TinyMCE</span></strong><span class="koboSpan" id="kobo.128.1"> module (</span><a href="https://www.drupal.org/project/tinymce"><span class="koboSpan" id="kobo.129.1">https://www.drupal.org/project/tinymce</span></a><span class="koboSpan" id="kobo.130.1">) integrates </span><a id="_idIndexMarker079"/><span class="koboSpan" id="kobo.131.1">Drupal with</span><a id="_idIndexMarker080"/><span class="koboSpan" id="kobo.132.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">TinyMCE</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.134.1">editor (</span></span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">https://www.tiny.cloud/tinymce</span></span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">).</span></span></p>
<h2 id="_idParaDest-64"><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.137.1">There’s more…</span></h2>
<p><span class="koboSpan" id="kobo.138.1">Drupal provides granular control of how rich text is rendered and in extensible ways, which we will </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">discuss further.</span></span></p>
<h3><span class="koboSpan" id="kobo.140.1">Filter module</span></h3>
<p><span class="koboSpan" id="kobo.141.1">When string </span><a id="_idIndexMarker081"/><span class="koboSpan" id="kobo.142.1">data is added to a field that supports text formats, the data is saved and preserved as it was originally entered. </span><span class="koboSpan" id="kobo.142.2">Enabled filters for a text format will not be applied until the content is viewed. </span><span class="koboSpan" id="kobo.142.3">Drupal works in such a way that it saves the original content and only filters </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">on display.</span></span></p>
<p><span class="koboSpan" id="kobo.144.1">With the </span><strong class="source-inline"><span class="koboSpan" id="kobo.145.1">Filter</span></strong><span class="koboSpan" id="kobo.146.1"> module enabled, you can specify how text is rendered based on the roles of the user who created the text. </span><span class="koboSpan" id="kobo.146.2">It is important to understand the filters that are applied to a text format that uses a WYSIWYG editor. </span><span class="koboSpan" id="kobo.146.3">For example, if you selected the </span><strong class="bold"><span class="koboSpan" id="kobo.147.1">Display any HTML as plain text</span></strong><span class="koboSpan" id="kobo.148.1"> option, the formatting done by the WYSIWYG editor would be stripped out </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">when viewed.</span></span></p>
<h3><span class="koboSpan" id="kobo.150.1">Improved links</span></h3>
<p><span class="koboSpan" id="kobo.151.1">A major component of </span><a id="_idIndexMarker082"/><span class="koboSpan" id="kobo.152.1">WYSIWYG editing is the ability to insert links into other pieces of content or external sites. </span><span class="koboSpan" id="kobo.152.2">The default link button integrated with CKEditor allows for basic link embedding. </span><span class="koboSpan" id="kobo.152.3">This means that your content editors must know their internal content URLs ahead of time to link to them. </span><span class="koboSpan" id="kobo.152.4">A solution to this issue is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">Linkit</span></strong><span class="koboSpan" id="kobo.154.1"> module</span><a id="_idIndexMarker083"/> <span class="No-Break"><span class="koboSpan" id="kobo.155.1">at </span></span><span class="No-Break"><span class="koboSpan" id="kobo.156.1">https://www.drupal.org/project/linkit</span></span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.158.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.159.1">LinkIt</span></strong><span class="koboSpan" id="kobo.160.1"> module can be installed with the following Composer and </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">Drush commands:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.162.1">
dd  /path/to/drupal
composer require drupal/linkit
php vendor/bin/drush en linkit –yes</span></pre>
<p><span class="koboSpan" id="kobo.163.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.164.1">Linkit</span></strong><span class="koboSpan" id="kobo.165.1"> module provides a drop-in replacement for the default link functionality. </span><span class="koboSpan" id="kobo.165.2">It adds an auto-complete search for internal content and adds additional options for displaying the field. </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">Linkit</span></strong><span class="koboSpan" id="kobo.167.1"> works by creating different profiles that allow you to control what content can be referenced, what attributes can be managed, and which users and roles can use a </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">Linkit profile.</span></span></p>
<h3><span class="koboSpan" id="kobo.169.1">CKEditor plugins</span></h3>
<p><span class="koboSpan" id="kobo.170.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">CKEditor</span></strong><span class="koboSpan" id="kobo.172.1"> module provides a</span><a id="_idIndexMarker084"/><span class="koboSpan" id="kobo.173.1"> plugin type called </span><strong class="bold"><span class="koboSpan" id="kobo.174.1">CKEditorPlugin</span></strong><span class="koboSpan" id="kobo.175.1">. </span><span class="koboSpan" id="kobo.175.2">Plugins are small pieces of swappable functionality within Drupal. </span><span class="koboSpan" id="kobo.175.3">Plugins and plugin development will be covered in </span><a href="B18548_08.xhtml#_idTextAnchor264"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.176.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.177.1">, </span><em class="italic"><span class="koboSpan" id="kobo.178.1">Plug and Play With Plugins</span></em><span class="koboSpan" id="kobo.179.1">. </span><span class="koboSpan" id="kobo.179.2">This type provides integration between CKEditor </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">and Drupal.</span></span></p>
<p><span class="koboSpan" id="kobo.181.1">The image and link capabilities are plugins defined within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.182.1">CKEditor</span></strong><span class="koboSpan" id="kobo.183.1"> module. </span><span class="koboSpan" id="kobo.183.2">Additional plugins can be provided through contributed projects or </span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">custom development.</span></span></p>
<p><span class="koboSpan" id="kobo.185.1">Refer to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.186.1">\Drupal\ckeditor5\Annotation\CKEditor5Plugin</span></strong><span class="koboSpan" id="kobo.187.1"> class (</span><a href="https://git.drupalcode.org/project/drupal/-/blob/10.0.x/core/modules/ckeditor5/src/Annotation/CKEditor5Plugin.php"><span class="koboSpan" id="kobo.188.1">https://git.drupalcode.org/project/drupal/-/blob/10.0.x/core/modules/ckeditor5/src/Annotation/CKEditor5Plugin.php</span></a><span class="koboSpan" id="kobo.189.1">) for the plugin definition and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">\Drupal\ckeditor5\Plugin\CKEditor5Plugin\ImageUpload</span></strong><span class="koboSpan" id="kobo.191.1"> class (https://git.drupalcode.org/project/drupal/-/blob/10.0.x/core/modules/ckeditor5/src/Plugin/CKEditor5Plugin/ImageUpload.php) as a </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">working example.</span></span></p>
<h2 id="_idParaDest-65"><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.193.1">See also</span></h2>
<p><span class="koboSpan" id="kobo.194.1">Refer to </span><a href="B18548_08.xhtml#_idTextAnchor264"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.195.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.196.1">, </span><em class="italic"><span class="koboSpan" id="kobo.197.1">Plug and Play With Plugins</span></em><span class="koboSpan" id="kobo.198.1">, for the CKEditor 5 </span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">documentation (</span></span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">https://www.drupal.org/docs/core-modules-and-themes/core-modules/ckeditor-5-module</span></span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">).</span></span></p>
<h1 id="_idParaDest-66"><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.202.1">Creating an editorial workflow with content moderation</span></h1>
<p><span class="koboSpan" id="kobo.203.1">Many organizations have an editorial workflow that must be followed before content can be published on the website. </span><span class="koboSpan" id="kobo.203.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.205.1"> module</span><a id="_idIndexMarker085"/><span class="koboSpan" id="kobo.206.1"> allows content created in Drupal to go through an editorial process before it is published. </span><span class="koboSpan" id="kobo.206.2">In this recipe, we will create a content moderation workflow that puts content in a </span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.207.1">draft state and then </span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.208.1">reviews, approves, and publishes it. </span><span class="koboSpan" id="kobo.208.2">The content remains in a draft state and is hidden from site visitors until it </span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">is published.</span></span></p>
<h2 id="_idParaDest-67"><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.210.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.211.1">In this recipe, we will be using the standard installation, which provides the Article content type. </span><span class="koboSpan" id="kobo.211.2">Any content type </span><span class="No-Break"><span class="koboSpan" id="kobo.212.1">will suffice.</span></span></p>
<h2 id="_idParaDest-68"><a id="_idTextAnchor069"/><span class="koboSpan" id="kobo.213.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.214.1">Begin by</span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.215.1"> installing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.217.1"> module </span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.218.1">and its dependent </span><span class="No-Break"><span class="koboSpan" id="kobo.219.1">module, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.220.1">Workflows</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.221.1">:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.222.1">php vendor/bin/drush en content_moderation –yes</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.223.1">Visit </span><strong class="bold"><span class="koboSpan" id="kobo.224.1">Configuration</span></strong><span class="koboSpan" id="kobo.225.1"> and then </span><strong class="bold"><span class="koboSpan" id="kobo.226.1">Workflows</span></strong><span class="koboSpan" id="kobo.227.1">. </span><span class="koboSpan" id="kobo.227.2">This page lists all configured content moderation workflows. </span><span class="koboSpan" id="kobo.227.3">Click </span><strong class="bold"><span class="koboSpan" id="kobo.228.1">Add workflow</span></strong><span class="koboSpan" id="kobo.229.1"> to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">new workflow.</span></span></li>
<li><span class="koboSpan" id="kobo.231.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.232.1">Label</span></strong><span class="koboSpan" id="kobo.233.1"> field, give it a label of </span><strong class="bold"><span class="koboSpan" id="kobo.234.1">Approval workflow</span></strong><span class="koboSpan" id="kobo.235.1"> and select </span><strong class="bold"><span class="koboSpan" id="kobo.236.1">Content moderation</span></strong><span class="koboSpan" id="kobo.237.1"> for </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.238.1">Workflow type</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.240.1">The workflow has two default states of </span><strong class="bold"><span class="koboSpan" id="kobo.241.1">Draft</span></strong><span class="koboSpan" id="kobo.242.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.243.1">Published</span></strong><span class="koboSpan" id="kobo.244.1">. </span><span class="koboSpan" id="kobo.244.2">We need to add </span><strong class="bold"><span class="koboSpan" id="kobo.245.1">Review</span></strong><span class="koboSpan" id="kobo.246.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.247.1">Approval</span></strong><span class="koboSpan" id="kobo.248.1"> states. </span><span class="koboSpan" id="kobo.248.2">For each of our new states, click the </span><strong class="bold"><span class="koboSpan" id="kobo.249.1">Add a new state</span></strong><span class="koboSpan" id="kobo.250.1"> link. </span><span class="koboSpan" id="kobo.250.2">Fill in the </span><strong class="bold"><span class="koboSpan" id="kobo.251.1">State</span></strong><span class="koboSpan" id="kobo.252.1"> label and press </span><strong class="bold"><span class="koboSpan" id="kobo.253.1">Save</span></strong><span class="koboSpan" id="kobo.254.1">. </span><span class="koboSpan" id="kobo.254.2">Leave the </span><strong class="bold"><span class="koboSpan" id="kobo.255.1">Published</span></strong><span class="koboSpan" id="kobo.256.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.257.1">Default revision</span></strong><span class="koboSpan" id="kobo.258.1"> checkboxes unchecked. </span><span class="koboSpan" id="kobo.258.2">Those should only be used for a </span><span class="No-Break"><span class="koboSpan" id="kobo.259.1">published state.</span></span></li>
<li><span class="koboSpan" id="kobo.260.1">Rearrange the states’ ordering so that it is </span><strong class="bold"><span class="koboSpan" id="kobo.261.1">Draft</span></strong><span class="koboSpan" id="kobo.262.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.263.1">Review</span></strong><span class="koboSpan" id="kobo.264.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.265.1">Approval</span></strong><span class="koboSpan" id="kobo.266.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.267.1">Published</span></strong><span class="koboSpan" id="kobo.268.1">. </span><span class="koboSpan" id="kobo.268.2">Press </span><strong class="bold"><span class="koboSpan" id="kobo.269.1">Save</span></strong><span class="koboSpan" id="kobo.270.1"> at the bottom of the form so that our ordering </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">is saved.</span></span></li>
<li><span class="koboSpan" id="kobo.272.1">Next, we need to create a transition to move a </span><strong class="bold"><span class="koboSpan" id="kobo.273.1">Draft</span></strong><span class="koboSpan" id="kobo.274.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.275.1">Review</span></strong><span class="koboSpan" id="kobo.276.1">. </span><span class="koboSpan" id="kobo.276.2">Click </span><strong class="bold"><span class="koboSpan" id="kobo.277.1">Add a new transition</span></strong><span class="koboSpan" id="kobo.278.1">. </span><span class="koboSpan" id="kobo.278.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.279.1">Transition</span></strong><span class="koboSpan" id="kobo.280.1"> label to </span><strong class="bold"><span class="koboSpan" id="kobo.281.1">Ready for review</span></strong><span class="koboSpan" id="kobo.282.1">. </span><span class="koboSpan" id="kobo.282.2">Select </span><strong class="bold"><span class="koboSpan" id="kobo.283.1">Draft as a From state</span></strong><span class="koboSpan" id="kobo.284.1">. </span><span class="koboSpan" id="kobo.284.2">Then, select </span><strong class="bold"><span class="koboSpan" id="kobo.285.1">Review as the To state</span></strong><span class="koboSpan" id="kobo.286.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.287.1">press </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.288.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.290.1">Now, we will create the Review to Approval transition. </span><span class="koboSpan" id="kobo.290.2">Click </span><strong class="bold"><span class="koboSpan" id="kobo.291.1">Add a new transition</span></strong><span class="koboSpan" id="kobo.292.1">. </span><span class="koboSpan" id="kobo.292.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.293.1">Transition</span></strong><span class="koboSpan" id="kobo.294.1"> label to </span><strong class="bold"><span class="koboSpan" id="kobo.295.1">Needs approval</span></strong><span class="koboSpan" id="kobo.296.1">. </span><span class="koboSpan" id="kobo.296.2">Select </span><strong class="bold"><span class="koboSpan" id="kobo.297.1">Review as a From state</span></strong><span class="koboSpan" id="kobo.298.1">. </span><span class="koboSpan" id="kobo.298.2">Then, select </span><strong class="bold"><span class="koboSpan" id="kobo.299.1">Approval as the To state</span></strong><span class="koboSpan" id="kobo.300.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">press </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.302.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.303.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.304.1">We must edit the default Publish transition. </span><span class="koboSpan" id="kobo.304.2">Uncheck </span><strong class="bold"><span class="koboSpan" id="kobo.305.1">Draft from the From checkboxes</span></strong><span class="koboSpan" id="kobo.306.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.307.1">select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.308.1">Approval</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.310.1">Finally, we must assign this workflow to content entities. </span><span class="koboSpan" id="kobo.310.2">Under </span><strong class="bold"><span class="koboSpan" id="kobo.311.1">This workflow applies to</span></strong><span class="koboSpan" id="kobo.312.1">, look for </span><strong class="bold"><span class="koboSpan" id="kobo.313.1">Content types</span></strong><span class="koboSpan" id="kobo.314.1">. </span><span class="koboSpan" id="kobo.314.2">Press </span><strong class="bold"><span class="koboSpan" id="kobo.315.1">Select</span></strong><span class="koboSpan" id="kobo.316.1"> and a dialog will open. </span><span class="koboSpan" id="kobo.316.2">Check </span><strong class="bold"><span class="koboSpan" id="kobo.317.1">Article</span></strong><span class="koboSpan" id="kobo.318.1">, then press </span><strong class="bold"><span class="koboSpan" id="kobo.319.1">Save</span></strong><span class="koboSpan" id="kobo.320.1"> in </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">the dialog.</span></span></li>
<li><span class="koboSpan" id="kobo.322.1">Press </span><strong class="bold"><span class="koboSpan" id="kobo.323.1">Save</span></strong><span class="koboSpan" id="kobo.324.1"> at the bottom of the form. </span><span class="koboSpan" id="kobo.324.2">Our content moderation workflow is </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">now complete!</span></span></li>
</ol>
<h2 id="_idParaDest-69"><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.326.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.327.1">Without </span><strong class="source-inline"><span class="koboSpan" id="kobo.328.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.329.1">, publishable content entities only have two states: unpublished</span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.330.1"> or published. </span><span class="koboSpan" id="kobo.330.2">There also are no </span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.331.1">permissions to control who can make an unpublished piece of content published or vice versa. </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.333.1"> solves </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">this problem.</span></span></p>
<p><span class="koboSpan" id="kobo.335.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.336.1">Workflows</span></strong><span class="koboSpan" id="kobo.337.1"> module provides an API for defining states and transitions. </span><span class="koboSpan" id="kobo.337.2">It is up to modules such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.338.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.339.1"> to provide Workflow Type plugins to bring meaningful functionality. </span><span class="koboSpan" id="kobo.339.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.340.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.341.1"> module integrates with the revision capabilities of Drupal </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">content entities.</span></span></p>
<p><span class="koboSpan" id="kobo.343.1">When editing a content entity that uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.344.1">Content Moderation</span></strong><span class="koboSpan" id="kobo.345.1">, there will be a </span><strong class="bold"><span class="koboSpan" id="kobo.346.1">Moderation State</span></strong><span class="koboSpan" id="kobo.347.1"> field. </span><span class="koboSpan" id="kobo.347.2">This field contains the states that a piece of content can transition to, based on the current </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">user’s permissions.</span></span></p>
<h2 id="_idParaDest-70"><a id="_idTextAnchor071"/><span class="koboSpan" id="kobo.349.1">See also</span></h2>
<ul>
<li><span class="koboSpan" id="kobo.350.1">Content Moderation</span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.351.1"> module documentation on </span><a href="https://Drupal.org"><span class="No-Break"><span class="koboSpan" id="kobo.352.1">Drupal.org</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.353.1">: </span></span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">https://www.drupal.org/docs/8/core/modules/content-moderation/overview</span></span></li>
<li><span class="koboSpan" id="kobo.355.1">Workflows module </span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.356.1">documentation on </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.357.1">Drupal.org</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">: </span></span><a href="https://www.drupal.org/docs/8/core/modules/workflows/overview"><span class="No-Break"><span class="koboSpan" id="kobo.359.1">https://www.drupal.org/docs/8/core/modules/workflows/overview</span></span></a></li>
</ul>
<h1 id="_idParaDest-71"><a id="_idTextAnchor072"/><span class="koboSpan" id="kobo.360.1">Creating a custom content type with custom fields</span></h1>
<p><span class="koboSpan" id="kobo.361.1">Drupal excels </span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.362.1">in the realm of content management by allowing different types of content. </span><span class="koboSpan" id="kobo.362.2">In this recipe, we will walk you through creating a custom content type. </span><span class="koboSpan" id="kobo.362.3">We will create a Services type that has some basic fields and can be used in a scenario that brings attention to a company’s </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">provided services.</span></span></p>
<p><span class="koboSpan" id="kobo.364.1">You will also learn how to add fields to a content type in this recipe, which generally goes hand in hand with making a new content type on a </span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">Drupal site.</span></span></p>
<h2 id="_idParaDest-72"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.366.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.367.1">Go to </span><strong class="bold"><span class="koboSpan" id="kobo.368.1">Structure</span></strong><span class="koboSpan" id="kobo.369.1"> and then </span><strong class="bold"><span class="koboSpan" id="kobo.370.1">Content types</span></strong><span class="koboSpan" id="kobo.371.1">. </span><span class="koboSpan" id="kobo.371.2">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.372.1">Add content type</span></strong><span class="koboSpan" id="kobo.373.1"> to begin creating a new</span><a id="_idIndexMarker095"/> <span class="No-Break"><span class="koboSpan" id="kobo.374.1">content type.</span></span></li>
<li><span class="koboSpan" id="kobo.375.1">Enter </span><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">Services</span></strong><span class="koboSpan" id="kobo.377.1"> as the name, and an </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">optional description.</span></span></li>
<li><span class="koboSpan" id="kobo.379.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.380.1">Display settings</span></strong><span class="koboSpan" id="kobo.381.1"> and uncheck the </span><strong class="bold"><span class="koboSpan" id="kobo.382.1">Display author and date information</span></strong><span class="koboSpan" id="kobo.383.1"> checkbox. </span><span class="koboSpan" id="kobo.383.2">This will hide the author and submitted time from </span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">services pages.</span></span></li>
<li><span class="koboSpan" id="kobo.385.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.386.1">Save and manage fields</span></strong><span class="koboSpan" id="kobo.387.1"> button to save the new content type and manage </span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">its fields.</span></span></li>
<li><span class="koboSpan" id="kobo.389.1">By default, new content types have a </span><strong class="bold"><span class="koboSpan" id="kobo.390.1">Body</span></strong><span class="koboSpan" id="kobo.391.1"> field automatically added to them. </span><span class="koboSpan" id="kobo.391.2">We will keep this field </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">in place.</span></span></li>
<li><span class="koboSpan" id="kobo.393.1">We will add a field that will provide a way to enter a marketing headline for the service. </span><span class="koboSpan" id="kobo.393.2">Click on </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.394.1">Add field</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.395.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.396.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.397.1">Text (plain)</span></strong><span class="koboSpan" id="kobo.398.1"> from the dropdown and enter </span><strong class="bold"><span class="koboSpan" id="kobo.399.1">Marketing headline</span></strong><span class="koboSpan" id="kobo.400.1"> as </span><span class="No-Break"><span class="koboSpan" id="kobo.401.1">the label.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.402.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.403.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.404.1">Text (plain)</span></strong><span class="koboSpan" id="kobo.405.1"> option is a regular text field. </span><span class="koboSpan" id="kobo.405.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.406.1">Text (formatted)</span></strong><span class="koboSpan" id="kobo.407.1"> option will allow you to use text formats on the displayed text in </span><span class="No-Break"><span class="koboSpan" id="kobo.408.1">the field.</span></span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.409.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.410.1">Save field settings</span></strong><span class="koboSpan" id="kobo.411.1"> on the next form. </span><span class="koboSpan" id="kobo.411.2">On the following form, click on </span><strong class="bold"><span class="koboSpan" id="kobo.412.1">Save settings</span></strong><span class="koboSpan" id="kobo.413.1"> to finish adding </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">the field.</span></span></li>
<li><span class="koboSpan" id="kobo.415.1">The field has now been added, and content of this type can </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">be created.</span></span></li>
</ol>
<h2 id="_idParaDest-73"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.417.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.418.1">In Drupal, content entities can have different bundles. </span><span class="koboSpan" id="kobo.418.2">A bundle refers to a different type of that entity type. </span><span class="koboSpan" id="kobo.418.3">The word </span><em class="italic"><span class="koboSpan" id="kobo.419.1">bundle</span></em><span class="koboSpan" id="kobo.420.1"> comes from it being a bundle of fields since each bundle of a content entity type can have different fields. </span><span class="koboSpan" id="kobo.420.2">When working with nodes, they are synonymous with content, and bundles for nodes are referred to as </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">content types.</span></span></p>
<p><span class="koboSpan" id="kobo.422.1">When a content type is created, a default body field is created for it. </span><span class="koboSpan" id="kobo.422.2">This is performed by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">node_add_body_field()</span></strong><span class="koboSpan" id="kobo.424.1"> function in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.425.1">node.module</span></strong><span class="koboSpan" id="kobo.426.1"> file. </span><span class="koboSpan" id="kobo.426.2">It is a great reference point for those who wish to see the steps for programmatically defining a bundle field outside of the </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">user interface.</span></span></p>
<p><span class="koboSpan" id="kobo.428.1">Fields can only </span><a id="_idIndexMarker096"/><span class="koboSpan" id="kobo.429.1">be managed or added if the </span><strong class="source-inline"><span class="koboSpan" id="kobo.430.1">Field UI</span></strong><span class="koboSpan" id="kobo.431.1"> module is enabled. </span><span class="koboSpan" id="kobo.431.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">Field UI</span></strong><span class="koboSpan" id="kobo.433.1"> module exposes the </span><strong class="bold"><span class="koboSpan" id="kobo.434.1">Manage Fields</span></strong><span class="koboSpan" id="kobo.435.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.436.1">Manage Form Display</span></strong><span class="koboSpan" id="kobo.437.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.438.1">Manage Display</span></strong><span class="koboSpan" id="kobo.439.1"> options for entities, such as </span><strong class="bold"><span class="koboSpan" id="kobo.440.1">Nodes</span></strong><span class="koboSpan" id="kobo.441.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.442.1">Blocks</span></strong><span class="koboSpan" id="kobo.443.1">, and </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.444.1">Taxonomy Terms</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">.</span></span></p>
<h1 id="_idParaDest-74"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.446.1">Customizing the form display for editing content</span></h1>
<p><span class="koboSpan" id="kobo.447.1">Form modes </span><a id="_idIndexMarker097"/><span class="koboSpan" id="kobo.448.1">allow a site administrator to customize the edit form when modifying a content entity. </span><span class="koboSpan" id="kobo.448.2">In the case of nodes, you can rearrange the order of fields and change the form elements used for a fields node edit form. </span><span class="koboSpan" id="kobo.448.3">There is also the </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">Field Group</span></strong><span class="koboSpan" id="kobo.450.1"> module. </span><span class="koboSpan" id="kobo.450.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">Field Group</span></strong><span class="koboSpan" id="kobo.452.1"> module allows you to group fields </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">into fieldsets.</span></span></p>
<p><span class="koboSpan" id="kobo.454.1">In this recipe, we will install </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">Field Group</span></strong><span class="koboSpan" id="kobo.456.1"> and modify the form display to create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">Article</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.458.1">content type.</span></span></p>
<h2 id="_idParaDest-75"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.459.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.460.1">First, we must add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.461.1">Field Group</span></strong><span class="koboSpan" id="kobo.462.1"> module to the Drupal site using Composer and then install it </span><span class="No-Break"><span class="koboSpan" id="kobo.463.1">with Drush:</span></span><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.464.1">composer require drupal/field_group</span></strong></pre><pre class="console">
<strong class="bold"><span class="koboSpan" id="kobo.465.1">php vendor/bin/drush en field_group –yes</span></strong></pre></li>
<li><span class="koboSpan" id="kobo.466.1">To customize the form’s display mode, go to </span><strong class="bold"><span class="koboSpan" id="kobo.467.1">Structure</span></strong><span class="koboSpan" id="kobo.468.1"> and then </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.469.1">Content Types</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.470.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.471.1">We will modify the Article content type’s form. </span><span class="koboSpan" id="kobo.471.2">Click on and expand the </span><strong class="bold"><span class="koboSpan" id="kobo.472.1">Operations</span></strong><span class="koboSpan" id="kobo.473.1"> button and select </span><strong class="bold"><span class="koboSpan" id="kobo.474.1">Manage </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.475.1">form display</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.477.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.478.1">Add field group</span></strong><span class="koboSpan" id="kobo.479.1"> to begin adding a new </span><span class="No-Break"><span class="koboSpan" id="kobo.480.1">field group.</span></span></li>
<li><span class="koboSpan" id="kobo.481.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.482.1">Details Sidebar</span></strong><span class="koboSpan" id="kobo.483.1"> from </span><strong class="bold"><span class="koboSpan" id="kobo.484.1">Add a new group</span></strong><span class="koboSpan" id="kobo.485.1">, give this a </span><strong class="bold"><span class="koboSpan" id="kobo.486.1">Label</span></strong><span class="koboSpan" id="kobo.487.1"> of </span><strong class="bold"><span class="koboSpan" id="kobo.488.1">Metadata</span></strong><span class="koboSpan" id="kobo.489.1">, and click </span><strong class="bold"><span class="koboSpan" id="kobo.490.1">Save</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.491.1">and continue.</span></span></li>
<li><span class="koboSpan" id="kobo.492.1">Press </span><strong class="bold"><span class="koboSpan" id="kobo.493.1">Create group</span></strong><span class="koboSpan" id="kobo.494.1"> on the next form and use the default values to finish creating </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">the group.</span></span></li>
<li><span class="koboSpan" id="kobo.496.1">Drag the newly</span><a id="_idIndexMarker098"/><span class="koboSpan" id="kobo.497.1"> created </span><strong class="bold"><span class="koboSpan" id="kobo.498.1">Metata</span></strong><span class="koboSpan" id="kobo.499.1"> group (as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.500.1">Figure 2</span></em></span><em class="italic"><span class="koboSpan" id="kobo.501.1">.3</span></em><span class="koboSpan" id="kobo.502.1">) up from the </span><strong class="bold"><span class="koboSpan" id="kobo.503.1">Disabled</span></strong><span class="koboSpan" id="kobo.504.1"> section so that is it enabled. </span><span class="koboSpan" id="kobo.504.2">Directly above the </span><strong class="bold"><span class="koboSpan" id="kobo.505.1">Disabled</span></strong><span class="koboSpan" id="kobo.506.1"> label </span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">is fine.</span></span></li>
<li><span class="koboSpan" id="kobo.508.1">Take the </span><strong class="bold"><span class="koboSpan" id="kobo.509.1">Tags</span></strong><span class="koboSpan" id="kobo.510.1"> field and drag it so that it is nested under the </span><strong class="bold"><span class="koboSpan" id="kobo.511.1">Metadata</span></strong><span class="koboSpan" id="kobo.512.1"> group – below it, and slightly to </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">the right:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer010">
<span class="koboSpan" id="kobo.514.1"><img alt="Figure 2.3 – The Manage Display form with the Tags widget moved underneath the Metadata field group component" src="image/Figure_2.03_B18548.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.515.1">Figure 2.3 – The Manage Display form with the Tags widget moved underneath the Metadata field group component</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.516.1">Click </span><a id="_idIndexMarker099"/><span class="koboSpan" id="kobo.517.1">on the </span><strong class="bold"><span class="koboSpan" id="kobo.518.1">Save</span></strong><span class="koboSpan" id="kobo.519.1"> button at the bottom of the page to save </span><span class="No-Break"><span class="koboSpan" id="kobo.520.1">your changes.</span></span></li>
<li><span class="koboSpan" id="kobo.521.1">Go to </span><strong class="bold"><span class="koboSpan" id="kobo.522.1">Create a New Article</span></strong><span class="koboSpan" id="kobo.523.1">; you will find the </span><strong class="bold"><span class="koboSpan" id="kobo.524.1">Metadata</span></strong><span class="koboSpan" id="kobo.525.1"> tab in the sidebar, which contains the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.526.1">Tags</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.527.1"> field:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer011">
<span class="koboSpan" id="kobo.528.1"><img alt="Figure 2.4 – The Article edit form, with the Tags element in the sidebar" src="image/Figure_2.04_B18548.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.529.1">Figure 2.4 – The Article edit form, with the Tags element in the sidebar</span></p>
<h2 id="_idParaDest-76"><a id="_idTextAnchor077"/><span class="koboSpan" id="kobo.530.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.531.1">When a content entity form is built, the form is aware of the display mode to be used. </span><span class="koboSpan" id="kobo.531.2">Then, it invokes the display mode to build the components for each field using the specified </span><span class="No-Break"><span class="koboSpan" id="kobo.532.1">field widgets.</span></span></p>
<p><span class="koboSpan" id="kobo.533.1">This allows you to customize specific parts of the form without having to replace the entire form. </span><span class="koboSpan" id="kobo.533.2">Developers can create new field widgets or leverage ones from contributed modules to enhance the functionality </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">of forms.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">Field Group</span></strong><span class="koboSpan" id="kobo.536.1"> does not create field widgets, but a new structure inside of the form display. </span><span class="koboSpan" id="kobo.536.2">It will then arrange field widgets into groupings. </span><span class="koboSpan" id="kobo.536.3">This provides a more organized content </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">editing </span></span><span class="No-Break"><a id="_idIndexMarker100"/></span><span class="No-Break"><span class="koboSpan" id="kobo.538.1">experience.</span></span></p>
<h2 id="_idParaDest-77"><a id="_idTextAnchor078"/><span class="koboSpan" id="kobo.539.1">There’s more…</span></h2>
<p><span class="koboSpan" id="kobo.540.1">We will discuss more items for managing the form of a content entity in the </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">following section.</span></span></p>
<h3><span class="koboSpan" id="kobo.542.1">Managing form display modes</span></h3>
<p><span class="koboSpan" id="kobo.543.1">Additional form display modes can be </span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.544.1">added by visiting </span><strong class="bold"><span class="koboSpan" id="kobo.545.1">Structure</span></strong><span class="koboSpan" id="kobo.546.1"> and then </span><strong class="bold"><span class="koboSpan" id="kobo.547.1">Display Modes</span></strong><span class="koboSpan" id="kobo.548.1"> under </span><strong class="bold"><span class="koboSpan" id="kobo.549.1">Form Modes</span></strong><span class="koboSpan" id="kobo.550.1">. </span><span class="koboSpan" id="kobo.550.2">Each content entity type has a hidden default form mode that always exists. </span><span class="koboSpan" id="kobo.550.3">Additional form display modes can be added and configured using the display </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">management form.</span></span></p>
<p><span class="koboSpan" id="kobo.552.1">On their own, these forms and their configured field widgets are not directly integrated with Drupal. </span><span class="koboSpan" id="kobo.552.2">Using custom code, or even contributed projects, they can be used to embed for </span><span class="No-Break"><span class="koboSpan" id="kobo.553.1">special uses.</span></span></p>
<p><span class="koboSpan" id="kobo.554.1">For instance, there is the Register </span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.555.1">form mode for users. </span><span class="koboSpan" id="kobo.555.2">The user registration form is built using this display mode and the configured widgets instead of what is normally available when editing an </span><span class="No-Break"><span class="koboSpan" id="kobo.556.1">existing user.</span></span></p>
<h1 id="_idParaDest-78"><a id="_idTextAnchor079"/><span class="koboSpan" id="kobo.557.1">Customizing the display output of content</span></h1>
<p><span class="koboSpan" id="kobo.558.1">Drupal provides</span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.559.1"> display view modes that allow you to customize</span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.560.1"> the fields and other properties attached to an entity. </span><span class="koboSpan" id="kobo.560.2">In this recipe, we will adjust the teaser display mode of an </span><strong class="source-inline"><span class="koboSpan" id="kobo.561.1">Article</span></strong><span class="koboSpan" id="kobo.562.1"> content type. </span><span class="koboSpan" id="kobo.562.2">Each field or property has controls for displaying the label, the format to display the information in, and additional settings for </span><span class="No-Break"><span class="koboSpan" id="kobo.563.1">the format.</span></span></p>
<p><span class="koboSpan" id="kobo.564.1">Harnessing view displays allows you to have full control over how content is viewed on your </span><span class="No-Break"><span class="koboSpan" id="kobo.565.1">Drupal site.</span></span></p>
<h2 id="_idParaDest-79"><a id="_idTextAnchor080"/><span class="koboSpan" id="kobo.566.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.567.1">Now, it is</span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.568.1"> time to customize the form </span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.569.1">display mode by navigating to </span><strong class="bold"><span class="koboSpan" id="kobo.570.1">Structure</span></strong><span class="koboSpan" id="kobo.571.1"> and then </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.572.1">Content Types</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.573.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.574.1">We will modify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">Article</span></strong><span class="koboSpan" id="kobo.576.1"> content type’s display. </span><span class="koboSpan" id="kobo.576.2">Click on the drop button arrow and select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.577.1">Manage display</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.579.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.580.1">Teaser view mode</span></strong><span class="koboSpan" id="kobo.581.1"> option to modify it. </span><strong class="bold"><span class="koboSpan" id="kobo.582.1">Teaser view mode</span></strong><span class="koboSpan" id="kobo.583.1"> is used in node listings, such as the default </span><span class="No-Break"><span class="koboSpan" id="kobo.584.1">home page.</span></span></li>
<li><span class="koboSpan" id="kobo.585.1">Drag the </span><strong class="bold"><span class="koboSpan" id="kobo.586.1">Tags</span></strong><span class="koboSpan" id="kobo.587.1"> field to the hidden section. </span><span class="koboSpan" id="kobo.587.2">The tags on an article will no longer be displayed when viewing a </span><strong class="bold"><span class="koboSpan" id="kobo.588.1">Teaser </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.589.1">view mode</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.590.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.591.1">Click on the settings cog icon for the </span><strong class="bold"><span class="koboSpan" id="kobo.592.1">Body</span></strong><span class="koboSpan" id="kobo.593.1"> field to adjust the trimmed limit. </span><span class="koboSpan" id="kobo.593.2">The trim limit is a fallback for the summary or trimmed format when the summary of a text-area field is not provided. </span><span class="koboSpan" id="kobo.593.3">Modify this by changing it from </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">600</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.595.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.596.1">300</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.597.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.598.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.599.1">Save</span></strong><span class="koboSpan" id="kobo.600.1"> to save all the changes that you </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">have made.</span></span></li>
<li><span class="koboSpan" id="kobo.602.1">View the home page and review the changes that have </span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">taken effect.</span></span></li>
</ol>
<h2 id="_idParaDest-80"><a id="_idTextAnchor081"/><span class="koboSpan" id="kobo.604.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.605.1">The default rendering system for an entity uses view displays. </span><span class="koboSpan" id="kobo.605.2">View display modes are configuration entities. </span><span class="koboSpan" id="kobo.605.3">Since view display modes are configuration entities, they can be exported using </span><span class="No-Break"><span class="koboSpan" id="kobo.606.1">configuration management.</span></span></p>
<p><span class="koboSpan" id="kobo.607.1">When a content entity is rendered, the view display goes through each field formatter configured in the display. </span><span class="koboSpan" id="kobo.607.2">The field formatter is the option chosen from the </span><strong class="bold"><span class="koboSpan" id="kobo.608.1">Format</span></strong><span class="koboSpan" id="kobo.609.1"> property of the </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">Manage Display</span></strong><span class="koboSpan" id="kobo.611.1"> form and identifies what code should be used to render the field value. </span><span class="koboSpan" id="kobo.611.2">The field value is retrieved from the entity and passed to the field formatter plugin</span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.612.1"> that has been instantiated with the </span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.613.1">configuration provided to the view display. </span><span class="koboSpan" id="kobo.613.2">This collection of render data is then passed through the rest of Drupal’s </span><span class="No-Break"><span class="koboSpan" id="kobo.614.1">render pipeline.</span></span></p>
<h2 id="_idParaDest-81"><a id="_idTextAnchor082"/><span class="koboSpan" id="kobo.615.1">There’s more…</span></h2>
<p><span class="koboSpan" id="kobo.616.1">We will discuss more items for managing the form of a content entity in the </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">following section.</span></span></p>
<h3><span class="koboSpan" id="kobo.618.1">Managing view display modes</span></h3>
<p><span class="koboSpan" id="kobo.619.1">Additional form</span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.620.1"> display modes can be added by visiting </span><strong class="bold"><span class="koboSpan" id="kobo.621.1">Structure</span></strong><span class="koboSpan" id="kobo.622.1"> and then </span><strong class="bold"><span class="koboSpan" id="kobo.623.1">Display Modes</span></strong><span class="koboSpan" id="kobo.624.1"> under </span><strong class="bold"><span class="koboSpan" id="kobo.625.1">View Modes</span></strong><span class="koboSpan" id="kobo.626.1">. </span><span class="koboSpan" id="kobo.626.2">Each content entity type has a hidden default view mode that always exists. </span><span class="koboSpan" id="kobo.626.3">Additional view display modes can be added and configured using the display </span><span class="No-Break"><span class="koboSpan" id="kobo.627.1">management form.</span></span></p>
<p><span class="koboSpan" id="kobo.628.1">These view modes can then be leveraged when displaying content with views, the Rendered entity field formatter for entity references, or when rendering entities with </span><span class="No-Break"><span class="koboSpan" id="kobo.629.1">custom code.</span></span></p>
<h1 id="_idParaDest-82"><a id="_idTextAnchor083"/><span class="koboSpan" id="kobo.630.1">Using layouts to build landing pages</span></h1>
<p><span class="koboSpan" id="kobo.631.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.632.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.633.1"> module</span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.634.1"> allows content creators to use a drag-and-drop interface to customize how content is displayed on a page. </span><span class="koboSpan" id="kobo.634.2">Unlike using field</span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.635.1"> formatters in view display modes, this does </span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.636.1">not require a developer and can be customized for individual pieces of content. </span><span class="koboSpan" id="kobo.636.2">With </span><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.638.1">, content creators select from different layouts available in the system and place blocks in them to build the page’s content. </span><span class="koboSpan" id="kobo.638.2">In this recipe, we will walk through installing </span><strong class="source-inline"><span class="koboSpan" id="kobo.639.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.640.1"> and setting up the layout for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.641.1">Article</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.642.1">content type.</span></span></p>
<h2 id="_idParaDest-83"><a id="_idTextAnchor084"/><span class="koboSpan" id="kobo.643.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.644.1">In this recipe, we will be using the standard installation, which provides the </span><strong class="source-inline"><span class="koboSpan" id="kobo.645.1">Article</span></strong><span class="koboSpan" id="kobo.646.1"> content type. </span><span class="koboSpan" id="kobo.646.2">Any content type </span><span class="No-Break"><span class="koboSpan" id="kobo.647.1">will suffice.</span></span></p>
<h2 id="_idParaDest-84"><a id="_idTextAnchor085"/><span class="koboSpan" id="kobo.648.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.649.1">Begin by installing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.650.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.651.1"> module and its dependent module, </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.652.1">Layout Discovery</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.653.1">:</span></span><pre class="console"><span class="koboSpan" id="kobo.654.1">
php vendor/bin/drush en layout_builder –yes</span></pre></li>
<li><span class="koboSpan" id="kobo.655.1">We must opt into using </span><strong class="source-inline"><span class="koboSpan" id="kobo.656.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.657.1"> for the display mode of our content type. </span><span class="koboSpan" id="kobo.657.2">Visit </span><strong class="bold"><span class="koboSpan" id="kobo.658.1">Structure</span></strong><span class="koboSpan" id="kobo.659.1"> and then </span><strong class="bold"><span class="koboSpan" id="kobo.660.1">Content Types</span></strong><span class="koboSpan" id="kobo.661.1"> and use the drop button for </span><strong class="bold"><span class="koboSpan" id="kobo.662.1">Article</span></strong><span class="koboSpan" id="kobo.663.1"> to click </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.664.1">Manage Display</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.666.1">Find the section labeled </span><strong class="bold"><span class="koboSpan" id="kobo.667.1">Layout options</span></strong><span class="koboSpan" id="kobo.668.1"> and check the </span><strong class="bold"><span class="koboSpan" id="kobo.669.1">Use Layout </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.670.1">Builder</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.671.1"> checkbox.</span></span></li>
<li><span class="koboSpan" id="kobo.672.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.673.1">Save</span></strong><span class="koboSpan" id="kobo.674.1"> to enable </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.675.1">Layout Builder</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.677.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.678.1">Manage Display</span></strong><span class="koboSpan" id="kobo.679.1"> form should now show a </span><strong class="bold"><span class="koboSpan" id="kobo.680.1">Manage </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.681.1">layout</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.682.1"> button.</span></span></li>
<li><span class="koboSpan" id="kobo.683.1">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.684.1">Manage layout</span></strong><span class="koboSpan" id="kobo.685.1"> button to enter the </span><strong class="source-inline"><span class="koboSpan" id="kobo.686.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.687.1"> user interface to customize the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.688.1">Article</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.689.1"> layout.</span></span></li>
<li><span class="koboSpan" id="kobo.690.1">By default, the </span><strong class="bold"><span class="koboSpan" id="kobo.691.1">Show content preview</span></strong><span class="koboSpan" id="kobo.692.1"> checkbox is tur</span><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.693.1">ned on. </span><span class="koboSpan" id="kobo.693.2">Uncheck this checkbox to turn off the generated sample </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">preview content.</span></span></li>
<li><span class="koboSpan" id="kobo.695.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.696.1">Add section</span></strong><span class="koboSpan" id="kobo.697.1"> to create a new section and select </span><strong class="bold"><span class="koboSpan" id="kobo.698.1">Two </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.699.1">column layout</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.700.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.701.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.702.1">33%/67%</span></strong><span class="koboSpan" id="kobo.703.1"> for the </span><strong class="bold"><span class="koboSpan" id="kobo.704.1">Column</span></strong><span class="koboSpan" id="kobo.705.1"> width and click </span><strong class="bold"><span class="koboSpan" id="kobo.706.1">Add section</span></strong><span class="koboSpan" id="kobo.707.1">, leaving the administrative </span><span class="No-Break"><span class="koboSpan" id="kobo.708.1">label empty.</span></span></li>
<li><span class="koboSpan" id="kobo.709.1">Now that </span><a id="_idIndexMarker113"/><span class="koboSpan" id="kobo.710.1">we have added our two-column</span><a id="_idIndexMarker114"/><span class="koboSpan" id="kobo.711.1"> section, we can move fields into those layout parts. </span><span class="koboSpan" id="kobo.711.2">Drag the </span><strong class="bold"><span class="koboSpan" id="kobo.712.1">Image</span></strong><span class="koboSpan" id="kobo.713.1"> field to the left part and the </span><strong class="bold"><span class="koboSpan" id="kobo.714.1">Body</span></strong><span class="koboSpan" id="kobo.715.1"> field to the right part of the </span><span class="No-Break"><span class="koboSpan" id="kobo.716.1">new section.</span></span></li>
<li><span class="koboSpan" id="kobo.717.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.718.1">Save</span></strong><span class="koboSpan" id="kobo.719.1"> layout to save </span><span class="No-Break"><span class="koboSpan" id="kobo.720.1">the changes.</span></span></li>
<li><span class="koboSpan" id="kobo.721.1">Without using </span><a id="_idIndexMarker115"/><span class="koboSpan" id="kobo.722.1">code, we have now created a layout for Articles that places the image in a sidebar next to the </span><span class="No-Break"><span class="koboSpan" id="kobo.723.1">article content.</span></span></li>
</ol>
<h2 id="_idParaDest-85"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.724.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.725.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.727.1"> module provides an alternative render system for entity types. </span><span class="koboSpan" id="kobo.727.2">Using </span><strong class="source-inline"><span class="koboSpan" id="kobo.728.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.729.1"> is an opt-in process for each display mode of a content entity type. </span><span class="koboSpan" id="kobo.729.2">If the entity type’s display mode is not managed by </span><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.731.1">, it falls back to the regular render system using </span><span class="No-Break"><span class="koboSpan" id="kobo.732.1">field formatters.</span></span></p>
<p><span class="koboSpan" id="kobo.733.1">Layouts are provided by layout plugins, which have matching Twig templates. </span><span class="koboSpan" id="kobo.733.2">Modules and themes can define new templates that can be used. </span><strong class="source-inline"><span class="koboSpan" id="kobo.734.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.735.1"> leverages blocks to display content. </span><span class="koboSpan" id="kobo.735.2">The kinds of blocks available to be embedded in </span><strong class="source-inline"><span class="koboSpan" id="kobo.736.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.737.1"> are based on blocks available to </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">the system.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.739.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.740.1"> also exposes each field on the content entity as a block, allowing you to place each field in a </span><span class="No-Break"><span class="koboSpan" id="kobo.741.1">different section.</span></span></p>
<p><span class="koboSpan" id="kobo.742.1">Like custom </span><a id="_idIndexMarker116"/><span class="koboSpan" id="kobo.743.1">nodes or other entity templates, if you </span><a id="_idIndexMarker117"/><span class="koboSpan" id="kobo.744.1">make changes to the layout plugin or nested elements without updating the corresponding Twig templates for the layout, you may see things render incorrectly. </span><span class="koboSpan" id="kobo.744.2">Be sure to review the Twig template accordingly when making </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">such changes.</span></span></p>
<h2 id="_idParaDest-86"><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.746.1">There’s more…</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.747.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.748.1"> was an exciting addition to Drupal when it first arrived and has many more features and</span><a id="_idIndexMarker118"/><span class="koboSpan" id="kobo.749.1"> customizations far beyond what was covered in </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">this recipe.</span></span></p>
<h3><span class="koboSpan" id="kobo.751.1">Accessible</span></h3>
<p><span class="koboSpan" id="kobo.752.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.754.1"> user interface went through rigorous accessibility</span><a id="_idIndexMarker119"/><span class="koboSpan" id="kobo.755.1"> testing. </span><span class="koboSpan" id="kobo.755.2">The entire </span><strong class="source-inline"><span class="koboSpan" id="kobo.756.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.757.1"> user interface can be navigated using a keyboard or other </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">accessibility devices.</span></span></p>
<h3><span class="koboSpan" id="kobo.759.1">Custom layouts for each piece of content</span></h3>
<p><span class="koboSpan" id="kobo.760.1">When configuring the</span><a id="_idIndexMarker120"/><span class="koboSpan" id="kobo.761.1"> layout options, the </span><strong class="bold"><span class="koboSpan" id="kobo.762.1">Allow each content item to have its layout customized</span></strong><span class="koboSpan" id="kobo.763.1"> option allows content editors to override the default layout for their content. </span><span class="koboSpan" id="kobo.763.2">When a piece of content is created, it will use the default layout. </span><span class="koboSpan" id="kobo.763.3">Content editors will see a </span><strong class="bold"><span class="koboSpan" id="kobo.764.1">Layout</span></strong><span class="koboSpan" id="kobo.765.1"> tab that allows them to customize the display of their content in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.766.1">Layout Builder</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.767.1">user interface.</span></span></p>
<p><span class="koboSpan" id="kobo.768.1">The layout override is also stored in field data attached to the content entity, making it tracked with revisions! </span><span class="koboSpan" id="kobo.768.2">That means new drafts can be created for a piece of content with layout changes and they can be published through </span><strong class="source-inline"><span class="koboSpan" id="kobo.769.1">Content </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.770.1">Moderation</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.771.1"> workflows.</span></span></p>
<h3><span class="koboSpan" id="kobo.772.1">Additional modules to extend Layout Builder</span></h3>
<p><span class="koboSpan" id="kobo.773.1">There are a </span><a id="_idIndexMarker121"/><span class="koboSpan" id="kobo.774.1">copious number of modules that extend </span><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.776.1"> to customize its experience and provide default layouts. </span><span class="koboSpan" id="kobo.776.2">For instance, if you use the Bootstrap front-end framework, the </span><strong class="bold"><span class="koboSpan" id="kobo.777.1">Bootstrap Layout Builder</span></strong><span class="koboSpan" id="kobo.778.1"> (</span><a href="https://www.drupal.org/project/bootstrap_layout_builder"><span class="koboSpan" id="kobo.779.1">https://www.drupal.org/project/bootstrap_layout_builder</span></a><span class="koboSpan" id="kobo.780.1">) module</span><a id="_idIndexMarker122"/><span class="koboSpan" id="kobo.781.1"> provides a user interface for building layouts that use </span><span class="No-Break"><span class="koboSpan" id="kobo.782.1">Bootstrap’s styling.</span></span></p>
<p><span class="koboSpan" id="kobo.783.1">A list of modules that extend </span><strong class="source-inline"><span class="koboSpan" id="kobo.784.1">Layout Builder</span></strong><span class="koboSpan" id="kobo.785.1"> can be found on </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.786.1">Drupal.org</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">: </span></span><a href="https://www.drupal.org/docs/8/core/modules/layout-builder/additional-modules"><span class="No-Break"><span class="koboSpan" id="kobo.788.1">https://www.drupal.org/docs/8/core/modules/layout-builder/additional-modules</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.789.1">.</span></span></p>
<h2 id="_idParaDest-87"><a id="_idTextAnchor089"/><span class="koboSpan" id="kobo.790.1">See also</span></h2>
<ul>
<li><span class="koboSpan" id="kobo.791.1">Layout Builder module documentation on </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.792.1">Drupal.org</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.793.1">: </span></span><a href="https://www.drupal.org/docs/8/core/modules/layout-builder"><span class="No-Break"><span class="koboSpan" id="kobo.794.1">https://www.drupal.org/docs/8/core/modules/layout-builder</span></span></a></li>
</ul>
<h1 id="_idParaDest-88"><a id="_idTextAnchor090"/><span class="koboSpan" id="kobo.795.1">Creating menus and linking content</span></h1>
<p><span class="koboSpan" id="kobo.796.1">Drupal allows you to link</span><a id="_idIndexMarker123"/><span class="koboSpan" id="kobo.797.1"> content being authored to a specified menu on the website, generally</span><a id="_idIndexMarker124"/><span class="koboSpan" id="kobo.798.1"> the main menu. </span><span class="koboSpan" id="kobo.798.2">You can, however, create a custom menu to provide links to content. </span><span class="koboSpan" id="kobo.798.3">In this recipe, we will show you how to create a custom menu and link content to it. </span><span class="koboSpan" id="kobo.798.4">We will then place the menu as a block on the page, in </span><span class="No-Break"><span class="koboSpan" id="kobo.799.1">the sidebar.</span></span></p>
<h2 id="_idParaDest-89"><a id="_idTextAnchor091"/><span class="koboSpan" id="kobo.800.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.801.1">This recipe assumes that you have installed the standard installation profile and have the default node content types available for use. </span><span class="koboSpan" id="kobo.801.2">You should have some content created to create </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">a link.</span></span></p>
<h2 id="_idParaDest-90"><a id="_idTextAnchor092"/><span class="koboSpan" id="kobo.803.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.804.1">Visit </span><strong class="bold"><span class="koboSpan" id="kobo.805.1">Structure</span></strong><span class="koboSpan" id="kobo.806.1"> and click </span><span class="No-Break"><span class="koboSpan" id="kobo.807.1">on </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.808.1">Menus</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.809.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.810.1">Click on </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.811.1">Add menu</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.812.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.813.1">Provide a title of </span><strong class="bold"><span class="koboSpan" id="kobo.814.1">Sidebar menu</span></strong><span class="koboSpan" id="kobo.815.1"> and an optional summary and then click </span><span class="No-Break"><span class="koboSpan" id="kobo.816.1">on </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.817.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.818.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.819.1">Once the menu has been saved, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.820.1">Add </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.821.1">link</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.822.1"> button.</span></span></li>
<li><span class="koboSpan" id="kobo.823.1">Enter a link title and then type in the title for a piece of content. </span><span class="koboSpan" id="kobo.823.2">The form will provide autocomplete suggestions for </span><span class="No-Break"><span class="koboSpan" id="kobo.824.1">linkable content.</span></span></li>
<li><span class="koboSpan" id="kobo.825.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.826.1">Save</span></strong><span class="koboSpan" id="kobo.827.1"> to save the </span><span class="No-Break"><span class="koboSpan" id="kobo.828.1">menu link.</span></span></li>
<li><span class="koboSpan" id="kobo.829.1">With the menu link saved, go to </span><strong class="bold"><span class="koboSpan" id="kobo.830.1">Structure</span></strong><span class="koboSpan" id="kobo.831.1">, and then </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.832.1">Block layout</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.833.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.834.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.835.1">Place block next to Sidebar first</span></strong><span class="koboSpan" id="kobo.836.1">. </span><span class="koboSpan" id="kobo.836.2">In the model, search for </span><strong class="source-inline"><span class="koboSpan" id="kobo.837.1">Sidebar menu</span></strong><span class="koboSpan" id="kobo.838.1"> and click on </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.839.1">Place block</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.840.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.841.1">In the following form, click on </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.842.1">Save block</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.843.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.844.1">View your </span><a id="_idIndexMarker125"/><span class="koboSpan" id="kobo.845.1">Drupal site </span><a id="_idIndexMarker126"/><span class="koboSpan" id="kobo.846.1">by clicking on </span><strong class="bold"><span class="koboSpan" id="kobo.847.1">Home</span></strong><span class="koboSpan" id="kobo.848.1"> in the </span><span class="No-Break"><span class="koboSpan" id="kobo.849.1">administration menu.</span></span></li>
</ol>
<h2 id="_idParaDest-91"><a id="_idTextAnchor093"/><span class="koboSpan" id="kobo.850.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.851.1">Menus and links are part of Drupal core. </span><span class="koboSpan" id="kobo.851.2">The ability to make custom menus and menu links is provided through the </span><strong class="source-inline"><span class="koboSpan" id="kobo.852.1">Menu UI</span></strong><span class="koboSpan" id="kobo.853.1"> module. </span><span class="koboSpan" id="kobo.853.2">This module is enabled on the standard installation but may not be </span><span class="No-Break"><span class="koboSpan" id="kobo.854.1">in others.</span></span></p>
<p><span class="koboSpan" id="kobo.855.1">The Link input of the menu link form allows you to begin typing content titles and easily link them to existing content. </span><span class="koboSpan" id="kobo.855.2">It will automatically convert the title into the internal path for you. </span><span class="koboSpan" id="kobo.855.3">Link input</span><a id="_idIndexMarker127"/><span class="koboSpan" id="kobo.856.1"> also accepts a regular path, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.857.1">/node/1</span></strong><span class="koboSpan" id="kobo.858.1"> or an external path. </span><span class="koboSpan" id="kobo.858.2">You </span><a id="_idIndexMarker128"/><span class="koboSpan" id="kobo.859.1">may use </span><strong class="source-inline"><span class="koboSpan" id="kobo.860.1">&lt;front&gt;</span></strong><span class="koboSpan" id="kobo.861.1"> to link to the home page, </span><strong class="source-inline"><span class="koboSpan" id="kobo.862.1">&lt;nolink&gt;</span></strong><span class="koboSpan" id="kobo.863.1"> to render a non-linked anchor tag, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.864.1">&lt;button&gt;</span></strong><span class="koboSpan" id="kobo.865.1"> for a keyboard-accessible </span><span class="No-Break"><span class="koboSpan" id="kobo.866.1">text-only link.</span></span></p>
<h2 id="_idParaDest-92"><a id="_idTextAnchor094"/><span class="koboSpan" id="kobo.867.1">There’s more…</span></h2>
<p><span class="koboSpan" id="kobo.868.1">Links can be managed through the content edit form itself, which will be </span><span class="No-Break"><span class="koboSpan" id="kobo.869.1">covered next.</span></span></p>
<h3><span class="koboSpan" id="kobo.870.1">Managing a contents menu link from its form</span></h3>
<p><span class="koboSpan" id="kobo.871.1">A </span><a id="_idIndexMarker129"/><span class="koboSpan" id="kobo.872.1">piece of content can be added to a menu from the </span><a id="_idIndexMarker130"/><span class="koboSpan" id="kobo.873.1">add or edit form. </span><span class="koboSpan" id="kobo.873.2">The menu settings section allows you to toggle the availability of a menu link. </span><span class="koboSpan" id="kobo.873.3">The menu link title will reflect the content’s title </span><span class="No-Break"><span class="koboSpan" id="kobo.874.1">by default.</span></span></p>
<p><span class="koboSpan" id="kobo.875.1">The parent item allows you to decide which menu and which item it will appear under. </span><span class="koboSpan" id="kobo.875.2">By default, content types only have the main menu allowed. </span><span class="koboSpan" id="kobo.875.3">Editing a content type can allow for multiple menus or only choosing a </span><span class="No-Break"><span class="koboSpan" id="kobo.876.1">custom menu.</span></span></p>
<p><span class="koboSpan" id="kobo.877.1">This allows you to populate the main menu or complimentary menu without having to visit the menu </span><span class="No-Break"><span class="koboSpan" id="kobo.878.1">management screens.</span></span></p>
<h1 id="_idParaDest-93"><a id="_idTextAnchor095"/><span class="koboSpan" id="kobo.879.1">Using Workspaces to create content staging areas</span></h1>
<p><span class="koboSpan" id="kobo.880.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.881.1">Workspaces</span></strong><span class="koboSpan" id="kobo.882.1"> module</span><a id="_idIndexMarker131"/><span class="koboSpan" id="kobo.883.1"> provides a new way of working with </span><a id="_idIndexMarker132"/><span class="koboSpan" id="kobo.884.1">content on your Drupal site. </span><span class="koboSpan" id="kobo.884.2">It allows you to have a live version of your site’s content and parallel draft versions. </span><span class="koboSpan" id="kobo.884.3">Normal content workflows involve multiple pieces of content that may be drafted and published at various times. </span><span class="koboSpan" id="kobo.884.4">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.885.1">Workspaces</span></strong><span class="koboSpan" id="kobo.886.1"> module provides a way to create and prepare published drafts that release at the </span><span class="No-Break"><span class="koboSpan" id="kobo.887.1">same time.</span></span></p>
<p><span class="koboSpan" id="kobo.888.1">For example, during a big sporting event, articles are prepared based on whichever team wins. </span><span class="koboSpan" id="kobo.888.2">Once the winner is announced, that version of the site’s content can be published. </span><span class="koboSpan" id="kobo.888.3">In this recipe, we will install the </span><strong class="source-inline"><span class="koboSpan" id="kobo.889.1">Workspaces</span></strong><span class="koboSpan" id="kobo.890.1"> module and walk through using </span><span class="No-Break"><span class="koboSpan" id="kobo.891.1">site versions.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.892.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.893.1">At the time of writing, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.894.1">Workspaces</span></strong><span class="koboSpan" id="kobo.895.1"> module is an </span><strong class="source-inline"><span class="koboSpan" id="kobo.896.1">Experimental</span></strong><span class="koboSpan" id="kobo.897.1"> module. </span><span class="koboSpan" id="kobo.897.2">Modules that are marked as experimental are under active development and not considered stable. </span><span class="koboSpan" id="kobo.897.3">Experimental modules provide a way of adding new functionality to Drupal core more easily. </span><span class="koboSpan" id="kobo.897.4">You can read more about the experimental module policy</span><a id="_idIndexMarker133"/><span class="koboSpan" id="kobo.898.1"> on </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.899.1">Drupal.org</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.900.1">: </span></span><a href="https://www.drupal.org/about/core/policies/core-change-policies/experimental/policy-and-list"><span class="No-Break"><span class="koboSpan" id="kobo.901.1">https://www.drupal.org/about/core/policies/core-change-policies/experimental/policy-and-list</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.902.1">.</span></span></p>
<h2 id="_idParaDest-94"><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.903.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.904.1">In this recipe, we will be using the Standard installation, which provides the </span><strong class="source-inline"><span class="koboSpan" id="kobo.905.1">Basic Page</span></strong><span class="koboSpan" id="kobo.906.1"> content type. </span><span class="koboSpan" id="kobo.906.2">Any content type </span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">will suffice.</span></span></p>
<h2 id="_idParaDest-95"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.908.1">How to do it…</span></h2>
<ol>
<li value="1"><span class="koboSpan" id="kobo.909.1">Begin </span><a id="_idIndexMarker134"/><span class="koboSpan" id="kobo.910.1">by installing the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.911.1">Workspaces</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.912.1"> module:</span></span><pre class="console"><span class="koboSpan" id="kobo.913.1">
php vendor/bin/drush en workspaces --yes</span></pre></li>
<li><span class="koboSpan" id="kobo.914.1">Visit your Drupal </span><a id="_idIndexMarker135"/><span class="koboSpan" id="kobo.915.1">site; you will notice the </span><strong class="bold"><span class="koboSpan" id="kobo.916.1">Live</span></strong><span class="koboSpan" id="kobo.917.1"> tab on the right of the toolbar; this is the current </span><span class="No-Break"><span class="koboSpan" id="kobo.918.1">workspace identifier.</span></span></li>
<li><span class="koboSpan" id="kobo.919.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.920.1">Live</span></strong><span class="koboSpan" id="kobo.921.1"> to open the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.922.1">Workspaces</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.923.1"> menu.</span></span></li>
<li><span class="koboSpan" id="kobo.924.1">Click on the Stage workspace’s name and then click </span><strong class="bold"><span class="koboSpan" id="kobo.925.1">Confirm</span></strong><span class="koboSpan" id="kobo.926.1"> in the modal asking if we would like to activate and switch to the </span><span class="No-Break"><span class="koboSpan" id="kobo.927.1">Stage workspace.</span></span></li>
<li><span class="koboSpan" id="kobo.928.1">Create three or four new basic pages while using the Stage workspace and be sure to check </span><strong class="bold"><span class="koboSpan" id="kobo.929.1">Promoted to front page</span></strong><span class="koboSpan" id="kobo.930.1"> in the </span><strong class="bold"><span class="koboSpan" id="kobo.931.1">Promotion </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.932.1">options</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.933.1"> group.</span></span></li>
<li><span class="koboSpan" id="kobo.934.1">When you visit the front page of your Drupal site, you should see the pages you created in the front </span><span class="No-Break"><span class="koboSpan" id="kobo.935.1">page list.</span></span></li>
<li><span class="koboSpan" id="kobo.936.1">Now, open your Drupal site in another browser, or private mode, where you are not logged in. </span><span class="koboSpan" id="kobo.936.2">You will see that the home page shows </span><strong class="bold"><span class="koboSpan" id="kobo.937.1">No front-page content has been created yet.</span></strong><span class="koboSpan" id="kobo.938.1"> This shows that the content is only published in the Stage workspace, not the </span><span class="No-Break"><span class="koboSpan" id="kobo.939.1">live site.</span></span></li>
<li><span class="koboSpan" id="kobo.940.1">Back in your Drupal site, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.941.1">Stage</span></strong><span class="koboSpan" id="kobo.942.1"> tab in your toolbar to open the </span><span class="No-Break"><span class="koboSpan" id="kobo.943.1">workspace menu.</span></span></li>
<li><span class="koboSpan" id="kobo.944.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.945.1">Publish content</span></strong><span class="koboSpan" id="kobo.946.1"> to begin publishing your Stage content into the </span><span class="No-Break"><span class="koboSpan" id="kobo.947.1">Live site.</span></span></li>
<li><span class="koboSpan" id="kobo.948.1">A confirmation form will appear. </span><span class="koboSpan" id="kobo.948.2">Click </span><strong class="bold"><span class="koboSpan" id="kobo.949.1">Publish items to Live</span></strong><span class="koboSpan" id="kobo.950.1"> to finish </span><span class="No-Break"><span class="koboSpan" id="kobo.951.1">the process.</span></span></li>
<li><span class="koboSpan" id="kobo.952.1">If you test your site in another browser, or private mode, again, you will see the home page now lists all your </span><span class="No-Break"><span class="koboSpan" id="kobo.953.1">new pages!</span></span></li>
</ol>
<h2 id="_idParaDest-96"><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.954.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.955.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.956.1">Workspace</span></strong><span class="koboSpan" id="kobo.957.1"> module uses the existing revision capabilities of content entities. </span><span class="koboSpan" id="kobo.957.2">Revisions are then tracked against a workspace until they are published to the Live workspace. </span><span class="koboSpan" id="kobo.957.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.958.1">Workspace</span></strong><span class="koboSpan" id="kobo.959.1"> module also adds safeguards. </span><span class="koboSpan" id="kobo.959.2">Forms that manipulate site configuration cannot be saved unless in the Live workspace; the module displays a warning and disables the </span><strong class="bold"><span class="koboSpan" id="kobo.960.1">Submit</span></strong><span class="koboSpan" id="kobo.961.1"> button. </span><span class="koboSpan" id="kobo.961.2">When using multiple workspaces, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.962.1">Workspace</span></strong><span class="koboSpan" id="kobo.963.1"> module only allows a piece of content to be edited in </span><span class="No-Break"><span class="koboSpan" id="kobo.964.1">one workspace.</span></span></p>
<p><span class="koboSpan" id="kobo.965.1">Workspaces also</span><a id="_idIndexMarker136"/><span class="koboSpan" id="kobo.966.1"> have a user account associated with them. </span><span class="koboSpan" id="kobo.966.2">This</span><a id="_idIndexMarker137"/><span class="koboSpan" id="kobo.967.1"> allows segmented workspaces for specific users. </span><span class="koboSpan" id="kobo.967.2">This allows content creators to create a new workspace, but not view or modify another content </span><span class="No-Break"><span class="koboSpan" id="kobo.968.1">creator’s workspace.</span></span></p>
<h2 id="_idParaDest-97"><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.969.1">There’s more…</span></h2>
<p><span class="koboSpan" id="kobo.970.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.971.1">Workspaces</span></strong><span class="koboSpan" id="kobo.972.1"> module provides other user interfaces not covered in this recipe, and there is another way to use a workspace beyond </span><span class="No-Break"><span class="koboSpan" id="kobo.973.1">just content.</span></span></p>
<h3><span class="koboSpan" id="kobo.974.1">When will Workspaces become a stable module?</span></h3>
<p><span class="koboSpan" id="kobo.975.1">Effort is</span><a id="_idIndexMarker138"/><span class="koboSpan" id="kobo.976.1"> being made to make the </span><strong class="source-inline"><span class="koboSpan" id="kobo.977.1">Workspaces</span></strong><span class="koboSpan" id="kobo.978.1"> module stable. </span><span class="koboSpan" id="kobo.978.2">These issues are tagged in the Drupal core issue queue as </span><strong class="bold"><span class="koboSpan" id="kobo.979.1">WI critical</span></strong><span class="koboSpan" id="kobo.980.1"> (short for </span><strong class="bold"><span class="koboSpan" id="kobo.981.1">Workflow Initiative Critical</span></strong><span class="koboSpan" id="kobo.982.1">). </span><span class="koboSpan" id="kobo.982.2">The list of issues can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.983.1">here: </span></span><a href="https://www.drupal.org/project/issues/search/drupal?status%5B%5D=Open&amp;issue_tags_op=%3D&amp;issue_tags=WI+critical"><span class="No-Break"><span class="koboSpan" id="kobo.984.1">https://www.drupal.org/project/issues/search/drupal?status%5B%5D=Open&amp;issue_tags_op=%3D&amp;issue_tags=WI+critical</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.985.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.986.1">Managing content changes in a workspace</span></h3>
<p><span class="koboSpan" id="kobo.987.1">When the workspace </span><a id="_idIndexMarker139"/><span class="koboSpan" id="kobo.988.1">menu is open in the toolbar, you can click the </span><strong class="bold"><span class="koboSpan" id="kobo.989.1">Manage workspace</span></strong><span class="koboSpan" id="kobo.990.1"> link to see all of the active changes in the workspace. </span><span class="koboSpan" id="kobo.990.2">This makes it easier for a content manager to review what content has been modified in a workspace. </span><span class="koboSpan" id="kobo.990.3">It also allows for deleting those changes to revert to the </span><span class="No-Break"><span class="koboSpan" id="kobo.991.1">original content.</span></span></p>
<p><span class="koboSpan" id="kobo.992.1">This overview is useful for</span><a id="_idIndexMarker140"/><span class="koboSpan" id="kobo.993.1"> reviewing all the changes that may be published to the </span><span class="No-Break"><span class="koboSpan" id="kobo.994.1">Live workspace.</span></span></p>
<h3><span class="koboSpan" id="kobo.995.1">Creating child workspaces</span></h3>
<p><span class="koboSpan" id="kobo.996.1">A workspace </span><a id="_idIndexMarker141"/><span class="koboSpan" id="kobo.997.1">may also have a parent workspace. </span><span class="koboSpan" id="kobo.997.2">This allows you to maintain a centralized Stage workspace but forces content creators to have their child workspace under Stage. </span><span class="koboSpan" id="kobo.997.3">All content modifications can then merge into Stage instead of each contributor’s workspace publishing </span><span class="No-Break"><span class="koboSpan" id="kobo.998.1">to Live.</span></span></p>
<h3><span class="koboSpan" id="kobo.999.1">Using a workspace to test a new site redesign</span></h3>
<p><span class="koboSpan" id="kobo.1000.1">Drupal has a </span><a id="_idIndexMarker142"/><span class="koboSpan" id="kobo.1001.1">mechanism for determining the active theme, which, by default, is the default theme. </span><span class="koboSpan" id="kobo.1001.2">Code can be written to override the current theme based on specific </span><a id="_idIndexMarker143"/><span class="koboSpan" id="kobo.1002.1">conditions. </span><span class="koboSpan" id="kobo.1002.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1003.1">Workspace Theme</span></strong><span class="koboSpan" id="kobo.1004.1"> module (</span><a href="https://www.drupal.org/project/workspace_theme"><span class="koboSpan" id="kobo.1005.1">https://www.drupal.org/project/workspace_theme</span></a><span class="koboSpan" id="kobo.1006.1">) does </span><span class="No-Break"><span class="koboSpan" id="kobo.1007.1">just that.</span></span></p>
<p><span class="koboSpan" id="kobo.1008.1">It adds a new field to a workspace that allows you to specify a different theme to be used when that workspace is active. </span><span class="koboSpan" id="kobo.1008.2">This allows you to preview a site’s redesign with a new theme without making it the default theme on the production site, or purely relying on a </span><span class="No-Break"><span class="koboSpan" id="kobo.1009.1">test server.</span></span></p>
<h2 id="_idParaDest-98"><a id="_idTextAnchor100"/><span class="koboSpan" id="kobo.1010.1">See also</span></h2>
<ul>
<li><span class="koboSpan" id="kobo.1011.1">The Workspaces module documentation on </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1012.1">Drupal.org</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1013.1">: </span></span><a href="https://www.drupal.org/docs/8/core/modules/workspace/"><span class="No-Break"><span class="koboSpan" id="kobo.1014.1">https://www.drupal.org/docs/8/core/modules/workspace/</span></span></a></li>
</ul>
</div>
</body></html>
<html><head></head><body><div class="chapter" title="Chapter&#xA0;8.&#xA0;Cooking XML with OOP"><div class="titlepage"><div><div><h1 class="title"><a id="ch08"/>Chapter 8. Cooking XML with OOP</h1></div></div></div><a id="id367" class="indexterm"/><p>
<span class="strong"><strong>XML</strong></span> (<span class="strong"><strong>Extensible</strong></span> <span class="strong"><strong>Markup</strong></span> <span class="strong"><strong>Language</strong></span>) is a very important format for storing multi‑purpose data. It is also known as universal data format, as you can represent anything and visualize the data properly with the help of a renderer. One of the biggest advantages of XML is that it can be converted from one form of data into another easily with the help of XSLT. Also, XML data is highly readable.<a id="id368" class="indexterm"/> </p><a id="id369" class="indexterm"/><p>One of the great blessings of PHP5 is its excellent support to manipulate XML. PHP5 comes bundled with new XML extensions for processing XML easily. You have a whole new <span class="strong"><strong>SimpleXML</strong></span> API to read XML documents in a pure object-oriented way. Also, you have the <span class="strong"><strong>DOMDocument</strong></span><a id="id370" class="indexterm"/> object to parse and create XML documents. In this chapter we will learn these APIs and learn how to successfully process XML with PHP. </p><div class="section" title="Formation of XML"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec80"/>Formation of XML</h1></div></div></div><a id="id371" class="indexterm"/><p>Let us look at the structure of a common XML document in case you are totally new to XML. If you are already familiar with XML, which we greatly recommend for this chapter, then it is not a section for you. </p><p>Let's look at the following example, which represents a set of emails: </p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;emails&gt;
  &lt;email&gt;
    &lt;from&gt;nowhere@notadomain.tld&lt;/from&gt;
    &lt;to&gt;unknown@unknown.tld&lt;/to&gt;
    &lt;subject&gt;there is no subject&lt;/subject&gt;
    &lt;body&gt;is it a body? oh ya&lt;/body&gt;
  &lt;/email&gt;
&lt;/emails&gt;</pre></div><p>So you see that XML documents do have a small declaration at the top which details the character set of the document. This is useful if you are storing Unicode texts. In XML, you must close the tags as you start it. (XML is strict than HTML, you must follow the conventions.) </p><p>Let's look at another example where there are some special symbols in the data:</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;emails&gt;
  &lt;email&gt;
    &lt;from&gt;nowhere@notadomain.tld&lt;/from&gt;
    &lt;to&gt;unknown@unknown.tld&lt;/to&gt;
    &lt;subject&gt;there is no subject&lt;/subject&gt;
    &lt;body&gt;&lt;![CDATA[is it a body? oh ya, with some texts 
                                       &amp; symbols]]&gt;&lt;/body&gt;
  &lt;/email&gt;
&lt;/emails&gt;</pre></div><a id="id372" class="indexterm"/><p>This means you have to enclose all the strings containing special characters with <code class="literal">CDATA</code>. </p><p>Again, each entity may have some attributes with it. For example consider the following XML where we describe the properties of a student: </p><div class="informalexample"><pre class="programlisting">&lt;student age= "17" class= "11" title= "Mr."&gt;Ozniak&lt;/student&gt; </pre></div><p>In the above example, there are three attributes to this <code class="literal">student</code> tag—<code class="literal">age</code>, <code class="literal">class</code>, and <code class="literal">title</code>. Using PHP we can easily manipulate them too. In the coming sections we will learn how to parse XML documents, or how to create XML documents on the fly. </p></div></div>
<div class="section" title="Introduction to SimpleXML"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec81"/>Introduction to SimpleXML</h1></div></div></div><a id="id373" class="indexterm"/><a id="id374" class="indexterm"/><p>In PHP4 there were two ways to parse XML documents, and these are also available in PHP5. One is parsing documents via SAX (which is a standard) and another one is DOM. But it takes quite a long time to parse XML documents using SAX and it also needs quite a long time for you to write the code. </p><p>In PHP5 a new API has been introduced to easily parse XML documents. This was named SimpleXML API. Using SimpleXML API you can turn your XML documents into an array. Each node will be converted to an accessible form for easy parsing. </p><div class="section" title="Parsing Documents"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec39"/>Parsing Documents</h2></div></div></div><a id="id375" class="indexterm"/><p>In this section we will learn how to parse basic XML documents using SimpleXML. Let's take a breath and start.</p><div class="informalexample"><pre class="programlisting">&lt;?
$str = &lt;&lt;&lt; END
&lt;emails&gt;
  &lt;email&gt;
    &lt;from&gt;nowhere@notadomain.tld&lt;/from&gt;
    &lt;to&gt;unknown@unknown.tld&lt;/to&gt;
    &lt;subject&gt;there is no subject&lt;/subject&gt;
    &lt;body&gt;&lt;![CDATA[is it a body? oh ya, with some texts &amp; 
                                          symbols]]&gt;&lt;/body&gt;
  &lt;/email&gt;
&lt;/emails&gt;
END;
$sxml = simplexml_load_string($str);
print_r($sxml);
?&gt;</pre></div><p>The output is like this: </p><div class="informalexample"><pre class="programlisting">SimpleXMLElement Object
(
    [email] =&gt; SimpleXMLElement Object
        (
            [from] =&gt; nowhere@notadomain.tld
            [to] =&gt; unknown@unknown.tld
            [subject] =&gt; there is no subject
            [body] =&gt; SimpleXMLElement Object
                (
                )

        )

)</pre></div><a id="id376" class="indexterm"/><p>So now you can ask how to access each of these properties individually. You can access each of them like an object. For example, <code class="literal">$sxml-&gt;email[0]</code> returns the first email object. To access the <code class="literal">from</code> element under this email, you can use the following code like:</p><div class="informalexample"><pre class="programlisting">echo $sxml-&gt;email[0]-&gt;from</pre></div><p>So, each object, unless available more than once, can be accessed just by its name. Otherwise you have to access them like a collection. For example, if you have multiple elements, you can access each of them using a <code class="literal">foreach</code> loop: </p><div class="informalexample"><pre class="programlisting">foreach ($sxml-&gt;email as $email)
echo $email-&gt;from;</pre></div></div><div class="section" title="Accessing Attributes"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec40"/>Accessing Attributes</h2></div></div></div><a id="id377" class="indexterm"/><p>As we saw in the previous example, XML nodes may have attributes. Remember the example document with <code class="literal">class</code>, <code class="literal">age</code>, and <code class="literal">title</code>? Now you can easily access these attributes using SimpleXML API. Let's see the following example: </p><div class="informalexample"><pre class="programlisting">&lt;?
$str = &lt;&lt;&lt; END
&lt;emails&gt;
  &lt;email type="mime"&gt;
    &lt;from&gt;nowhere@notadomain.tld&lt;/from&gt;
    &lt;to&gt;unknown@unknown.tld&lt;/to&gt;
    &lt;subject&gt;there is no subject&lt;/subject&gt;
    &lt;body&gt;&lt;![CDATA[is it a body? oh ya, with some texts &amp; 
                                          symbols]]&gt;&lt;/body&gt;
  &lt;/email&gt;

&lt;/emails&gt;
END;
$sxml = simplexml_load_string($str);

foreach ($sxml-&gt;email as $email)
echo $email['type'];

?&gt;</pre></div><p>This will display the text <code class="literal">mime</code> in the output window. So if you look carefully, you will understand that each node is accessible like properties of an object, and all attributes are accessed like keys of an array. SimpleXML makes XML parsing really fun. </p></div><div class="section" title="Parsing Flickr Feeds using SimpleXML"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec41"/>Parsing Flickr Feeds using SimpleXML</h2></div></div></div><a id="id378" class="indexterm"/><p>How about adding some milk and sugar to your coffee? So far we have learned what SimpleXML API is and how to make use of it. It would be much better if we could see a practical example. In this example we will parse the Flickr feeds and display the pictures. Sounds cool? Let's do it. </p><p>If you are interested what the Flickr public photo feed looks like, here is the content. The feed data is collected from <a class="ulink" href="http://www.flickr.com/services/feeds/photos_public.gne">http://www.flickr.com/services/feeds/photos_public.gne</a>:</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;
&lt;feed 
       &gt;

  &lt;title&gt;Everyone's photos&lt;/title&gt;
  &lt;link rel="self" 
   href="http://www.flickr.com/services/feeds/photos_public.gne" /&gt;
  &lt;link rel="alternate" type="text/html" 
     href="http://www.flickr.com/photos/"/&gt;
  &lt;id&gt;tag:flickr.com,2005:/photos/public&lt;/id&gt;
  &lt;icon&gt;http://www.flickr.com/images/buddyicon.jpg&lt;/icon&gt;
  &lt;subtitle&gt;&lt;/subtitle&gt;
  &lt;updated&gt;2007-07-18T12:44:52Z&lt;/updated&gt;
  &lt;generator uri="http://www.flickr.com/"&gt;Flickr&lt;/generator&gt;

  &lt;entry&gt;
    &lt;title&gt;A-lounge 9.07_6&lt;/title&gt;
    &lt;link rel="alternate" type="text/html" 
       href="http://www.flickr.com/photos/dimitranova/845455130/"/&gt;
    &lt;id&gt;tag:flickr.com,2005:/photo/845455130&lt;/id&gt;
    &lt;published&gt;2007-07-18T12:44:52Z&lt;/published&gt;
    &lt;updated&gt;2007-07-18T12:44:52Z&lt;/updated&gt;
            &lt;dc:date.Taken&gt;2007-07-09T14:22:55-08:00&lt;/dc:date.Taken&gt;
    &lt;content type="html"&gt;&amp;lt;p&amp;gt;&amp;lt;a 
    href=&amp;quot;http://www.flickr.com/people/dimitranova/&amp;quot;
    &amp;gt;Dimitranova&amp;lt;/a&amp;gt; posted a photo:&amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;&amp;lt;a 
       href=&amp;quot;http://www.flickr.com/photos/dimitranova/845455130/
    &amp;quot; title=&amp;quot;A-lounge 9.07_6&amp;quot;&amp;gt;&amp;lt;img src=&amp;quot;
    http://farm2.static.flickr.com/1285/845455130_dce61d101f_m.jpg
    &amp;quot; width=&amp;quot;180&amp;quot; height=&amp;quot;240&amp;quot; alt=&amp;quot;
    A-lounge 9.07_6&amp;quot; /&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
<a id="id379" class="indexterm"/>
&lt;/content&gt;
      &lt;author&gt;
        &lt;name&gt;Dimitranova&lt;/name&gt;
        &lt;uri&gt;http://www.flickr.com/people/dimitranova/&lt;/uri&gt;
      &lt;/author&gt;
      &lt;link rel="license" type="text/html" href="deed.en-us" /&gt;
        &lt;link rel="enclosure" type="image/jpeg" 
         href="http://farm2.static.flickr.com/1285/
                                   845455130_7ef3a3415d_o.jpg" /&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
    &lt;title&gt;DSC00375&lt;/title&gt;
    &lt;link rel="alternate" type="text/html" 
     href="http://www.flickr.com/photos/53395103@N00/845454986/"/&gt;
    &lt;id&gt;tag:flickr.com,2005:/photo/845454986&lt;/id&gt;
    &lt;published&gt;2007-07-18T12:44:50Z&lt;/published&gt;
    ...
  &lt;/entry&gt;
&lt;/feed&gt;</pre></div><p>Now we will extract the description from each entry and display it. Let's have some fun:</p><div class="informalexample"><pre class="programlisting">&lt;?
$content = 
  file_get_contents(
    "http://www.flickr.com/services/feeds/photos_public.gne ");

$sx = simplexml_load_string($content);
foreach ($sx-&gt;entry as $entry)
{
  echo "&lt;a href='{$entry-&gt;link['href']}'&gt;".$entry-&gt;title."&lt;/a&gt;&lt;br/&gt;";
  echo $entry-&gt;content."&lt;br/&gt;"; 
}
?&gt;</pre></div><p>This will create the following output. See, how easy SimpleXML is? The output of the above script is shown below:<a id="id380" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/2561_08_01.jpg" alt="Parsing Flickr Feeds using SimpleXML"/></div></div><div class="section" title="Managing CDATA Sections using SimpleXML"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec42"/>Managing CDATA Sections using SimpleXML</h2></div></div></div><p>A<a id="id381" class="indexterm"/>s we said before, some symbols can't appear directly as a value of any node unless you enclose them using <code class="literal">CDATA</code> tag. For example, take a look at following example:</p><div class="informalexample"><pre class="programlisting">&lt;?
$str = &lt;&lt;&lt;EOT
&lt;data&gt;
  &lt;content&gt;text &amp; images &lt;/content&gt;

&lt;/data&gt;

EOT;
$s = simplexml_load_string($str);
?&gt;</pre></div><p>This will generate the following error: </p><div class="informalexample"><pre class="programlisting">&lt;br /&gt;
&lt;b&gt;Warning&lt;/b&gt;:  simplexml_load_string() 
     [&lt;a href='function.simplexml-load-string'&gt;
       function.simplexml-load-string&lt;/a&gt;]: 
     Entity: line 2: parser error : xmlParseEntityRef: 
     no name in &lt;b&gt;C:\OOP with PHP5\Codes\ch8\cdata.php&lt;/b&gt; 
     on line &lt;b&gt;10&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;
&lt;b&gt;Warning&lt;/b&gt;:  simplexml_load_string() 
     [&lt;a href='function.simplexml-load-string'&gt;
       function.simplexml-load-string&lt;/a&gt;]: 
     &amp;lt;content&amp;gt;text &amp;amp; images &amp;lt;/content&amp;gt; 
     in &lt;b&gt;C:\OOP with PHP5\Codes\ch8\cdata.php&lt;/b&gt; 
     on line &lt;b&gt;10&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;
&lt;b&gt;Warning&lt;/b&gt;:  simplexml_load_string() 
     [&lt;a href='function.simplexml-load-string'&gt;
       function.simplexml-load-string&lt;/a&gt;]: 
     ^ in &lt;b&gt;C:\OOP with PHP5\Codes\ch8\cdata.php&lt;/b&gt; 
     on line &lt;b&gt;10&lt;/b&gt;&lt;br /&gt;</pre></div><p>T<a id="id382" class="indexterm"/>o avoid this problem we have to enclose using a <code class="literal">CDATA</code> tag. Let's rewrite it like this:</p><div class="informalexample"><pre class="programlisting">&lt;data&gt;
  &lt;content&gt;&lt;![CDATA[text &amp; images ]]&gt;&lt;/content&gt;
&lt;/data&gt;</pre></div><p>Now it will work perfectly. And you don't have to do any extra work for managing this <code class="literal">CDATA</code> section. </p><div class="informalexample"><pre class="programlisting">&lt;?
$str = &lt;&lt;&lt;EOT
&lt;data&gt;
  &lt;content&gt;&lt;![CDATA[text &amp; images ]]&gt;&lt;/content&gt;

&lt;/data&gt;

EOT;
$s = simplexml_load_string($str);
echo $s-&gt;content;//print "text &amp; images"
?&gt;</pre></div><p>However, prior to PHP5.1, you had to load this section as shown below: </p><div class="informalexample"><pre class="programlisting">$s = simplexml_load_string($str,null,LIBXML_NOCDATA); </pre></div></div><div class="section" title="XPath"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec43"/>XPath</h2></div></div></div><p>A<a id="id383" class="indexterm"/>nother nice addition in SimpleXML is that you can query using XPath. So what is XPath? It's an expression language that helps you to locate specific nodes using formatted input. In this section we will learn how to locate a specific part of our XML documents using SimpleXML and Xpath. Let's have a look at the following XML: </p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;roles&gt;
  &lt;task type="analysis"&gt;
    &lt;state name="new"&gt;
      &lt;assigned to="cto"&gt;
        &lt;action newstate="clarify" assignedto="pm"&gt;
          &lt;notify&gt;pm&lt;/notify&gt;
          &lt;notify&gt;cto&lt;/notify&gt;
        &lt;/action&gt;
      &lt;/assigned&gt;
    &lt;/state&gt;
    &lt;state name="clarify"&gt;
      &lt;assigned to="pm"&gt;
        &lt;action newstate="clarified" assignedto="pm"&gt;
          &lt;notify&gt;cto&lt;/notify&gt;
        &lt;/action&gt;
      &lt;/assigned&gt;
    &lt;/state&gt;
  &lt;/task&gt;
&lt;/roles&gt;</pre></div><p>This document simply states the workflow of an analysis task and then tells it what to do at which state. So now you want to search what to do when the task type is <code class="literal">analysis</code> and assigned to <code class="literal">cto</code> and current state is <code class="literal">new</code>. SimpleXML makes it really easy. Let's take a look at the following code:</p><div class="informalexample"><pre class="programlisting">&lt;?
$str = &lt;&lt;&lt; EOT
&lt;roles&gt;
  &lt;task type="analysis"&gt;
    &lt;state name="new"&gt;
      &lt;assigned to="cto"&gt;
        &lt;action newstate="clarify" assignedto="pm"&gt;
          &lt;notify&gt;pm&lt;/notify&gt;
          &lt;notify&gt;cto&lt;/notify&gt;
        &lt;/action&gt;
      &lt;/assigned&gt;
    &lt;/state&gt;
    &lt;state name="clarify"&gt;
      &lt;assigned to="pm"&gt;
        &lt;action newstate="clarified" assignedto="pm"&gt;
          &lt;notify&gt;cto&lt;/notify&gt;
        &lt;/action&gt;
      &lt;/assigned&gt;
    &lt;/state&gt;
  &lt;/task&gt;
&lt;/roles&gt;
EOT;

$s = simplexml_load_string($str);
$node = $s-&gt;xpath("//task[@type='analysis']/state[@name='new']
                                       /assigned[@to='cto']");
echo $node[0]-&gt;action[0]['newstate']."\n";
echo $node[0]-&gt;action[0]-&gt;notify[0];
?&gt;</pre></div><p>T<a id="id384" class="indexterm"/>his will echo the following:</p><div class="informalexample"><pre class="programlisting">clarify
pm</pre></div><p>However there is something to remember while writing XPath. When your XPath is followed by <code class="literal">/</code> then it means that you should keep the exact sequence of your XML document. For example:</p><div class="informalexample"><pre class="programlisting">echo count($s-&gt;xpath("//state")); </pre></div><p>This will output <code class="literal">2</code>.</p><p>
<code class="literal">//state</code> means take the state node from anywhere in the document. Now if you specify <code class="literal">task//state</code>, it will return all states from under all tasks. For example the following code will output <code class="literal">3</code> and <code class="literal">3</code>:</p><div class="informalexample"><pre class="programlisting">echo count($s-&gt;xpath("//notify"));
echo count($s-&gt;xpath("task//notify"));</pre></div><p>Now what if you want to find <code class="literal">notify</code> just under <code class="literal">state</code>, following <code class="literal">assigned</code>, following <code class="literal">action</code>? Your XPath query should be <code class="literal">//state/assigned/action/notify</code>.</p><p>But if you want that, it should be exactly under the <code class="literal">task</code> node which is just under the root node, it should be <code class="literal">/task/state/assigned/action/notify</code>.</p><p>If you need to match any attribute then match it as <code class="literal">[@AttributeName1='value']</code> <code class="literal">[@AttributeName2='value']</code>. If you see the following XPath, it will be clear to you: </p><div class="informalexample"><pre class="programlisting">//task[@type='analysis']/state[@name='new']/assigned[@to='cto']</pre></div></div><div class="section" title="DOM API"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec44"/>
<a id="id385" class="indexterm"/>DOM API
</h2></div></div></div><p><a id="id386" class="indexterm"/>
<a id="id387" class="indexterm"/>SimpleXML in PHP is used to parse the document however it cannot create any XML document. For creating XML documents on the fly you have to use DOM API that comes bundled with PHP 5. Using DOM API you can also create page-scrapping tools fairly easily. </p><p>I<a id="id388" class="indexterm"/>n this section we will learn how to create XML documents using DOM API, and then we will learn how to parse existing documents and modify them. </p><p>In the following example we will create just a basic HTML file: </p><div class="informalexample"><pre class="programlisting">&lt;?
    $doc = new DOMDocument("1.0","UTF-8");
    $html = $doc-&gt;createElement("html");
    $body = $doc-&gt;createElement("body");
    $h1 = $doc-&gt;createElement("h1","OOP with PHP");
    $body-&gt;appendChild($h1);
    $html-&gt;appendChild($body);
    $doc-&gt;appendChild($html);
    echo $doc-&gt;saveHTML();
?&gt;</pre></div><p>This will produce the following code:</p><div class="informalexample"><pre class="programlisting">&lt;html&gt;
  &lt;body&gt;
    &lt;h1&gt;OOP with PHP&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre></div><p>That's fairly easy, right?</p><p>Let's do some more: </p><div class="informalexample"><pre class="programlisting">&lt;?
   $doc = new DOMDocument("1.0","UTF-8");
   $html = $doc-&gt;createElement("html");
   $body = $doc-&gt;createElement("body");
   $h1 = $doc-&gt;createElement("h1","OOP with PHP");
   $h1-&gt;setAttribute("id","firsth1");
   $p = $doc-&gt;createElement("p");
   $p-&gt;appendChild($doc-&gt;createTextNode("Hi - how about some text?"));
   $body-&gt;appendChild($h1);
   $body-&gt;appendChild($p);
   $html-&gt;appendChild($body);
   $doc-&gt;appendChild($html);

   echo $doc-&gt;saveHTML();
?&gt;</pre></div><p>This will produce the following code. </p><div class="informalexample"><pre class="programlisting">&lt;html&gt;&lt;body&gt;
  &lt;h1 id="firsth1"&gt;OOP with PHP&lt;/h1&gt;
  &lt;p&gt;Hi - how about some text?&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;</pre></div><p>So you can save this XML generated by the DOM engine using the following code entered into a file in your file system: </p><div class="informalexample"><pre class="programlisting">file_put_contents("c:/abc.xml", $doc-&gt;saveHTML());</pre></div></div></div>
<div class="section" title="Modifying Existing Documents"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec82"/>
<a id="id389" class="indexterm"/>Modifying Existing Documents
</h1></div></div></div><p>D<a id="id390" class="indexterm"/>OM API helps to create XML document easily as well as provide easy access to load and modify existing documents. With the following XML we will load the file we just created a few minutes ago and then we will change the header test of the first <code class="literal">h1</code> object:</p><div class="informalexample"><pre class="programlisting">&lt;?php

 $uri = 'c:/abc.xml';
 $document = new DOMDocument();
 $document-&gt;loadHTMLFile($uri);// load the content of this URL as HTML
 $h1s = $document-&gt;getElementsByTagName("h1");//find all h1 elements
 $newText = $document-&gt;createElement("h1","New Heading");//created a 
                                                  //new h1 element
 $h1s-&gt;item(0)-&gt;parentNode-&gt;insertBefore($newText,
 $h1s-&gt;item(0));//insert before the existing h1 element
 $h1s-&gt;item(0)-&gt;parentNode-&gt;removeChild($h1s-&gt;item(1));//remove the 
                                                   //old h1 element
 echo $document-&gt;saveHTML();//display the content as HTML

?&gt;</pre></div><p>The output is shown below:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" 
 "http://www.w3.org/TR/REC-html40/loose.dtd"&gt;
 &lt;html&gt;&lt;body&gt;
<span class="strong"><strong> &lt;h1&gt;New Heading&lt;/h1&gt;</strong></span>
 &lt;p&gt;Hi - how about some text?&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;</pre></div></div>
<div class="section" title="Other Useful Functions"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec83"/>
<a id="id391" class="indexterm"/>Other Useful Functions
</h1></div></div></div><p>T<a id="id392" class="indexterm"/>here are some other useful functions in the DOM library. We are not going to discuss them in depth, however they are included in this section for a one line overview. </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">DomNode-&gt;setAttribute()</code>: Helps to set the attribute of any node</li><li class="listitem" style="list-style-type: disc"><code class="literal">DomNode-&gt;hasChildNodes()</code>: Returns true if a DOM node has a child node</li><li class="listitem" style="list-style-type: disc"><code class="literal">DomNode-&gt;replaceChild()</code>: Replaces any child node with another one</li><li class="listitem" style="list-style-type: disc"><code class="literal">DomNode-&gt;cloneNode()</code>: Creates a deep copy of the current code</li></ul></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec84"/>Summary</h1></div></div></div><p>XML API in PHP5 plays a very important role in web application development, most notably the new SimpleXML API, which simplifies parsing with ease. Today XML is one of the most used data formats for almost all big applications. Therefore getting familiar with XML APIs and relevant technologies will definitely help you to design robust XML‑based applications more easily. </p><p>In the next chapter we will learn about MVC architecture and build a slick MVC framework on our own. </p></div></body></html>
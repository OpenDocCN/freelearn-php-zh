<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Building a Website Using Novius OS"><div class="titlepage"><div><div><h1 class="title"><a id="ch06"/>Chapter 6. Building a Website Using Novius OS</h1></div></div></div><p>In this chapter, we will introduce you to <span class="strong"><strong>Novius</strong></span> <span class="strong"><strong>OS</strong></span>, an open source <span class="strong"><strong>Content Management System</strong></span> (or <span class="strong"><strong>CMS</strong></span>) based on FuelPHP. Using Novius OS can greatly simplify<a id="id525" class="indexterm"/> the implementation and management of a website. Its back office includes important and user-friendly features such as web page, menu, template, applications, user, and rights management; it is currently available in six languages (English, French, Japanese, Russian, Spanish, and Interlingua). It is an excellent tool if you want to build a complex website easily manageable by non-programmer users.</p><p>By the end of this chapter, you will know:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">How to install and configure Novius OS</li><li class="listitem" style="list-style-type: disc">Basic features of Novius OS and how to use them to create your website</li><li class="listitem" style="list-style-type: disc">Novius OS filesystem hierarchy</li><li class="listitem" style="list-style-type: disc">What is a Novius OS application, how to generate one, and what are its main components</li></ul></div><div class="section" title="About Novius OS"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec54"/>About Novius OS</h1></div></div></div><p>Novius OS is<a id="id526" class="indexterm"/> an open source CMS based on FuelPHP and powered by the jQuery UI and Wijmo libraries. It was officially launched in December 2011  by Novius, a small web agency based in Lyon, France. The core team that designed and implemented this project is comprised of one UX designer - Antoine Lefeuvre - and three engineers - Gilles Félix, Julian Espérat, and me. However, the software has also received numerous contributions from the open-source community.</p><p>In this chapter, we will assume that you use the Version 5.0.1 (Elche) of Novius OS (the current stable <a id="id527" class="indexterm"/>version at the time of writing). The official website of this CMS can be found at <a class="ulink" href="http://www.novius-os.org/">http://www.novius-os.org/</a>.</p><p>Its official <a id="id528" class="indexterm"/>documentation is available at the following URLs:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://docs.novius-os.org/en/elche/">http://docs.novius-os.org/en/elche/</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://docs-api.novius-os.org/en/elche">http://docs-api.novius-os.org/en/elche</a></li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note33"/>Note</h3><p>I included an introduction to Novius OS in this book as it is based on FuelPHP and I think some of you could find this system useful. Though, since I took part in the project, I am aware my opinion could be biased about it, and that is why this chapter is a rather short introduction about it.</p></div></div></div></div>
<div class="section" title="Getting Novius OS"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec55"/>Getting Novius OS</h1></div></div></div><p>The <a id="id529" class="indexterm"/>requirements of Novius OS are similar to those of FuelPHP:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">PHP 5.3 or greater</li><li class="listitem" style="list-style-type: disc">MySQL</li><li class="listitem" style="list-style-type: disc">Apache with mod_rewrite enabled</li><li class="listitem" style="list-style-type: disc">Windows (&gt; Vista), Linux or Mac OS</li></ul></div><p>Installation<a id="id530" class="indexterm"/> instructions<a id="id531" class="indexterm"/> can be found at the following URL:</p><p>
<a class="ulink" href="http://docs.novius-os.org/en/elche/install/install.html">http://docs.novius-os.org/en/elche/install/install.html</a>
</p><p>You are <a id="id532" class="indexterm"/>recommended to follow the instructions in the <span class="strong"><strong>Installation via Zip file</strong></span> section (simplest and general solution). If you are developing on Linux or Mac OS, you might want to follow the instructions in the <span class="strong"><strong>Installation</strong></span> section as it will download the latest fixes of this version.</p><p>You can also configure a virtual host as we did in the previous chapters for FuelPHP (refer to the <span class="strong"><strong>Advanced installation</strong></span> section). However, we will assume that you only downloaded and unzipped Novius OS in the <code class="literal">novius-os</code> folder of your web server's root directory (<code class="literal">DOCUMENT_ROOT/novius-os</code>).</p></div>
<div class="section" title="Configuring Novius OS"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec56"/>Configuring Novius OS</h1></div></div></div><p>If you enter the URL <code class="literal">http://localhost/novius-os</code>, the Novius OS installation wizard <a id="id533" class="indexterm"/>will<a id="id534" class="indexterm"/> appear. Follow the directions; it will first check whether your server configuration is compatible with Novius OS, secondly ask for your database configuration (you will need to first create a database), then ask for some information to create the first user account (necessary to connect to the Novius OS' back office), and finally, ask you which languages you want your website to be available in.</p><p>You can now click on <span class="strong"><strong>Go to the back-office and sign-in</strong></span>.</p></div>
<div class="section" title="Exploring Novius OS"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec57"/>Exploring Novius OS</h1></div></div></div><p>In this section, you will learn about the main Novius OS features by exploring the interface. This step is important if <a id="id535" class="indexterm"/>you have never used Novius OS earlier, because implementation details can't be understood if you don't know how to use the CMS.</p><p>The following sign-in webpage will be displayed:</p><div class="mediaobject"><img src="graphics/5401OS_06_01.jpg" alt="Exploring Novius OS"/></div><p>Enter the credentials you defined in the installation step.</p><div class="section" title="The applications manager"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec62"/>The applications manager</h2></div></div></div><p>Once <a id="id536" class="indexterm"/>connected, the applications manager will show <a id="id537" class="indexterm"/>up:</p><div class="mediaobject"><img src="graphics/5401OS_06_02.jpg" alt="The applications manager"/></div><p>Applications<a id="id538" class="indexterm"/> allow you to add new features to Novius OS. For<a id="id539" class="indexterm"/> instance, the <span class="strong"><strong>Blog</strong></span> application extends the Novius OS core functionalities to add a complete blog solution to your website. If you have already used another CMS, Novius OS's applications are synonymous with their modules or extensions. You are recommended to read the official documentation<a id="id540" class="indexterm"/> about applications and the application manager available at the following URLs:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://docs.novius-os.org/en/elche/understand/applications.html">http://docs.novius-os.org/en/elche/understand/applications.html</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://docs.novius-os.org/en/elche/manage/install_app.html">http://docs.novius-os.org/en/elche/manage/install_app.html</a></li></ul></div><p>When you install Novius OS, several applications are already available. However, we will see later that it is possible to add other applications or create your own. Most Novius OS core<a id="id541" class="indexterm"/> features are implemented by native applications, which are applications directly included in the core. You can now understand<a id="id542" class="indexterm"/> that applications are a key feature of Novius OS and that they do most of the work.</p><p>Right now, most applications are only available but not installed. If you want to activate the features of an available application, you have to install it. Click on the <span class="strong"><strong>Install</strong></span> button next to <span class="strong"><strong>Blog</strong></span> in order to activate the blog's features. The following message will appear in the upper right corner of the screen:</p><div class="mediaobject"><img src="graphics/5401OS_06_03.jpg" alt="The applications manager"/></div><p>Under the <span class="strong"><strong>Installed application</strong></span> section, the following three applications will now be displayed:</p><div class="mediaobject"><img src="graphics/5401OS_06_04.jpg" alt="The applications manager"/></div><p>You can see that the <span class="strong"><strong>Blog</strong></span> application was installed, but <span class="strong"><strong>BlogNews</strong></span> and <span class="strong"><strong>Comments</strong></span> were also installed along with it. This is because these applications are dependencies; the <span class="strong"><strong>Blog</strong></span> application needs both of them. Novius OS allows applications to depend on each other and the <a id="id543" class="indexterm"/>system tries to manage any potential <a id="id544" class="indexterm"/>conflict. For instance, you can't uninstall the <span class="strong"><strong>BlogNews</strong></span> application without uninstalling the <span class="strong"><strong>Blog</strong></span> application first.</p></div><div class="section" title="The Novius OS desktop"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec63"/>The Novius OS desktop</h2></div></div></div><p>To leave the applications manager, click on the Novius OS icon in the upper left corner of the<a id="id545" class="indexterm"/> screen:</p><div class="mediaobject"><img src="graphics/5401OS_06_05.jpg" alt="The Novius OS desktop"/></div><p>The Novius OS desktop will now be displayed:</p><div class="mediaobject"><img src="graphics/5401OS_06_06.jpg" alt="The Novius OS desktop"/></div><p>The<a id="id546" class="indexterm"/> desktop <a id="id547" class="indexterm"/>displays icons called <span class="emphasis"><em>launchers</em></span> that can be clicked on; they generally allow you to access an application. For instance, if you click on <span class="strong"><strong>Applications manager</strong></span>, you will return to the screen we saw earlier.</p></div><div class="section" title="Novius OS' front and the default homepage"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec64"/>Novius OS' front and the default homepage</h2></div></div></div><p>If you<a id="id548" class="indexterm"/> access <a id="id549" class="indexterm"/>your website home page (<code class="literal">http://localhost/novius-os</code>), you will only see the default Novius OS <a id="id550" class="indexterm"/>homepage, since we didn't define any content. Go back to the administration panel by requesting:</p></div><div class="section" title="The Webpages application"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec65"/>The Webpages application</h2></div></div></div><p>Another important <a id="id551" class="indexterm"/>feature of Novius OS is the ability to <a id="id552" class="indexterm"/>manage your web pages. In order to do this, click on the <span class="strong"><strong>Webpages</strong></span> launcher which will display the web pages administration panel. An empty table will appear, with a few buttons at the bottom. Click on the <span class="strong"><strong>Add a page</strong></span> button to create your first page. The web page creation form will then appear:</p><div class="mediaobject"><img src="graphics/5401OS_06_07.jpg" alt="The Webpages application"/></div><p>In this instance, the three fields you should change are the title, content, and publication setting.</p><p>The title field will define the metadata title of your web page . Generally, this title will also be displayed over the web page's content.</p><p>The content field will define the core content of your web page. It is a WYSIWYG field, so you can also format the text or add images, among other functions.</p><p>The publication setting allows you to define whether or not the content should be visible to visitors. It can be changed using the three small icons under the <span class="strong"><strong>Title</strong></span> field:</p><div class="mediaobject"><img src="graphics/5401OS_06_08.jpg" alt="The Webpages application"/></div><p>If the<a id="id553" class="indexterm"/> left button is set in an active state, as shown in<a id="id554" class="indexterm"/> the preceding screenshot, the web page won't be published; that is to say the web page will be invisible to visitors. The right button allows you to immediately publish the content (as soon as you click on the <span class="strong"><strong>Save</strong></span>/<span class="strong"><strong>Add</strong></span> button). The middle button allows you to schedule when your content should be published. Now click on the right button:</p><div class="mediaobject"><img src="graphics/5401OS_06_09.jpg" alt="The Webpages application"/></div><p>Click on the <span class="strong"><strong>Add</strong></span> button to save the changes and create the new web page.</p><p>You probably noticed that new tabs appeared in the upper part of the screen since we clicked on the <span class="strong"><strong>Webpages</strong></span> launcher:</p><div class="mediaobject"><img src="graphics/5401OS_06_10.jpg" alt="The Webpages application"/></div><p>The Novius OS interface is designed around tabs. Just like browsers' tabs, Novius OS tabs allow you to open multiple administration pages. Though it can be destabilizing for new users, this tabs navigation system can be handy when you have to manage multiple elements at the same time.</p><p>The first tab contains the <span class="strong"><strong>Applications manager</strong></span> application. As we won't need it anymore, click on it, and then click on the cross to close it.</p><p>Click on the new first tab (the one without any title), you will now be back at the web page administration panel. However, your newly created page will now be visible inside the table:</p><div class="mediaobject"><img src="graphics/5401OS_06_11.jpg" alt="The Webpages application"/></div><p>The house icon next to the web page title indicates that it is the home page. We did not specify it, but<a id="id555" class="indexterm"/> Novius OS automatically chooses the<a id="id556" class="indexterm"/> first created web page as the home page.</p><p>For each row in the table, you can see there are small buttons in the right corner. These buttons allow you to apply individual actions. In our instance, the first button allows you to edit the web page, the second to visualize it, and the third displays a drop-down that will <a id="id557" class="indexterm"/>show even more actions.</p><p>If you now request the home page (<code class="literal">http://localhost/novius-os</code>), you will see the following screen:</p><div class="mediaobject"><img src="graphics/5401OS_06_12.jpg" alt="The Webpages application"/></div><p>Our <a id="id558" class="indexterm"/>content is visible at the bottom, but there is a lot of <a id="id559" class="indexterm"/>sample content too, which we would naturally like to remove.</p></div><div class="section" title="Novius OS templates"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec66"/>Novius OS templates</h2></div></div></div><p>The content<a id="id560" class="indexterm"/> you define in a web page is displayed inside a template, in a <a id="id561" class="indexterm"/>similar way to the views that are displayed inside templates when using the <span class="strong"><strong>Template</strong></span> controller in FuelPHP. If you go back to the web page edition form, you will notice that there is a field named <span class="strong"><strong>Template variations</strong></span> with its value set to <span class="strong"><strong>Bootstrap customisable template</strong></span>. Thus, to remove the sample content, we have to edit the <span class="strong"><strong>Bootstrap customisable template</strong></span>.</p><p>In order to do this, go back to Novius OS desktop (by clicking on the <span class="strong"><strong>NOS</strong></span> icon in the upper left corner of the screen), and then click on the <span class="strong"><strong>Template Variations</strong></span> launcher.</p><div class="mediaobject"><img src="graphics/5401OS_06_13.jpg" alt="Novius OS templates"/></div><p>We will<a id="id562" class="indexterm"/> discuss this administration interface in the next section. First, click <a id="id563" class="indexterm"/>on the edit button (represented by a pencil icon) in the <span class="strong"><strong>Bootstrap customisable template</strong></span> item. A new tab will open, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/5401OS_06_14.jpg" alt="Novius OS templates"/></div><p>Each gear icon allows you to edit a specific part of the template. Feel free to adapt the template as you wish.</p><p>You can also add other template models by installing the <span class="strong"><strong>Novius OS default templates</strong></span> application (this one is less configurable), external applications, or creating your own application.</p><p>You will notice that some template parts display the following menu field:</p><div class="mediaobject"><img src="graphics/5401OS_06_15.jpg" alt="Novius OS templates"/></div><p>The menu<a id="id564" class="indexterm"/> field allows you to generate a menu on your website. By <a id="id565" class="indexterm"/>default, that is to say if no menu is selected, a default menu will be constructed from the web pages having the <span class="strong"><strong>Shows in the menu</strong></span> configuration checked (you can change this configuration in the web page edition form). You can also create custom menus by clicking on the <span class="strong"><strong>Website menus</strong></span> launcher on the administration desktop.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note34"/>Note</h3><p>When you are finished changing the template, you will probably need to refresh the pages' cache. This can be done by clicking on the link <span class="strong"><strong>Renew pages' cache</strong></span> inside the Webpages administration interface. In a general manner, if you see that your webpages don't change though you updated their content in the back office, it is a good idea to refresh this cache.</p></div></div></div><div class="section" title="The App Desk"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec67"/>The App Desk</h2></div></div></div><p>If you go<a id="id566" class="indexterm"/> back to the <span class="strong"><strong>Template variations</strong></span> administration<a id="id567" class="indexterm"/> interface (you can do this using tabs or by clicking on the <span class="strong"><strong>NOS</strong></span> icon and then clicking on the <span class="strong"><strong>Template variations</strong></span> launcher), you will see that the administration panel is separated into three parts:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The upper left part lists all original models of templates.</li><li class="listitem" style="list-style-type: disc">The upper right part lists all the variations, that is to say the templates we adapted for our website.</li><li class="listitem" style="list-style-type: disc">The bottom part contains the action buttons.</li></ul></div><p>You can even change how the upper right part is displayed by clicking on the top buttons:</p><div class="mediaobject"><img src="graphics/5401OS_06_16.jpg" alt="The App Desk"/></div><p>Here is how the administration panel is displayed when clicking on the list button:</p><div class="mediaobject"><img src="graphics/5401OS_06_17.jpg" alt="The App Desk"/></div><p>You can notice that the user interface is quite similar to <a id="id568" class="indexterm"/>the <span class="strong"><strong>Webpages</strong></span> administration interface. Indeed, most applications of Novius OS will have a common user interface, as the core provides generic components that can be easily reused. The main administration interface, the one you are looking at right now, extends the <span class="strong"><strong>App Desk</strong></span> component. With minimal configuration, you can display and manage your application's data in an organized and standardized way. For the sake of convenience, such administration interfaces are also called App Desk.</p><p>Here is the current standard layout of an App Desk:</p><div class="mediaobject"><img src="graphics/5401OS_06_18.jpg" alt="The App Desk"/></div><p>You can notice that there are 3 components, as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The main <a id="id569" class="indexterm"/>content is displayed in the main grid. As we saw earlier, it is generally possible to display the main grid in different ways (list, thumbnails, hierarchy, and so on).</li><li class="listitem" style="list-style-type: disc">At the left, the inspectors display related content (categories for blog posts for example), and filters the content of the main grid (for example, it can filter the blog posts belonging to a specific category).</li><li class="listitem" style="list-style-type: disc">At the<a id="id570" class="indexterm"/> bottom, buttons allow the user to execute general actions such as creating a new item or refreshing a cache. The language select box might also be displayed if the content depends on the language (for instance, a blog post will have different content in English, French, Spanish, and so on).</li></ul></div><p>You are recommended to take a look at the official documentation about UI guidelines, available at <a class="ulink" href="http://docs.novius-os.org/en/elche/understand/ergonomy.html">http://docs.novius-os.org/en/elche/understand/ergonomy.html</a>.</p></div><div class="section" title="Inserting enhancers in your webpages"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec68"/>Inserting enhancers in your webpages</h2></div></div></div><p>You might recall we installed the <span class="strong"><strong>Blog</strong></span> application earlier. This application allows you to insert a<a id="id571" class="indexterm"/> complete blog solution in your<a id="id572" class="indexterm"/> website. Let's see how it is done in Novius OS.</p><p>First, go back to the <span class="strong"><strong>Webpages</strong></span> administration tab and create a new page with its title set to <span class="strong"><strong>Blog</strong></span>. Save and publish it. If you click on the <span class="strong"><strong>URL (page address)</strong></span> tab inside the right menu (or accordion), you will see this:</p><div class="mediaobject"><img src="graphics/5401OS_06_19.jpg" alt="Inserting enhancers in your webpages"/></div><p>This field specifies the relative URL of the web page. In this instance, the web page you created can be accessed by entering the following URL:</p><p>
<code class="literal">http://localhost/novius-os/blog.html</code>
</p><p>The <span class="strong"><strong>Blog</strong></span> application, as with most Novius OS applications that are displayed in the website <a id="id573" class="indexterm"/>frontend, can be inserted inside a web page's content. For doing this, click on the <span class="strong"><strong>Content</strong></span> WYSIWYG input. You will see a toolbar appear on the top:</p><div class="mediaobject"><img src="graphics/5401OS_06_20.jpg" alt="Inserting enhancers in your webpages"/></div><p>Click on the <span class="strong"><strong>Applications</strong></span> button, and then on <span class="strong"><strong>Blog</strong></span>:</p><div class="mediaobject"><img src="graphics/5401OS_06_21.jpg" alt="Inserting enhancers in your webpages"/></div><p>A configuration box will then appear; you don't have to change anything:</p><div class="mediaobject"><img src="graphics/5401OS_06_22.jpg" alt="Inserting enhancers in your webpages"/></div><p>When<a id="id574" class="indexterm"/> you click on the <span class="strong"><strong>Insert</strong></span> button, the <a id="id575" class="indexterm"/>following box will appear inside the WYSIWYG field:</p><div class="mediaobject"><img src="graphics/5401OS_06_23.jpg" alt="Inserting enhancers in your webpages"/></div><p>This box indicates that the <span class="strong"><strong>Blog</strong></span> application has been inserted into your web page. To use the correct term, you inserted the <span class="strong"><strong>Blog enhancer</strong></span>. An enhancer is an application component that<a id="id576" class="indexterm"/> can be inserted in most WYSIWYG fields in order to allow the application to display content in the frontend. There<a id="id577" class="indexterm"/> can be several enhancers for a single application, as <a id="id578" class="indexterm"/>you saw earlier when clicking on the <span class="strong"><strong>Applications</strong></span> button; you could choose between <span class="strong"><strong>Links to blog posts (e.g. for side column)</strong></span> or <span class="strong"><strong>Blog</strong></span>. Both of these enhancers belong to the <span class="strong"><strong>Blog</strong></span> application, but they display the blog differently.</p><p>If you request the URL <code class="literal">http://localhost/novius-os/blog.html</code> again, you will not see any changes, and this is normal; you have to create blog posts first. In the Novius OS administration panel, go back to the desktop, click on the <span class="strong"><strong>Blog</strong></span> launcher, and add several blog posts (don't forget to publish them).</p><p>If you request the blog web page again, you will see these posts:</p><div class="mediaobject"><img src="graphics/5401OS_06_24.jpg" alt="Inserting enhancers in your webpages"/></div><p>You can view a specific blog post by clicking on its title. If you do, you will see a more complete view of the post, and the URL will look as follows:</p><p>
<code class="literal">http://localhost/novius-os/blog/POST_TITLE.html</code>
</p><p>As you can see, the <span class="strong"><strong>Blog enhancer</strong></span> not only displays content, but also creates additional URLs. This is because it is an URL enhancer, a special type of enhancer that can<a id="id579" class="indexterm"/> respond to additional URLs. In concrete <a id="id580" class="indexterm"/>terms, if an URL enhancer is hosted on a <a id="id581" class="indexterm"/>webpage located at <code class="literal">http://localhost/novius-os/PAGE.html</code>, it can also respond to any URL similar to <code class="literal">http://localhost/novius-os/PAGE/ANY_STRING.html</code>.</p><p>Of course, the URL enhancer can respond differently to each URL, depending on its implementation and configuration.</p></div></div>
<div class="section" title="The Novius OS file system hierarchy"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec58"/>The Novius OS file system hierarchy</h1></div></div></div><p>Now that we have looked at the basics of Novius OS and its interface, let's dive into the directory in which we have installed Novius OS. At the time of writing, the current version of Novius OS (Elche) has the following directory hierarchy:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">/local</code>: This folder contains all code, configuration, and applications that are specific to the website. It contains the following folders:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">/local/applications</code>: This folder contains all available non-core applications.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/local/cache</code>: All files here allows Novius OS and its applications to cache data in order to improve the website's performance.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/local/classes</code>: This includes classes used by the website that don't<a id="id582" class="indexterm"/> belong to the core or any<a id="id583" class="indexterm"/> application.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/local/config</code>: This includes configuration files, including the FuelPHP main configuration file and the database configuration file.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/local/data</code>: These are data files created by Novius OS and its applications.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/local/metadata</code>: These are files created by Novius OS. Unlike in <code class="literal">/local/data</code>, files inside this folder are only changed when applications are installed, upgraded, or uninstalled.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/local/views</code>: These are the views used by the website. It is possible to override applications views by creating files inside this folder.</li></ul></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">/logs</code>: This contain the log files. It is similar to the logs folder of FuelPHP.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/novius-os</code>: This is the Novius OS core, you should not change anything inside it. Among other things, it contains FuelPHP core and packages.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/public</code>: This directory is accessible by external visitors. You can add publicly available files here (CSS, JS...).</li></ul></div><div class="section" title="Applications folder structure"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec69"/>Applications folder structure</h2></div></div></div><p>Inside the <code class="literal">/local/applications</code> directory, each folder is an application. For your information, you should know that what Novius OS calls applications are, in fact, improved FuelPHP modules. If you look inside these folders, you will see the following <a id="id584" class="indexterm"/>structure:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">/classes</code>: These are the classes used by the application.<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">/classes/controller</code>: Application's controllers.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/classes/menu</code>: Application's information about menus.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/classes/model</code>: Application's models.</li></ul></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">/config</code>: These are the application's configuration files. The following are the most important ones:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">/config/metadata.config.php</code>: This is the metadata configuration file. It contains all the key information about the application: name, icon, description, dependencies, launchers, enhancers, and so on.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/config/permissions.config.php</code>: This allows the application to handle custom permissions.</li></ul></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">/lang</code>: Application's translations files.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/migrations</code>: Application's migrations files.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/static</code>: This is the equivalent of the public folder but specific to the application. For instance, if the <span class="strong"><strong>Blog</strong></span> application (located at <code class="literal">local/applications/noviusos_blog</code>) is installed, the <code class="literal">local/applications/noviusos_blog/static/img/blog-16.png</code> file can be accessed at <code class="literal">http://localhost/novius-os/static/apps/noviusos_blog/img/blog-16.png</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">/views</code>: Application's view files.</li></ul></div></div><div class="section" title="Files extensions"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec70"/>Files extensions</h2></div></div></div><p>You <a id="id585" class="indexterm"/>might have noticed that some files have the following suffixes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Models' filenames end in <code class="literal">.model.php</code></li><li class="listitem" style="list-style-type: disc">Controllers' filenames end in <code class="literal">.ctrl.php</code></li><li class="listitem" style="list-style-type: disc">Configurations' filenames end in <code class="literal">.config.php</code></li><li class="listitem" style="list-style-type: disc">Views' filenames end in <code class="literal">.view.php</code></li></ul></div><p>This is a<a id="id586" class="indexterm"/> Novius OS convention to enhance the developer's experience. It was implemented because often developers named their files using the same filename (for instance, a <code class="literal">post.php</code> controller, a <code class="literal">post.php</code> view, and a <code class="literal">post.php</code> configuration file) and, if they opened them on multiple tabs on their IDE, most of the time they wouldn't know on which tab the file they were looking for was. This is an optional convention and it doesn't change the way files are executed.</p></div><div class="section" title="Configurations and classes"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec71"/>Configurations and classes</h2></div></div></div><p>Another important convention involves the configuration and class file's locations. As developers<a id="id587" class="indexterm"/> very often have to write a <a id="id588" class="indexterm"/>configuration for controllers and models, the configuration file paths are related to the class file paths. For instance, in an application, the <code class="literal">classes/controller/front.ctrl.php</code> controller can be configured using the <code class="literal">config/controller/front.config.php</code> configuration file. If the controller extends one of the default Novius OS controllers, the configuration file will will be automatically loaded.</p><p>In a general manner, the <code class="literal">config/FILE_PATH</code> configuration file will be associated with the <code class="literal">classes/FILE_PATH</code> class file. This way, when you want to understand an application someone else implemented, you can easily know to which class each configuration file is associated with.</p></div></div>
<div class="section" title="Creating an application"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec59"/>Creating an application</h1></div></div></div><p>The only <a id="id589" class="indexterm"/>way to understand how<a id="id590" class="indexterm"/> Novius OS works further is to create an application. First, we will generate one application using the Novius OS <span class="strong"><strong>'Build you app' </strong></span>wizard, which tries to fulfill the same objective as the <code class="literal">oil generate</code> utility, except it generates Novius OS applications instead of FuelPHP scaffolds. Then, we will take a look at most files that were generated and see what happens when we tweak them.</p><div class="section" title="Installing the 'Build your app' wizard"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec72"/>Installing the 'Build your app' wizard</h2></div></div></div><p>The application<a id="id591" class="indexterm"/> is available but needs to be installed. To<a id="id592" class="indexterm"/> do this, go to the Novius OS desktop, click on the <span class="strong"><strong>Applications manager</strong></span> launcher and, under <span class="strong"><strong>Available</strong></span> applications, click on the <span class="strong"><strong>Install</strong></span> button next to <span class="strong"><strong>'Build your app' wizard</strong></span>.</p></div><div class="section" title="Generating the application"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec73"/>Generating the application</h2></div></div></div><p>Go back to<a id="id593" class="indexterm"/> the Novius OS desktop and <a id="id594" class="indexterm"/>click on the <span class="strong"><strong>'Build your app' wizard</strong></span> launcher. A form will appear. As in <a class="link" href="ch01.html" title="Chapter 1. Building Your First FuelPHP Application">Chapter 1</a>, <span class="emphasis"><em>Building Your First FuelPHP Application</em></span>, we will generate an application that will manage monkeys in our zoo.</p><p>First, under <span class="strong"><strong>About the application</strong></span>, set the <span class="strong"><strong>Application name</strong></span> field's value to <span class="strong"><strong>My first application</strong></span>. The <span class="strong"><strong>Application</strong></span> folder and <span class="strong"><strong>Application namespace</strong></span> fields should be automatically completed but you can always change them if you want.</p><p>Next, under <span class="strong"><strong>Model</strong></span>, set the <span class="strong"><strong>Name</strong></span> field to <code class="literal">Monkey</code>, as we want to generate a <code class="literal">Monkey</code> model. The <span class="strong"><strong>Table name</strong></span> and <span class="strong"><strong>Column prefix</strong></span> fields should be automatically completed.</p><p>As we want to publish the application's content, check the <span class="strong"><strong>URL enhancer</strong></span> checkbox. We also want to choose precisely which monkey we want to display on our website, as some might be in the zoo temporarily, so check the <span class="strong"><strong>Publishable behavior</strong></span> checkbox. Finally, we want to know which user entered the monkey into the application, so check the <span class="strong"><strong>Author behavior</strong></span> checkbox. </p><p>The form will now look as follows:</p><div class="mediaobject"><img src="graphics/5401OS_06_25.jpg" alt="Generating the application"/></div><p>You<a id="id595" class="indexterm"/> can now click on <span class="strong"><strong>Next step</strong></span>.</p><p>Here, we <a id="id596" class="indexterm"/>will define the layout of the administration form (the one we will use when creating and editing monkeys). The layout is defined <a id="id597" class="indexterm"/>by <span class="strong"><strong>Fields</strong></span> <span class="strong"><strong>groups</strong></span>, which can be split into two types:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Main column fields groups</strong></span>: These <a id="id598" class="indexterm"/>contain the most important information (or the information that requires the most space) of your model, and thus they will always be visible and take most of the form area. Generally, these fields groups<a id="id599" class="indexterm"/> will contain WYSIWYG editors or very important fields.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Side column fields groups</strong></span>: These contain secondary information that doesn't <a id="id600" class="indexterm"/>need a lot of space. They will appear in the menu (or accordion) on the right part of the screen.</li></ul></div><p>The <a id="id601" class="indexterm"/>first main column field group named <code class="literal">Properties</code> is<a id="id602" class="indexterm"/> created by default. Create a new field group by clicking on <span class="strong"><strong>Add another fields group</strong></span> next to the <span class="strong"><strong>Next Step</strong></span> button. Set its <span class="strong"><strong>Title</strong></span> field to <code class="literal">Additional informations</code> and its type to <code class="literal">Side column</code>. The form should now look as follows:</p><div class="mediaobject"><img src="graphics/5401OS_06_26.jpg" alt="Generating the application"/></div><p>You can now click on <span class="strong"><strong>Next step</strong></span>.</p><p>We will now define our model fields and properties. For the first field, define its <span class="strong"><strong>Label</strong></span> attribute as <code class="literal">Name</code>, the <span class="strong"><strong>column name</strong></span> attribute should be autocompleted, then check the <span class="strong"><strong>Is the form title</strong></span> checkbox (as this field will be used as a title).</p><p>Click on <span class="strong"><strong>Add another field</strong></span>. For the new field, define the <span class="strong"><strong>Label</strong></span> attribute to <code class="literal">Still here</code>, select <span class="strong"><strong>Checkbox</strong></span> in the <span class="strong"><strong>Type</strong></span> select box, check the <span class="strong"><strong>Shows in the</strong></span> <span class="strong"><strong>App Desk</strong></span> checkbox, and then select <span class="strong"><strong>Additional informations (Side column)</strong></span> in the <span class="strong"><strong>Fields</strong></span> group select box.</p><p>Click on <span class="strong"><strong>Add another field</strong></span>. For the new field, define the <span class="strong"><strong>Label</strong></span> attribute as <code class="literal">Height</code>, check <span class="strong"><strong>Shows in the App Desk</strong></span> checkbox, and then select <span class="strong"><strong>Additional informations (Side column)</strong></span> in the <span class="strong"><strong>Fields</strong></span> group select box.</p><p>Click<a id="id603" class="indexterm"/> on <span class="strong"><strong>Add another field</strong></span>. For the <a id="id604" class="indexterm"/>new field, define the <span class="strong"><strong>Label</strong></span> attribute as <code class="literal">Description</code> and then select <span class="strong"><strong>WYSIWYG text editor</strong></span> in the <span class="strong"><strong>Type</strong></span> select box.</p><p>The end of the form should look as follows:</p><div class="mediaobject"><img src="graphics/5401OS_06_27.jpg" alt="Generating the application"/></div><p>You can now click on <span class="strong"><strong>Next step</strong></span>. The following dialog box will appear:</p><div class="mediaobject"><img src="graphics/5401OS_06_28.jpg" alt="Generating the application"/></div><p>Since we want to install this application, don't change anything.</p><p>Click <a id="id605" class="indexterm"/>on the <span class="strong"><strong>Generate</strong></span> button. You <a id="id606" class="indexterm"/>will see a confirmation message appear with various links to the documentation to help you improve your generated application. You are recommended to take a look at this documentation.</p></div><div class="section" title="Testing your generated application"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec74"/>Testing your generated application</h2></div></div></div><p>Go back <a id="id607" class="indexterm"/>to the Novius OS desktop and click on the <span class="strong"><strong>Monkey</strong></span> launcher. You will see an empty <span class="strong"><strong>App Desk</strong></span> appear. Click<a id="id608" class="indexterm"/> on the <span class="strong"><strong>Add Monkey</strong></span> button, and the creation form will appear as you configured it in the <span class="strong"><strong>'Build your app' wizard</strong></span> form. Create as many monkeys as you want and you will see the <span class="strong"><strong>App Desk</strong></span> progressively fill up.</p><p>Since we checked the <span class="strong"><strong>URL enhancer</strong></span> checkbox, our content is displayable on a web page. Go back to Novius OS desktop, click on the <span class="strong"><strong>Webpages</strong></span> launcher, and then on the <span class="strong"><strong>Add a page</strong></span> button. Set the web page's title to <code class="literal">Monkey</code>, set its publication status to <span class="strong"><strong>Published</strong></span>. Next, in order to add our application's URL enhancer, click on the <span class="strong"><strong>Content</strong></span> WYSIWYG. Next, click on <span class="strong"><strong>Applications</strong></span>, and then click on <span class="strong"><strong>My first application Monkey</strong></span>. Finally, save the web page by clicking on the <span class="strong"><strong>Add</strong></span> button.</p><p>Now, if you check the URL <code class="literal">http://localhost/novius-os/monkey.html</code>, you will see your list of monkeys:</p><div class="mediaobject"><img src="graphics/5401OS_06_29.jpg" alt="Testing your generated application"/></div><p>If you click on an item of the list, a more detailed view will appear:</p><div class="mediaobject"><img src="graphics/5401OS_06_30.jpg" alt="Testing your generated application"/></div><p>The detailed view's URL in this case will be as follows:</p><p>
<code class="literal">http://localhost/novius-os/monkey/my-first-monkey.html</code>
</p><p>As you <a id="id609" class="indexterm"/>can see, by using the <span class="strong"><strong>'Build your app' wizard</strong></span> option and by filling very few inputs, we created a complete application<a id="id610" class="indexterm"/> scaffold. As with the <code class="literal">oil generate</code> utility, you should use the wizard every time you want to implement an application because it will speed up your development process and you will start on good foundations.</p></div><div class="section" title="Application basics"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec75"/>Application basics</h2></div></div></div><p>We will use this generated application to describe how an application works in Novius OS. We <a id="id611" class="indexterm"/>won't go too much into detail, but it should be <a id="id612" class="indexterm"/>enough for you to get started and know where to look for more information.</p><p>The application <a id="id613" class="indexterm"/>we generated can be found at the <code class="literal">local/applications/my_first_application</code> directory. All the files we will look into are located inside the folder.</p><div class="section" title="The metadata configuration file"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec55"/>The metadata configuration file</h3></div></div></div><p>Where is defined the application's name, its dependencies, icons, launchers, enhancers?</p><p>All this basic information is contained inside <code class="literal">config/metadata.config.php</code>. This is the only file required to create an application. If you open this configuration file, the application's name is defined by the <code class="literal">name</code> key, its namespace by the <code class="literal">namespace</code> key, its launchers by the <code class="literal">launchers</code> key. It is pretty straightforward, and you can read about it in the official <a id="id614" class="indexterm"/>documentation available at <a class="ulink" href="http://docs-api.novius-os.org/en/elche/php/configuration/application/metadata.html">http://docs-api.novius-os.org/en/elche/php/configuration/application/metadata.html</a>.</p></div><div class="section" title="The migration files"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec56"/>The migration files</h3></div></div></div><p>The<a id="id615" class="indexterm"/> migration files are located inside the <code class="literal">migrations</code> folder, and are executed when the application is installed. They can be implemented as normal FuelPHP migration files but, if you open <code class="literal">migrations/001_install.php</code>, you will see that it is empty:</p><div class="informalexample"><pre class="programlisting">&lt;?php
namespace MyFirstApplication\Migrations;

class Install extends \Nos\Migration
{
}</pre></div><p>This is because the <code class="literal">migration</code> file extends <code class="literal">\Nos\Migration</code>. By default, the <code class="literal">up</code> method will try to execute a SQL file with a similar filename to the <code class="literal">migration</code> file, in our case <code class="literal">migrations/001_install.sql</code>. If you open this SQL file, you will see that it simply creates the <code class="literal">monkeys</code> table.</p></div><div class="section" title="The App desk"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec57"/>The App desk</h3></div></div></div><p>Your application's App Desk is loaded from the following URL (you can check using your browser's developer tools if you want to):</p><p>
<code class="literal">http://localhost/novius-os/admin/my_first_application/monkey/appdesk</code>
</p><p>In a general manner, when you enter <code class="literal">http://WEBSITE/admin/APPLICATION_FOLDER/CONTROLLER_PATH(/ACTION)</code>, the <code class="literal">ACTION</code> action of the controller located at <code class="literal">local/applications/APPLICATION_FOLDER/classes/controller/admin/CONTROLLER_PATH</code> will be executed.</p><p>Thus, in our case, the URL executes the <code class="literal">index</code> action (because as you may recall, when no action is defined in the URL, FuelPHP executes the <code class="literal">index</code> action) of the <code class="literal">controller/admin/monkey/appdesk.ctrl.php</code> controller inside the <code class="literal">my_first_application</code> application. Let's open this controller:</p><div class="informalexample"><pre class="programlisting">&lt;?php
namespace MyFirstApplication;

class Controller_Admin_Monkey_Appdesk extends \Nos\Controller_Admin_Appdesk
{
}</pre></div><p>Once again, you can see an empty class. All the actions are defined inside the <code class="literal">\Nos\Controller_Admin_Appdesk</code> class that is extended by our controller. Though, the returned listing is not automatically generated by some sort of magic process, it is generated from configuration files.</p><p>As you might recall, we wrote earlier that configuration file paths are related to the class file paths. Thus, we can find our controller's configuration file at <code class="literal">config/controller/admin/monkey/appdesk.config.php</code>. If you open this file, you will see <a id="id616" class="indexterm"/>the following code snippet (comments have been stripped):</p><div class="informalexample"><pre class="programlisting">&lt;?php
return array(
    'model' =&gt; 'MyFirstApplication\Model_Monkey',
    'search_text' =&gt; 'monk_name',
);</pre></div><p>It defines the model that must be displayed by the <span class="strong"><strong>App Desk</strong></span> and which column to scan when writing something in the <span class="strong"><strong>Search</strong></span> bar. You can define more keys, as inspectors or queries. You are recommended to read the official documentation to learn more about this configuration file:</p><p>
<a class="ulink" href="http://docs-api.novius-os.org/en/elche/php/configuration/application/appdesk.html">http://docs-api.novius-os.org/en/elche/php/configuration/application/appdesk.html</a>
</p><p>The configuration defined here is a start, but certainly not sufficient to display the whole <span class="strong"><strong>App Desk</strong></span>. Most of the necessary information is defined inside the <code class="literal">config/common/monkey.config.php</code> configuration file (comments have been stripped):</p><div class="informalexample"><pre class="programlisting">&lt;?php
return array(
    'controller' =&gt; 'monkey/crud',
    'data_mapping' =&gt; array(
        'monk_name' =&gt; array(
            'title' =&gt; __('Name'),
        ),
        'monk_still_here' =&gt; array(
            'title' =&gt; __('Still here'),
            'value' =&gt; function($item) {
                return $item-&gt;monk_still_here ? __('Yes') :
                           __('No');
            },
        ),
        'monk_height' =&gt; array(
            'title' =&gt; __('Height'),
        ),
        'publication_status' =&gt; true,
    ),
);</pre></div><p>As you <a id="id617" class="indexterm"/>can see, displayed columns are defined inside the <code class="literal">data_mapping</code> key. Each column's title is defined by the <code class="literal">title</code> key, except for <code class="literal">publication_status</code>, which is a particular case. The row values are either determined from the key or from the <code class="literal">value</code> callback. In concrete terms, each row of the App Desk will display the following properties:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Under the <span class="strong"><strong>Name</strong></span> column, the <code class="literal">monk_name</code> property</li><li class="listitem" style="list-style-type: disc">Under the <span class="strong"><strong>Still here</strong></span> column, <span class="strong"><strong>Yes</strong></span> or <span class="strong"><strong>No</strong></span> depending on the <code class="literal">monk_still_here</code> property</li><li class="listitem" style="list-style-type: disc">Under the <span class="strong"><strong>Height</strong></span> column, the <code class="literal">monk_height</code> property</li></ul></div><p>In order to train yourself, try to change a column title or add a <code class="literal">value</code> callback.</p><p>We are just scratching the surface here, it is recommended that you read the official documentation at <a class="ulink" href="http://docs-api.novius-os.org/en/elche/php/configuration/application/common.html">http://docs-api.novius-os.org/en/elche/php/configuration/application/common.html</a>.</p></div><div class="section" title="The edition and creation forms"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec58"/>The edition and creation forms</h3></div></div></div><p>If you <a id="id618" class="indexterm"/>create or edit a monkey, you will see that Novius OS<a id="id619" class="indexterm"/> will request the following URL:</p><p>
<code class="literal">http://localhost/novius-os/admin/my_first_application/monkey/crud/insert_update(/ID)</code>
</p><p>Therefore, we can deduce that the <code class="literal">insert_update</code> action of the <code class="literal">classes/controller/admin/monkey/crud.ctrl.php</code> controller is called. If you open the controller, you will see, you guessed it, an empty class. Again, everything is defined inside the extended <code class="literal">\Nos\Controller_Admin_Crud</code> controller.</p><p>If you read the associated <code class="literal">config/controller/admin/monkey/crud.config.php</code> configuration file, you will see that it defines the layout and fields of the edition and creation forms. All the fields are defined inside the <code class="literal">fields</code> key.</p><p>In order to train yourself, you can change some field labels by editing their <code class="literal">label</code> key.</p><p>Again, we <a id="id620" class="indexterm"/>are just scratching the surface. It is recommended that <a id="id621" class="indexterm"/>you read the official documentation at <a class="ulink" href="http://docs-api.novius-os.org/en/elche/php/configuration/application/crud.html">http://docs-api.novius-os.org/en/elche/php/configuration/application/crud.html</a>.</p></div><div class="section" title="The front controller"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl3sec59"/>The front controller</h3></div></div></div><p>Now that<a id="id622" class="indexterm"/> we have seen how things work in the back office, we have to see how our URL enhancer works.</p><p>As you might recall, enhancers are declared inside the <code class="literal">config/metadata.config.php</code> configuration file:</p><div class="informalexample"><pre class="programlisting">'enhancers' =&gt; array(
    'my_first_application_monkey' =&gt; array(
        'title' =&gt; 'My first application Monkey',
        'desc'  =&gt; '',
        'urlEnhancer' =&gt; 'my_first_application/front/monkey/main',
    ),
),</pre></div><p>Once again, it is recommended that you read the official documentation about metadata. The interesting key here is <code class="literal">urlEnhancer</code>; if you insert an enhancer into a web page, each time the web page will be displayed, Novius OS will trigger an internal HMVC request to <code class="literal">urlEnhancer</code> and display the returned content. In our case, when you display the <code class="literal">http://localhost/novius-os/monkey.html</code> web page (and the monkey enhancer inside it), Novius OS will internally request <code class="literal">my_first_application/front/monkey/main</code> and display the returned content.</p><p>As you might have guessed, it calls the <code class="literal">main</code> action of the <code class="literal">Front_Monkey</code> controller. Open <code class="literal">classes/controller/front/monkey.ctrl.php</code>, and take a look at its <code class="literal">action_main</code> method. You will see that the method returns either a single monkey view or a listing, depending on the <code class="literal">$enhancer_url</code> variable. This variable is defined at the beginning of the action:</p><div class="informalexample"><pre class="programlisting">$enhancer_url = $this-&gt;main_controller-&gt;getEnhancerUrl();</pre></div><p>Let's illustrate what the <code class="literal">$this-&gt;main_controller-&gt;getEnhancerUrl()</code> method returns in our example:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">If you request <code class="literal">http://localhost/novius-os/monkey.html</code>, it will return an empty string</li><li class="listitem" style="list-style-type: disc">If you request <code class="literal">http://localhost/novius-os/monkey/first.html</code>, it will return <code class="literal">first</code></li><li class="listitem" style="list-style-type: disc">If you request <code class="literal">http://localhost/novius-os/monkey/one/two.html</code>, it will return <code class="literal">one/two</code></li></ul></div><p>You got it; it allows the controller to know which URL relative to the web page URL is being requested when displaying the enhancer. It now makes sense; if you request the <code class="literal">monkey.html</code> root web page, the action will return the listing, otherwise it will try to find a monkey with a similar<a id="id623" class="indexterm"/> URL.</p><p>If you take a look at the <code class="literal">display_list_monkey</code> and <code class="literal">display_monkey</code> methods, you will hopefully not feel lost, as they contain only FuelPHP code (<code class="literal">ORM</code>, <code class="literal">View::forge</code>, and so on). You can see that they display the <code class="literal">front/monkey_list</code> and <code class="literal">front/monkey_item</code> views, respectively, located at <code class="literal">views/front/monkey_list.view.php</code> and <code class="literal">views/front/monkey_item.view.php</code>. In order to train yourself, you can try to tweak them a little bit.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note35"/>Note</h3><p>If you edit your views, refresh the web page and nothing happens, you might need to refresh the Novius OS web page cache. To do this, go back to the back office of Novius OS, open the Webpages App Desk, and click on <span class="strong"><strong>Renew pages' cache</strong></span> next to the <span class="strong"><strong>Add a page</strong></span> button.</p></div></div><p>The <code class="literal">getUrlEnhanced</code> method inside the Front_Monkey controller allows Novius OS to map monkey instances to URL.</p><p>Again, we <a id="id624" class="indexterm"/>are just scratching the surface here. It is recommended that you read the official documentation at <a class="ulink" href="http://docs.novius-os.org/en/latest/app_create/enhancer.html">http://docs.novius-os.org/en/latest/app_create/enhancer.html</a>.</p></div></div></div>
<div class="section" title="More about Novius OS"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec60"/>More about Novius OS</h1></div></div></div><p>We didn't tackle a lot of very important features such as application extensions, behaviors, the twinnable behavior, data sharers, and permissions, but it would require writing another book entirely about Novius OS. It is again recommended that you read the official <a id="id625" class="indexterm"/>documentation to learn more about these features:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.novius-os.org/">http://www.novius-os.org/</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://docs.novius-os.org/en/elche/">http://docs.novius-os.org/en/elche/</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://docs-api.novius-os.org/en/elche/">http://docs-api.novius-os.org/en/elche/</a></li></ul></div><p>If you <a id="id626" class="indexterm"/>have any question or encounter issues, you can also seek help in the community forum at:</p><p>
<a class="ulink" href="http://forums.novius-os.org/en/">http://forums.novius-os.org/en/</a>
</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec61"/>Summary</h1></div></div></div><p>You should now have an idea of what you can do using Novius OS. Please note that this was just a small introduction: you should read the documentation in order to have a better understanding of this promising CMS.</p><p>During this journey, by implementing various projects, we illustrated how we can use the main FuelPHP features to build robust, complex and yet efficient applications.</p><p>Most of all, I hope you enjoyed reading this book and learned some valuable skills.</p><p>Don't hesitate to send me an e-mail or tweet me if you need help on anything from the book or the FuelPHP framework.</p><p>Thank you very much for your interest.</p></div></body></html>
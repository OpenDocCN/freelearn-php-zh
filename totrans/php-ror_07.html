<html><head></head><body>
<div id="_idContainer045">
<h1 class="chapter-number" id="_idParaDest-102"><a id="_idTextAnchor103"/><span class="koboSpan" id="kobo.1.1">7</span></h1>
<h1 id="_idParaDest-103"><a id="_idTextAnchor104"/><span class="koboSpan" id="kobo.2.1">Understanding Convention over Configuration</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Convention over configuration is a phrase you’ll encounter more often than not once we start using Ruby on Rails. </span><span class="koboSpan" id="kobo.3.2">Yes, you read that right – we are ready to start using one of the fondest web frameworks for Ruby developers. </span><span class="koboSpan" id="kobo.3.3">And while it’s fun, we do need to understand the structure and how the Ruby on Rails configuration works before we start doing </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">our programming.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, we will cover installing Ruby on Rails and its file structure so that we can move around the framework with ease. </span><span class="koboSpan" id="kobo.5.2">Once we understand where to place things, we will move on to using a framework with the MVC paradigm. </span><span class="koboSpan" id="kobo.5.3">Lastly, we will learn how to send and receive data with forms </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">and sessions.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">With the Ruby on Rails configuration in mind, in this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Installing Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">on Rails</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Ruby on Rails </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">file structure</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">The MVC implementation of Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">on Rails</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">User interaction with Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">on Rails</span></span></li>
</ul>
<h1 id="_idParaDest-104"><a id="_idTextAnchor105"/><span class="koboSpan" id="kobo.17.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.18.1">To follow along with this chapter, we will need </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.20.1">Any IDE to view/edit code (SublimeText, Visual Studio Code, Notepad++, Vim, Emacs, and </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">so on)</span></span></li>
<li><span class="koboSpan" id="kobo.22.1">For macOS users, you will also need to have XCode Command Line </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">Tools installed</span></span></li>
<li><span class="koboSpan" id="kobo.24.1">Ruby version 2.6 installed and ready </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">to use</span></span></li>
<li><span class="koboSpan" id="kobo.26.1">Git client installed on our </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">local machine</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.28.1">The code presented in this chapter is available </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">at </span></span><a href="https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/"><span class="No-Break"><span class="koboSpan" id="kobo.30.1">https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.31.1">.</span></span></p>
<h1 id="_idParaDest-105"><a id="_idTextAnchor106"/><span class="koboSpan" id="kobo.32.1">If there is Ruby magic, there is Rails magic</span></h1>
<p><span class="koboSpan" id="kobo.33.1">By this point, you’re probably familiar with what is fondly referred to as Ruby magic. </span><span class="koboSpan" id="kobo.33.2">We saw some examples where Ruby “magically” generates output out of syntax that simply makes sense, but we didn’t know exactly how it’s done (hint: meta-programming). </span><span class="koboSpan" id="kobo.33.3">In the same fashion, Ruby on Rails (also known as Rails or simply RoR) internally uses meta-programming to generate functionality that is not explicitly for our eyes to see. </span><span class="koboSpan" id="kobo.33.4">We’ll understand it by looking at more examples, but first, we need to install Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">on Rails.</span></span></p>
<h2 id="_idParaDest-106"><a id="_idTextAnchor107"/><span class="koboSpan" id="kobo.35.1">Installing Ruby on Rails</span></h2>
<p><span class="koboSpan" id="kobo.36.1">Just like the libraries we’ve </span><a id="_idIndexMarker341"/><span class="koboSpan" id="kobo.37.1">seen so far, Rails is an open source gem. </span><span class="koboSpan" id="kobo.37.2">It behaves a little differently than the gems we’ve seen so far as it uses many dependencies and can generate code examples, but at the end of the day, it’s still a gem. </span><span class="koboSpan" id="kobo.37.3">This means that we can either install it by itself, or we can include it in a Gemfile. </span><span class="koboSpan" id="kobo.37.4">For this section, we will have to divide the process into three separate sections – macOS installation, Windows installation, and Linux installation – as each operating system </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">behaves differently.</span></span></p>
<h3><span class="koboSpan" id="kobo.39.1">Installing Ruby on Rails on macOS</span></h3>
<p><span class="koboSpan" id="kobo.40.1">The first step of setting up our local</span><a id="_idIndexMarker342"/><span class="koboSpan" id="kobo.41.1"> environment is to install </span><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">rbenv</span></strong><span class="koboSpan" id="kobo.43.1">. </span><span class="koboSpan" id="kobo.43.2">For most Mac installations, </span><strong class="source-inline"><span class="koboSpan" id="kobo.44.1">brew</span></strong><span class="koboSpan" id="kobo.45.1"> will simplify this process. </span><span class="koboSpan" id="kobo.45.2">Let’s get</span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.46.1"> started with </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">the steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.48.1">Let’s open a shell and run the </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.50.1">brew install rbenv</span></strong></pre></li> <li><span class="koboSpan" id="kobo.51.1">This should install the </span><strong class="source-inline"><span class="koboSpan" id="kobo.52.1">rbenv</span></strong><span class="koboSpan" id="kobo.53.1"> program. </span><span class="koboSpan" id="kobo.53.2">Now, you’ll need to add the following line to your </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">bash profile:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.55.1">eval "$(rbenv init -)"</span></strong></pre></li> <li><span class="koboSpan" id="kobo.56.1">Once you’ve added this line to your profile, you should activate the change by either opening a new shell or running the </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.58.1">source ~/.bash_profile</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.59.1">Note that this command may differ if you’re using another shell, such as zsh </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">or fish.</span></span></p></li> <li><span class="koboSpan" id="kobo.61.1">With </span><strong class="source-inline"><span class="koboSpan" id="kobo.62.1">rbenv</span></strong><span class="koboSpan" id="kobo.63.1"> installed, we need to install Ruby </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">2.6.10</span></strong><span class="koboSpan" id="kobo.65.1"> with the </span><span class="No-Break"><span class="koboSpan" id="kobo.66.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.67.1">rbenv install 2.6.10</span></strong></pre></li> <li><span class="koboSpan" id="kobo.68.1">Once Ruby 2.6.10 has been</span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.69.1"> installed, we must set the default Ruby version with the </span><span class="No-Break"><span class="koboSpan" id="kobo.70.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.71.1">rbenv global 2.6.10</span></strong></pre></li> <li><span class="koboSpan" id="kobo.72.1">Now, we need to install the</span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.73.1"> program to manage gems, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">bundler</span></strong><span class="koboSpan" id="kobo.75.1">. </span><span class="koboSpan" id="kobo.75.2">Let’s install it with the </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.77.1">gem install bundler</span></strong></pre></li> </ol>
<p><span class="koboSpan" id="kobo.78.1">With that, our environment is ready for the next steps in </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.80.1">If you wish to see more details about this installation, please refer to the following web </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">page: </span></span><a href="https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-with-rbenv-on-macos"><span class="No-Break"><span class="koboSpan" id="kobo.82.1">https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-with-rbenv-on-macos</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.83.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.84.1">Installing Ruby on Rails on Windows</span></h3>
<p><span class="koboSpan" id="kobo.85.1">Follow these steps to install </span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.86.1">Ruby on Rails </span><span class="No-Break"><span class="koboSpan" id="kobo.87.1">on Windows:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.88.1">To set up our local </span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.89.1">environment, first, we must install Git for Windows. </span><span class="koboSpan" id="kobo.89.2">We can download the package </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">from </span></span><a href="https://gitforwindows.org/"><span class="No-Break"><span class="koboSpan" id="kobo.91.1">https://gitforwindows.org/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.92.1">.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.93.1">Once downloaded, we can run the installer; it should open the </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">installer application:</span></span></p></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer028">
<span class="koboSpan" id="kobo.95.1"><img alt="Figure 7.1 – Git installer" src="image/B19230_07_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.96.1">Figure 7.1 – Git installer</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.97.1">You can safely accept </span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.98.1">the default options unless you want</span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.99.1"> to change any of the specific behavior from Git. </span><span class="koboSpan" id="kobo.99.2">At the end of the installation process, you may just deselect all the options of the wizard and move on to the </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">next step:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer029">
<span class="koboSpan" id="kobo.101.1"><img alt="Figure 7.2 – Git finalized installation" src="image/B19230_07_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.102.1">Figure 7.2 – Git finalized installation</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.103.1">We will also need the Git SDK installed for some dependencies that Ruby on Rails requires. </span><span class="koboSpan" id="kobo.103.2">We can get the</span><a id="_idIndexMarker350"/><span class="koboSpan" id="kobo.104.1"> installer </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">from </span></span><a href="https://github.com/git-for-windows/build-extra/releases/tag/git-sdk-1.0.8"><span class="No-Break"><span class="koboSpan" id="kobo.106.1">https://github.com/git-for-windows/build-extra/releases/tag/git-sdk-1.0.8</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.107.1">.</span></span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.108.1">Be careful and select the</span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.109.1"> correct option for your platform (32 or 64 bits). </span><span class="koboSpan" id="kobo.109.2">In my case, I had to choose 64 bits, so I downloaded the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.110.1">git-sdk-installer-1.0.8.0-64.7z.exe</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.111.1"> binary:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer030">
<span class="koboSpan" id="kobo.112.1"><img alt="Figure 7.3 – Git SDK download" src="image/B19230_07_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.113.1">Figure 7.3 – Git SDK download</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.114.1">Once this package has</span><a id="_idIndexMarker352"/><span class="koboSpan" id="kobo.115.1"> been downloaded, run it; we </span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.116.1">will be asked where we want the Git SDK to be installed. </span><span class="koboSpan" id="kobo.116.2">The default option is </span><span class="No-Break"><span class="koboSpan" id="kobo.117.1">fine (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.118.1">C:\git-sdk-64</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">):</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer031">
<span class="koboSpan" id="kobo.120.1"><img alt="Figure 7.4 – Git SDK installation location" src="image/B19230_07_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.121.1">Figure 7.4 – Git SDK installation location</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.122.1">This package might take a while to complete as it has to download other additional packages but it will do so on its own. </span><span class="koboSpan" id="kobo.122.2">Please be patient. </span><span class="koboSpan" id="kobo.122.3">Once this package has finished installing the SDK, it will open a Git Bash console, which looks similar to Windows PowerShell. </span><span class="koboSpan" id="kobo.122.4">We can close this Git Bash console window and open another </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">Windows PowerShell.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.124.1">Once we have the new window open, we must type the </span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.126.1">new-item -type file -path $profile -force</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.127.1">This command will help us </span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.128.1">create a Windows PowerShell profile, which will allow us to execute commands every time we open a Windows</span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.129.1"> PowerShell console. </span><span class="koboSpan" id="kobo.129.2">Once we’ve run the previous command, we may also close the Windows PowerShell window, and move on to the next step. </span><span class="koboSpan" id="kobo.129.3">At this point, we will install </span><strong class="source-inline"><span class="koboSpan" id="kobo.130.1">rbenv</span></strong><span class="koboSpan" id="kobo.131.1">, which allows us to install multiple versions of Ruby. </span><span class="koboSpan" id="kobo.131.2">However, this program wasn’t created for Windows, so its installation is a little different than in other </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">operating systems.</span></span></p></li> <li><span class="koboSpan" id="kobo.133.1">Let’s open a browser and go to the </span><em class="italic"><span class="koboSpan" id="kobo.134.1">rbenv for Windows</span></em><span class="koboSpan" id="kobo.135.1"> web </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">page: </span></span><a href="https://github.com/ccmywish/rbenv-for-windows"><span class="No-Break"><span class="koboSpan" id="kobo.137.1">https://github.com/ccmywish/rbenv-for-windows</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.138.1">.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.139.1">On that page, we will find instructions on how to install </span><strong class="source-inline"><span class="koboSpan" id="kobo.140.1">rbenv</span></strong><span class="koboSpan" id="kobo.141.1">, which we will </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">do now.</span></span></p></li>
<li><span class="koboSpan" id="kobo.143.1">Let’s open a new Windows PowerShell and type the </span><span class="No-Break"><span class="koboSpan" id="kobo.144.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.145.1">$env:RBENV_ROOT = "C:\Ruby-on-Windows "</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.146.1">This command will set a special environment variable that will be used for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.147.1">rbenv</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.148.1"> installation.</span></span></p></li> <li><span class="koboSpan" id="kobo.149.1">Once we’ve run this command, we must download the rest of the required files with the </span><span class="No-Break"><span class="koboSpan" id="kobo.150.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.151.1">iwr -useb "https://github.com/ccmywish/rbenv-for-windows/raw/main/tools/install.ps1" | iex</span></strong></pre></li> <li><span class="koboSpan" id="kobo.152.1">Once this command has finished downloading the files from GitHub, modify the user’s profile with the following command from within the </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">Windows PowerShell:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.154.1">notepad $profile</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.155.1">This will open the Notepad application and the profile we </span><span class="No-Break"><span class="koboSpan" id="kobo.156.1">previously set.</span></span></p></li> <li><span class="koboSpan" id="kobo.157.1">On the </span><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">rbenv-for-windows</span></strong><span class="koboSpan" id="kobo.159.1"> web page, we can see what the content of the file should be. </span><span class="koboSpan" id="kobo.159.2">Let’s add it with</span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.160.1"> Notepad so that the profile file now looks </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">like this:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.162.1">$env:RBENV_ROOT = "C:\Ruby-on-Windows"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.163.1">&amp; "$env:RBENV_ROOT\rbenv\bin\rbenv.ps1" init</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.164.1">Save and close Notepad, and </span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.165.1">close all Windows PowerShell windows that we may have open. </span><span class="koboSpan" id="kobo.165.2">We should open a new Windows PowerShell to make these changes take effect. </span><span class="koboSpan" id="kobo.165.3">As this is the first time </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">rbenv</span></strong><span class="koboSpan" id="kobo.167.1"> is running, our console will automatically install a default Ruby version. </span><span class="koboSpan" id="kobo.167.2">This might take a while and will put our patience to the test. </span><span class="koboSpan" id="kobo.167.3">Once the process has finished, we should see an output similar to </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">this one:</span></span></p></li> </ol>
<div>
<div class="IMG---Figure" id="_idContainer032">
<span class="koboSpan" id="kobo.169.1"><img alt="Figure 7.5 – rbenv post-installation script" src="image/B19230_07_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.170.1">Figure 7.5 – rbenv post-installation script</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.171.1">Now, we are ready to install other versions of Ruby. </span><span class="koboSpan" id="kobo.171.2">For Ruby on Rails 5, we will install </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">Ruby </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">2.6.10</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.174.1">.</span></span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.175.1">Let’s install it by running the following command on the same Windows Powershell window that we </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">just opened:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.177.1">rbenv install 2.6.10</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.178.1">The program will ask us whether we want to install the Lite version or the Full version. </span><span class="koboSpan" id="kobo.178.2">Choose the Full version. </span><span class="koboSpan" id="kobo.178.3">Once</span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.179.1"> again, this might take a while, so please </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">be patient.</span></span></p></li> <li><span class="koboSpan" id="kobo.181.1">Once this command has</span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.182.1"> finished running, we must set this Ruby version for our whole system. </span><span class="koboSpan" id="kobo.182.2">We can do this by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.184.1">rbenv global 2.6.10</span></strong></pre></li> <li><span class="koboSpan" id="kobo.185.1">To confirm that this version of Ruby has been installed and enabled, use the </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.187.1">ruby --version</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.188.1">This should give us the </span><span class="No-Break"><span class="koboSpan" id="kobo.189.1">following output:</span></span></p><pre class="source-code"><strong class="bold"><span class="koboSpan" id="kobo.190.1">ruby 2.6.10-1 (set by C: \Ruby-on-Windows \global.txt)</span></strong></pre></li> <li><span class="koboSpan" id="kobo.191.1">Ruby needs a program called </span><strong class="source-inline"><span class="koboSpan" id="kobo.192.1">bundler</span></strong><span class="koboSpan" id="kobo.193.1"> to manage all the dependencies on our system. </span><span class="koboSpan" id="kobo.193.2">So, let’s install this program with the </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.195.1">gem install bundler</span></strong></pre></li> <li><span class="koboSpan" id="kobo.196.1">Once this gem has been installed, we must update the RubyGem system with the </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.198.1"> gem update –-system 3.2.3</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.199.1">This command will also take a while to compute, but once it’s finished, we will be ready to use Ruby on Rails </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">on Windows.</span></span></p></li> </ol>
<p><span class="koboSpan" id="kobo.201.1">Next, let’s see the steps for installing Ruby on Rails </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">on Linux.</span></span></p>
<h3><span class="koboSpan" id="kobo.203.1">Installing Ruby on Rails on Linux</span></h3>
<p><span class="koboSpan" id="kobo.204.1">For Ubuntu and Debian Linux distributions, we must also install </span><strong class="source-inline"><span class="koboSpan" id="kobo.205.1">rbenv</span></strong><span class="koboSpan" id="kobo.206.1"> and the dependencies necessary for Ruby on </span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.207.1">Rails to </span><span class="No-Break"><span class="koboSpan" id="kobo.208.1">run correctly:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.209.1">Let’s start by opening a terminal </span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.210.1">and running the </span><span class="No-Break"><span class="koboSpan" id="kobo.211.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.212.1">sudo apt update</span></strong></pre></li> <li><span class="koboSpan" id="kobo.213.1">Once this command has finished updating </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">apt</span></strong><span class="koboSpan" id="kobo.215.1">, we must install our dependencies for Ruby, Ruby on Rails, and some gems that require compiling. </span><span class="koboSpan" id="kobo.215.2">We’ll do so by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.216.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.217.1">sudo apt install git curl libssl-dev libreadline-dev zlib1g-dev autoconf bison build-essential libyaml-dev libreadline-dev libncurses5-dev libffi-dev libgdbm-dev pkg-config sqlite3 nodejs</span></strong></pre></li> <li><span class="koboSpan" id="kobo.218.1">This command might take a while. </span><span class="koboSpan" id="kobo.218.2">Once it has finished running, we can install </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">rbenv</span></strong><span class="koboSpan" id="kobo.220.1"> with the </span><span class="No-Break"><span class="koboSpan" id="kobo.221.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.222.1">curl -fsSL https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer | bash</span></strong></pre></li> <li><span class="koboSpan" id="kobo.223.1">We should add </span><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">rbenv</span></strong><span class="koboSpan" id="kobo.225.1"> to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">$PATH</span></strong><span class="koboSpan" id="kobo.227.1">. </span><span class="koboSpan" id="kobo.227.2">Let’s do so by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.229.1">echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bashrc</span></strong></pre></li> <li><span class="koboSpan" id="kobo.230.1">Now, let’s add the initialize command for </span><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">rbenv</span></strong><span class="koboSpan" id="kobo.232.1"> to our bash profile with the </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.234.1">echo 'eval "$(rbenv init -)"' &gt;&gt; ~/.bashrc</span></strong></pre></li> <li><span class="koboSpan" id="kobo.235.1">Next, run the bash profile with the </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.237.1">source ~/.bashrc</span></strong></pre></li> <li><span class="koboSpan" id="kobo.238.1">This command will (among other things) make the </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">rbenv</span></strong><span class="koboSpan" id="kobo.240.1"> executable available to us. </span><span class="koboSpan" id="kobo.240.2">Now, we can install Ruby 2.6.10 on our system with the </span><span class="No-Break"><span class="koboSpan" id="kobo.241.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.242.1">rbenv install 2.6.10</span></strong></pre></li> <li><span class="koboSpan" id="kobo.243.1">This command might take a little while </span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.244.1">as it installs </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">openssl</span></strong><span class="koboSpan" id="kobo.246.1"> and that process will take some time. </span><span class="koboSpan" id="kobo.246.2">Once this</span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.247.1"> command has finished installing Ruby </span><strong class="source-inline"><span class="koboSpan" id="kobo.248.1">2.6.10</span></strong><span class="koboSpan" id="kobo.249.1">, we need to set it as the default Ruby version for the whole machine. </span><span class="koboSpan" id="kobo.249.2">We can do so by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.251.1">rbenv global 2.6.10</span></strong></pre></li> <li><span class="koboSpan" id="kobo.252.1">We can confirm that this version of Ruby has been installed by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.254.1">ruby --version</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.255.1">This will result in the </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">following output:</span></span></p><pre class="source-code"><strong class="bold"><span class="koboSpan" id="kobo.257.1">ruby 2.6.10p210 (2022-04-12 revision 67958) [x86_64-linux]</span></strong></pre></li> <li><span class="koboSpan" id="kobo.258.1">Ruby needs a program called </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">bundler</span></strong><span class="koboSpan" id="kobo.260.1"> to manage all the dependencies on our system. </span><span class="koboSpan" id="kobo.260.2">So, let’s install this program with the </span><span class="No-Break"><span class="koboSpan" id="kobo.261.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.262.1">gem install bundler</span></strong></pre></li> <li><span class="koboSpan" id="kobo.263.1">Once this gem has been installed, we can update the RubyGems system with the </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">following command:</span></span><pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.265.1"> gem update –-system 3.2.3</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.266.1">This command will also take a while to compute, but once it’s finished, we will be ready to use Ruby on Rails </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">on Linux.</span></span></p></li> </ol>
<p><span class="koboSpan" id="kobo.268.1">For other Linux distributions and other operating systems, please refer to the official Ruby-lang </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">page: </span></span><a href="https://www.ruby-lang.org/en/documentation/installation/"><span class="No-Break"><span class="koboSpan" id="kobo.270.1">https://www.ruby-lang.org/en/documentation/installation/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.271.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.272.1">Downloading our Ruby on Rails application</span></h3>
<p><span class="koboSpan" id="kobo.273.1">While there are a couple of ways to </span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.274.1">use Rails code, for ease of use, we will download an existing project as an example. </span><span class="koboSpan" id="kobo.274.2">We’ll use the Git tool to clone the project. </span><span class="koboSpan" id="kobo.274.3">Open a terminal and type the </span><span class="No-Break"><span class="koboSpan" id="kobo.275.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.276.1">
git clone https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails.git</span></pre> <p><span class="koboSpan" id="kobo.277.1">This will generate a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">From-PHP-to-Ruby-on-Rails</span></strong><span class="koboSpan" id="kobo.279.1">. </span><span class="koboSpan" id="kobo.279.2">Now, let’s navigate into the project folder with the </span><span class="No-Break"><span class="koboSpan" id="kobo.280.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.281.1">
cd From-PHP-to-Ruby-on-Rails/chapter07/rails5/</span></pre> <p><span class="koboSpan" id="kobo.282.1">Once we’ve navigated into this folder, you’ll notice a </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">Gemfile</span></strong><span class="koboSpan" id="kobo.284.1">. </span><span class="koboSpan" id="kobo.284.2">If we open that </span><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">Gemfile</span></strong><span class="koboSpan" id="kobo.286.1"> with our IDE of choice, we’ll see the beginning of </span><span class="No-Break"><span class="koboSpan" id="kobo.287.1">the dependencies:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.288.1">
source 'https://rubygems.org'
git_source(:github) do |repo_name|
  repo_name = "#{repo_name}/#{repo_name}"
    unless repo_name.include?("/")
  "https://github.com/#{repo_name}.git"
end
# Bundle edge Rails instead: gem 'rails', github:
  'rails/rails'
gem 'rails', '~&gt; 5.1.7'
…</span></pre> <p><span class="koboSpan" id="kobo.289.1">Let’s not dwell on all the details (yet) except for the Rails gem that is declared there. </span><span class="koboSpan" id="kobo.289.2">As you may recall from the previous chapters, we can install gems and their dependencies using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">bundle</span></strong><span class="koboSpan" id="kobo.291.1"> command. </span><span class="koboSpan" id="kobo.291.2">So, let’s do just that. </span><span class="koboSpan" id="kobo.291.3">Type the </span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.293.1">
bundle install</span></pre> <p><span class="koboSpan" id="kobo.294.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.295.1">bundle</span></strong><span class="koboSpan" id="kobo.296.1"> command takes all of the gems declared in </span><strong class="source-inline"><span class="koboSpan" id="kobo.297.1">Gemfile</span></strong><span class="koboSpan" id="kobo.298.1">, creates a dependency map (called </span><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">Gemfile.lock</span></strong><span class="koboSpan" id="kobo.300.1">), and installs these dependencies. </span><span class="koboSpan" id="kobo.300.2">The output of this command should look similar </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">to this:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.302.1">
Fetching gem metadata from https://rubygems.org/...........
</span><span class="koboSpan" id="kobo.302.2">Resolving dependencies...
</span><span class="koboSpan" id="kobo.302.3">Using rake 13.0.6
Using concurrent-ruby 1.2.2
Using minitest 5.18.1
…
Using rails 5.1.7
Using sass-rails 5.0.7
Bundle complete! </span><span class="koboSpan" id="kobo.302.4">16 Gemfile dependencies, 79 gems now installed.
</span><span class="koboSpan" id="kobo.302.5">Use `bundle info [gemname]` to see where a bundled gem is installed.</span></pre> <p><span class="koboSpan" id="kobo.303.1">The output has been truncated for</span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.304.1"> brevity. </span><span class="koboSpan" id="kobo.304.2">To prove that our dependencies have been installed correctly, we should run the </span><span class="No-Break"><span class="koboSpan" id="kobo.305.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.306.1">
bundle exec rails --version</span></pre> <p><span class="koboSpan" id="kobo.307.1">We should obtain the version of Rails that we </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">just installed:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.309.1">
Rails 5.1.7</span></pre> <p><span class="koboSpan" id="kobo.310.1">And voilá – we have successfully installed Ruby on Rails. </span><span class="koboSpan" id="kobo.310.2">However, there are still a couple of things we need to clarify before we can start using this framework. </span><span class="koboSpan" id="kobo.310.3">Firstly, you may be wondering why we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">bundle exec rails --version</span></strong><span class="koboSpan" id="kobo.312.1"> command and not just </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">rails --version</span></strong><span class="koboSpan" id="kobo.314.1">. </span><span class="koboSpan" id="kobo.314.2">Well, as the Rails developers have to deal with Rails being able to run in different environments and platforms (be it Windows, Linux, macOS, and others), one way to make sure the “bundle” of libraries works correctly is to run rails commands in the context of the “bundle.” </span><span class="koboSpan" id="kobo.314.3">This is just a fancy way of saying it’s for “running the command using the libraries we just installed.” </span><span class="koboSpan" id="kobo.314.4">So, from now on, all of our Rails commands will be wrapped with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.315.1">bundle exec</span></strong><span class="koboSpan" id="kobo.316.1"> command. </span><span class="koboSpan" id="kobo.316.2">If you’re interested in more details regarding this command, please refer </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">to</span></span><span class="No-Break"> </span><a href="https://bundler.io/v2.4/man/bundle-exec.1.html"><span class="No-Break"><span class="koboSpan" id="kobo.318.1">https://bundler.io/v2.4/man/bundle-exec.1.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.319.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.320.1">Now that we’ve finally</span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.321.1"> installed Ruby on Rails, we’ll start our server and take a ride on </span><span class="No-Break"><span class="koboSpan" id="kobo.322.1">the Rails.</span></span></p>
<h2 id="_idParaDest-107"><a id="_idTextAnchor108"/><span class="koboSpan" id="kobo.323.1">Starting our Ruby on Rails project</span></h2>
<p><span class="koboSpan" id="kobo.324.1">Running our sample Rails </span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.325.1">application requires that we run the </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.327.1">
bundle exec rails server</span></pre> <p><span class="koboSpan" id="kobo.328.1">We should see the following output after pressing the </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.329.1">Enter</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.330.1"> key:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.331.1">
=&gt; Booting Puma
=&gt; Rails 5.1.7 application starting in development
=&gt; Run `rails server -h` for more startup options
Puma starting in single mode...
</span><span class="koboSpan" id="kobo.331.2">* Version 3.12.6 (ruby 2.6.10-p210), codename: Llamas in
  Pajamas
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://localhost:3000
Use Ctrl-C to stop</span></pre> <p><span class="koboSpan" id="kobo.332.1">Once we see this message, it means that we are ready to rock and roll. </span><span class="koboSpan" id="kobo.332.2">Open any web browser and, in the location bar, type </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.334.1">
http://localhost:3000</span></pre> <p><span class="koboSpan" id="kobo.335.1">We should see the </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">following page:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer033">
<span class="koboSpan" id="kobo.337.1"><img alt="Figure 7.6 – Rails landing page" src="image/B19230_07_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.338.1">Figure 7.6 – Rails landing page</span></p>
<p><span class="koboSpan" id="kobo.339.1">Congratulations! </span><span class="koboSpan" id="kobo.339.2">We have</span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.340.1"> successfully run our first Ruby on Rails sample application. </span><span class="koboSpan" id="kobo.340.2">It’s always exciting and magical (at least for me) when you see this image for the first time. </span><span class="koboSpan" id="kobo.340.3">And by magic, I mean the way Rails is configured to use a web server and other tools to make this page possible. </span><span class="koboSpan" id="kobo.340.4">Now, before we start messing around with this sample application, let’s look at the file structure of Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">on Rails.</span></span></p>
<h1 id="_idParaDest-108"><a id="_idTextAnchor109"/><span class="koboSpan" id="kobo.342.1">Rails file structure explained</span></h1>
<p><span class="koboSpan" id="kobo.343.1">One of the first things you need to learn as you learn Ruby on Rails is learning where things go in its file structure. </span><span class="koboSpan" id="kobo.343.2">In my case, it took me too long to connect the dots, but once I did, I no longer struggled with </span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.344.1">placing things. </span><span class="koboSpan" id="kobo.344.2">In the long run, it even helps you whenever a new Rails version comes out as the file structures are very similar among versions. </span><span class="koboSpan" id="kobo.344.3">So, let’s look at all the folders. </span><span class="koboSpan" id="kobo.344.4">Here’s the </span><span class="No-Break"><span class="koboSpan" id="kobo.345.1">file structure:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.346.1">
.
</span><span class="koboSpan" id="kobo.346.2">├── app
│    ├── assets
│    │   ├── config
│    │   ├── images
│    │   ├── javascripts
│    │   │    └── channels
│    │   └── stylesheets
│    ├── channels
│    │   └── application_cable
│    ├── controllers
│    │   └── concerns
│    ├── helpers
│    ├── jobs
│    ├── mailers
│    ├── models
│    │   └── concerns
│    └── views
│        └── layouts
├── bin
├── config
│    ├── environments
│    ├── initializers
│    └── locales
├── db
├── lib
│    ├── assets
│    └── tasks
├── log
├── public
├── test
│    ├── controllers
│    ├── fixtures
│    │   └── files
│    ├── helpers
│    ├── integration
│    ├── mailers
│    ├── models
│    └── system
├── tmp
│    ├── cache
│    │   └── assets
│    ├── pids
│    └── sockets
└── vendor</span></pre> <p><span class="koboSpan" id="kobo.347.1">It may seem like a lot and even overwhelming, but we will be using five folders: </span><strong class="source-inline"><span class="koboSpan" id="kobo.348.1">app/controllers</span></strong><span class="koboSpan" id="kobo.349.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.350.1">app/models</span></strong><span class="koboSpan" id="kobo.351.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.352.1">app/views</span></strong><span class="koboSpan" id="kobo.353.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.354.1">config</span></strong><span class="koboSpan" id="kobo.355.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">public</span></strong><span class="koboSpan" id="kobo.357.1">. </span><span class="koboSpan" id="kobo.357.2">Rails is a </span><strong class="bold"><span class="koboSpan" id="kobo.358.1">Model View Controller</span></strong><span class="koboSpan" id="kobo.359.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.360.1">MVC</span></strong><span class="koboSpan" id="kobo.361.1">) framework, and </span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.362.1">as such, we can infer that controllers will go into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.363.1">controllers</span></strong><span class="koboSpan" id="kobo.364.1"> folder, models in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.365.1">models</span></strong><span class="koboSpan" id="kobo.366.1"> folder, and views in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.367.1">views</span></strong><span class="koboSpan" id="kobo.368.1"> folder. </span><span class="koboSpan" id="kobo.368.2">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">config</span></strong><span class="koboSpan" id="kobo.370.1"> folder, we’ll store configuration values such as our defined URL routes, database connection values, and values that may differ from environment to environment (that is, development, production, and testing). </span><span class="koboSpan" id="kobo.370.2">Last but not least, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.371.1">public</span></strong><span class="koboSpan" id="kobo.372.1"> folder, we’ll store </span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.373.1">certain assets that the web server needs to access. </span><span class="koboSpan" id="kobo.373.2">We might occasionally have to handle other folders, but for the most part, as a rookie RoR developer, we will mostly handle the </span><span class="No-Break"><span class="koboSpan" id="kobo.374.1">aforementioned folders.</span></span></p>
<p><span class="koboSpan" id="kobo.375.1">Now that we’ve taken a peek into the file structure of Rails, we can move on to the next section, where we’ll dive into how the MVC pattern comes </span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">into play.</span></span></p>
<h1 id="_idParaDest-109"><a id="_idTextAnchor110"/><span class="koboSpan" id="kobo.377.1">MVC at its finest</span></h1>
<p><span class="koboSpan" id="kobo.378.1">As mentioned previously, Rails is</span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.379.1"> an MVC controller. </span><span class="koboSpan" id="kobo.379.2">If you’ve used PHP frameworks in the past, such as CodeIgniter, Symfony, or Laravel, you will probably be familiar with the term. </span><span class="koboSpan" id="kobo.379.3">If you’re not, I recommend checking out </span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">these pages:</span></span></p>
<ul>
<li><a href="https://www.oracle.com/technical-resources/articles/java/java-se-app-design-with-mvc.html"><span class="No-Break"><span class="koboSpan" id="kobo.381.1">https://www.oracle.com/technical-resources/articles/java/java-se-app-design-with-mvc.html</span></span></a></li>
<li><a href="https://pusher.com/blog/laravel-mvc-use/#why-use-mvc"><span class="No-Break"><span class="koboSpan" id="kobo.382.1">https://pusher.com/blog/laravel-mvc-use/#why-use-mvc</span></span></a></li>
</ul>
<p><span class="koboSpan" id="kobo.383.1">In summary, the MVC pattern divides our application into thre</span><a id="_idTextAnchor111"/><span class="koboSpan" id="kobo.384.1">e components – the model, in which we save all of our business logic (mostly but not exclusively by connecting to a database), the view, in which we hold what is to be shown on the browser (HTML for the most part), and the controller, which serves as the organizer of the previous two. </span><span class="koboSpan" id="kobo.384.2">If we were to use an example to explain this, a user authentication component would function as follows: the HTML form that shows the user and password fields would be created on the view. </span><span class="koboSpan" id="kobo.384.3">Once the user clicks on the button to submit these fields, the controller will receive the form data (user and password), and pass these to the model. </span><span class="koboSpan" id="kobo.384.4">After this, the model will connect to the database and attempt to find an entry on the database that matches the user and password. </span><span class="koboSpan" id="kobo.384.5">If we find a user entry, the model will send back the user entry found on the database. </span><span class="koboSpan" id="kobo.384.6">The next step would be the controller telling the browser to redirect to a page that shows the user as signed in and displays said user data that was passed by the model. </span><span class="koboSpan" id="kobo.384.7">While this may sound like a lot of work, Rails does an excellent job of abstracting these components in a way that is almost invisible to us. </span><span class="koboSpan" id="kobo.384.8">And this is where we will see how convention over configuration works in Rails. </span><span class="koboSpan" id="kobo.384.9">In other frameworks, we may have to define where our controller, model, and views live. </span><span class="koboSpan" id="kobo.384.10">We have the liberty to do so. </span><span class="koboSpan" id="kobo.384.11">In Rails, however, we need no such distinction. </span><span class="koboSpan" id="kobo.384.12">And this works </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">like magic.</span></span></p>
<p><span class="koboSpan" id="kobo.386.1">Let’s consider an example of</span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.387.1"> creating a controller. </span><span class="koboSpan" id="kobo.387.2">The simplest way to do so is by using Rails generators. </span><span class="koboSpan" id="kobo.387.3">Rails generators are tools that help us generate boilerplate controllers, models, and more. </span><span class="koboSpan" id="kobo.387.4">We’ll use this tool to generate our controller. </span><span class="koboSpan" id="kobo.387.5">Let’s go to the terminal where we have our Rails project still running. </span><span class="koboSpan" id="kobo.387.6">Within that terminal, press (and keep pressing) the </span><em class="italic"><span class="koboSpan" id="kobo.388.1">Ctrl</span></em><span class="koboSpan" id="kobo.389.1"> key. </span><span class="koboSpan" id="kobo.389.2">Then (while still pressing the </span><em class="italic"><span class="koboSpan" id="kobo.390.1">Ctrl</span></em><span class="koboSpan" id="kobo.391.1"> key) press the </span><em class="italic"><span class="koboSpan" id="kobo.392.1">C</span></em><span class="koboSpan" id="kobo.393.1"> key. </span><span class="koboSpan" id="kobo.393.2">This will send a signal to our application to stop; the terminal should display something </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.395.1">
…
^C- Gracefully stopping, waiting for requests to finish
=== puma shutdown: 2023-07-22 21:52:24 -0700 ===
- Goodbye!
</span><span class="koboSpan" id="kobo.395.2">Exiting</span></pre> <p><span class="koboSpan" id="kobo.396.1">Now, let’s generate a </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">Home</span></strong><span class="koboSpan" id="kobo.398.1"> controller. </span><span class="koboSpan" id="kobo.398.2">We can do so by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.399.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.400.1">
bundle exec rails generate controller Home</span></pre> <p><span class="koboSpan" id="kobo.401.1">This will output </span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.403.1">
Running via Spring preloader in process 76607
      create  app/controllers/home_controller.rb
      invoke  erb
      create    app/views/home
      invoke  test_unit
      create    test/controllers/home_controller_test.rb
      invoke  helper
      create    app/helpers/home_helper.rb
      invoke    test_unit
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/home.coffee
      invoke    scss
      create      app/assets/stylesheets/home.scss</span></pre> <p><span class="koboSpan" id="kobo.404.1">This process will also generate the </span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.405.1">controller and a couple of other files for testing and formatting; we will ignore them. </span><span class="koboSpan" id="kobo.405.2">Let’s just focus on the generated controller in </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">app/controllers/home_controller.rb</span></strong><span class="koboSpan" id="kobo.407.1">. </span><span class="koboSpan" id="kobo.407.2">Let’s look at </span><span class="No-Break"><span class="koboSpan" id="kobo.408.1">its contents:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.409.1">
class HomeController &lt; ApplicationController
end</span></pre> <p><span class="koboSpan" id="kobo.410.1">For now, it’s an empty controller, but we will soon populate it with actions that we will map using Rails </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">routes (</span></span><a href="https://guides.rubyonrails.org/routing.html"><span class="No-Break"><span class="koboSpan" id="kobo.412.1">https://guides.rubyonrails.org/routing.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.413.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.414.1">If you’re unfamiliar with the concept, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.415.1">routes</span></strong><span class="koboSpan" id="kobo.416.1"> file simply maps a specific URL to a controller and an action. </span><span class="koboSpan" id="kobo.416.2">In simple terms, this specifies what controller action will be called when a specific URL is called. </span><span class="koboSpan" id="kobo.416.3">Let’s start by creating a URL that will be called when we open our browser </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.418.1">http://localhost:3000/home</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.420.1">So, let’s start by starting our application again, but now, instead of using </span><strong class="source-inline"><span class="koboSpan" id="kobo.421.1">rails server</span></strong><span class="koboSpan" id="kobo.422.1">, we’ll use the shortcut command, </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">rails s</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.425.1">
bundle exec rails s</span></pre> <p><span class="koboSpan" id="kobo.426.1">We should see the following output after pressing the </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.427.1">Enter</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.428.1"> key:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.429.1">
=&gt; Booting Puma
=&gt; Rails 5.1.7 application starting in development
=&gt; Run `rails server -h` for more startup options
Puma starting in single mode...
</span><span class="koboSpan" id="kobo.429.2">* Version 3.12.6 (ruby 2.6.10-p210), codename: Llamas in Pajamas
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://localhost:3000
Use Ctrl-C to stop</span></pre> <p><span class="koboSpan" id="kobo.430.1">Since we have not created the route, if we</span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.431.1"> opened our browser right now and went to http://localhost:3000/home, we would see an </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">error page:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.433.1"><img alt="Figure 7.7 – Rails routing error page" src="image/B19230_07_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.434.1">Figure 7.7 – Rails routing error page</span></p>
<p><span class="koboSpan" id="kobo.435.1">This is because we have not defined any routes. </span><span class="koboSpan" id="kobo.435.2">Let’s create our </span><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">home</span></strong><span class="koboSpan" id="kobo.437.1"> route. </span><span class="koboSpan" id="kobo.437.2">We can do so by opening the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.438.1">config/routes.rb</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.439.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.440.1">
Rails.application.routes.draw do
  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html
end</span></pre> <p><span class="koboSpan" id="kobo.441.1">So, let’s define a route. </span><span class="koboSpan" id="kobo.441.2">Our code </span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.442.1">should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.443.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.444.1">
Rails.application.routes.draw do
  # For details on the DSL available within this file, see
    http://guides.rubyonrails.org/routing.html
  get 'home', to: 'home#index'
end</span></pre> <p><span class="koboSpan" id="kobo.445.1">Here, we are telling Rails that when the application gets a </span><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">GET</span></strong><span class="koboSpan" id="kobo.447.1"> request with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.448.1">home</span></strong><span class="koboSpan" id="kobo.449.1"> URL, it will point to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.450.1">home</span></strong><span class="koboSpan" id="kobo.451.1"> controller, and execute the </span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">index</span></strong><span class="koboSpan" id="kobo.453.1"> action. </span><span class="koboSpan" id="kobo.453.2">Let’s go back to our browser and refresh the page. </span><span class="koboSpan" id="kobo.453.3">Now, our error should be </span><span class="No-Break"><span class="koboSpan" id="kobo.454.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<span class="koboSpan" id="kobo.455.1"><img alt="Figure 7.8 – Rails unknown action error page" src="image/B19230_07_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.456.1">Figure 7.8 – Rails unknown action error page</span></p>
<p id="_page143"><span class="koboSpan" id="kobo.457.1">So, Rails found </span><strong class="source-inline"><span class="koboSpan" id="kobo.458.1">HomeController</span></strong><span class="koboSpan" id="kobo.459.1">, but it could not find the </span><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">index</span></strong><span class="koboSpan" id="kobo.461.1"> action as it doesn’t exist yet. </span><span class="koboSpan" id="kobo.461.2">Let’s create it. </span><span class="koboSpan" id="kobo.461.3">Open our </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">app/controllers/home_controller.rb</span></strong><span class="koboSpan" id="kobo.463.1"> file and add the following code </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">to it:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.465.1">
class HomeController &lt; ApplicationController
    def index
    end
end</span></pre> <p><span class="koboSpan" id="kobo.466.1">This is</span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.467.1"> familiar syntax – it’s </span><strong class="bold"><span class="koboSpan" id="kobo.468.1">object-oriented programming</span></strong><span class="koboSpan" id="kobo.469.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.470.1">OOP</span></strong><span class="koboSpan" id="kobo.471.1">) in Ruby. </span><span class="koboSpan" id="kobo.471.2">We have a class called </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">HomeController</span></strong><span class="koboSpan" id="kobo.473.1"> that inherits</span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.474.1"> from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">ApplicationController</span></strong><span class="koboSpan" id="kobo.476.1"> class, which has a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.477.1">index</span></strong><span class="koboSpan" id="kobo.478.1">. </span><span class="koboSpan" id="kobo.478.2">For now, this is all we are going to do for this class. </span><span class="koboSpan" id="kobo.478.3">Now, let’s refresh our browser again; we’ll see a more </span><span class="No-Break"><span class="koboSpan" id="kobo.479.1">detailed error:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer036">
<span class="koboSpan" id="kobo.480.1"><img alt="Figure 7.9 – Rails unknown format error page" src="image/B19230_07_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.481.1">Figure 7.9 – Rails unknown format error page</span></p>
<p><span class="koboSpan" id="kobo.482.1">This error is thrown because </span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.483.1">Rails found the controller and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.484.1">index</span></strong><span class="koboSpan" id="kobo.485.1"> action but is unable to load a view into the browser because no view has been defined. </span><span class="koboSpan" id="kobo.485.2">Let’s add the view. </span><span class="koboSpan" id="kobo.485.3">We can do this by creating the </span><strong class="source-inline"><span class="koboSpan" id="kobo.486.1">app/views/home/index.html.erb</span></strong><span class="koboSpan" id="kobo.487.1"> file with the </span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">following content:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.489.1">
&lt;h2&gt;Home controller&lt;/h2&gt;
&lt;h3&gt;Index Action&lt;/h3&gt;</span></pre> <p><span class="koboSpan" id="kobo.490.1">Now, let’s refresh the browser once more; we should see the </span><span class="No-Break"><span class="koboSpan" id="kobo.491.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer037">
<span class="koboSpan" id="kobo.492.1"><img alt="Figure 7.10 – Rendered view" src="image/B19230_07_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.493.1">Figure 7.10 – Rendered view</span></p>
<p><span class="koboSpan" id="kobo.494.1">This is one of the features I have</span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.495.1"> loved about Rails ever since I ran a Rails application for the first time. </span><span class="koboSpan" id="kobo.495.2">Without needing any additional configuration, Rails “knows” where to look for views. </span><span class="koboSpan" id="kobo.495.3">In this case, Rails “knew” that there should be a </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">home</span></strong><span class="koboSpan" id="kobo.497.1"> folder inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">views</span></strong><span class="koboSpan" id="kobo.499.1"> folder. </span><span class="koboSpan" id="kobo.499.2">Rails also “knew” to look for an </span><strong class="source-inline"><span class="koboSpan" id="kobo.500.1">index.html.erb</span></strong><span class="koboSpan" id="kobo.501.1"> file within this </span><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">home</span></strong><span class="koboSpan" id="kobo.503.1"> folder. </span><span class="koboSpan" id="kobo.503.2">In other frameworks (especially PHP ones), you must specify what file you will be rendering as a view within the controller. </span><span class="koboSpan" id="kobo.503.3">This becomes repetitive and impractical in the long run. </span><span class="koboSpan" id="kobo.503.4">Rails solves this in a very elegant and intuitive way. </span><span class="koboSpan" id="kobo.503.5">This is what convention over configuration refers to. </span><span class="koboSpan" id="kobo.503.6">Knowing the convention, we don’t need to configure where Rails should look </span><span class="No-Break"><span class="koboSpan" id="kobo.504.1">for views.</span></span></p>
<p><span class="koboSpan" id="kobo.505.1">Now that we have a basic understanding of the MVC pattern and how its components make up our project structure, let’s move on to the next section, where we’ll learn how to use this MVC structure to send, receive, and save data </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">with Rails.</span></span></p>
<h1 id="_idParaDest-110"><a id="_idTextAnchor112"/><span class="koboSpan" id="kobo.507.1">POST, GET, and SESSION in Rails</span></h1>
<p><span class="koboSpan" id="kobo.508.1">One of the main differences while doing web development between PHP and Ruby is that PHP is web-based </span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.509.1">out of the box, while Ruby is not. </span><span class="koboSpan" id="kobo.509.2">All PHP needs is a web server with PHP enabled and we’re good to go. </span><span class="koboSpan" id="kobo.509.3">For development, PHP even comes with an internal web server. </span><span class="koboSpan" id="kobo.509.4">On the other hand, Ruby requires the use of a framework to be able to use web protocols and tools. </span><span class="koboSpan" id="kobo.509.5">Ruby on Rails is not the only framework that we could use for web development, but it’s the most popular one. </span><span class="koboSpan" id="kobo.509.6">You might also want to check out the Sinatra framework just to </span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.510.1">have another option other than </span><span class="No-Break"><span class="koboSpan" id="kobo.511.1">Rails: </span></span><a href="https://sinatrarb.com/"><span class="No-Break"><span class="koboSpan" id="kobo.512.1">https://sinatrarb.com/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.513.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.514.1">We will stick to Rails for web development. </span><span class="koboSpan" id="kobo.514.2">One of the most popular tools that’s used within web development is forms. </span><span class="koboSpan" id="kobo.514.3">Forms help us get data from the user and handle said data to accomplish different tasks. </span><span class="koboSpan" id="kobo.514.4">We can set search criteria, authenticate users, or simply show previously saved data. </span><span class="koboSpan" id="kobo.514.5">In PHP, we can access these tools via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.515.1">$_POST</span></strong><span class="koboSpan" id="kobo.516.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">$_GET</span></strong><span class="koboSpan" id="kobo.518.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.519.1">$_SESSION</span></strong><span class="koboSpan" id="kobo.520.1"> arrays. </span><span class="koboSpan" id="kobo.520.2">In contrast, Rails handles this slightly differently but still in a useful and intuitive way. </span><span class="koboSpan" id="kobo.520.3">Let’s start by creating some examples with values from the URL or </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">$_GET</span></strong><span class="koboSpan" id="kobo.522.1"> values. </span><span class="koboSpan" id="kobo.522.2">First, let’s add the value to the URL by adding the parameter in our browser: </span><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">http://localhost:3000/home?search=php</span></strong><span class="koboSpan" id="kobo.524.1">. </span><span class="koboSpan" id="kobo.524.2">The information in our browser will remain the same as we have not made any changes to the view. </span><span class="koboSpan" id="kobo.524.3">Now, let’s use our </span><strong class="source-inline"><span class="koboSpan" id="kobo.525.1">index</span></strong><span class="koboSpan" id="kobo.526.1"> action on our </span><strong class="source-inline"><span class="koboSpan" id="kobo.527.1">Home</span></strong><span class="koboSpan" id="kobo.528.1"> controller and add these parameters. </span><span class="koboSpan" id="kobo.528.2">Once again, we must open our </span><strong class="source-inline"><span class="koboSpan" id="kobo.529.1">app/controllers/home_controller.rb</span></strong><span class="koboSpan" id="kobo.530.1"> file and then add the </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">following changes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.532.1">
class HomeController &lt; ApplicationController
    def index
        search = params[:search]
        puts "GET value for search: #{search}"
    end
end</span></pre> <p><span class="koboSpan" id="kobo.533.1">We’ve added a variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.534.1">search</span></strong><span class="koboSpan" id="kobo.535.1"> which, in turn, is using the internal </span><strong class="source-inline"><span class="koboSpan" id="kobo.536.1">params</span></strong><span class="koboSpan" id="kobo.537.1"> variable. </span><strong class="source-inline"><span class="koboSpan" id="kobo.538.1">params</span></strong><span class="koboSpan" id="kobo.539.1"> is equivalent to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.540.1">$_REQUEST</span></strong><span class="koboSpan" id="kobo.541.1"> array in PHP. </span><span class="koboSpan" id="kobo.541.2">In this example, we are using it to catch the value through the URL (search) and set it to a variable. </span><span class="koboSpan" id="kobo.541.3">Additionally, we’re showing a message with the obtained value. </span><span class="koboSpan" id="kobo.541.4">If we refresh our browser, we won’t see any changes. </span><span class="koboSpan" id="kobo.541.5">Again, this is because we have not altered the view file. </span><span class="koboSpan" id="kobo.541.6">However, if we go to the terminal where our application is still running, we will see the </span><span class="No-Break"><span class="koboSpan" id="kobo.542.1">following output:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.543.1">
Started GET "/home?search=php" for ::1 at 2023-07-22 11:48:18 -0700
Processing by HomeController#index as HTML
  Parameters: {"search"=&gt;"php"}
GET value for search php
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 21ms (Views: 19.3ms)</span></pre> <p><span class="koboSpan" id="kobo.544.1">As we can see, the console tells us a lot about the execution. </span><span class="koboSpan" id="kobo.544.2">Firstly, it tells us what method (</span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">GET</span></strong><span class="koboSpan" id="kobo.546.1">) we’re using to call our </span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.547.1">URL. </span><span class="koboSpan" id="kobo.547.2">Then, it tells us the data that is being sent (</span><strong class="source-inline"><span class="koboSpan" id="kobo.548.1">search</span></strong><span class="koboSpan" id="kobo.549.1">). </span><span class="koboSpan" id="kobo.549.2">Finally, it displays the message we added to our code. </span><span class="koboSpan" id="kobo.549.3">While this is not the best way to debug Rails applications, it does give us an insight as to what our code does and when it does it. </span><span class="koboSpan" id="kobo.549.4">In PHP, any time we write </span><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">echo</span></strong><span class="koboSpan" id="kobo.551.1">, it immediately passes it to the browser. </span><span class="koboSpan" id="kobo.551.2">In this case, should we want to pass data to the browser, first, we have to pass it to the view. </span><span class="koboSpan" id="kobo.551.3">So, let’s do that. </span><span class="koboSpan" id="kobo.551.4">Let’s add another line to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.552.1">index</span></strong><span class="koboSpan" id="kobo.553.1"> action on our controller so that the code now looks </span><span class="No-Break"><span class="koboSpan" id="kobo.554.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.555.1">
class HomeController &lt; ApplicationController
    def index
        search = params[:search]
        puts "GET value for search #{search}"
        @search = search
    end
end</span></pre> <p><span class="koboSpan" id="kobo.556.1">This syntax looks familiar. </span><span class="koboSpan" id="kobo.556.2">If you don’t recall, we’re using an instance variable. </span><span class="koboSpan" id="kobo.556.3">This is the easiest way to pass values to a view. </span><span class="koboSpan" id="kobo.556.4">Now, let’s open the view and show this </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">@search</span></strong><span class="koboSpan" id="kobo.558.1"> value. </span><span class="koboSpan" id="kobo.558.2">Let’s open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.559.1">app/views/home/index.html.erb</span></strong><span class="koboSpan" id="kobo.560.1"> file and add code so that our view now looks </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.562.1">
&lt;h2&gt;Home controller&lt;/h2&gt;
&lt;h3&gt;Index Action&lt;/h3&gt;
&lt;p&gt;
    &lt;b&gt;Search parameter&lt;/b&gt;: &lt;%= @search %&gt;
&lt;/p&gt;</span></pre> <p><span class="koboSpan" id="kobo.563.1">This also looks all too familiar. </span><span class="koboSpan" id="kobo.563.2">In PHP, we would use </span><strong class="source-inline"><span class="koboSpan" id="kobo.564.1">&lt;?= $search ?&gt;</span></strong><span class="koboSpan" id="kobo.565.1">. </span><span class="koboSpan" id="kobo.565.2">In Rails, instance variables are immediately available to use on the view. </span><span class="koboSpan" id="kobo.565.3">Let’s refresh our browser one last time; we should see </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer038">
<span class="koboSpan" id="kobo.567.1"><img alt="Figure 7.11 – Rendered view with variables" src="image/B19230_07_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.568.1">Figure 7.11 – Rendered view with variables</span></p>
<p><span class="koboSpan" id="kobo.569.1">We’ve successfully obtained values from the URL. </span><span class="koboSpan" id="kobo.569.2">Next, we’ll look at values from a form sent through the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.570.1">POST</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.571.1"> method.</span></span></p>
<p><span class="koboSpan" id="kobo.572.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.573.1">POST</span></strong><span class="koboSpan" id="kobo.574.1"> method is used to send </span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.575.1">data that we don’t want shown on the browser. </span><span class="koboSpan" id="kobo.575.2">Imagine sending a password through the browser. </span><span class="koboSpan" id="kobo.575.3">Anyone close by could find out our deepest secret. </span><span class="koboSpan" id="kobo.575.4">Fortunately, this is where </span><strong class="source-inline"><span class="koboSpan" id="kobo.576.1">POST</span></strong><span class="koboSpan" id="kobo.577.1"> values to </span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">the rescue.</span></span></p>
<p><span class="koboSpan" id="kobo.579.1">First, let’s add </span><strong class="source-inline"><span class="koboSpan" id="kobo.580.1">GET</span></strong><span class="koboSpan" id="kobo.581.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.582.1">POST</span></strong><span class="koboSpan" id="kobo.583.1"> routes to render a </span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.584.1">form and then send the form data. </span><span class="koboSpan" id="kobo.584.2">Let’s open our routes file, </span><strong class="source-inline"><span class="koboSpan" id="kobo.585.1">config/routes.rb</span></strong><span class="koboSpan" id="kobo.586.1">, and add the </span><span class="No-Break"><span class="koboSpan" id="kobo.587.1">following routes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.588.1">
Rails.application.routes.draw do
  get 'home', to: 'home#index'
  get 'user', to: 'home#user'
  post 'user', to: 'home#user'
end</span></pre> <p><span class="koboSpan" id="kobo.589.1">We have to make two separate calls to http://localhost:3000/user – one to render the form and another one to obtain the form data. </span><span class="koboSpan" id="kobo.589.2">Now, let’s create an action on the controller. </span><span class="koboSpan" id="kobo.589.3">Let’s open our </span><strong class="source-inline"><span class="koboSpan" id="kobo.590.1">app/controllers/home_controller.rb</span></strong><span class="koboSpan" id="kobo.591.1"> file and add the </span><span class="No-Break"><span class="koboSpan" id="kobo.592.1">user action:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.593.1">
class HomeController &lt; ApplicationController
    def index
    …
    end
    def user
        @password = params[:password]
    end
end</span></pre> <p><span class="koboSpan" id="kobo.594.1">We’re only passing the </span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.595.1">password to the view so that we can compare it to a value. </span><span class="koboSpan" id="kobo.595.2">I’d like to </span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.596.1">note here that this should not be done in a real-life scenario; we’re only doing this for teaching purposes. </span><span class="koboSpan" id="kobo.596.2">Now, let’s create a view on </span><strong class="source-inline"><span class="koboSpan" id="kobo.597.1">app/views/home/user.html.erb</span></strong><span class="koboSpan" id="kobo.598.1"> and add the form with which we’ll be sending the data. </span><span class="koboSpan" id="kobo.598.2">For that purpose, we’ll be using Rails form </span><span class="No-Break"><span class="koboSpan" id="kobo.599.1">helpers (</span></span><a href="https://guides.rubyonrails.org/form_helpers.html"><span class="No-Break"><span class="koboSpan" id="kobo.600.1">https://guides.rubyonrails.org/form_helpers.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.601.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.602.1">Forms are easier to write with this tool, though at first, it might seem a little confusing. </span><span class="koboSpan" id="kobo.602.2">So, let’s add the following code to </span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">our view:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.604.1">
&lt;%= form_with url: "/user", method: :post do |form| %&gt;
    &lt;%= form.label :password, "Password:" %&gt;
    &lt;%= form.text_field :password %&gt;
    &lt;%= form.submit "SEND" %&gt;
  &lt;% end %&gt;</span></pre> <p><span class="koboSpan" id="kobo.605.1">With this code, we’ve created a form that calls the same URL but with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.606.1">POST</span></strong><span class="koboSpan" id="kobo.607.1"> method. </span><span class="koboSpan" id="kobo.607.2">Additionally, we are sending the value of a password. </span><span class="koboSpan" id="kobo.607.3">If we open our browser and set our URL to http://localhost:3000/user, we would see the </span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">following form:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer039">
<span class="koboSpan" id="kobo.609.1"><img alt="Figure 7.12 – Rendered HTML form" src="image/B19230_07_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.610.1">Figure 7.12 – Rendered HTML form</span></p>
<p><span class="koboSpan" id="kobo.611.1">However, let’s not send it quite yet as </span><a id="_idIndexMarker388"/><span class="koboSpan" id="kobo.612.1">we haven’t done anything with the value. </span><span class="koboSpan" id="kobo.612.2">Let’s</span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.613.1"> go back to the view code, </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">app/views/home/user.html.erb</span></strong><span class="koboSpan" id="kobo.615.1">, and add the following code so that the form looks </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.617.1">
&lt;%= form_with url: "/user", method: :post do |form| %&gt;
    &lt;%= form.label :password, "Password:" %&gt;
    &lt;%= form.text_field :password %&gt;
    &lt;%= form.submit "SEND" %&gt;
  &lt;% end %&gt;
&lt;% if @password == '1234' %&gt;
Password is correct
&lt;% end %&gt;</span></pre> <p><span class="koboSpan" id="kobo.618.1">Now, let’s go back to the browser and type </span><strong class="source-inline"><span class="koboSpan" id="kobo.619.1">1234</span></strong><span class="koboSpan" id="kobo.620.1"> in the password form field. </span><span class="koboSpan" id="kobo.620.2">Once we click on the </span><strong class="bold"><span class="koboSpan" id="kobo.621.1">SEND</span></strong><span class="koboSpan" id="kobo.622.1"> button, we should see </span><span class="No-Break"><span class="koboSpan" id="kobo.623.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer040">
<span class="koboSpan" id="kobo.624.1"><img alt="Figure 7.13 – Rendered HTML form with a message" src="image/B19230_07_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.625.1">Figure 7.13 – Rendered HTML form with a message</span></p>
<p><span class="koboSpan" id="kobo.626.1">If we were to type any other </span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.627.1">value, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.628.1">2345</span></strong><span class="koboSpan" id="kobo.629.1">, and click the </span><strong class="bold"><span class="koboSpan" id="kobo.630.1">SEND</span></strong><span class="koboSpan" id="kobo.631.1"> button, we would no longer see </span><span class="No-Break"><span class="koboSpan" id="kobo.632.1">this message:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer041">
<span class="koboSpan" id="kobo.633.1"><img alt="Figure 7.14 – Rendered HTML form without a message" src="image/B19230_07_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.634.1">Figure 7.14 – Rendered HTML form without a message</span></p>
<p><span class="koboSpan" id="kobo.635.1">This is because we typed in the </span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.636.1">wrong value for the password. </span><span class="koboSpan" id="kobo.636.2">Again, this example is only for teaching purposes. </span><span class="koboSpan" id="kobo.636.3">I don’t think I need to tell you it’s a bad idea to send a password to the view (even if you are not going to show the password), but for our purposes, I believe this example served us well. </span><span class="koboSpan" id="kobo.636.4">Now, let’s look at </span><span class="No-Break"><span class="koboSpan" id="kobo.637.1">session values.</span></span></p>
<p><span class="koboSpan" id="kobo.638.1">Session values help save data that’s </span><a id="_idIndexMarker392"/><span class="koboSpan" id="kobo.639.1">unique to a browser. </span><span class="koboSpan" id="kobo.639.2">They can be very useful when we’re dealing with a returning user or even an authentication component. </span><span class="koboSpan" id="kobo.639.3">For now, let’s do something simple: let’s try to find a session value and then create it. </span><span class="koboSpan" id="kobo.639.4">You already know the drill: first, we must create a route. </span><span class="koboSpan" id="kobo.639.5">Let’s open </span><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">config/routes.rb</span></strong><span class="koboSpan" id="kobo.641.1"> and add the </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">following routes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.643.1">
Rails.application.routes.draw do
  …
  get 'get_name', to: 'home#name_get'
  get 'set_name', to: 'home#name_set'
end</span></pre> <p><span class="koboSpan" id="kobo.644.1">Now, let’s create</span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.645.1"> both the </span><strong class="source-inline"><span class="koboSpan" id="kobo.646.1">get</span></strong><span class="koboSpan" id="kobo.647.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.648.1">set</span></strong><span class="koboSpan" id="kobo.649.1"> actions on the controller. </span><span class="koboSpan" id="kobo.649.2">In our </span><strong class="source-inline"><span class="koboSpan" id="kobo.650.1">app/controllers/home_controller.rb</span></strong><span class="koboSpan" id="kobo.651.1"> file, add </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.653.1">
class HomeController &lt; ApplicationController
    def index
    …
    end
    def user
    …
    end
    def name_get
        @name = session[:name]
    end
    def name_set
        session[:name] = "David"
    end
end</span></pre> <p><span class="koboSpan" id="kobo.654.1">Here, we’ve added the </span><strong class="source-inline"><span class="koboSpan" id="kobo.655.1">name_get</span></strong><span class="koboSpan" id="kobo.656.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">name_set</span></strong><span class="koboSpan" id="kobo.658.1"> actions. </span><span class="koboSpan" id="kobo.658.2">This is as simple as it might get on a controller. </span><span class="koboSpan" id="kobo.658.3">There is not much to do </span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.659.1">except set a variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.660.1">@name</span></strong><span class="koboSpan" id="kobo.661.1"> to pass to the view on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">name_get</span></strong><span class="koboSpan" id="kobo.663.1"> action. </span><span class="koboSpan" id="kobo.663.2">In </span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.664.1">parallel, we will set the name to </span><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">"David"</span></strong><span class="koboSpan" id="kobo.666.1"> on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.667.1">name_set</span></strong><span class="koboSpan" id="kobo.668.1"> action. </span><span class="koboSpan" id="kobo.668.2">Lastly, let’s add two views. </span><span class="koboSpan" id="kobo.668.3">First, create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.669.1">app/views/home/name_get.html.erb</span></strong><span class="koboSpan" id="kobo.670.1"> file with the </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">following content:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.672.1">
Getting the name from session &lt;%= @name %&gt;</span></pre> <p><span class="koboSpan" id="kobo.673.1">With this, we are only displaying the value that’s obtained from the session. </span><span class="koboSpan" id="kobo.673.2">Now, let’s create the view for setting the session value. </span><span class="koboSpan" id="kobo.673.3">Let’s create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">app/views/home/name_set.html.erb</span></strong><span class="koboSpan" id="kobo.675.1"> file with the </span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">following content:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.677.1">
Setting the name for the session.</span></pre> <p><span class="koboSpan" id="kobo.678.1">Once we’ve saved all of our changes, we can try it out in our browser. </span><span class="koboSpan" id="kobo.678.2">First, let’s point our web browser to http://localhost:3000/get_name. </span><span class="koboSpan" id="kobo.678.3">This should give us the </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer042">
<span class="koboSpan" id="kobo.680.1"><img alt="Figure 7.15 – Page with a null name" src="image/B19230_07_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.681.1">Figure 7.15 – Page with a null name</span></p>
<p><span class="koboSpan" id="kobo.682.1">As we have not set any </span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.683.1">session values, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">@name</span></strong><span class="koboSpan" id="kobo.685.1"> variable is empty. </span><span class="koboSpan" id="kobo.685.2">Now, let’s open the URL in a browser that</span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.686.1"> does set the http://localhost:3000/get_name value. </span><span class="koboSpan" id="kobo.686.2">This page should show us </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer043">
<span class="koboSpan" id="kobo.688.1"><img alt="Figure 7.16 – Page for setting the session value" src="image/B19230_07_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.689.1">Figure 7.16 – Page for setting the session value</span></p>
<p><span class="koboSpan" id="kobo.690.1">Now, let’s open our get name URL on the browser once more (http://localhost:3000/get_name); we should now see the </span><span class="No-Break"><span class="koboSpan" id="kobo.691.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer044">
<span class="koboSpan" id="kobo.692.1"><img alt="Figure 7.17 – Page for getting the session value" src="image/B19230_07_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.693.1">Figure 7.17 – Page for getting the session value</span></p>
<p><span class="koboSpan" id="kobo.694.1">We have successfully set up a</span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.695.1"> session name and retrieved it. </span><span class="koboSpan" id="kobo.695.2">This is useful for visitors to our site and returning visitors who may have created an account. </span><span class="koboSpan" id="kobo.695.3">The correct way to go about this would be to get the username from a database, set it as a session value, and then </span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.696.1">display it to the user. </span><span class="koboSpan" id="kobo.696.2">Beware that sessions are based on cookies, so if a user has their cookies disabled in their browser, none of this will work. </span><span class="koboSpan" id="kobo.696.3">We can confirm this cookie-based behavior. </span><span class="koboSpan" id="kobo.696.4">If we were to open a browser in Incognito mode, our </span><strong class="source-inline"><span class="koboSpan" id="kobo.697.1">get_name</span></strong><span class="koboSpan" id="kobo.698.1"> route would display an empty name until we browsed to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.699.1">set_value</span></strong><span class="koboSpan" id="kobo.700.1"> route. </span><span class="koboSpan" id="kobo.700.2">Just beware that just as in PHP, session values </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">are cookie-based.</span></span></p>
<p><span class="koboSpan" id="kobo.702.1">If you come from a </span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.703.1">PHP background (as I did at the time), there are a couple of additional notes that I’d like to share with you. </span><span class="koboSpan" id="kobo.703.2">One is that, unlike PHP, you can’t have a “Ruby” web server. </span><span class="koboSpan" id="kobo.703.3">In the Ruby realm, your web server will always require a framework to execute Ruby code. </span><span class="koboSpan" id="kobo.703.4">That took me a little while to digest, but once I accepted it, Ruby on Rails became my go-to framework. </span><span class="koboSpan" id="kobo.703.5">The second one is more related to setting up the local environment. </span><span class="koboSpan" id="kobo.703.6">I tested this setup on different operating systems and different versions of Mac, Windows, and Linux </span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.704.1">with different results. </span><span class="koboSpan" id="kobo.704.2">I accomplished the best-unified setup by using </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.705.1">rbenv</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.706.1"> (</span></span><a href="https://github.com/rbenv/rbenv"><span class="No-Break"><span class="koboSpan" id="kobo.707.1">https://github.com/rbenv/rbenv</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.708.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.709.1">This tool (</span><strong class="source-inline"><span class="koboSpan" id="kobo.710.1">rbenv</span></strong><span class="koboSpan" id="kobo.711.1">) lets you install different versions of Ruby on your machine. </span><span class="koboSpan" id="kobo.711.2">One “cheat” that I found to be very useful is that when installing Rails failed with one version of Ruby, I simply tried it with another version and most of the time, the second time, Rails worked flawlessly. </span><span class="koboSpan" id="kobo.711.3">Try installing different versions, newer versions, and older versions, and see how they behave. </span><span class="koboSpan" id="kobo.711.4">Finding the subtle differences between Ruby and Ruby on Rails versions will make you a </span><span class="No-Break"><span class="koboSpan" id="kobo.712.1">better developer.</span></span></p>
<h1 id="_idParaDest-111"><a id="_idTextAnchor113"/><span class="koboSpan" id="kobo.713.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.714.1">In this chapter, we learned about Rails, the MVC application pattern, and how to install it as a gem. </span><span class="koboSpan" id="kobo.714.2">We also learned how to generate controllers and where these come in handy when using Rails. </span><span class="koboSpan" id="kobo.714.3">Lastly, we learned what developers mean when they refer to the Ruby on Rails convention over configuration “paradigm” and how this feature makes our lives easier when using Rails. </span><span class="koboSpan" id="kobo.714.4">Now, we are ready to start connecting and using databases with </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">Rails Models.</span></span></p>
</div>
</body></html>
<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer493">
<h1 class="chapter-number" id="_idParaDest-358" lang="en-GB"><a id="_idTextAnchor360"/>20</h1>
<h1 id="_idParaDest-359" lang="en-GB"><a id="_idTextAnchor361"/>Supporting Multi-Tenancy</h1>
<p lang="en-GB">This chapter discusses different approaches to designing and implementing multi-tenancy in Moodle. If any of the following scenarios are of interest, then this chapter is <span class="No-Break" lang="">for you:</span></p>
<ul>
<li lang="en-GB">An authority representing multiple schools or colleges in a region or country wishes to provide each school or college with a separate Moodle system but needs to manage the <span class="No-Break" lang="">systems centrally</span></li>
<li lang="en-GB">A private training organization with multiple customers, each needing its own <span class="No-Break" lang="">walled area</span></li>
<li lang="en-GB">A company that has regional offices, each requiring its own <span class="No-Break" lang="">learning space</span></li>
</ul>
<p lang="en-GB">First, we will provide an overview of what multi-tenancy is and why there isn’t a one-size-fits-all solution before we present three different types <span class="No-Break" lang="">of implementations.</span></p>
<p lang="en-GB">The first approach, multi-tenancy via categories, uses a single Moodle instance with specifically tailored course categories <span class="No-Break" lang="">and permissions.</span></p>
<p lang="en-GB">The second implementation, multi-tenancy via a centralized code base, provides separate standalone Moodle instances and delegates all responsibilities to <span class="No-Break" lang="">local administrators.</span></p>
<p lang="en-GB">Lastly, we will describe how multi-tenancy has been implemented in <span class="No-Break" lang="">Moodle Workplace.</span></p>
<p lang="en-GB">We will cover the following topics in <span class="No-Break" lang="">this chapter:</span></p>
<ul>
<li lang="en-GB">Understanding <span class="No-Break" lang="">Moodle multi-tenancy</span></li>
<li lang="en-GB">Supporting multi-tenancy <span class="No-Break" lang="">via categories</span></li>
<li lang="en-GB">Supporting multi-tenancy via a centralized <span class="No-Break" lang="">code base</span></li>
<li lang="en-GB">Supporting multi-tenancy in <span class="No-Break" lang="">Moodle Workplace</span></li>
</ul>
<h1 id="_idParaDest-360" lang="en-GB"><a id="_idTextAnchor362"/>Understanding Moodle multi-tenancy</h1>
<p lang="en-GB">What exactly is multi-tenancy? In a Moodle context, multi-tenancy<a id="_idIndexMarker1731"/> can be defined <span class="No-Break" lang="">as follows.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">In a Moodle multi-tenancy setup, separate entities or instances (tenants) are administered centrally, where specific features are devolved and <span class="No-Break" lang="">managed locally.</span></p>
<p lang="en-GB">The following radial diagram shows a simplistic<a id="_idIndexMarker1732"/> high-level view of <span class="No-Break" lang="">Moodle multi-tenancy:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer483">
<img alt="Figure 20.1 – Moodle multi-tenancy: a high-level view " height="699" src="image/Figure_20.01_B18779.jpg" width="709"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.1 – Moodle multi-tenancy: a high-level view</p>
<p lang="en-GB">Two critical high-level questions need answering when it comes <span class="No-Break" lang="">to multi-tenancy:</span></p>
<ul>
<li lang="en-GB">Which features are handled <strong class="bold" lang="">centrally</strong>, and which are delegated – that is, dealt with at the <span class="No-Break" lang=""><strong class="bold" lang="">tenant level</strong></span><span class="No-Break" lang="">?</span></li>
<li lang="en-GB">Which elements can be <strong class="bold" lang="">shared</strong> across tenants (<span class="No-Break" lang="">if any)?</span></li>
</ul>
<p lang="en-GB">These questions<a id="_idIndexMarker1733"/> are critical because the answers determine what type of multi-tenancy is suitable for <span class="No-Break" lang="">your organization.</span></p>
<p lang="en-GB">Let’s drill down further<a id="_idIndexMarker1734"/> to the<a id="_idIndexMarker1735"/> two dimensions – features and sharing – in a Moodle context, as illustrated in the <span class="No-Break" lang="">following diagram:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer484">
<img alt="Figure 20.2 – Moodle multi-tenancy: features and sharing " height="302" src="image/Figure_20.02_B18779.jpg" width="984"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.2 – Moodle multi-tenancy: features and sharing</p>
<p lang="en-GB">More questions arise when looking at specific Moodle functionality that is potentially impacted <a id="_idIndexMarker1736"/><span class="No-Break" lang="">by multi-tenancy:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Users</strong>: Are user accounts managed centrally and assigned to tenants or can a tenant admin manage users locally? How about authentication? Does each tenant have a separate authentication mechanism or are logins managed site-wide? Do user names have to be unique across tenants? Can users be in multiple tenants? Does every tenant have its own guest account? How about tenant-aware user profile fields? Should there be a user quota per tenant? And what about tenant cohorts and <span class="No-Break" lang="">tenant roles?</span></li>
<li lang="en-GB"><strong class="bold" lang="">Courses</strong>: Will courses (and categories) be managed centrally, locally, or both? Can courses be sharable across tenants? Should users from multiple tenants be able to enrol in the same course and, vice versa, can users enrol in courses in <span class="No-Break" lang="">multiple tenants?</span></li>
<li lang="en-GB"><strong class="bold" lang="">Plugins</strong>: Do all tenants have the same plugins or can they be activated and deactivated at the tenant level? Can the configuration of each plugin differ for each tenant or is it identical <span class="No-Break" lang="">for all?</span></li>
<li lang="en-GB"><strong class="bold" lang="">Admin settings</strong>: Which <a id="_idIndexMarker1737"/>site-wide settings can be configured individually (if any)? Should the master administrator be able to lock down specific configuration settings to prevent individual tenant admins from changing <span class="No-Break" lang="">those values?</span></li>
<li lang="en-GB"><strong class="bold" lang="">Admin features</strong>: Which admin tools, such as reporting and backups, can be configured and operated by tenant admins? How about security and privacy setups? Will reporting across tenants <span class="No-Break" lang="">be allowed?</span></li>
<li lang="en-GB"><strong class="bold" lang="">Themes</strong>: Does the main theme apply to all tenants or can each tenant have its own design? How about one white-labeled theme that can be branded for <span class="No-Break" lang="">each tenant?</span></li>
<li lang="en-GB"><strong class="bold" lang="">Moodle code</strong>: Is the code base identical for all tenants or can individual tenants have their own code (as in, <span class="No-Break" lang="">make modifications)?</span></li>
</ul>
<p lang="en-GB">The list goes on and on. You can see from the questions that there cannot be a one-size-fits-all approach to multi-tenancy. When you ask three Moodle consultants to come up with a multi-tenancy checklist, you will likely receive four <span class="No-Break" lang="">different versions.</span></p>
<p lang="en-GB">Now that we have asked several questions, let us look at three (very) different multi-tenancy approaches to hopefully answer some <span class="No-Break" lang="">of them.</span></p>
<h1 id="_idParaDest-361" lang="en-GB"><a id="_idTextAnchor363"/>Supporting multi-tenancy via categories</h1>
<p lang="en-GB">The <a id="_idIndexMarker1738"/>simplest form of multi-tenancy is configuring your Moodle system so that a category represents a tenant. The following diagram illustrates <span class="No-Break" lang="">this approach:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer485">
<img alt="Figure 20.3 – Multi-tenancy via categories " height="777" src="image/Figure_20.03_B18779.jpg" width="1178"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.3 – Multi-tenancy via categories</p>
<p lang="en-GB">A category <a id="_idIndexMarker1739"/>represents a ring-fenced area (tenant) where courses are managed locally. Users can be assigned via category cohorts; that is, users can be members of <span class="No-Break" lang="">multiple tenants.</span></p>
<p lang="en-GB">You can assign a dedicated theme for each category, as we saw in <a href="B18779_07.xhtml#_idTextAnchor140"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 7</em></span></a>, <em class="italic" lang="">Enhancing Moodle’s Look and Feel</em>. However, users won’t see that branding until they have logged in. A new category admin role should be created and the appropriate permissions granted accordingly – for instance, the ability to add subcategories <span class="No-Break" lang="">and courses.</span></p>
<p lang="en-GB">One main drawback of the category-based approach is that plugins can only be configured site-wide and not at the tenant (that is, category) level. You can bypass this limitation by using the <em class="italic" lang="">addinstance</em> capability for each module, which allows you to control which activities can be added to which courses. However, this capability only caters to activities, not other plugins, such as authentication, enrolment, or plagiarism. <em class="italic" lang="">addinstance</em> can also only be applied at the course level and not at the <span class="No-Break" lang="">category level.</span></p>
<p lang="en-GB">The following checklist summarizes this poor man’s approach <span class="No-Break" lang="">to multi-tenancy:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer486">
<img alt="Figure 20.4 – Checklist: multi-tenancy via categories " height="596" src="image/Figure_20.04_B18779.jpg" width="1155"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.4 – Checklist: multi-tenancy via categories</p>
<p lang="en-GB">Multi-tenancy<a id="_idIndexMarker1740"/> by categories is mainly suitable for sites where users are managed centrally and departments, faculties, or other entities only have control over course content. The approach is unsuitable for sites where a higher degree of autonomy is required at the tenant level. Multi-tenancy via a centralized code base overcomes that restriction, as shown in the <span class="No-Break" lang="">following section.</span></p>
<h1 id="_idParaDest-362" lang="en-GB"><a id="_idTextAnchor364"/>Supporting multi-tenancy via a centralized code base</h1>
<p lang="en-GB">The<a id="_idIndexMarker1741"/> principal idea of this multi-tenancy approach is to have a single code base but multiple separate and standalone <span class="No-Break" lang="">Moodle instances.</span></p>
<p lang="en-GB">An example where this kind of model is suitable is where each tenant represents a school or college in the region, and each school or college has its own Moodle admin, theme, and administration settings for managing users, courses, privacy, <span class="No-Break" lang="">and grades.</span></p>
<p lang="en-GB">The following diagram illustrates this <span class="No-Break" lang="">federated approach:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer487">
<img alt="Figure 20.5 – Multi-tenancy via a centralised code base " height="785" src="image/Figure_20.05_B18779.jpg" width="1210"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.5 – Multi-tenancy via a centralised code base</p>
<p lang="en-GB">This solution requires <a id="_idIndexMarker1742"/>two main <span class="No-Break" lang="">configuration steps:</span></p>
<ol>
<li lang="en-GB"><strong class="bold" lang="">Web </strong><span class="No-Break" lang=""><strong class="bold" lang="">server configuration</strong></span><span class="No-Break" lang="">:</span></li>
</ol>
<p lang="en-GB">For each Moodle instance, a separate virtual host is required where the <strong class="source-inline" lang="">ServerName</strong>, <strong class="source-inline" lang="">ErrorLog</strong>, and <strong class="source-inline" lang="">CustomLog</strong> parameters point to the individual instances (tenants), but the <strong class="source-inline" lang="">DocumentRoot</strong> variable must be identical in all virtual hosts, ensuring that the same code base (<strong class="source-inline" lang="">CFG-&gt;dirroot</strong>) is used. A virtual host can either be a separate <strong class="source-inline" lang="">vhost</strong> file or a <strong class="source-inline" lang="">&lt;VirtualHost&gt;</strong> entry <span class="No-Break" lang="">in </span><span class="No-Break" lang=""><strong class="source-inline" lang="">httpd.conf</strong></span><span class="No-Break" lang="">.</span></p>
<ol>
<li lang="en-GB" value="2"><span class="No-Break" lang=""><strong class="bold" lang="">Moodle setup</strong></span><span class="No-Break" lang="">:</span></li>
</ol>
<p lang="en-GB">There is one main <strong class="source-inline" lang="">config.php</strong> file that acts as the launch pad for all other instances that are represented by individual <strong class="source-inline" lang="">config.php</strong> files. These local <strong class="source-inline" lang="">config.php</strong> files must be stored in separate locations and have to follow a strict naming convention (in our example, <strong class="source-inline" lang="">&lt;domain name&gt;_config.php</strong>). The installation of these config files and their maintenance is usually implemented via scripts to <span class="No-Break" lang="">ensure consistency.</span></p>
<p lang="en-GB">To make<a id="_idIndexMarker1743"/> this work, the main <strong class="source-inline" lang="">config.php</strong> file has to be modified as follows, assuming your local <strong class="source-inline" lang="">config.php</strong> files are stored in a dedicated <strong class="source-inline" lang="">/</strong><span class="No-Break" lang=""><strong class="source-inline" lang="">tenants</strong></span><span class="No-Break" lang=""> folder:</span></p>
<p class="source-code" lang="en-GB">&lt;?php // Moodle configuration file</p>
<p class="source-code" lang="en-GB">$moodle_host = $_SERVER['HTTP_HOST'];</p>
<p class="source-code" lang="en-GB">require_once('/tenants/'.$moodle_host.'_config.php');</p>
<p lang="en-GB">In each local <strong class="source-inline" lang="">config.php</strong> file, <strong class="source-inline" lang="">$CFG-&gt;dirroot</strong> must be set to the same value specified in <strong class="source-inline" lang="">DocumentRoot</strong> in <span class="No-Break" lang=""><strong class="source-inline" lang="">vhost</strong></span><span class="No-Break" lang=""> here.</span></p>
<p lang="en-GB">Local config files can be customized further to cater to any idiosyncrasies in a particular tenant. For instance, you might want to freeze specific administration parameters that the tenant administrator must <span class="No-Break" lang="">not modify.</span></p>
<p lang="en-GB">Using this setup, you only have to maintain a single code base and provide each tenant with a separate, standalone Moodle instance. The implementation is also suitable for environments where you have to provision Moodle instances on an ad hoc basis – for instance, in a training or <span class="No-Break" lang="">development environment.</span></p>
<p lang="en-GB">The following checklist summarizes this centralised approach <span class="No-Break" lang="">to multi-tenancy:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer488">
<img alt="Figure 20.6 – Summary: multi-tenancy via a centralized code base " height="596" src="image/Figure_20.06_B18779.jpg" width="1285"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.6 – Summary: multi-tenancy via a centralized code base</p>
<p lang="en-GB">The <a id="_idIndexMarker1744"/>approaches presented so far offer very different solutions to multi-tenancy: one uses a single Moodle instance with configured course categories and permissions, while the other provides separate standalone instances and delegates all responsibility to local administrators. The implementation presented in the following section is positioned somewhere between these two: a single Moodle instance with a built-in <span class="No-Break" lang="">tenant functionality.</span></p>
<h1 id="_idParaDest-363" lang="en-GB"><a id="_idTextAnchor365"/>Supporting multi-tenancy in Moodle Workplace</h1>
<p lang="en-GB">This book is about<a id="_idIndexMarker1745"/> Moodle administration and all its content applies to Moodle Workplace, too. Since Moodle Workplace provides a unique feature to cater to multi-tenancy, we will make an exception and cover a Moodle Workplace-only feature here. Parts of the section have been borrowed from the <em class="italic" lang="">Tenants, Organizations, and Teams</em> chapter in (advertisement alert!) my book <em class="italic" lang="">Corporate Learning with Moodle Workplace</em> by <span class="No-Break" lang="">Packt Publishing.</span></p>
<p lang="en-GB">There are two critical parts to multi-tenancy in <span class="No-Break" lang="">Moodle Workplace:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Tenants</strong>: Tenants are <a id="_idIndexMarker1746"/>entirely isolated entities with their own look and feel, structure, users, and <span class="No-Break" lang="">learning entities</span></li>
<li lang="en-GB"><strong class="bold" lang="">Sharing entities</strong>: Sharing <a id="_idIndexMarker1747"/>courses and certificates across tenants is supported, as is sharing data such as programs, reports, or <span class="No-Break" lang="">organization structures</span></li>
</ul>
<p lang="en-GB">We will cover both aspects of <a id="_idIndexMarker1748"/>Moodle Workplace multi-tenancy in the following two subsections by describing how they work in general. For implementation details about Moodle Workplace’s powerful yet versatile multi-tenancy feature, check out<a id="_idIndexMarker1749"/> <a href="http://docs.moodle.org/en/Multi-tenancy">docs.moodle.org/en/Multi-tenancy</a>, also written and maintained by <span class="No-Break" lang="">the author.</span></p>
<h2 id="_idParaDest-364" lang="en-GB"><a id="_idTextAnchor366"/>Understanding Moodle Workplace tenants</h2>
<p lang="en-GB">In <a id="_idIndexMarker1750"/>Moodle Workplace, tenants<a id="_idIndexMarker1751"/> are isolated entities with their own users, hierarchies, roles, dynamic rules, theme settings, reports, custom pages, and learning entities (courses, programs, <span class="No-Break" lang="">and certifications).</span></p>
<p lang="en-GB">All Moodle Workplace tools are multi-tenant-aware – depending on the feature, different levels of multi-tenancy are supported. The following diagram shows a high-level view of a tenant and <span class="No-Break" lang="">multi-tenant-aware elements:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer489">
<img alt="Figure 20.7 – Moodle Workplace multi-tenancy " height="645" src="image/Figure_20.07_B18779.jpg" width="1227"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.7 – Moodle Workplace multi-tenancy</p>
<p lang="en-GB">A single default tenant is created during installation or after upgrading from Moodle LMS to Moodle Workplace. Each <a id="_idIndexMarker1752"/>tenant has the <span class="No-Break" lang="">following properties:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Tenant name</strong> and <strong class="bold" lang="">ID number</strong>: Name of the tenant and unique <span class="No-Break" lang="">tenant identifier.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Site name</strong> and <strong class="bold" lang="">Site short name</strong>: These two tenant settings override the <strong class="bold" lang="">Full site name</strong> and the <strong class="bold" lang="">Short name for the site</strong> settings respectively in <strong class="bold" lang="">Site administration </strong>| <strong class="bold" lang="">General</strong> | <strong class="bold" lang="">Site </strong><span class="No-Break" lang=""><strong class="bold" lang="">home settings</strong></span><span class="No-Break" lang="">.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Login URL</strong>: Two selections are available to access the login directly: one containing the ID number and the other an internal numeric tenant ID – for <span class="No-Break" lang="">example, </span><span class="No-Break" lang=""><strong class="source-inline" lang="">workplace.openumlaut.com?tenant=packt</strong></span><span class="No-Break" lang="">.</span></li>
<li lang="en-GB"><strong class="bold" lang="">Course category</strong>: Courses belonging to a particular tenant must be located in a tenant category. We will elaborate more on that feature later when we deal with sharing content <span class="No-Break" lang="">across tenants.</span></li>
</ul>
<p lang="en-GB">There are two critical rules – some may call them restrictions – when dealing with <strong class="bold" lang="">tenant users</strong> <span class="No-Break" lang="">in </span><span class="No-Break" lang=""><a id="_idIndexMarker1753"/></span><span class="No-Break" lang="">Workplace:</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">A user is always assigned to a tenant; an account cannot <span class="No-Break" lang="">be tenantless.</span></p>
<p class="callout" lang="en-GB">A user cannot be assigned to more than one tenant; an account always belongs to just one <span class="No-Break" lang="">single tenant.</span></p>
<p lang="en-GB">When a new user account is created, whether by self-registration, manual entry, batch upload, or via web services, it is always attached to the default tenant unless specified otherwise. The following diagram illustrates <a id="_idIndexMarker1754"/>how users are assigned <span class="No-Break" lang="">to tenants:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer490">
<img alt="Figure 20.8 – Moodle Workplace: users and tenants " height="529" src="image/Figure_20.08_B18779.jpg" width="944"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.8 – Moodle Workplace: users and tenants</p>
<p lang="en-GB">Each user belongs to precisely one tenant, although this is likely to change in the future. Moodle Workplace supports tenant user quotas and lets you specify the maximum number of <span class="No-Break" lang="">tenants allowed.</span></p>
<p lang="en-GB">Moodle’s user <a id="_idIndexMarker1755"/>profile fields have been extended to allow the definition of different user profile fields per tenant. When profile fields belong to tenant-specific categories, they will only appear in the profile for users in those tenants; this also includes sign-up and <span class="No-Break" lang="">edit forms.</span></p>
<p lang="en-GB">Each tenant can have zero, one, or<a id="_idIndexMarker1756"/> many <strong class="bold" lang="">tenant admins</strong> who<a id="_idIndexMarker1757"/> have devolved administration functions that allow you to fine-tune their level of responsibility. In addition to handling tenant users, a tenant admin has permission to manage tenant roles, configure tenant authentication settings, adjust the tenant branding, and create tenant dashboards <span class="No-Break" lang="">by default:</span></p>
<ul>
<li lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Tenant roles</strong></span><span class="No-Break" lang="">:</span></li>
</ul>
<p lang="en-GB">Role assignments <a id="_idIndexMarker1758"/>to users can be managed separately for each tenant – thus, handling a tenant is almost <span class="No-Break" lang="">like context.</span></p>
<ul>
<li lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Tenant authentication</strong></span><span class="No-Break" lang="">:</span></li>
</ul>
<p lang="en-GB">Moodle Workplace<a id="_idIndexMarker1759"/> supports multi-tenancy for authentication; you can configure different authentication options for different tenants. At the time of writing, supported authentication methods are <em class="italic" lang="">manual</em>, <em class="italic" lang="">email-based self-registration</em>, and <em class="italic" lang="">OAuth 2</em>. <em class="italic" lang="">SAML</em> is an explicitly supported, third-party authentication method. For more details, check <span class="No-Break" lang="">out </span><a href="http://docs.moodle.org/en/Multi-tenancy_authentication"><span class="No-Break" lang="">docs.moodle.org/en/Multi-tenancy_authentication</span></a><span class="No-Break" lang="">.</span></p>
<ul>
<li lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Tenant branding</strong></span><span class="No-Break" lang="">:</span></li>
</ul>
<p lang="en-GB">You can <a id="_idIndexMarker1760"/>customize the look and feel of the tenant by configuring the multi-tenancy-aware Workplace theme. The branding elements, images, colors, custom SCSS, and footer are described in detail in the Moodle Docs <span class="No-Break" lang="">at </span><a href="http://docs.moodle.org/en/Workplace_theme"><span class="No-Break" lang="">docs.moodle.org/en/Workplace_theme</span></a><span class="No-Break" lang="">.</span></p>
<ul>
<li lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Tenant dashboards</strong></span></li>
</ul>
<p lang="en-GB">By default, all <a id="_idIndexMarker1761"/>tenant dashboards are linked to the content defined in the default site dashboard, and any modifications to this page will appear for the new users in any tenant. Any user with appropriate permissions (site and tenant admins by default) can define a tenant-specific dashboard with the same editing capabilities as the main dashboard. Tenant admins can manage the dashboards of their tenants and reset the configuration for <span class="No-Break" lang="">tenant users.</span></p>
<p lang="en-GB">All Moodle Workplace tools, such as programs, certifications, custom pages, dynamic rules, and organization structures (departments, positions, and jobs), are fully multi-tenancy-aware. In addition to defining and managing these features per tenant, Moodle Workplace also supports sharing content and data across tenants, as described in the <span class="No-Break" lang="">following subsection.</span></p>
<h2 id="_idParaDest-365" lang="en-GB"><a id="_idTextAnchor367"/>Understanding Moodle Workplace sharing entities</h2>
<p lang="en-GB">Moodle Workplace <a id="_idIndexMarker1762"/>supports two ways that <a id="_idIndexMarker1763"/>sharing across tenants can <span class="No-Break" lang="">be facilitated:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Shared content</strong>: Sharing courses <span class="No-Break" lang="">and certificates</span></li>
<li lang="en-GB"><strong class="bold" lang="">Shared space</strong>: Sharing Moodle Workplace data, such as programs or <span class="No-Break" lang="">organization structures</span></li>
</ul>
<p lang="en-GB">Let’s have a brief look at <span class="No-Break" lang="">both options.</span></p>
<h3 lang="en-GB">Sharing content in Moodle Workplace</h3>
<p lang="en-GB">Typically, each<a id="_idIndexMarker1764"/> tenant has its own <a id="_idIndexMarker1765"/>course category, and hence, its own courses. The manual enrolment method has been modified, so the user picker only displays users from the current tenant. However, there are scenarios where you might want to share specific courses among tenants, which is achieved by placing courses in the <em class="italic" lang="">shared </em><span class="No-Break" lang=""><em class="italic" lang="">courses</em></span><span class="No-Break" lang=""> category.</span></p>
<p lang="en-GB">Multi-tenancy <a id="_idIndexMarker1766"/>does not apply to course content, which means that if learners or trainers are enrolled in a course, they <a id="_idIndexMarker1767"/>will see users from other tenants while browsing the course. This behavior is intentional: suppose your organization has some shared courses. It can be assumed that you want the learners to study together and the trainer from one tenant to be a trainer for all learners regardless of <span class="No-Break" lang="">their tenant.</span></p>
<p lang="en-GB">If you share courses between different tenants and want users from each tenant to learn independently, they must belong to separate groups. Allocation to separate groups is done automatically when a shared course is part of <span class="No-Break" lang="">a program.</span></p>
<p lang="en-GB">The certificates tool we covered in the <em class="italic" lang="">Skills and incentives</em> section in <a href="B18779_09.xhtml#_idTextAnchor181"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 9</em></span></a>, <em class="italic" lang="">Configuring Educational Features</em>, uses the shared course category feature just described. If a certificate template is placed in a tenant course category, it is limited to this particular tenant; otherwise, it is shared across <span class="No-Break" lang="">all tenants.</span></p>
<p lang="en-GB">Custom pages enable site and tenant administrators to create personalized experiences for different audiences by easily adding new pages to the navigation. The content on these pages can be customized using standard Moodle Workplace blocks. While tenant custom pages are specific to a single tenant, global custom pages are shared across <span class="No-Break" lang="">all tenants.</span></p>
<h3 lang="en-GB">Sharing data in Moodle Workplace using Shared space</h3>
<p lang="en-GB">The <strong class="bold" lang="">Shared space</strong> feature<a id="_idIndexMarker1768"/> enables<a id="_idIndexMarker1769"/> the sharing of entities across all tenants. It works like a special tenant where users can create supported entities available in <span class="No-Break" lang="">other tenants.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB"><strong class="bold" lang="">Shared space</strong> is a special tenant to share Moodle Workplace entities among <span class="No-Break" lang=""><strong class="bold" lang="">all</strong></span><span class="No-Break" lang=""> tenants.</span></p>
<p lang="en-GB">Currently, the following Workplace tools are supported in <span class="No-Break" lang=""><strong class="bold" lang="">Shared space</strong></span><span class="No-Break" lang="">:</span></p>
<ul>
<li lang="en-GB">Programs <span class="No-Break" lang="">and certifications</span></li>
<li lang="en-GB">Organization structure (departments, positions, <span class="No-Break" lang="">and jobs)</span></li>
<li lang="en-GB"><span class="No-Break" lang="">Dynamic rules</span></li>
<li lang="en-GB"><span class="No-Break" lang="">Reports</span></li>
</ul>
<p lang="en-GB">In the <a id="_idIndexMarker1770"/>following <a id="_idIndexMarker1771"/>screenshot, you can see a list of custom reports to demonstrate the <strong class="bold" lang="">Shared space</strong> feature. Moodle Workplace’s report generator is the same as the one described in <a href="B18779_12.xhtml#_idTextAnchor233"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 12</em></span></a>, <em class="italic" lang="">Gaining Insights through Moodle Reporting and Analytics</em>, only with more report sources and the support of <span class="No-Break" lang=""><strong class="bold" lang="">Shared space</strong></span><span class="No-Break" lang="">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer491">
<img alt="Figure 20.9 – Moodle Workplace: users and tenants " height="401" src="image/Figure_20.09_B18779.jpg" width="1225"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.9 – Moodle Workplace: users and tenants</p>
<p lang="en-GB">Two reports (<strong class="bold" lang="">Issued certificates</strong> and <strong class="bold" lang="">New users (all)</strong>) have a little mark beside them to indicate that they are shared across tenants, while the other two reports are only available in the <span class="No-Break" lang="">local tenant.</span></p>
<p lang="en-GB">This concludes the overview on multi-tenancy in Moodle Workplace, which also applies to the Moodle Workplace app. To summarize, we have created a familiar checklist as shown in the <span class="No-Break" lang="">following figure:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer492">
<img alt="Figure 20.10 – Summary of multi-tenancy in Moodle Workplace " height="596" src="image/Figure_20.10_B18779.jpg" width="1274"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 20.10 – Summary of multi-tenancy in Moodle Workplace</p>
<p lang="en-GB">For <a id="_idIndexMarker1772"/>more<a id="_idIndexMarker1773"/> interesting reading on multi-tenancy in Moodle Workplace, check out the<a id="_idIndexMarker1774"/> article <span class="No-Break" lang="">at </span><a href="http://moodle.com/news/lms-multi-tenancy"><span class="No-Break" lang="">moodle.com/news/lms-multi-tenancy</span></a><span class="No-Break" lang="">.</span></p>
<h1 id="_idParaDest-366" lang="en-GB"><a id="_idTextAnchor368"/>Summary</h1>
<p lang="en-GB">This chapter discussed different ways to support Moodle multi-tenancy. We first defined what multi-tenancy is and showed why there is a need for different types of multi-tenancy implementations. We presented three different approaches, one of which hopefully matches <span class="No-Break" lang="">your requirements.</span></p>
<p lang="en-GB">The first model, multi-tenancy via categories, used a single Moodle instance with configured course categories <span class="No-Break" lang="">and permissions.</span></p>
<p lang="en-GB">The second approach, multi-tenancy via a centralized code base, provided separate standalone instances and delegated all responsibilities to <span class="No-Break" lang="">local administrators.</span></p>
<p lang="en-GB">Lastly, we presented multi-tenancy in Moodle Workplace, the most versatile out-of-the-box implementation <span class="No-Break" lang="">currently available.</span></p>
<p lang="en-GB">We covered three representative implementations to facilitate multi-tenancy in Moodle. These solutions can, of course, be extended or further modified to cater to your individual requirements. While some aspects of implementing multi-tenancy might look technical, daunting, and labor-intensive, it will be a relatively pain-free exercise if a solid strategy is followed, possibly assisted by a professional and experienced <span class="No-Break" lang="">Moodle Partner.</span></p>
</div>
</div>

<div id="sbo-rt-content"><div id="_idContainer499">
<h1 class="chapter-number" id="_idParaDest-367" lang="en-GB"><a id="_idTextAnchor369"/>Appendix</h1>
<h1 id="_idParaDest-368" lang="en-GB"><a id="_idTextAnchor370"/>Configuration Settings</h1>
<p lang="en-GB">This appendix on configuration settings aims to provide you with a list of parameters that can be modified in <strong class="source-inline" lang="">config.php</strong> and the impact each value <span class="No-Break" lang="">will have.</span></p>
<p lang="en-GB">We will first examine <strong class="source-inline" lang="">config.php</strong> and explore what types of parameters are supported by Moodle. After providing this overview, we will look at two types of <span class="No-Break" lang="">configuration settings:</span></p>
<ul>
<li lang="en-GB"><strong class="bold" lang="">Administration settings</strong>: These variables are available via the <strong class="bold" lang="">Site administration</strong> menu but can be locked with values specified <span class="No-Break" lang="">in </span><span class="No-Break" lang=""><strong class="source-inline" lang="">config.php</strong></span><span class="No-Break" lang="">.</span></li>
<li lang="en-GB"><strong class="bold" lang="">System settings</strong>: We distinguish between default and supplementary configuration values. The former will have been created by the installer and are mostly required for Moodle to function; the latter are parameters that change various <span class="No-Break" lang="">Moodle behaviors.</span></li>
</ul>
<h1 id="_idParaDest-369" lang="en-GB"><a id="_idTextAnchor371"/>Configuration reference – an overview</h1>
<p lang="en-GB">The <strong class="source-inline" lang="">config.php</strong> configuration file contains several settings and variables that heavily influence how Moodle operates. It is located in the main directory of your Moodle system (<strong class="source-inline" lang="">$CFG-&gt;dirroot</strong>) and can be edited with any <span class="No-Break" lang="">text editor.</span></p>
<p class="callout-heading" lang="en-GB">Important note</p>
<p class="callout" lang="en-GB">Be careful when modifying <strong class="source-inline" lang="">config.php</strong>! Moodle depends heavily on its content, and any faults can cause the software <span class="No-Break" lang="">to malfunction.</span></p>
<p lang="en-GB">You should create a backup of the config file before modifying it, so you can roll back to it in case of problems. Also, ensure the file permissions are correctly set, as the file contains the plain-text database username and password. In a Linux environment, the owner should be <strong class="source-inline" lang="">root</strong>, the group also <strong class="source-inline" lang="">root</strong>, and the permissions set to <strong class="source-inline" lang="">644</strong>. A sample configuration file is shown in the <span class="No-Break" lang="">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer494">
<img alt="" height="1017" src="image/Figure_A.01_B18779.jpg" width="1216"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure A.1 – Sample config.php file</p>
<p lang="en-GB">The <strong class="source-inline" lang="">config.php</strong> values we are interested in are the ones that start with a dollar symbol. Each parameter has the following <span class="No-Break" lang="">information format:</span></p>
<p class="source-code" lang="en-GB">$&lt;object&gt;-&gt;&lt;parameter&gt; = &lt;value&gt;;</p>
<p lang="en-GB">The <strong class="source-inline" lang="">&lt;object&gt;</strong> parameter is the part of Moodle in which the parameter is used (<strong class="source-inline" lang="">$CFG</strong> or <strong class="source-inline" lang="">$THEME</strong>). Third-party modules or custom distributions might have introduced their own objects—for example, <strong class="source-inline" lang="">$TOTARA</strong>. We will focus on <strong class="source-inline" lang="">$CFG</strong> objects as these are most relevant <span class="No-Break" lang="">to administrators.</span></p>
<p lang="en-GB"><strong class="source-inline" lang="">&lt;parameter&gt;</strong> is the name of the configuration setting. Each setting has a <span class="No-Break" lang="">unique identifier.</span></p>
<p lang="en-GB">The <strong class="source-inline" lang="">&lt;value&gt;</strong> parameter must be of the type the parameter accepts, which depends on the type of the setting. The following table provides information for each of <span class="No-Break" lang="">the types:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer495">
<img alt="" height="458" src="image/Figure_A.02_B18779.jpg" width="1209"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure A.2 – Data types supported in configuration settings</p>
<p lang="en-GB">Each parameter has to be terminated by a semi-colon. To comment out a parameter, precede it with two <span class="No-Break" lang="">forward slashes.</span></p>
<p lang="en-GB">Before we deal with the different settings, we’ll discuss some tools that might come in useful. As there is no list of available settings, you have to generate your own. To do so, execute the following shell command in <span class="No-Break" lang="">your </span><span class="No-Break" lang=""><strong class="source-inline" lang="">$CFG-&gt;dirroot</strong></span><span class="No-Break" lang="">:</span></p>
<p class="source-code" lang="en-GB">grep -r -h -o '\$CFG-&gt;[a-z][[:alnum:]_]*' . | sort -u</p>
<p lang="en-GB">This concatenated set of commands will generate a list of all available <strong class="source-inline" lang="">$CFG</strong> variables in alphabetical order. The <strong class="source-inline" lang="">moosh config-get</strong> command (see <a href="B18779_17.xhtml#_idTextAnchor325"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 17</em></span></a>, <em class="italic" lang="">Working with Moodle Admin Tools</em>) only provides you with a list of all config variables that can be set via Moodle’s admin interface and are stored in <strong class="source-inline" lang="">mdl_config</strong>; it excludes the <em class="italic" lang="">hidden</em> variables we are interested <span class="No-Break" lang="">in here.</span></p>
<p lang="en-GB">Moodle provides a report that lets you monitor all changes to any config settings via the administration interface. You can find the report at <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Reports</strong> |<strong class="bold" lang=""> </strong><span class="No-Break" lang=""><strong class="bold" lang="">Config changes</strong></span><span class="No-Break" lang="">.</span></p>
<div>
<div class="IMG---Figure" id="_idContainer496">
<img alt="" height="509" src="image/Figure_A.03_B18779.jpg" width="1223"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure A.3 – Config changes report</p>
<p lang="en-GB">The table shows any changes made to settings in the <strong class="bold" lang="">Site administration</strong> section. For each modification, <strong class="bold" lang="">Date</strong>, <strong class="bold" lang="">First name / Surname</strong>, <strong class="bold" lang="">Plugin</strong>, <strong class="bold" lang="">Setting</strong>, <strong class="bold" lang="">New value</strong>, and <strong class="bold" lang="">Original value</strong> <span class="No-Break" lang="">are shown.</span></p>
<p lang="en-GB">If you are experimenting with configuration variables, consider using the site admin presets we discussed in <a href="B18779_17.xhtml#_idTextAnchor325"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 17</em></span></a>, <em class="italic" lang="">Working with Moodle Admin Tools</em>. The tool lets you create backups of site settings, which can then be rolled back if something <span class="No-Break" lang="">goes wrong.</span></p>
<h1 id="_idParaDest-370" lang="en-GB"><a id="_idTextAnchor372"/>Configuration reference – administration settings</h1>
<p lang="en-GB">Each parameter in the <strong class="bold" lang="">Site administration</strong> menus can be configured via <strong class="source-inline" lang="">config.php</strong>. If a value has been set via this method, it is effectively hardcoded and cannot be changed via the Moodle interface, not even by <span class="No-Break" lang="">the administrator.</span></p>
<p lang="en-GB">For example, you might want to ensure that an administrator does not turn on HTTPS for logins on an internal site, even by accident. Activating this would lock everybody out of the site if no SSL certificate is installed. To do this, enter the following line <span class="No-Break" lang="">in </span><span class="No-Break" lang=""><strong class="source-inline" lang="">config.php</strong></span><span class="No-Break" lang="">:</span></p>
<p class="source-code" lang="en-GB">$CFG-&gt;loginhttps=false;</p>
<p lang="en-GB">How do you know what the parameter is called? Go to the respective setting in Moodle (in this case, <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Security</strong> | <strong class="bold" lang="">HTTP security</strong>), and you will see the parameter’s name underneath <span class="No-Break" lang="">the label.</span></p>
<p class="callout-heading" lang="en-GB">Tip</p>
<p class="callout" lang="en-GB">You can search for any parameter in the search box of the <span class="No-Break" lang="">administration menu.</span></p>
<p lang="en-GB">If the value is specified in <strong class="source-inline" lang="">config.php</strong>, Moodle will display <strong class="bold" lang="">Defined in config.php</strong> beside the parameter, which indicates that the setting cannot be changed via the admin interface. Invalid values are also shown for these hardcoded settings. In the following screenshot, the <strong class="bold" lang="">Debug messages</strong> value is incorrect while the <strong class="bold" lang="">Display debug messages</strong> value <span class="No-Break" lang="">is correct:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer497">
<img alt="" height="456" src="image/Figure_A.04_B18779.jpg" width="1221"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure A.4 – Hardcoded configuration settings</p>
<p lang="en-GB">If you wish to force plugin settings, you must put them in a special array called <strong class="source-inline" lang="">forced_plugin_settings</strong> (see the reference to optional <span class="No-Break" lang="">parameters later).</span></p>
<h1 id="_idParaDest-371" lang="en-GB"><a id="_idTextAnchor373"/>Configuration reference – system settings</h1>
<p lang="en-GB">This section contains the actual reference for configuration settings; the explanations have been taken from help pages, forum posts, and comments in the <span class="No-Break" lang="">source code.</span></p>
<h2 id="_idParaDest-372" lang="en-GB"><a id="_idTextAnchor374"/>Default parameters</h2>
<p lang="en-GB">Default parameters are settings created by the installer, derived from <strong class="source-inline" lang="">config-dist.php</strong>. Most settings are compulsory for Moodle to operate, so be careful when modifying them. The parameters are listed in the order in which they appear by default <span class="No-Break" lang="">in </span><span class="No-Break" lang=""><strong class="source-inline" lang="">config.php</strong></span><span class="No-Break" lang="">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer498">
<img alt="" height="992" src="image/Figure_A.05_B18779.jpg" width="1209"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure A.5 – config.php default parameters</p>
<p lang="en-GB">In addition to the default parameters, there are hundreds of optional parameters, some of which we will deal with in the <span class="No-Break" lang="">following subsection.</span></p>
<h2 id="_idParaDest-373" lang="en-GB"><a id="_idTextAnchor375"/>Optional parameters</h2>
<p lang="en-GB">There are over 300 <strong class="source-inline" lang="">config.php</strong> parameters that cannot be modified via the Moodle administrator interface. These hidden settings allow you to modify the behavior of Moodle without the requirement to change <span class="No-Break" lang="">any code.</span></p>
<p lang="en-GB">We only cover a representative list of settings, ignoring those that are only relevant to developers and designers. We have also disregarded obsolete and obscure parameters and ones that have a counterpart in the admin settings. Parameters have been listed in alphabetical order, and some have been grouped <span class="No-Break" lang="">for simplicity.</span></p>
<p lang="en-GB">Available types are <strong class="bold" lang="">A</strong>rray, <strong class="bold" lang="">B</strong>inary, <strong class="bold" lang="">N</strong>umeric, <strong class="bold" lang="">L</strong>ist, <span class="No-Break" lang="">and </span><span class="No-Break" lang=""><strong class="bold" lang="">S</strong></span><span class="No-Break" lang="">tring:</span></p>
<table class="No-Table-Style" id="table001">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Name</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Type</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Description</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">adhoctaskageerror</span></p>
<p lang="en-GB"><span class="No-Break" lang="">adhoctaskagewarn</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Moodle checks how old tasks are in the ad hoc queue and warns at 10 minutes and errors at <span class="No-Break" lang="">4 hours.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">admineditalways</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">When set to true, enables admins to edit any post at <span class="No-Break" lang="">any time.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">apacheloguser</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Logging Apache: <strong class="source-inline" lang="">0</strong> = off, <strong class="source-inline" lang="">1</strong> = user id, <strong class="source-inline" lang="">2</strong> = full name, <strong class="source-inline" lang="">3</strong> = <span class="No-Break" lang="">username.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">apachemaxmem</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Memory threshold over which Apache children will be reaped after they complete serving <span class="No-Break" lang="">the request.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">backuptempdir</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">It is possible to specify a different backup temp directory. Use a local (fast) filesystem for normal web servers. Server clusters must use a shared filesystem for <strong class="source-inline" lang="">backuptempdir</strong>. The directory must not be accessible via <span class="No-Break" lang="">the web.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">bounceratio</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">The default is <strong class="source-inline" lang="">20</strong>. <span class="No-Break" lang="">See </span><span class="No-Break" lang=""><strong class="source-inline" lang="">$CFG-&gt;handlebounces</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">customfiletypes</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">A</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Adding entries to <strong class="bold" lang="">Site administration</strong> | <strong class="bold" lang="">Server</strong> | <strong class="bold" lang="">File types</strong>, <span class="No-Break" lang="">for instance.</span></p>
<table class="No-Table-Style" id="table002">
<colgroup>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">$CFG-&gt;customfiletypes = array(</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">    (object)array(</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">        'extension' =&gt; 'mobi',</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">        'icon' =&gt; 'document',</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">        'type' =&gt; 'application/x-mobipocket-ebook',</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">        'customdescription' =&gt; 'Kindle ebook'</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">    )</pre>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<pre class="source-code" lang="en-GB">);</pre>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">customfrontpageinclude</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">You can replace the home page with your own version. <a href="http://moodle.org">moodle.org</a> uses this approach. Only the center area will be replaced, not the header, footer, <span class="No-Break" lang="">or blocks.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Name</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Type</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Description</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">customscripts</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Enabling this will allow custom scripts (to be specified with the full path name) to replace existing moodle scripts. For example, if <strong class="source-inline" lang="">$CFG-&gt;customscripts/course/view.php</strong> exists, then it will be used instead of <strong class="source-inline" lang="">$CFG-&gt;wwwroot/course/view.php</strong>. Currently, this will only work for files that include <strong class="source-inline" lang="">config.php</strong> and are called as part of the URL (<strong class="source-inline" lang="">index.php</strong> is implied). Custom scripts should not <span class="No-Break" lang="">include </span><span class="No-Break" lang=""><strong class="source-inline" lang="">config.php</strong></span><span class="No-Break" lang="">.</span></p>
<p lang="en-GB">Warning: Replacing standard Moodle scripts may pose a security risk and/or may not be compatible with upgrades. However, this is useful when having to patch a particular page without actually overwriting the <span class="No-Break" lang="">core code.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">debugimap</span></p>
<p lang="en-GB"><span class="No-Break" lang="">debugsmtp</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Enable verbose debug information while sending email messages to the IMAP/SMTP server (requires <strong class="source-inline" lang="">$CFG-&gt;debug</strong> to be set <span class="No-Break" lang="">to </span><span class="No-Break" lang=""><strong class="source-inline" lang="">DEBUG_DEVELOPER</strong></span><span class="No-Break" lang="">).</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">debugusers</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Comma-separated list of user IDs that always see <span class="No-Break" lang="">debug messages.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">defaultblocks</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">A</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Default block variables for new courses, for instance, <strong class="source-inline" lang="">participants</strong>, <strong class="source-inline" lang="">activity_modules</strong>, <strong class="source-inline" lang="">search_forums</strong>, <strong class="source-inline" lang="">admin</strong>, <strong class="source-inline" lang="">course_list</strong>, <strong class="source-inline" lang="">news_items</strong>, <strong class="source-inline" lang="">calendar_upcoming</strong>, <strong class="source-inline" lang="">recent_activity</strong>. This setting can be overridden for different course types, such as <strong class="source-inline" lang="">defaultblocks_social</strong>, <strong class="source-inline" lang="">defaultblocks_weeks</strong>, <span class="No-Break" lang="">and </span><span class="No-Break" lang=""><strong class="source-inline" lang="">defaultblocks_topics</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">disablemycourses</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">This setting will prevent the My Courses page from being displayed when users log in. The home page will always show the same (<span class="No-Break" lang="">logged-out) view.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">disableonclickaddoninstall</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Disable the plugin installation feature and hide it from the server administration <span class="No-Break" lang="">user interface.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">disablestatsprocessing</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Prevent stats processing and hide <span class="No-Break" lang="">the GUI.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">disableupdateautodeploy</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Disables update deployment. Useful when deployment is done via <span class="No-Break" lang="">Git checkouts.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">disableupdatenotifications</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Disables update notifications. Useful when deployment is done via <span class="No-Break" lang="">Git checkouts.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Name</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Type</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Description</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">disableusercreationonrestore</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Completely disable user creation when restoring a course. Enabling this setting results in the restore process stopping when a user attempts to restore a course requiring users to <span class="No-Break" lang="">be created.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">divertallemailsto</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Divert all outgoing emails to this address to test and debug <span class="No-Break" lang="">emailing features.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">emailconnectionerrorsto</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Email database connection errors to someone. If Moodle cannot connect to the database, email this address with <span class="No-Break" lang="">a notice.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">expectedcronfrequency</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Moodle checks that the cron is running frequently. If the time between cron runs exceeds this value (in seconds), you get a warning on the admin page. This setting only controls whether or not the warning appears; it has no <span class="No-Break" lang="">other effect.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">filedir</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">You can specify an alternative <span class="No-Break" lang="">to </span><span class="No-Break" lang=""><strong class="source-inline" lang="">dataroot</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">filelifetime</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Seconds for files to remain in caches (default is <strong class="source-inline" lang="">86400</strong>, which equals 24 hours). Decrease this if you are worried about students being served outdated versions of <span class="No-Break" lang="">uploaded files.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">filepermissions</span></p>
</td>
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p lang="en-GB">Same as <strong class="source-inline" lang="">directorypermissions</strong> in the default parameters, but for <span class="No-Break" lang="">created files.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">forced_plugin_settings</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">A</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Plugin settings have to be specified as an array <span class="No-Break" lang="">of arrays:</span></p>
<p lang="en-GB"><strong class="source-inline" lang="">array('plugin1' =&gt; array('param1' =&gt; 'value1', ('param2' =&gt; 'value2', …), ('plugin2' =&gt; array('param1' =&gt; 'value1', ('param2' =&gt; 'value2', …), …);</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">forcedefaultmymoodle</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">If set, the My Moodle page cannot be customized <span class="No-Break" lang="">by users.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">forcefirstname</span></p>
<p lang="en-GB"><span class="No-Break" lang="">forcelastname</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">To anonymize usernames for all students. If set, then all non-teachers will always see this for <span class="No-Break" lang="">every person.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">gradeoverhundredprocentmax</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">If <strong class="source-inline" lang="">unlimitedgrades</strong> is set, you can specify a maximum value (<strong class="source-inline" lang="">1</strong> = 100%, default = <span class="No-Break" lang=""><strong class="source-inline" lang="">10</strong></span><span class="No-Break" lang="">).</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">handlebounces</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">This is for handling email bounces. Used in conjunction with <strong class="source-inline" lang="">minbounces</strong> <span class="No-Break" lang="">and </span><span class="No-Break" lang=""><strong class="source-inline" lang="">bounceratio</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">httpswwwroot</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><strong class="source-inline" lang="">wwwroot</strong> for <span class="No-Break" lang="">SSL pages.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Name</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Type</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Description</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">includeuserpasswordsinbackup</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Allow user passwords to be included in backup files. Use only if you can guarantee that all your backup files remain private, as password hashes can <span class="No-Break" lang="">be unencrypted.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">keeptempdirectoriesonbackup</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Keep the temporary directories used by backup and restore without being deleted at the end of the process. See also the <em class="italic" lang="">Managing courses in bulk</em> section in <a href="B18779_04.xhtml#_idTextAnchor074"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 4</em></span></a><em class="italic" lang="">, Managing Courses </em><span class="No-Break" lang=""><em class="italic" lang="">and Enrolments</em></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">langlocalroot</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Alternative directory <span class="No-Break" lang="">to </span><span class="No-Break" lang=""><strong class="source-inline" lang="">$CFG-&gt;dataroot/lang</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">localcachedir</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">It is possible to specify different cache and temp directories. Use local (fast) filesystem for normal web servers. Server clusters must use a shared filesystem for <strong class="source-inline" lang="">cachedir</strong>. <strong class="source-inline" lang="">localcachedir</strong> is intended for server clusters; it does not have to be shared by cluster nodes. The directories must not be accessible via <span class="No-Break" lang="">the web.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">maildomain</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Your <span class="No-Break" lang="">email domain.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">mailprefix</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><strong class="source-inline" lang="">mdl+</strong> is the separator for Exim and Postfix, <strong class="source-inline" lang="">mdl-</strong> is the separator <span class="No-Break" lang="">for qmail.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">minbounces</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">The default is <strong class="source-inline" lang="">10</strong>. <span class="No-Break" lang="">See </span><span class="No-Break" lang=""><strong class="source-inline" lang="">$CFG-&gt;handlebounces</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">mnetkeylifetime</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">The number of days until the networking key expires. See <a href="B18779_19.xhtml#_idTextAnchor344"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 19</em></span></a><em class="italic" lang="">, Setting Up Moodle Networking</em>, <span class="No-Break" lang="">for details.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">noemailever</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">When working with production data on test servers, no emails or other messages should ever be sent to <span class="No-Break" lang="">real users.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">opensslcnf</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Location of the <span class="No-Break" lang=""><strong class="source-inline" lang="">openssl.cnf</strong></span><span class="No-Break" lang=""> file.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">passwordsaltmain</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Random string added to the md5 password hash. See <a href="B18779_13.xhtml#_idTextAnchor251"><span class="No-Break" lang=""><em class="italic" lang="">Chapter 13</em></span></a><em class="italic" lang="">, Ensuring Moodle Security</em>, <span class="No-Break" lang="">for details.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="de-DE" xml:lang="de-DE">p</span><span class="No-Break" lang="">dfexportfont</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">The font used in exported PDF files. When generating a PDF, Moodle embeds a subset of the font in the PDF file so it will be readable on the widest range of devices (the default <span class="No-Break" lang="">is </span><span class="No-Break" lang=""><strong class="source-inline" lang="">freesans</strong></span><span class="No-Break" lang="">).</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">preferlinegraphs</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">This setting will make some graphs (for instance, user logs) use lines instead <span class="No-Break" lang="">of bars.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">preventscheduledtaskchanges</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Disable editing of tasks in <strong class="bold" lang="">Site administration</strong><strong class="bold" lang=""> | </strong><strong class="bold" lang="">Server</strong><strong class="bold" lang=""> | </strong><span class="No-Break" lang=""><strong class="bold" lang="">Scheduled tasks</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">reverseproxy</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Enable when setting up advanced reverse proxy load balancing configurations and <span class="No-Break" lang="">port forwarding.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">showcrondebugging</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Add debug info to <span class="No-Break" lang="">cron output.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">showcronsql</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Show executed SQL queries during <span class="No-Break" lang="">cron execution.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Name</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Type</strong></span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang=""><strong class="bold" lang="">Description</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">skiplangupgrade</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Disables automatic language update and lets translators (lang pack maintainers) keep their <strong class="source-inline" lang="">moodledata/lang/*</strong> to <span class="No-Break" lang="">update manually.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">sslproxy</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Enable when using an external SSL appliance for <span class="No-Break" lang="">performance reasons.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">supportuserid</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">N</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Emails to support can be redirected to <span class="No-Break" lang="">another user.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">tagsort</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Sort tags in tag cloud by specified field; default = <span class="No-Break" lang=""><strong class="source-inline" lang="">name</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">themedir</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Add an extra themes directory outside <span class="No-Break" lang="">of </span><span class="No-Break" lang=""><strong class="source-inline" lang="">$CFG-&gt;dirroot</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">themeorder</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">A</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Priority of themes from highest to lowest. The default is <strong class="source-inline" lang="">array('course', 'category', 'session', '</strong><span class="No-Break" lang=""><strong class="source-inline" lang="">user', 'site')</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">themerev</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Prevent <span class="No-Break" lang="">theme caching.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">tracksessionip</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Moodle will track the current user’s IP to ensure it hasn’t changed during a session. This will prevent the possibility of sessions being hijacked via XSS, but it may break things for users using proxies that <span class="No-Break" lang="">change frequently.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">trashdir</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Alternative location <span class="No-Break" lang="">for </span><span class="No-Break" lang=""><strong class="source-inline" lang="">$CFG-&gt;dirroot/trashdir</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">undeletableblocktypes</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">A</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">The blocks in this list are protected from deletion, for <span class="No-Break" lang="">example, </span><span class="No-Break" lang=""><strong class="source-inline" lang="">navigation,settings</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">uninstallclionly</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">This stops admins from uninstalling plugins from the admin user interface and forces plugins to be uninstalled from the command-line tool only, found <span class="No-Break" lang="">at </span><span class="No-Break" lang=""><strong class="source-inline" lang="">admin/cli/plugin_uninstall.php</strong></span><span class="No-Break" lang="">.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">upgradekey</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Password protection during the upgrade process. See <a href="http://docs.moodle.org/en/Upgrade_key">docs.moodle.org/en/Upgrade_key</a> <span class="No-Break" lang="">for details.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">upgraderunning</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Pretend Moodle update <span class="No-Break" lang="">is running.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">upgradeshowsql</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Show executed SQL queries <span class="No-Break" lang="">during upgrades.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">usezipbackups</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">B</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">Use ZIP compression in backups instead of <span class="No-Break" lang="">default TGZ.</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p lang="en-GB"><span class="No-Break" lang="">wordlist</span></p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">S</p>
</td>
<td class="No-Table-Style">
<p lang="en-GB">List words used by Moodle’s Word <span class="No-Break" lang="">censorship filter.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
</div></body></html>
["```php\nadd_action( 'widgets_init', 'ch10brw_create_widgets' ); \n```", "```php\nfunction ch10brw_create_widgets() { \n    register_widget( 'Book_Reviews' ); \n} \n```", "```php\nclass Book_Reviews extends WP_Widget { \n    // Construction function \n    function __construct () { \n        parent::__construct( 'book_reviews', 'Book Reviews',\n            array( 'description' =>                                     \n                   'Displays list of recent book reviews' ) ); \n    } \n} \n```", "```php\nfunction form( $instance ) { \n    // Retrieve previous values from instance \n    // or set default values if not present \n    $render_widget = ( !empty( $instance['render_widget'] ) ? \n                       $instance['render_widget'] : 'true' ); \n\n    $nb_book_reviews = ( !empty( $instance['nb_book_reviews'] ) ? \n                         $instance['nb_book_reviews'] : 5 ); \n\n    $widget_title = ( !empty( $instance['widget_title'] ) ?  \n                      esc_attr( $instance['widget_title'] ) : \n                      'Book Reviews' );            \n    ?>\n\n    <!-- Display fields to specify title and item count --> \n    <p> \n        <label for=\"<?php echo  \n                    $this->get_field_id( 'render_widget' ); ?>\"> \n        <?php echo 'Display Widget'; ?>             \n        <select id=\"<?php echo \n                     $this->get_field_id( 'render_widget' ); ?>\"\n                name=\"<?php echo \n                $this->get_field_name( 'render_widget' ); ?>\"> \n            <option value=\"true\" \n                <?php selected( $render_widget, 'true' ); ?>> \n            Yes</option> \n            <option value=\"false\" \n                <?php selected( $render_widget, 'false' ); ?>> \n            No</option> \n        </select>                     \n        </label> \n    </p> \n    <p> \n        <label for=\"<?php echo  \n                    $this->get_field_id( 'widget_title' ); ?>\"> \n        <?php echo 'Widget Title:'; ?>             \n        <input type=\"text\"  \n               id=\"<?php echo \n                    $this->get_field_id( 'widget_title' );?>\"\n               name=\"<?php\n               echo $this->get_field_name( 'widget_title' ); ?>\" \n               value=\"<?php echo $widget_title; ?>\" />             \n        </label> \n    </p>  \n    <p> \n        <label for=\"<?php echo  \n                    $this->get_field_id( 'nb_book_reviews' ); ?>\"> \n        <?php echo 'Number of reviews to display:'; ?>             \n        <input type=\"text\"  \n               id=\"<?php echo \n                   $this->get_field_id( 'nb_book_reviews' ); ?>\"\n               name=\"<?php echo \n               $this->get_field_name( 'nb_book_reviews' ); ?>\" \n               value=\"<?php echo $nb_book_reviews; ?>\" />             \n        </label> \n    </p> \n<?php } \n```", "```php\nfunction update( $new_instance, $instance ) { \n    // Only allow numeric values \n    if ( is_numeric ( $new_instance['nb_book_reviews'] ) ) {\n        $instance['nb_book_reviews'] =\n            intval( $new_instance['nb_book_reviews'] );\n    } else {\n        $instance['nb_book_reviews'] =\n            $instance['nb_book_reviews'];\n    }\n\n    $instance['widget_title'] =\n        sanitize_text_field( $new_instance['widget_title'] ); \n\n    $instance['render_widget'] = \n        sanitize_text_field( $new_instance['render_widget'] );      \n\n    return $instance; \n}    \n```", "```php\nfunction widget( $args, $instance ) { \n    if ( 'true' == $instance['render_widget'] ) { \n        // Extract members of args array as individual variables \n        extract( $args );\n\n        // Retrieve widget configuration options \n        $nb_book_reviews = \n             ( !empty( $instance['nb_book_reviews'] ) ? \n                       $instance['nb_book_reviews'] : 5 ); \n\n        $widget_title = ( !empty( $instance['widget_title'] ) ?  \n                          esc_attr( $instance['widget_title'] ) : \n                          'Book Reviews' ); \n\n        // Preparation of query string to retrieve book reviews \n        $query_array = array( 'post_type' => 'book_reviews', \n                              'post_status' => 'publish', \n                              'posts_per_page' => \n                                  $nb_book_reviews ); \n\n        // Execution of post query \n        $book_review_query = new WP_Query(); \n        $book_review_query->query( $query_array );  \n\n        // Display widget title \n        echo $before_widget . $before_title; \n        echo apply_filters( 'widget_title', $widget_title ); \n        echo $after_title;  \n\n        // Check if any posts were returned by query \n        if ( $book_review_query->have_posts() ) {             \n            // Display posts in unordered list layout \n            echo '<ul>'; \n\n            // Cycle through all items retrieved \n            while ( $book_review_query->have_posts() ) { \n                $book_review_query->the_post(); \n                echo '<li><a href=\"' . get_permalink() . '\">'; \n                echo get_the_title( get_the_ID() ) . '</a></li>'; \n            } \n            echo '</ul>';  \n        } \n        wp_reset_query(); \n        echo $after_widget; \n    } \n} \n```", "```php\nadd_action( 'wp_dashboard_setup', \n            'ch10brdw_add_dashboard_widget' ); \n```", "```php\nfunction ch10brdw_add_dashboard_widget() { \n    wp_add_dashboard_widget( 'book_reviews_dashboard_widget', \n                             'Book Reviews', \n                             'ch10brdw_dashboard_widget' ); \n} \n```", "```php\nfunction ch10brdw_dashboard_widget() {  \n    $book_review_count = wp_count_posts( 'book_reviews' ); \n    if ( !empty( (array) $book_review_count ) ) {\n    ?> \n    <a href=\"<?php echo add_query_arg( array(  \n                                  'post_status' => 'publish', \n                                  'post_type' => 'book_reviews' ), \n                                  admin_url( 'edit.php' ) ); ?>\"> \n    <strong> \n          <?php echo $book_review_count->publish; ?> \n    </strong> Published \n    </a> \n    <br /> \n    <a href=\"<?php echo add_query_arg( array(  \n                                  'post_status' => 'draft', \n                                  'post_type' => 'book_reviews' ),  \n                                  admin_url( 'edit.php' ) ); ?>\"> \n    <strong> \n        <?php echo $book_review_count->draft; ?> \n    </strong> Draft \n    </a> \n<?php }\n}\n```", "```php\nif ( is_multisite() ) {\n add_action( 'wp_network_dashboard_setup',\n                'ch10brdw_add_dashboard_widget' );\n} else {\n    add_action( 'wp_dashboard_setup', \n                'ch10brdw_add_dashboard_widget' );\n}\n```", "```php\nfunction ch10brdw_dashboard_widget() { \n    if ( is_multisite() ) {\n $sites_list = get_sites();\n } else {\n $sites_list = array( 'blog_id' => 1 );\n }\n\n foreach( $sites_list as $site ) {\n if ( is_multisite() ) {\n switch_to_blog( $site->blog_id );\n }\n $site_name = get_bloginfo( 'name' );\n echo '<div>' . $site_name . '</div>';  \n        $book_review_count = wp_count_posts( 'book_reviews' ); \n        ?> \n        // REST OF PREVIOUS CODE GOES HERE\n        <?php }\n    }\n if ( is_multisite() ) {\n restore_current_blog();\n }\n} \n```"]
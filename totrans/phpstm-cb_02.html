<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;PHP Development"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. PHP Development</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating a PHP project using Composer</li><li class="listitem" style="list-style-type: disc">Creating an empty project</li><li class="listitem" style="list-style-type: disc">Reusing an existing project</li><li class="listitem" style="list-style-type: disc">Creating a new PHP class</li><li class="listitem" style="list-style-type: disc">Creating a new PHP method</li><li class="listitem" style="list-style-type: disc">Adding the getter/setter methods</li><li class="listitem" style="list-style-type: disc">Creating delegate methods</li><li class="listitem" style="list-style-type: disc">Surrounding code with control structures</li><li class="listitem" style="list-style-type: disc">Finding the matching brace</li><li class="listitem" style="list-style-type: disc">Commenting out a section of code and PHPDoc</li><li class="listitem" style="list-style-type: disc">Creating a working set</li><li class="listitem" style="list-style-type: disc">Creating TODO tasks</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec24"/>Introduction</h1></div></div></div><p>Now that you have your headlights turned on, you can have that "come what may" attitude and set out to drive your favorite car—PHP. Go ahead and give it your best shot now that you have your beloved tool ready—PhpStorm. PhpStorm will take care of eliminating the distractions from your life and will let you concentrate on programming.</p><p>You can think of any aspect in solving a problem using PHP, and PhpStorm will be there to assist you.</p><p>Do you have an imminent problem to solve, some problem that appears daunting to you, or some problem that has challenged your existence as a software engineer? If you stick to the software engineering principles, PhpStorm will leverage your capacity and let you do wonders while solving the problems at hand. PhpStorm lets you focus on designing your business logic by offloading you from the worries of remembering the finer details, such as the exact method signature and the list of parameters.</p><p>Imagine that you have been called by your manager to discuss some new feature for the business that has to be developed in, as usual, no time at all. You are again in a fix. That decision to choose between the devil and the deep blue sea again looms large.</p><p>PhpStorm users need not worry. They have a third option—to board a helicopter and reach their destination from the current scenario.</p><p>You were brave enough to gather the requirements from the business end. Which way do you chose now? Decide whether you want to go right or left. If you go to the right, you will take the route to create a new project. If you go to the left, you will take the route to reuse an existing project and make modifications in it.</p><p>Wherever you go and whichever road you take, you have to reach the same destination. In the end, you have to report to your manager what you did to achieve the target. Not only do you have to decide quickly, but you also have to act swiftly.</p></div></div>
<div class="section" title="Creating a PHP project using Composer"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec25"/>Creating a PHP project using Composer</h1></div></div></div><p>Welcome to those who have taken the route to the right! Fasten your seatbelts, and get ready to create a new project in PHP.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>Creating a new project in itself is a very mature decision, so you should always decide maturely and strategically. There might be situations in which, out of sheer enthusiasm, you opted to create a new project, and within a few days, you realize that much of the functionality you are planning to create has already been developed. You will end up doing a lot of copy-pasting work.</p></div></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec43"/>Getting ready</h2></div></div></div><p>The principles<a id="id82" class="indexterm"/> of software engineering always teach students that a<a id="id83" class="indexterm"/> design should be high on coupling and low on cohesion. This means that an application program should use other programs but not depend on it. Composer in PHP is a system that helps you to adopt this methodology. Composer is a dependency manager for PHP, which allows other packages written in PHP to be included in other projects.</p><p>PhpStorm enables you to create projects that adhere to this principle. To create a new Composer project, you need to select the <span class="strong"><strong>Composer Project</strong></span> option in the dropdown provided from the <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Project</strong></span> menu item. The next question asked of you is to select the path of <code class="literal">composer.phar</code>—from the local disk or from the<a id="id84" class="indexterm"/> website: <a class="ulink" href="http://www.getcomposer.org">http://www.getcomposer.org</a>
</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec44"/>How to do it...</h2></div></div></div><p>Don't scratch your <a id="id85" class="indexterm"/>head out of utter confusion—more <a id="id86" class="indexterm"/>knowledge surely means more confusion, but that never means you should target zero knowledge to have no confusion at all! An executable, <code class="literal">composer.phar</code>, causes this magic of handling the packages to occur. You must be thinking what exactly is it inside Composer that makes it such a buzzword these days—everyone seems to be talking about it. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <a class="ulink" href="https://getcomposer.org/download/">https://getcomposer.org/download/</a>, and <a id="id87" class="indexterm"/>you will see that there is the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>curl -sS https://getcomposer.org/installer | php</strong></span>
</pre></div></li><li class="listitem">If you have already installed composer prior to coming to cook with PhpStorm, you should specify <code class="literal">/path/to/composer.phar</code>, the path to where composer has been installed.</li><li class="listitem">You can then select from the list of available packages in the left-hand side panel. On the right, you can see the corresponding description of the package selected. You can select the version of the package to be installed, and then click on <span class="strong"><strong>OK</strong></span>.</li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip08"/>Tip</h3><p>
<span class="strong"><strong>Downloading the example code</strong></span>
</p><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.packtpub.com">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec45"/>How it works...</h2></div></div></div><p>The command is actually a concatenation of two commands that get the contents of the installer script and execute that via the PHP command line. If you happen to open the specified link inside a web browser, you will see the entire PHP code behind Composer. Are you able to breathe freely (pun intended)? Back to work, the intention of the second part of the command is to execute the PHP content via the PHP command line.</p><p>Backtracking to the original topic, you were trying to select the right type of <code class="literal">composer.phar</code>. Have a look at the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_02_01.jpg" alt="How it works..."/></div><p>PhpStorm takes<a id="id88" class="indexterm"/> care of the remaining tasks in installing <span class="emphasis"><em>your-selected-package</em></span>.</p><p>The Composer<a id="id89" class="indexterm"/> system generates a <code class="literal">json</code> file with the name <code class="literal">composer.json</code>, which contains the details about the requirements. The following is the <code class="literal">composer.json</code> file for a project that has been created from scratch:</p><div class="informalexample"><pre class="programlisting">{
  "name": "2085020/api_pingdom",
  "description": "pingdom api for php",
  "require": {
    "guzzle/guzzle": "v2.7.2"
  },
  "authors": [
    {
      "name": "Emagister",
      "email": "jcruz@emagister.com"
    }
  ],
  "autoload": {
    "psr-0": {
      "Emagister":"src"
    }
  }

}</pre></div><p>It is quite apparent that the json file conveys a lot of information to the reader. <code class="literal">"name":</code> is the name of the package downloaded. <code class="literal">"description":</code> is the description of the package downloaded. If you have a good memory, you will remember that there was a description in the right-hand panel of the package selection window. This description is exactly the same. <code class="literal">"require":</code> is the name of the packages that this downloaded package depends upon. The json file specifies the name of the project as the key and the corresponding version number as the value. <code class="literal">"authors":</code> is the author of the downloaded package. It includes the name and e-mail address of the author.<code class="literal"> "autoload":</code> is the coding standard, any of PSR-0, PSR-1, PSR-2, PSR-3, PSR-4, and the namespace mapping to the actual directory. The hierarchy goes like this: the coding-standard contains the value of the namespace mapping. Namespace mapping means the name as the key and the directory (relative to the project root) as the value.</p><p>PhpStorm and the<a id="id90" class="indexterm"/> Composer combination work wonders. When <a id="id91" class="indexterm"/>you order PhpStorm to download and arrange the packages, it will automatically arrange for you the include paths for the projects. No more warnings or errors relating to missing files will present a hindrance to your work now. Consider the following sreenshot:</p><div class="mediaobject"><img src="graphics/3878OT_02_02.jpg" alt="How it works..."/></div><p>Suppose you have<a id="id92" class="indexterm"/> already added a few packages in your <a id="id93" class="indexterm"/>project and you now realize that you need to have more of the packages. Not to worry says PhpStorm, as it provides you an option to add more packages in the form of <span class="strong"><strong>Add dependency</strong></span>. Doing this is extremely easy. In the open project, you need to go to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Composer</strong></span> | <span class="strong"><strong>Add dependency</strong></span>. There will be a familiar pop up that will ask you to select a package name and proceed to install. The remainder of the tasks will, as usual, be taken care of by PhpStorm. The result you will see will be in the form of some downloaded files and folders besides a change in your <code class="literal">composer.json</code> file for this particular project. One such <code class="literal">composer.json</code> file is as shown in the following code snippet:</p><div class="informalexample"><pre class="programlisting">{
  "name": "redis/ranking",
"description": "Wrapping Redis's sorted set APIs for specializing ranking operations.",
  "keywords": ["redis", "ranking", "sort", "realtime"],
  "homepage": "https://github.com/matsubo/redis-ranking",
  "type": "library",
  "license": "PHP3",
  "require" : {
    "php": "&gt;=5.3.0",
    "lib/curl": "0.3",
    "php-curl-class/php-curl-class": "1.0.1",
    "php-mod/curl": "1.0",
    "development/curl": "dev-master",
    "phpdocumentor/phpdocumentor": "2.0.0b7",
    "abhi/tangocard": "dev-master",
    "10up/wp_mock": "dev-master"
  },
  "authors": [
    {
      "name": "Yuki Matsukura",
      "email": "matsubokkuri@gmail.com"
    }
  ],


  "require": {
  },
  "require-dev": {
    "devster/ubench": "1.1.*-dev",
    "phpunit/phpunit": "3.*"
  },
  "autoload": {
    "psr-0": {"Matsubo": "src/"}
  }
}</pre></div><p>The symbols have <a id="id94" class="indexterm"/>the usual meaning. The external dependencies<a id="id95" class="indexterm"/> have been added to the list according to the <code class="literal">json</code> notation and are denoted by the single key required, where the value is the actual list of the dependencies having the key as their name and the corresponding versions as the value.</p></div></div>
<div class="section" title="Creating an empty project"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec26"/>Creating an empty project</h1></div></div></div><p>The feeling that you get when <a id="id96" class="indexterm"/>you find some support in times of trouble can be said to have <a id="id97" class="indexterm"/>an analogy with that feeling of finding cold water to drink in times of thirst. This statement's analogy with the current scenario is that until this point in time, you were unable to find the exact project type to create, but now you have found a way out.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec46"/>Getting ready</h2></div></div></div><p>You need to create an empty PHP project when you are convinced enough to need to create a new project and achieve a new feat by fulfilling your manager's business demand.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec47"/>How to do it...</h2></div></div></div><p>A new empty<a id="id98" class="indexterm"/> project is the easiest to create:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">You need to <a id="id99" class="indexterm"/>specify a name for your new project. Don't worry even if there are spelling mistakes in the name itself because PhpStorm doesn't check the name you specify against the dictionary.</li><li class="listitem">A project name should only contain valid characters that a directory name should contain under an operating system.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec48"/>How it works...</h2></div></div></div><p>Creating an empty project is easy to understand. You need to specify the <code class="literal">/path/to/files/and/folders/</code> if you already have some basic framework to start from. See <span class="emphasis"><em>Integrating Frameworks</em></span>, else PhpStorm will manage that for you by setting the default path (<code class="literal">~/PhpstormProjects/&lt;name-of-your-project&gt;</code>).</p></div></div>
<div class="section" title="Reusing an existing project"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec27"/>Reusing an existing project</h1></div></div></div><p>Those who planned to take the<a id="id100" class="indexterm"/> route on the right-hand side have rightly chosen<a id="id101" class="indexterm"/> to do so. At times, reinventing the wheel is not a wise action to perform.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec49"/>Getting ready</h2></div></div></div><p>If you reuse, you will be able to avoid spending time and resources on something that has already been created. PhpStorm allows you to reuse existing projects and lets you move forward. To reuse an existing project, you need to have the project on the disk.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec50"/>How to do it...</h2></div></div></div><p>To open an existing project, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">You need to go to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Open</strong></span>. There will be a pop-up dialog from PhpStorm.</li><li class="listitem">You need to tell PhpStorm the path of the directory where your project is saved, and PhpStorm will obediently open the project for you.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>Once a directory has been opened as a project in PhpStorm, you will be able to distinguish it the next time because PhpStorm puts its logo next to this directory.</p></div></div></li></ol></div><p>You can now <a id="id102" class="indexterm"/>concentrate on gathering your technical<a id="id103" class="indexterm"/> requirements. You are strongly advised to plan well in advance before actually jumping to code because although a perfect software engineering plan does not exist yet, you can be optimistic and create a good enough plan that is flexible enough to be modified in case of need.</p></div></div>
<div class="section" title="Creating a new PHP class"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec28"/>Creating a new PHP class</h1></div></div></div><p>Having come to the kitchen, you <a id="id104" class="indexterm"/>should be prepared to get your hands dirty while cooking. You will have to face the class spills, member variable splashes, and literal wetness of sweat when you try to bake the data structures; they might be too hot to handle. You might end up causing a burning sensation inside you (out of control <span class="emphasis"><em>acidity</em></span>; pun intended). You must be prepared to have mistakenly added less (syntactic) sugar, thought of incorrect salt handling algorithm. All sorts of cooking issues would be there to trouble you, which might make you leave cooking altogether and run away... scary?  Maybe yes... but you will not tire, you will not falter, and you will not fail dear friends, Romans and countrymen!</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec51"/>Getting ready</h2></div></div></div><p>Some fundamentals... some programmers always talk <a id="id105" class="indexterm"/>
<span class="strong"><strong>class</strong></span>. In fact, all should. If you have always wondered what exactly a class is, you need to understand a datatype first. You must now have started feeling nostalgic, recalling your school days when teachers continued to haunt you with all those alien words. Come back and try to understand what a datatype is.</p><p>A <span class="strong"><strong>datatype</strong></span>
<a id="id106" class="indexterm"/> is a classification of data based on its type (some would like to call this its attribute) and the operations (some prefer calling this its behavior). So what is the relation between class and datatype? The answer is that a class is a custom datatype. Puzzled? Please do not be. If you attempt to create a class, what do you do? You plan a number of member variables… STOP.</p><p>What is a variable defined as? There is the connection. So, the complete statement now becomes: you plan a number of member variables, methods (functions, as some prefer saying) to pack inside a class.</p><p>A class can be inherited from another class, can implement an interface, or be designed to be inherited. You can think of any permutation from the set {simple, abstract, inherited, super, and sub}, and you will observe that most of the permutations will be valid. How do you attack a problem? Simple common sense would suggest attacking the easiest part of the problem. So, here is how you can create a simple PHP class using PhpStorm.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec52"/>How to do it...</h2></div></div></div><p>To be about to create a new class, you might have already created a project. Inside that project, you can create a new class by selecting the target folder and accessing the right-click context menu.</p><p>PhpStorm is a curious machine. No <a id="id107" class="indexterm"/>sooner do you ask it to do something for you than it starts asking you a number of questions related to it. Here, when you ask PhpStorm to create a new class for you, it will ask you the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Name</strong></span>: This is<a id="id108" class="indexterm"/> quite self explanatory and is a mandatory field. You need to tell PhpStorm the name of the class you want to be created. You should be careful while naming your class, as this has to be in sync with your project engineering plan.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Namespace</strong></span>: This is a<a id="id109" class="indexterm"/> handle-with-care option. You need to specify the namespace in order to explicitly tell the interpreter which version of the function to use. This is an optional but important field—if you do not specify it, nothing bad will happen and you will not suffer any illness.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Filename</strong></span>: This is an<a id="id110" class="indexterm"/> option you need to be careful while using. By default, this assumes the same value as the name of the class. If you mishandle this option by providing some other name, any product that you create will be solely owned by destiny, and no engineering principle will be able to maintain your product with ease.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Directory</strong></span>: Here, you<a id="id111" class="indexterm"/> can set the location where you wish your class to physically reside on the disk. By default, it assumes the location where you created your project—project root to be precise.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Kind</strong></span>: Now, this is<a id="id112" class="indexterm"/> something you have to decide based on the type of engineering plan that you have made prior to selecting this project. If you had a plan according to which you will be able to decide the functionality at a later stage, you can set the type of file as an interface; or for all other cases, you need to select the type as class. This interface is required in those conditions in which you will add the salt to the recipe later (pun intended). A trait is something that has a philosophy of "me too". You can safely ignore it for now.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>File extension</strong></span>: This is an <a id="id113" class="indexterm"/>option that you are not advised to unnecessarily change. At the heart of all PHP files lies only one extension—the <code class="literal">.php</code> file. PhpStorm knows this. Please allow it to proceed.</li></ul></div><p>The add class option is <a id="id114" class="indexterm"/>available via two menu items. One has already been discussed, and for the other, perform the following step:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New</strong></span>:<div class="mediaobject"><img src="graphics/3878OT_02_03.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec53"/>How it works...</h2></div></div></div><p>A simple sample class would look like the following code snippet:</p><div class="informalexample"><pre class="programlisting">&lt;?php
class Review {

}</pre></div><p>Creating an interface in PhpStorm is not difficult either. On telling PhpStorm to create an interface, the output will be similar to a class except that there will be the keyword interface that will replace the keyword class. It will look like the following:</p><div class="informalexample"><pre class="programlisting">&lt;?php

interface Readable {</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>If you want to differentiate class and interface, then you just need common sense in terms of PHP. A <code class="literal">Class</code> keyword is used for class and <code class="literal">interface</code> for creating interfaces in PHP.</p></div></div></div></div>
<div class="section" title="Creating a new PHP method"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec29"/>Creating a new PHP method</h1></div></div></div><p>If classes that represent real-world<a id="id115" class="indexterm"/> entities are nouns, they do not have any existence without verbs—the actions to be performed. To be able to maximize the technical profit for the manager you work for, you must be ready to use functions for all the verbs that exist in your use case.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec54"/>Getting ready</h2></div></div></div><p>Say for example, you have a pizza cooking task at hand. The recipe would consist of a (bare minimum) pizza bread (a noun), cheese (a noun), some salt (a noun). If you ponder over your problem, you will realize that you need to apply cheese to your pizza bread and add salt according to taste. If you look at this scenario from a technical perspective, you would most probably decide that there would be a <code class="literal">PizzaDish</code> class with functions such as <code class="literal">applyCheese(pizzaBread)</code>, <code class="literal">addSalt(cheese)</code>, and so on.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec55"/>How to do it...</h2></div></div></div><p>Creating a method in PhpStorm is easy. Suppose you have your <code class="literal">PizzaDish</code> class. Your pizza dish is a <code class="literal">Dish</code> so your <code class="literal">PizzaDish</code> would extend <code class="literal">Dish</code>. Your class would look like the following code snippet:</p><div class="informalexample"><pre class="programlisting">&lt;?php
class Dish {
/**
* @param string $dishName The name of the dish
*/
protected function addSalt(){}
}</pre></div><p>Your <code class="literal">PizzaDish</code> class can look like the following code snippet:</p><div class="informalexample"><pre class="programlisting">&lt;?php
class PizzaDish extends Dish{
  private $dishName;
  function addSalt($dishName){
    $this-&gt;dishName = $dishName;
    parent::addSalt($this-&gt;dishName);
  }
}</pre></div><p>Coding in PhpStorm is eased heavily by the use of code hinting or code completion. You just need to type a few characters as a hint, and PhpStorm is ready to suggest what could be next. You type <code class="literal">fun</code> and press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Space</em></span>, and there will be a number of hints about what your function can be. If you want to do more with your pizza creation recipe, as in adding some more ingredients, such as capsicum or mushroom, you can have a general function, <code class="literal">add($ingredient, $dishname)</code>. You can do that in your <code class="literal">PizzaDish</code> class. You can make use of code completion for the access modifier. You have to manually take care of the other actions.</p><p>To convert the method <code class="literal">addSalt()</code> to <code class="literal">add()</code>, you need to rename the <code class="literal">addSalt</code> method. This is done in PhpStorm by the refactor option.</p><p>To refactor an item (here, the <code class="literal">addSalt</code> method), access the right-click context menu | <span class="strong"><strong>Refactor</strong></span> | <span class="strong"><strong>Rename</strong></span> or <span class="strong"><strong>Refactor</strong></span> | <span class="strong"><strong>Change Signature</strong></span>.</p><p>The <span class="strong"><strong>Rename</strong></span> submenu, as shown<a id="id116" class="indexterm"/> in the following screenshot, will only change the name of the method:</p><div class="mediaobject"><img src="graphics/3878OT_02_04.jpg" alt="How to do it..."/></div><p>The <span class="strong"><strong>Change Signature</strong></span> option is a more detailed refactoring facility in which you can change the complete signature of a method, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_02_05.jpg" alt="How to do it..."/></div><p>So, your new add<a id="id117" class="indexterm"/> function becomes like the following code snippet:</p><div class="informalexample"><pre class="programlisting">&lt;?php
require_once 'Dish.php';

class PizzaDish extends Dish{
  private $dishName;

  function __construct($dishName){
    $this-&gt;dishName = $dishName;
  }

  function add($ingredientName){
    parent::add($this-&gt;dishName, $ingredientName);
  }
}</pre></div><p>A similar change has occurred in the parent <code class="literal">Dish</code> class as well, where the method <code class="literal">addSalt</code> has been renamed to <code class="literal">add</code>, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">&lt;?php
class Dish {
  /**
  * @param string $dishName  The name of the dish
  */
  protected function add($dishName, $ingredient){
  }
}</pre></div><p>You can make use of the <code class="literal">PizzaDish</code> class and its methods by firing the code shown in the following screenshot:</p><div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza');
$pizzaDish-&gt;add('salt');
$pizzaDish-&gt;add('cheese');
$pizzaDish-&gt;add('capsicum');</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec56"/>How it works...</h2></div></div></div><p>The working of the code <a id="id118" class="indexterm"/>ecosystem is quite simple. You instantiated the <code class="literal">PizzaDish</code> class normally. You invoked the <code class="literal">add</code> function. But, when you actually invoked the <code class="literal">add</code> function, what exactly happened? The <code class="literal">add</code> function called the <code class="literal">add</code> function defined in its parent class (remember extends added to the beginning of <code class="literal">PizzaDish</code>) using a special word—<code class="literal">parent</code>. So, you called the <code class="literal">add</code> method thinking that <code class="literal">PizzaDish</code> would do your work, but in reality, <code class="literal">Dish</code> did your work! No, no, this is not cheating. This is inheritance, as explained by the principles of software engineering.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip09"/>Tip</h3><p>The keyboard shortcuts are <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>F6</em></span> and <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>F6</em></span> to change the signature and rename respectively.</p></div></div></div></div>
<div class="section" title="Adding the getter/setter methods"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec30"/>Adding the getter/setter methods</h1></div></div></div><p>Adding <code class="literal">getter</code> and <code class="literal">setter</code> methods in PhpStorm is equally easy. All you need to do is have a member variable of the class. In the <code class="literal">PizzaDish</code> example, it was <code class="literal">dishName</code>.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec57"/>Getting ready</h2></div></div></div><p>To create getters<a id="id119" class="indexterm"/> and setters <a id="id120" class="indexterm"/>for <code class="literal">dishName</code>, PhpStorm provides that if you need to. Access the right-click context menu for the target variable, click on <span class="strong"><strong>Generate</strong></span> and select <span class="strong"><strong>Getters</strong></span> and <span class="strong"><strong>Setters</strong></span> from the pop up. PhpStorm will create the desired getters and setters for the selected member.</p><p>Your <code class="literal">PizzaDish</code> class will now look like the following piece of code:</p><div class="informalexample"><pre class="programlisting">&lt;?php
require_once 'Dish.php';

class PizzaDish extends Dish{
  private $dishName;
  
  /**
  * @param mixed $dishName
  */
  public function setDishName($dishName)
  {
    $this-&gt;dishName = $dishName;
  }
  
  /**
    * @return mixed
  */
  public function getDishName()
  {
    return $this-&gt;dishName;
  }
  function add($ingredientName){
    $this-&gt;setDishName($ingredientName);
    parent::add($this-&gt;dishName);
  }
}</pre></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec58"/>How to do it...</h2></div></div></div><p>The process of <a id="id121" class="indexterm"/>adding salt, cheese, and capsicum is still the same.</p><p>You have to send the following lines to your PHP engine in order to create a new pizza dish and add some ingredients to it:</p><div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza');
$pizzaDish-&gt;add('salt');
$pizzaDish-&gt;add('cheese');
$pizzaDish-&gt;add('capsicum');</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec59"/>How it works...</h2></div></div></div><p>Earlier, when you had to access <code class="literal">$dishName</code>, you did it directly. This initiated a number of poor engineering practices, such as exposing the representation of the member variables. Actually, the list is endless. All you need to do is ensure that you must use getters and setters to be a good software engineer. So, in the code provided to you, you just have to call the <code class="literal">getter</code> method (such as <code class="literal">getDishName</code>) and the <code class="literal">setter</code> method (such as <code class="literal">setDishName</code>).</p><p>Are you still feeling <a id="id122" class="indexterm"/>uncomfortable? Have patience. Welcome to the real <a id="id123" class="indexterm"/>software engineering world.</p></div></div>
<div class="section" title="Creating delegate methods"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec31"/>Creating delegate methods</h1></div></div></div><p>Delegation<a id="id124" class="indexterm"/> is an important design pattern in software engineering. It enhances code reusability.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec60"/>Getting ready</h2></div></div></div><p>In PHP, delegate <a id="id125" class="indexterm"/>methods can be created in accordance with the principle of delegation. While calling delegate functions, you need not know the name of the actual function in advance—the PHP engine can find it out at runtime for you.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec61"/>How to do it...</h2></div></div></div><p>PHP provides two factory methods for the purpose. However, you can create your own delegate methods using the principles of <a id="id126" class="indexterm"/>
<span class="strong"><strong>object-oriented programming</strong></span>.</p><p>The factory methods provided by PHP are <code class="literal">call_user_func()</code> and <code class="literal">call_user_func_array()</code>. While the usage of the two methods is out of the scope of this text, the creation and usage of the delegate methods is better explained by the same scenario of cooking <code class="literal">PizzaDish</code>, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">&lt;?php
require_once 'Dish.php';

class PizzaDish{
  private $dishName;
  
  /**
    * @param mixed $dishName
  */
  public function setDishName($dishName)
  {
    $this-&gt;dishName = $dishName;
  }
  
  /**
  * @return mixed
  */
  public function getDishName()
  {
    return $this-&gt;dishName;
  }
  
  private $instance;
  
  /**
    * @return mixed
  */
  public function getInstance()
  {
    return $this-&gt;instance;
  }
  
  
  /**
    * @param mixed $instance
  */
  public function setInstance($instance)
  {
    $this-&gt;instance = new $instance;
  }
  
  
  function __construct($dishName, $instanceName){
    $this-&gt;setInstance($instanceName);
    $this-&gt;setDishName($dishName);
  }
  
  
  function add($ingredientName){
    $this-&gt;getInstance()-&gt;add($ingredientName);
  }
}</pre></div><p>The usage of the<a id="id127" class="indexterm"/> delegate method is almost the same, but not the same:</p><div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza', 'Dish');
$pizzaDish-&gt;add('salt');
$pizzaDish-&gt;add('cheese');
$pizzaDish-&gt;add('capsicum');</pre></div><p>And the <code class="literal">Dish</code> class now looks like the following:</p><div class="informalexample"><pre class="programlisting">&lt;?php
class Dish {
  /**
    * @param string $ingredient The name of the ingredient to be added
  */
  public function add($ingredient){
    echo "\nYou have added: ", $ingredient;
  }
}</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec62"/>How it works...</h2></div></div></div><p>Surprised? What is <a id="id128" class="indexterm"/>happening here is that when you invoke the <code class="literal">PizzaDish</code> class and pass the name of the <code class="literal">Dish</code> class in the constructor, the value of <code class="literal">$instance</code> is a newly created object of the <code class="literal">Dish</code> class. The rest, as it goes, is the usual method call via a class object. You can take a deep breath now, as you have just delegated the <code class="literal">add</code> function in <code class="literal">PizzaDish</code> to use the <code class="literal">add</code> function of <code class="literal">Dish</code>. It appears that the <code class="literal">PizzaDish</code> class is performing the task, but the actual task is done by the <code class="literal">Dish</code> class.</p></div></div>
<div class="section" title="Surrounding code with control structures"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec32"/>Surrounding code with control structures</h1></div></div></div><p>Whatever algorithm you <a id="id129" class="indexterm"/>think of, whichever tool you use to <a id="id130" class="indexterm"/>design the functional requirements, and whichever planet you go to and use whatever hardware as your development platform, there is this fact that is omnipresent and ubiquitous: loops will follow you everywhere. Control structures are the building blocks of any code you think of. Not convinced? Your <code class="literal">PizzaDish</code> use case itself will be able to prove it to you.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec63"/>Getting ready</h2></div></div></div><p>You need a computer in the first place to make calculations and decisions and solve complex problems in a diligent manner. Does a computer stop by solving just one problem? No. It is programmed to continue for all possible number of times it has been instructed. How does a program achieve this diligence? You said it right. A bit louder please. Yes, control loops. Even though this explanation might appear trivial to all you big guns, yet it is right that you cannot proceed to code without control structures.</p><p>PhpStorm lets you write code. It lets you concentrate on the actual business logic. You can write the lines of code that you think would be the atomic part. When you are convinced that the logic fits, you can use PhpStorm's <span class="strong"><strong>Surround</strong></span>
<a id="id131" class="indexterm"/> with feature to surround this code in your desired control structure.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec64"/>How to do it...</h2></div></div></div><p>If you wish to add<a id="id132" class="indexterm"/> ingredients to your <code class="literal">PizzaDish</code>, you can <a id="id133" class="indexterm"/>make use of loops. There are multiple ways to express a single statement:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Using <code class="literal">foreach</code>, the <code class="literal">PizzaDish</code> class is invoked as follows:<div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza', 'Dish');
$ingredients = array('salt','cheese','capsicum');
foreach ($ingredients as $ingredient) {
$pizzaDish-&gt;add($ingredient);
}</pre></div><p>You had to write <code class="literal">$pizzaDish-&gt;add($ingredient)</code> while keeping the cursor on this line.</p><p>Invoke Surround by going to <span class="strong"><strong>Code</strong></span> | <span class="strong"><strong>Surround with</strong></span>, and selecting the <code class="literal">foreach</code> option did the trick for you. However, you had to specify the variables inside the loop structure. You can also use the keyboard shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>T</em></span>.</p></li><li class="listitem" style="list-style-type: disc">You can perform a similar action for the <code class="literal">for</code> loop. This change will allow you to invoke your code. Have a look at the following code snippet:<div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza', 'Dish');
$ingredients = array('salt','cheese','capsicum');
for ($count = 0; $count &lt; count($ingredients); $count++) {
  $pizzaDish-&gt;add($ingredients[$count]);
}</pre></div></li><li class="listitem" style="list-style-type: disc">A similar action is performed by surrounding the code with a <code class="literal">while</code> control structure. Your <code class="literal">PizzaDish</code> gets invoked by the following code snippet:<div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza', 'Dish');
$ingredients = array('salt', 'cheese', 'capsicum');
$ingredientCount = 0;
while ($ingredientCount &lt; count($ingredients)) {
  $pizzaDish-&gt;add($ingredients[$ingredientCount]);
$ingredientCount++;
}</pre></div><p>A careful observation will reveal that the <code class="literal">while</code> loop behavior is exactly the same as the <code class="literal">for</code> loop behavior. Why have two features to achieve the same functionality, then? The human mind feels happy on having more choices. A piece of (pseudo) code explains this better:</p><div class="informalexample"><pre class="programlisting">while($moreChoicesAvailable){
  $humanMind = array(
    'feeling' =&gt; 'happy',
    'status' =&gt; 'comfortable'
  );
}</pre></div></li></ul></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec65"/>How it works...</h2></div></div></div><p>The two control <a id="id134" class="indexterm"/>structures explained here have much in<a id="id135" class="indexterm"/> common. In a single term, they can be termed as entry-controlled structures because they follow the <a id="id136" class="indexterm"/>
<span class="strong"><strong>first-decide-then-do</strong></span> principle. They were not designed to make you lament your actions (pun intended). There is a gunslinger control structure that lives by the gun and dies by it, the <code class="literal">do-while</code> loop. It can cause you to lament your decision if you do not pay proper attention while using it. In the same terminology, it is an exit-controlled structure and will execute the task at least once. While this can seem required in some scenarios, you are advised to refrain from using <code class="literal">do-while</code>. Take a look at the following screenshot:</p><div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza', 'Dish');
$ingredients = array('salt','cheese','capsicum'
);

$ingredientCount = 0;
do {
  $pizzaDish-&gt;add($ingredients[$ingredientCount]);
  $ingredientCount++;
} while ($ingredientCount &lt; count($ingredients));</pre></div><p>So, in essence, the statement <code class="literal">$pizzaDish-&gt;add($ingredients[$ingredientCount])</code> gets executed at least once, increments the value of <code class="literal">$ingredientCount</code> by one, and then checks if the value is within limit. To use <code class="literal">do-while</code>, you need to place the cursor on the target statement and select the <code class="literal">do-while</code> option that appears in the <span class="strong"><strong>Select</strong></span> dialog on going to <span class="strong"><strong>Code</strong></span> | <span class="strong"><strong>Surround with</strong></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip10"/>Tip</h3><p>To make your application program responsible enough, you need to implement exception handling denoted by a<a id="id137" class="indexterm"/> <span class="strong"><strong>try-catch</strong></span> block. A simple use case to demonstrate the usage of exception handling will be shown in this recipe. You are attempting to prepare your <code class="literal">PizzaDish</code>. You plan to put salt and cheese as usual and capsicum as toppings to make it WOW. While cooking, you discovered that there was no capsicum in the fridge! But you are hungry enough not to let anything come between you and your <code class="literal">PizzaDish</code>. You will add tomato in that case. So, where is the responsibility in this code? It is that during preparation in your code to handle an <span class="emphasis"><em>exceptional</em></span> situation there was a topping missing, but the code took the responsibility and handled this exceptional situation by adding tomato in place of capsicum.</p></div></div><p>Your <code class="literal">PizzaDish</code> continued to<a id="id138" class="indexterm"/> cook in the following<a id="id139" class="indexterm"/> way:</p><div class="informalexample"><pre class="programlisting">$pizzaDish = new PizzaDish('New Pizza', 'Dish');
$ingredients = array( 'salt', 'cheese', '' );
$ingredientCount = 0;
try {
  while ($ingredientCount &lt; count($ingredients)) {
    if ($ingredients[$ingredientCount] == '') {
      throw new Exception("\nYou have run out of capsicum.");
    } else {
      $pizzaDish-&gt;add($ingredients[$ingredientCount]);
      echo "\nWaiting for capsicum topping...";
    }
    $ingredientCount++;
  }
} catch (Exception $e) {
  echo $e-&gt;getMessage();
  $pizzaDish-&gt;add('tomato');
}</pre></div><p>The following screenshot shows you how the which-control-to-surround looks. And it is worth noting that you should know which control structure you are going to use.</p><div class="mediaobject"><img src="graphics/3878OT_02_06.jpg" alt="How it works..."/></div></div></div>
<div class="section" title="Finding the matching brace"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec33"/>Finding the matching brace</h1></div></div></div><p><span class="emphasis"><em>If you embrace the brace, you will never be embarrassed.</em></span></p><div class="blockquote"><blockquote class="blockquote"><p><span class="emphasis"><em>Some PhpStorm Cookbook writer</em></span></p></blockquote></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec66"/>Getting ready</h2></div></div></div><p>Braces<a id="id140" class="indexterm"/> are an important <a id="id141" class="indexterm"/>element in programming. They not only define the boundary for the programmer, but also the interpreter. Both of you get to know the construct or from where to where the variable ranges. The PHP interpreter just needs to have a closing brace for every opening brace to proceed irrespective of how the code has been written. But the PHP interpreter is not powerful enough to write code for you—you have to do it yourself.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec67"/>How to do it...</h2></div></div></div><p>If you are provided with a small piece of code that is less than 100 lines long, you can somehow manage to read and maintain the code. If the line numbers exceed 100, code formatting comes to your rescue.</p><p>PhpStorm enables you to format all or some of the selected lines by simple mouse clicks or a single keyboard shortcut. To format code, you need to select <span class="strong"><strong>Code</strong></span> | <span class="strong"><strong>Reformat Code</strong></span>, and your code will be formatted like a charm.</p><p>The keyboard shortcut for this is <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>L</em></span>.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec68"/>How it works...</h2></div></div></div><p>After PhpStorm has formatted the code, life becomes easier for you. You can very easily find the matching brace by putting the cursor on the brace. The paired braces get highlighted automatically. This highlighting feature can be customized as well. You need to go to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Editor</strong></span> | <span class="strong"><strong>Highlight on caret movement</strong></span> and check or uncheck the <span class="strong"><strong>Highlight matched brace</strong></span> checkbox to turn highlighting matching braces on or off. You can change the brace color, the background color of the brace, and so on. You can make your braces look bold or italic. In order to customize this behavior, you need to set up a new scheme. To start off, you need to go to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Editor</strong></span> | <span class="strong"><strong>Colors &amp; Fonts</strong></span> | <span class="strong"><strong>Language Defaults</strong></span> | <span class="strong"><strong>Brackets</strong></span>, select one of the default themes, and do a <span class="strong"><strong>Save As</strong></span> in order to make a copy, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3878OT_02_07.jpg" alt="How it works..."/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>The color scheme you just saved was saved as an XML document with the extension <code class="literal">.icls</code> under the <code class="literal">~/.WebIdeXX/config/colors</code> directory. The name of this document is the same as the name you provided while copying the color scheme.</p></div></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec69"/>There's more...</h2></div></div></div><p>Let us now look at how to format a long string.</p><div class="section" title="Wrapping string"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec01"/>Wrapping string</h3></div></div></div><p>Another important aspect of<a id="id142" class="indexterm"/> code formatting gains importance when you have written some really long strings or some really long statements. You might end up in trouble trying to read those long lines. Even if you managed to read it, you might end up being confused about the start and end of those long, unhandleable lines.</p><p>PhpStorm enables you to wrap long lines and statements according to a fixed width. You can ask PhpStorm to remember some limits for you by visiting the <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Editor</strong></span> | <span class="strong"><strong>Virtual Space</strong></span> pane.</p><p>You can wrap the long lines in the editor by selecting the checkbox against the <span class="strong"><strong>Use Soft wraps in editor</strong></span> option. Long lines don't torment you only in the editor. They can also create a usage torture sometimes when you use the PhpStorm terminal to execute command-line PHP. If you check the <span class="strong"><strong>Use Soft wraps in console</strong></span> option, you can avoid this problem once and for all. PhpStorm makes a provision for you to set the indent level for the wrap in the console. If you select this checkbox, the wrapped long line will continue into the next line, but with the specified number of spaces. Now, you cannot complain that you are not sure which <a id="id143" class="indexterm"/>one is your wrapped line and which one is your original line!</p></div></div></div>
<div class="section" title="Commenting out a section of code and PHPDoc"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec34"/>Commenting out a section of code and PHPDoc</h1></div></div></div><p>
<span class="strong"><strong>PHPDoc</strong></span>
<a id="id144" class="indexterm"/> is a facility provided by PHP, which is meant to document the complex code that you toiled very hard to build. The importance of documenting code and properly documented code need not be explained to those of you who have taken care of someone else's code at some point in their lives. For all others, and for those who know, yet are hungry for knowledge, here are a few points that might explain why you should always document your code—no matter what and how. Stay tuned for some interesting use cases.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec70"/>Getting ready</h2></div></div></div><p>You planned to cook <code class="literal">PizzaDish</code>. How <a id="id145" class="indexterm"/>did you proceed? You created an entity called <code class="literal">Dish</code>, designed some functions in it that will assist you in adding some ingredients, and created a special case of the general case <code class="literal">Dish</code>. You named this particular case <code class="literal">PizzaDish</code>. In order to cook your pizza, you invoked <code class="literal">PizzaDish</code> and enjoyed eating your favorite pizza. Things went smoothly. But how many times does it happen that you do not cook other things? Can you spend your life just eating pizza? Don't you think that you have other tasks to perform? Here's the analogy. How many times does it happen that you need nothing other than your written code? Can you be a good programmer by just using your own class or code? Will you create algorithms for each and every task that you perform?</p><p>In short, do you believe in reinventing the wheel?</p><p>Normal people would answer no. For them, how do you use classes written by another fellow programmer? How did you discover that the function <code class="literal">Engine::start('car')</code> will turn the ignition on? This is where documentation comes in. It is the medium by which you were able to discover that a start method in the <code class="literal">Engine</code> class was meant to turn on the engine ignition.</p><p>Writing clean code is the first key to documentation. You should always think of names that explain a lot. You should always think of descriptive names. If you think you are running out of names, you can make use of PHP namespaces.</p><p>To start thinking about how to write clean code, you are requested to read this book thoroughly. To start writing clean code, you are requested to start writing code.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec71"/>How to do it...</h2></div></div></div><p>If you were careful enough and have a sharp memory, you would have already read the <code class="literal">Dish</code> and the <code class="literal">PizzaDish</code> classes. Looking at the way the variables were defined and the methods were declared, did you feel the need for other documentation? They say it and they say it right: <span class="emphasis"><em>Good code in itself is good documentation</em></span>. But if you are unable to think of descriptive names in your code, here comes your savior—PHPDoc.</p><p>You have three ways to add comments to your code:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Single line</li><li class="listitem" style="list-style-type: disc">Multiline or block comment</li><li class="listitem" style="list-style-type: disc">Documentation comment</li></ul></div><p>In order to learn, you have <a id="id146" class="indexterm"/>to perform .In order to perform, you have to start. So let's start. Add comments to the <code class="literal">PizzaDish</code> class itself for clarity.</p><p>A single-line comment is the simplest and the easiest form of writing comments in PHP code. A single-line comment begins with <code class="literal">//</code>, and whatever follows in a single line is treated by the PHP engine as a single-line comment. In the <code class="literal">PizzaDish</code> class, a single-line comment has been added next to the list (php array) of ingredients, which looks like the following line of code:</p><div class="informalexample"><pre class="programlisting">// This is the list of ingredients that you plan to add</pre></div><p>In order to write a single-line comment in PhpStorm, you need to take care of the location of the comment.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip11"/>Tip</h3><p>You can write the comment without the need to begin it with <code class="literal">//</code>. When you are done with your sentence, you can use the shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>/</em></span>, and PhpStorm will happily convert the statement to a single-line comment.</p></div></div><p>Can your life be restricted to write a single line of comment? What if you want to have a number of single-line comments? Multiline or block comments will be required.</p><p>All you need to do is to identify the precious code extent, and add <code class="literal">/*</code> at the beginning and <code class="literal">*/</code> at the end of the code. There are people in this world who do not have an idea of what <span class="emphasis"><em>precious</em></span> is. All good software engineers will ignore such people and move on. In the <code class="literal">PizzaDish</code> class discussed, you can see that the last few lines were commented out. This is a block comment. In the current scenario, your taste buds were the business end, people!</p><p>Documentation comments start with <code class="literal">/**</code> and end with <code class="literal">*/</code>. Does it not look like the block comment? A more careful examination would tell you the difference.</p><p>While a block comment just needs a comment starting symbol and an ending symbol, a documentation comment requires a <code class="literal">*</code> symbol before the start of every line. While the PHP engine skips the contents inside the block (and the single-line) comments, the PHP engine (actually, the documentation engine) "peeps" into the documentation lines when generating the actual beautiful comments. Where do you get to see the documents? Dear, when you press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Q</em></span> over any method declaration, what do you see? Yes, it is a document that is the same as generated by the documentation engine. Magic? PhpStorm's magic.</p><p>Fireworks! Too long? Didn't read? A step-by-step explanation follows:</p><div class="informalexample"><pre class="programlisting">/**
  * Class PizzaDish
  *
  * Bake a new type of &lt;strong&gt;Dish&lt;/strong&gt;.
  * This dish has the following features:
  * &lt;ul&gt;
  * &lt;li&gt;It eases the appetite&lt;/li&gt;
  * &lt;li&gt;It makes the taste buds happy&lt;/li&gt;
  * &lt;li&gt;It confirms to the software engineering practises&lt;/li&gt;
  * &lt;li&gt;It teaches engineers various aspects of PHP programming&lt;/li&gt;
  * &lt;/ul&gt;
*/</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec72"/>How it works...</h2></div></div></div><p>This is probably the first <a id="id147" class="indexterm"/>documentation comment you are looking into. You will be surprised to know that the HTML tags you write here are actually processed by the PHP documentation engine. The output of the documentation comment appears when you put the cursor over the target member and go to <span class="strong"><strong>View | Quick Documentation</strong></span>:</p><div class="mediaobject"><img src="graphics/3878OT_02_08.jpg" alt="How it works..."/></div><p>A picture is worth a <a id="id148" class="indexterm"/>thousand words. You can easily see how the HTML tags were processed to give proper formatting to the document.</p><p>Similarly, you can add documentation to your methods as well (the same class and the same method, but this time, it's <code class="literal">setDishName</code> with added documentation). The documentation lines would be as follows:</p><div class="informalexample"><pre class="programlisting">/**
  * &lt;strong&gt;Setter&lt;/strong&gt; method for giving a name to your Pizza&lt;br/&gt;&lt;br/&gt;
  * In order to set values for the members variables, it is &lt;em&gt;advised&lt;/em&gt; to use setter methods.
  * @param string $dishName The name of the dish you want to create.
  */</pre></div><p>You just used the HTML strong tag to emphasize the type of the method <code class="literal">setDishName</code>. You were also able to emphasize that software engineering principles advise the use of setter methods. The comment for this method takes the following form:</p><div class="mediaobject"><img src="graphics/3878OT_02_09.jpg" alt="How it works..."/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip12"/>Tip</h3><p>In order to use the keyboard shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Q</em></span>, you need not necessarily place your cursor under the method name. This works for the documentation comment region as well. PhpStorm is smart, so it understands that and shows you the same documentation.</p></div></div><p>PhpStorm never disappoints you. There is a facility in PhpStorm in which you can customize the way your documentation comment should look. To do that, you need to go to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Code Style</strong></span> | <span class="strong"><strong>PHP</strong></span> | <span class="strong"><strong>PHPDoc</strong></span>, as shown in the following screenshot. The options are quite<a id="id149" class="indexterm"/> descriptive.</p><div class="mediaobject"><img src="graphics/3878OT_02_10.jpg" alt="How it works..."/></div></div></div>
<div class="section" title="Creating a working set"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec35"/>Creating a working set</h1></div></div></div><p>You would have felt a number<a id="id150" class="indexterm"/> of times that different PHP projects have different priorities. You got it right. A website development project, for example, would require a running web server configuration, and it might not require command-line PHP.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec73"/>Getting ready</h2></div></div></div><p>A simple PHP project, on the other hand, would require command-line PHP, without a web server, and the list of directories could be limited to some folders in a hierarchy. The point here is that there are different projects with different dependencies and settings. Having a working set makes PhpStorm behave appropriately for the project currently open.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec74"/>How to do it...</h2></div></div></div><p>If you monitor the <span class="strong"><strong>Settings</strong></span> pane closely, you will notice that there are two major sections. One is the project-settings section, where you make settings according to your project. This helps a great deal. PhpStorm builds an index for every project. If you create a proper working set for your project, you will help PhpStorm to build a more precise index, and the project processing will be much faster. Some of the important settings are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>PHP Specific Settings</strong></span>: Making<a id="id151" class="indexterm"/> settings to execute the application you plan to create is quite handy. You need not to worry about how to execute and test your application. You just need to choose from a list of options that PhpStorm will put up before you.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Interpreter</strong></span>: You could be<a id="id152" class="indexterm"/> required to implement some offline tasks on your web hosting service, which could probably do an update, a check, log cleaning tasks, and so on. You might configure command-line PHP for such files so that you can access them by a direct keyboard shortcut.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Webserver</strong></span>: Most of<a id="id153" class="indexterm"/> the time, you need to have a web server to run your PHP web application code. For this, you can specify the settings for the web server in PhpStorm.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Debugger</strong></span>: Life <a id="id154" class="indexterm"/>without a debugger for a web developer is like life for a doctor without a stethoscope. When you don't know what is going on inside, how can you find out what is actually going on? You require a debugger for sure.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Directories</strong></span>: PhpStorm <a id="id155" class="indexterm"/>builds indexes of the files and folders that are there in the project. A longer index list means more memory consumption. Exclude unwanted <span class="emphasis"><em>directory(ies)</em></span> from indexing, and PhpStorm will be grateful to you.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Inspections</strong></span>: PhpStorm acts as<a id="id156" class="indexterm"/> an inspector for the code you write. By default, there are a number of inspections that are on, and in most probability, you would not require all of them at all times.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Version Control</strong></span>: If you are <a id="id157" class="indexterm"/>working in a team, having a versioning system is the need of the hour. You can set the details of the versioning system, such as the URL, the username, the password, and all the necessary details that will make your life easier when downloading (checking out) or uploading (committing) in the project that a team is working on.</li></ul></div><p>The other one is the <a id="id158" class="indexterm"/>IDE-specific settings section. This provides you with control over the configurations that are universally true for all projects under PhpStorm. The description is beyond the scope of this topic.</p></div></div>
<div class="section" title="Creating TODO tasks"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec36"/>Creating TODO tasks</h1></div></div></div><p>Suppose it is the end of day, you <a id="id159" class="indexterm"/>have to <span class="emphasis"><em>hurry home</em></span> (no pun intended), there are fantastic ideas overflowing in your mind, and you are quite sure that you will not be able to regenerate those ideas. You can ask TODO to come to your assistance in those cases.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec75"/>Getting ready</h2></div></div></div><p>A <span class="strong"><strong>TODO</strong></span> tag, when<a id="id160" class="indexterm"/> added to some PHP code, makes it visible under the TODO view. You can also refer to the TODO section of this chapter for a refresher.</p><p>Considering the same <code class="literal">Dish</code> and the <code class="literal">PizzaDish</code> scenario, suppose you thought of having some system to check whether the dish is cooked, you can put a flag there and then. This flag will keep reminding you about this.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec76"/>How to do it...</h2></div></div></div><p>To do a TODO, all you need to do is write TODO, followed by the reminder text, and press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>/</em></span> (that is comment the code). From what you have learned already, you can now document your <code class="literal">Dish</code> class. Probably, it would look something like the following code snippet:</p><div class="informalexample"><pre class="programlisting">class Dish {
  /**
  * Add some ingredients to your dish. &lt;br/&gt;
  * You can do that by specifying the name of the ingredient.
  *
  * @param string $ingredientName The name of the ingredient to be added
  */
  public function add($ingredient){
    echo "\nYou have added: ", $ingredient;
  }

//    TODO Add some method to check if the pizza is cooked
}</pre></div><p>You managed to keep the functionality intact; you just added documentation comments for the class and the member methods. Everything else is as usual; the only alien item is the TODO. So, as you can see, a simple TODO was added. People might argue the usage of TODO. They are right and wrong in saying that life can be managed without TODO. They are right only in the case of tiny projects, where there is not much code and simple comments are visible and easily remembered. They are absolutely wrong in all other (and real-world) cases, where there are uncountable lines of code and you could actually face a nightmare in trying to figure out where you placed a comment related to some suggestion. PhpStorm is able to extract all the TODOs from your project and show them accurately in the TODO view.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec77"/>How it works...</h2></div></div></div><p>Besides reminding you of <a id="id161" class="indexterm"/>some tasks-be-done-in-future, there can be some <span class="strong"><strong>FIXME</strong></span> tags<a id="id162" class="indexterm"/> as well. As the name suggests, FIXME tags can be used to denote some feature that has produced errors or is prone to producing errors. You just need to use the FIXME keyword, followed by the description, which is then followed using <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>/</em></span> (commenting). PhpStorm will start showing it in the TODO section, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">public function add($ingredient){
  echo "\nYou have added: ", $ingredient;
  //  FIXME Check for a valid ingredient name
}</pre></div><p>The fixme (or FIXME) tag will start indicating that there is something that has to be fixed.</p><p>However, the game's not over with TODO. If there are a number of fellow programmers in your development team, you can add flags for an individual teammate. How? PhpStorm provides you with filters. This is available at <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>TODO</strong></span>.</p><p>You need to add a new pattern and a new filter to make it available in the filters section in the TODO view. On adding it, you will be able to set the flag for a particular fellow programmer. The code with this new flag looks like the following snippet:</p><div class="informalexample"><pre class="programlisting">public function add($ingredient){
  echo "\nYou have added: ", $ingredient;
  //  FIXME Check for a valid ingredient name
}

//  TODO Add some method to check if the pizza is cooked
//  TODO for ALice Please add the appropriate usecase for the checking functionality</pre></div><p>The filters and the patterns are case-insensitive by default because a programmer's life already has a number of issues to handle. Keep this in mind!</p><p>Will you able to do the TODO?</p><div class="mediaobject"><img src="graphics/3878OT_02_11.jpg" alt="How it works..."/></div></div></div></body></html>
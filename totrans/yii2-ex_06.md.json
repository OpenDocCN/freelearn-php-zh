["```php\n// build an ActiveDataProvider with an empty query and a pagination with 35 items for page\n$provider = new \\yii\\data\\ActiveDataProvider([\n    'query' => Room::find(),\n    'pagination' => [\n        'pageSize' => 35,\n    ],\n]);\n\n// get all rooms in current page\n$rooms = $provider->getModels();\n```", "```php\n// build an ArrayDataProvider with an empty query and a pagination with 40 items for page\n$provider = new \\yii\\data\\ArrayDataProvider([\n    'allModels' => Room::find()->all(),\n    'pagination' => [\n        'pageSize' => 40,\n    ],\n]);\n\n// get all rooms in current page\n$rooms = $provider->getModels();\n```", "```php\n// return total items count for this sql query\n$itemsCount = \\Yii::$app->db->createCommand('SELECT COUNT(*) FROM room')->queryScalar();\n\n// build a SqlDataProvider with a pagination with 10 items for page\n\n$dataProvider = new \\yii\\data\\SqlDataProvider([\n    'sql' => 'SELECT * FROM room',\n    'totalCount' => $itemsCount,\n    'pagination' => [\n            'pageSize' => 10,\n    ],\n]);\n\n// get the user records in the current page\n$models = $dataProvider->getModels();\n```", "```php\n<?= \\yii\\grid\\GridView::widget([\n    'dataProvider' => $dataProvider,\n    'columns' => [\n      'id',\n      'floor',\n      'room_number',\n       'available_from:datetime',\n       'price_per_day:currency',\n    ],\n]) ?>\n```", "```php\n        [\n// can be omitted, as it is the default\n'class' => 'yii\\grid\\DataColumn',\n\n        'attribute',    // name of model attribute\n        'format',         // format use to display data\n        'header',        // header of column\n        'footer',        // footer of column\n        'visible',        // flag to set visibility\n        'content'         // callback to print data\n        ],\n```", "```php\n--\n-- Structure of Table `customer`\n--\n\nCREATE TABLE IF NOT EXISTS `customer` (\n  `id` int(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,\n  `name` varchar(50) NOT NULL,\n  `surname` varchar(50) NOT NULL,\n  `phone_number` varchar(50) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n);\n\n--\n-- Data Dump of Table `customer`\n--\n\nINSERT INTO `customer` (`id`, `name`, `surname`, `phone_number`) VALUES\n(1, 'James', 'Foo', '+39-12345678'),\n(2, 'Bar', 'Johnson', '+47-98438923');\n\n--\n-- Structure of Table `reservation`\n--\n\nCREATE TABLE IF NOT EXISTS `reservation` (\n  `id` int(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,\n  `room_id` int(11) NOT NULL,\n  `customer_id` int(11) NOT NULL,\n  `price_per_day` decimal(20,2) NOT NULL,\n  `date_from` date NOT NULL,\n  `date_to` date NOT NULL,\n  `reservation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `room_id` (`room_id`),\n  KEY `customer_id` (`customer_id`)\n);\n\n--\n-- Data Dump of table `reservation`\n--\n\nINSERT INTO `reservation` (`id`, `room_id`, `customer_id`, `price_per_day`, `date_from`, `date_to`, `reservation_date`) VALUES\n(1, 2, 1, 90.00, '2015-04-01', '2015-05-06', '2015-05-24 22:45:37'),\n(2, 2, 1, 48.00, '2019-08-27', '2019-08-31', '2015-05-24 22:45:37'),\n(3, 1, 2, 105.00, '2015-09-24', '2015-10-06', '2015-06-03 00:21:14');\n```", "```php\n<?php\n\nnamespace app\\controllers;\n\nuse Yii;\nuse yii\\web\\Controller;\nuse app\\models\\Customer;\nuse yii\\data\\ActiveDataProvider;\n\nclass CustomersController extends Controller\n{\n    public function actionGrid()\n    {\n        $query = Customer::find();\n\n        $dataProvider = new ActiveDataProvider([\n            'query' => $query,\n            'pagination' => [\n                'pageSize' => 10,\n            ],\n        ]);\n\n        return $this->render('grid', [ 'dataProvider' => $dataProvider ]);\n\n    }\n}\n```", "```php\n<?php\nuse yii\\grid\\GridView;\nuse yii\\helpers\\Html;\n?>\n\n<h2>Customers</h2>\n\n<?= GridView::widget([\n    'dataProvider' => $dataProvider,\n    'columns' => [\n        'id',\n        'name',\n        'surname',\n        'phone_number',\n\n        [\n            'header' => 'Reservations',\n            'content' => function ($model, $key, $index, $column) {\n                return Html::a('Reservations', ['reservations/grid', 'Reservation[customer_id]' => $model->id]);\n            }\n        ],\n\n        [\n            'class' => 'yii\\grid\\ActionColumn',\n            'template' => '{delete}',\n            'header' => 'Actions',\n        ],        \n    ],\n]) ?>\n```", "```php\n    public function getReservationsCount()\n    {\n      return $this->hasMany(\\app\\models\\Reservation::className(), ['customer_id' => 'id'])->count();\n    }\n```", "```php\n        [\n            'header' => 'Reservations',\n            'content' => function ($model, $key, $index, $column) {\n                $title = sprintf('Reservations (%d)', $model->reservationsCount);\n                return Html::a($title, ['reservations/grid', 'Reservation[customer_id]' => $model->id]);\n            }\n        ],\n```", "```php\n<?php\n\nnamespace app\\controllers;\n\nuse Yii;\nuse yii\\web\\Controller;\nuse app\\models\\Reservation;\nuse yii\\data\\ActiveDataProvider;\n\nclass ReservationsController extends Controller\n{\n    public function actionGrid()\n    {\n        $query = Reservation::find();\n\n        if(isset($_GET['Reservation']))\n        {\n            $query->andFilterWhere([\n                'customer_id' => isset($_GET['Reservation']['customer_id'])?$_GET['Reservation']['customer_id']:null,\n            ]);\n        }\n\n        $dataProvider = new ActiveDataProvider([\n            'query' => $query,\n            'pagination' => [\n                'pageSize' => 10,\n            ],\n        ]);\n\n        return $this->render('grid', [ 'dataProvider' => $dataProvider ]);\n\n    }\n}\n```", "```php\n<?= \\yii\\grid\\GridView::widget([\n    ...\n    'filterModel' => $searchModel,\n    ...        \n?>\n```", "```php\n    <?php\n\npublic function actionGrid()\n    {\n        $query = \\app\\models\\Reservation::find();\n\n        $searchModel = new \\app\\models\\Reservation();\n        if(isset($_GET['Reservation']))\n        {\n            $searchModel->load( \\Yii::$app->request->get() );\n\n            $query->andFilterWhere([\n                'id' => $searchModel->id,\n                'customer_id' => $searchModel->customer_id,\n                'room_id' => $searchModel->room_id,\n                'price_per_day' => $searchModel->price_per_day,\n            ]);\n        }\n\n        $dataProvider = new \\yii\\data\\ActiveDataProvider([\n            'query' => $query,\n            'pagination' => [\n                'pageSize' => 10,\n            ],\n        ]);\n\n        return $this->render('grid', [ 'dataProvider' => $dataProvider, 'searchModel' => $searchModel ]);\n\n    }\n```", "```php\n            $searchModel->load( Yii::$app->request->get() );\n```", "```php\n<?php\n$roomsFilterData = yii\\helpers\\ArrayHelper::map( app\\models\\Room::find()->all(), 'id', function($model, $defaultValue) {\n    return sprintf('Floor: %d - Number: %d', $model->floor, $model->room_number);\n});\n?>\n\n<?= \\yii\\grid\\GridView::widget([\n    'dataProvider' => $dataProvider,\n    'filterModel' => $searchModel,\n    'columns' => [\n        'id',\n\n        [\n            'header' => 'Room',\n            'filter' => \\Html::activeDropDownList($searchModel, 'room_id', $roomsFilterData, ['prompt' => '--- all']),\n            'content' => function($model) {\n                return $model->room->floor;\n            }\n        ],\n```", "```php\n    'customer.surname'\n```", "```php\n    [\n        'attribute' => 'customer.surname'\n    ]\n```", "```php\n    [\n        'header' => 'Customer',\n        'attribute' => 'customer.surname'\n    ]\n```", "```php\npublic function getNameAndSurname() {\n     return $this->name.' '.$this->surname;\n}\n```", "```php\n     [\n        'header' => 'Customer',\n        'attribute' => 'customer.nameAndSurname'\n    ]\n```", "```php\n<?php\n\nclass ReservationSearch extends app\\models\\Reservation\n{\n    public function attributes()\n    {\n        // add related fields to searchable attributes\n        return array_merge(parent::attributes(), ['customer.surname']);\n    }\n\n    public function rules()\n    {\n        // add related rules to searchable attributes\n        return array_merge(parent::rules(),[ ['customer.surname', 'safe'] ]);\n    }    \n\n}\n```", "```php\n    public function actionGrid()\n    {\n        $query = \\app\\models\\Reservation::find();\n\n        $searchModel = new \\app\\models\\ReservationSearch();\n        if(isset($_GET['ReservationSearch']))\n        {\n            $searchModel->load( \\Yii::$app->request->get() );\n\n            $query->joinWith(['customer']);\n            $query->andFilterWhere(\n                ['LIKE', 'customer.surname', $searchModel->getAttribute('customer.surname')]\n            );\n\n            $query->andFilterWhere([\n                'id' => $searchModel->id,\n                'customer_id' => $searchModel->customer_id,\n                'room_id' => $searchModel->room_id,\n                'price_per_day' => $searchModel->price_per_day,\n\n            ]);\n        }\n\n        $dataProvider = new \\yii\\data\\ActiveDataProvider([\n            'query' => $query,\n            'pagination' => [\n                'pageSize' => 10,\n            ],\n        ]);\n\n        return $this->render('grid', [ 'dataProvider' => $dataProvider, 'searchModel' => $searchModel ]);\n\n    }\n```", "```php\n            $query->joinWith(['customer']);\n            $query->andFilterWhere(\n                ['LIKE', 'customer.surname', $searchModel->getAttribute('customer.surname')]\n            );\n```", "```php\n<?php\nuse yii\\grid\\GridView;\nuse yii\\helpers\\Html;\n?>\n\n<h2>Reservations</h2>\n\n<?php \n$sumOfPricesPerDay = 0;\n$averagePricePerDay = 0;\n\nif(count($dataProvider->getModels()) > 0)\n{\n    foreach($dataProvider->getModels() as $m) $sumOfPricesPerDay += $m->price_per_day;\n    $averagePricePerDay = $sumOfPricesPerDay / sizeof($dataProvider->getModels());\n}  \n?>\n\n<?php \n$roomsFilterData = yii\\helpers\\ArrayHelper::map( app\\models\\Room::find()->all(), 'id', function($model, $defaultValue) {\n    return sprintf('Floor: %d - Number: %d', $model->floor, $model->room_number);\n});\n?>\n\n<?= app\\components\\GridViewReservation::widget([\n    'dataProvider' => $dataProvider,\n    'filterModel' => $searchModel,\n    'showFooter' => true,\n    'columns' => [\n        'id',\n\n        [\n            'header' => 'Room',\n            'filter' => Html::activeDropDownList($searchModel, 'room_id', $roomsFilterData, ['prompt' => '--- all']),\n            'content' => function($model) {\n                return $model->room->floor;\n            }\n        ],\n\n        [\n            'header' => 'Customer',\n            'attribute' => 'customer.surname',\n        ],\n\n        [\n            'attribute' => 'price_per_day',\n            'footer' => Yii::$app->formatter->asCurrency($resultQueryAveragePricePerDay, 'EUR')\n        ],\n\n        'date_from',\n        'date_to',\n\n        [\n            'class' => 'yii\\grid\\ActionColumn',\n            'template' => '{delete}',\n            'header' => 'Actions',\n        ],        \n    ],\n]) ?>\n```", "```php\n    public function actionGrid()\n    {\n        $query = \\app\\models\\Reservation::find();\n\n        $searchModel = new \\app\\models\\ReservationSearch();\n        if(isset($_GET['ReservationSearch']))\n        {\n            $searchModel->load( \\Yii::$app->request->get() );\n\n            $query->joinWith(['customer']);\n            $query->andFilterWhere(\n                ['LIKE', 'customer.surname', $searchModel->getAttribute('customer.surname')]\n            );\n\n            $query->andFilterWhere([\n                'id' => $searchModel->id,\n                'customer_id' => $searchModel->customer_id,\n                'room_id' => $searchModel->room_id,\n                'price_per_day' => $searchModel->price_per_day,\n\n            ]);\n\n        }\n        $resultQueryAveragePricePerDay = $query->average('price_per_day');\n\n        $dataProvider = new \\yii\\data\\ActiveDataProvider([\n            'query' => $query,\n            'pagination' => [\n                'pageSize' => 10,\n            ],\n        ]);\n\n        return $this->render('grid', [ 'dataProvider' => $dataProvider, 'searchModel' => $searchModel, 'resultQueryAveragePricePerDay' => $resultQueryAveragePricePerDay ]);\n\n    }\n```", "```php\n        [\n            'attribute' => 'price_per_day',\n            'footer' => sprintf('Average: %0.2f', $resultQueryAveragePricePerDay)\n        ],\n```", "```php\n<?php\n\nnamespace app\\components;\n\nuse Yii;\nuse yii\\web\\Controller;\nuse yii\\grid\\GridView;\n\nclass GridViewReservation extends GridView\n{\n    public function renderTableFooter()\n    {\n        // Search column for 'price_per_day'\n        $columnPricePerDay = null;\n        foreach($this->columns as $column)\n        {\n            if(get_class($column) == 'yii\\grid\\DataColumn')\n            {\n                if($column->attribute == 'price_per_day') $columnPricePerDay = $column;\n            }\n        }\n\n        $html = '<tfoot><tr>';\n        $html .= '<td colspan=\"3\"><b>Average:</b></td>';\n        $html .= $columnPricePerDay->renderFooterCell();\n        $html .= '<td colspan=\"4\"><i>this space is intentionally empty</i></td>';\n        $html .= '</tr></tfoot>';\n\n        return $html;\n    }\n}\n```", "```php\n$firstDataProvider->pagination->pageParam = 'first-dp-page';\n$firstDataProvider->sort->sortParam = 'first-dp-sort';\n\n$secondDataProvider->pagination->pageParam = 'second-dp-page';\n$secondDataProvider->sort->sortParam = 'second-dp-sort';\n```", "```php\n    public function actionMultipleGrid()\n    {\n        /**\n         * Reservations\n         */\n        $reservationsQuery = \\app\\models\\Reservation::find();\n        $reservationsSearchModel = new \\app\\models\\ReservationSearch();\n\n        if(isset($_GET['ReservationSearch']))\n        {\n            $reservationsSearchModel->load( \\Yii::$app->request->get() );\n\n            $reservationsQuery->joinWith(['customer']);\n            $reservationsQuery->andFilterWhere(\n                ['LIKE', 'customer.surname', $reservationsSearchModel->getAttribute('customer.surname')]\n            );\n\n            $reservationsQuery->andFilterWhere([\n                'id' => $reservationsSearchModel->id,\n                'customer_id' => $reservationsSearchModel->customer_id,\n                'room_id' => $reservationsSearchModel->room_id,\n                'price_per_day' => $reservationsSearchModel->price_per_day,\n\n            ]);\n        }\n\n        $reservationsDataProvider = new \\yii\\data\\ActiveDataProvider([\n            'query' => $reservationsQuery,\n            'sort' => [\n                'sortParam' => 'reservations-sort-param',\n            ],\n            'pagination' => [\n                'pageSize' => 10,\n                'pageParam' => 'reservations-page-param'\n            ],\n        ]);        \n\n        /**\n         * Rooms\n         */\n        $roomsQuery = \\app\\models\\Room::find();\n        $roomsSearchModel = new \\app\\models\\Room();\n\n        if(isset($_GET['Room']))\n        {\n            $roomsSearchModel->load( \\Yii::$app->request->get() );\n\n            $roomsQuery->andFilterWhere([\n                'id' => $roomsSearchModel->id,\n                'floor' => $roomsSearchModel->floor,\n                'room_number' => $roomsSearchModel->room_number,\n                'has_conditioner' => $roomsSearchModel->has_conditioner,\n                'has_phone' => $roomsSearchModel->has_conditioner,\n                'has_tv' => $roomsSearchModel->has_conditioner,\n                'available_from' => $roomsSearchModel->has_conditioner,\n\n            ]);\n        }\n\n        $roomsDataProvider = new \\yii\\data\\ActiveDataProvider([\n            'query' => $roomsQuery,\n            'sort' => [\n                'sortParam' => 'rooms-sort-param',\n            ],\n            'pagination' => [\n                'pageSize' => 10,\n                'pageParam' => 'rooms-page-param'\n            ],\n        ]);        \n\n        return $this->render('multipleGrid', [\n            'reservationsDataProvider' => $reservationsDataProvider, 'reservationsSearchModel' => $reservationsSearchModel,\n            'roomsDataProvider' => $roomsDataProvider, 'roomsSearchModel' => $roomsSearchModel,\n        ]);\n\n    }\n```", "```php\n<?php\nuse yii\\grid\\GridView;\nuse yii\\helpers\\Html;\n?>\n\n<h2>Reservations</h2>\n<?= GridView::widget([\n    'dataProvider' => $reservationsDataProvider,\n    'filterModel' => $reservationsSearchModel,\n    'columns' => [\n        'id',\n        'room_id',\n        'attribute' => 'customer.surname',\n        'price_per_day',\n        'date_from',\n        'date_to'\n    ],\n]) ?>\n\n<h2>Rooms</h2>\n<?= GridView::widget([\n    'dataProvider' => $roomsDataProvider,\n    'filterModel' => $roomsSearchModel,\n    'columns' => [\n        'id',\n        'floor',\n        'room_number',        \n        'has_conditioner:boolean',\n        'has_phone:boolean',\n        'has_tv:boolean',\n        'available_from',\n    ],\n]) ?>\n```"]
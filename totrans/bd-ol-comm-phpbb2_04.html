<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Customizing Your Forum"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Customizing Your Forum</h1></div></div></div><p>Now that you have installed phpBB and gained some experience with the Administration Control Panel, you are ready to begin altering some more advanced aspects of the forum’s appearance and features. Changing these areas of phpBB will be essential for giving your forum a unique identity that stands out among online forums. The appearance of a forum is mainly controlled by phpBB’s styling system, which manages the colors, images, and visual layout of the forum. Features can be added, removed, or altered by installing modification scripts downloaded from phpBB-related websites.<a id="id99" class="indexterm"/>
</p><p>By the end of this chapter, you will have learned about:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The basics of a phpBB 2.0 style</li><li class="listitem" style="list-style-type: disc">Correct methods of editing phpBB files</li><li class="listitem" style="list-style-type: disc">How to add and remove styles</li><li class="listitem" style="list-style-type: disc">Common style installation problems</li><li class="listitem" style="list-style-type: disc">Ways to customize a style</li><li class="listitem" style="list-style-type: disc">The benefits of creating and altering styles</li><li class="listitem" style="list-style-type: disc">Methods of changing forum images</li><li class="listitem" style="list-style-type: disc">How to add new forum features</li></ul></div><div class="section" title="phpBB Styles"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec01"/>phpBB Styles</h1></div></div></div><p>If you look at several different phpBB forums, you may notice several differences in each forum. They may use different colors and images, display features in a different order, or omit some features entirely. This multitude of effects can be accomplished by using different phpBB styles. A phpBB<span class="strong"><strong> style</strong></span> is the appearance of a forum, created by a combination of a layout, colors, and images. When you installed phpBB, the default style, called subSilver, was also installed. subSilver is the most commonly used style on phpBB forums, but there are well over two hundred different styles that have been publicly released. It is common for forums to have multiple styles available for user selection.<a id="id100" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note03"/>Note</h3><p>When dealing with phpBB, you will sometimes see the terms style, theme, and template used interchangeably. In this chapter, themes and templates are defined as two smaller aspects of the overall style to reduce confusion. This is the way the terms are used most often in phpBB’s code and Administration Control Panel. Even the latter sometimes uses theme in place of style, however.</p></div></div></div>
<div class="section" title="Structure of a Style"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec02"/>Structure of a Style</h1></div></div></div><p>In order to effectively customize a style, you must first understand the parts that compose the design of that style. Styles, like houses, are built from smaller components that work together to create a frame. That frame, like the walls of the house, provides a structure for displaying the internal contents of a forum. These frames can be very complex creations so let us look at how the basic pieces are put together and stored, before we get into the actual customization of a style.</p><div class="section" title="Style Elements"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec01"/>Style Elements</h2></div></div></div><p>Styles are composed of three primary<span class="strong"><strong> style elements</strong></span>, or smaller portions that work together to create the overall visual appearance of the style. These are the template, theme, and image set elements. Each style is self-contained and includes all the style elements needed to operate correctly.</p><p>The first and most important part of a style is the template element. The<span class="strong"><strong> template element</strong></span> is a set of text files containing the entire markup that is used to generate the visual layout of a forum. The<span class="strong"><strong> markup</strong></span> consists mainly of a markup language such as<span class="strong"><strong> Hypertext Markup Language</strong></span> (<span class="strong"><strong>HTML</strong></span>) and phpBB’s own special template features, but can also include client-side scripting languages such as JavaScript. Template files are used to arrange most of the information displayed by your forum. You can identify template files by looking at the name of a file; all template files have names ending with<code class="literal"> tpl</code>. Some examples are<code class="literal"> index_body.tpl, viewtopic_body.tpl</code>, and<code class="literal"> message_body.tpl</code>. Although this is rare, it is possible for multiple styles to use one set of template files with different themes and/or image sets.<a id="id101" class="indexterm"/>
</p><p>The<span class="strong"><strong> theme</strong></span> element of a forum style is a grouping of formatting rules used to define the visual decoration of a forum. The most common uses of the theme are specifying the font face, colors, background colors, and borders of page elements. Theme elements can be difficult to locate because they can be stored in three different locations. Most styles store theme data in one or more<span class="strong"><strong> Cascading Style Sheet</strong></span> (<span class="strong"><strong>CSS</strong></span>) files, such as<code class="literal"> subSilver.css</code> and<code class="literal"> formIE.css</code>. The name of the CSS files will vary with each forum style, but many times, there will be at least one CSS file named after the forum style. Some styles will place their CSS formatting rules in the<code class="literal"> overall_header.tpl</code> template file instead of a separate CSS file. Others may use a combination of the<code class="literal"> overall_header.tpl</code> technique and database storage of some values. The subSilver style uses the combination method, but also includes a CSS file that can be used after a manual change.<a id="id102" class="indexterm"/>
</p><p>An<span class="strong"><strong> image set</strong></span> element includes all the images that are part of a style. Some examples are the folder images, voting result bar graphics, and language-specific buttons such as "Reply" and "New Topic." There are also images that may be used mainly for decorative purposes, such as background or header images. Decorative images are sometimes considered part of the theme, instead of the image set.<a id="id103" class="indexterm"/>
</p><p>In addition to the template files already discussed, the template element can also contain two special configuration files related to the theme and image set elements. The theme configuration file,<code class="literal"> theme_info.cfg</code>, is used for saving theme database data associated with a template. The saved data can then be imported into another forum’s database later. For the most part, you will only rarely need to edit this file. It is usually automatically generated or provided as needed. The second configuration file holds template configuration data. In most cases, that will merely be a list of graphic files in the image set of a style. These template configuration files have a name based on their matching template, such as<code class="literal"> subSilver.cfg</code>.</p></div><div class="section" title="Style Storage"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec02"/>Style Storage</h2></div></div></div><p>Details of all of the styles available on a forum are stored in the forum’s SQL database. The database only holds a list of installed styles, the name of an associated template element for each style, and some limited theme data. No image set data is stored in your database.<a id="id104" class="indexterm"/>
</p><p>On the other hand, style elements are stored in the<code class="literal"> templates</code> directory of the forum file system. The<code class="literal"> templates</code> directory contains subdirectories that are named uniquely and after each individual set of template files. Each subdirectory of<code class="literal"> templates</code> will contain template, theme, image set, and configuration files for one or more styles. Until new styles are installed or created, the only subdirectory in<code class="literal"> templates</code> will be<code class="literal"> subSilver</code>.</p><p>In most cases, a<code class="literal"> templates</code> directory will contain two other subdirectories:<code class="literal"> admin</code> and<code class="literal"> images</code>. The<code class="literal"> admin</code> subdirectory will contain template files used to display the Administration Control Panel. The<code class="literal"> images</code> subdirectory will hold the image set used in the style, and may have language-named subdirectories, such as<code class="literal"> lang_english</code> or<code class="literal"> lang_dutch</code>, for images that display typed text in different languages. Some more advanced styles may include directories other than<code class="literal"> admin</code> and<code class="literal"> images</code>.</p></div></div>
<div class="section" title="Editing phpBB Files"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec03"/>Editing phpBB Files</h1></div></div></div><p>Throughout this chapter, you will be learning about and using a new skill that will be very useful to you as the administrator of a phpBB forum. You have already learned about some of the powerful configurations and features available through the Administration Control Panel, but there are many more that are not found there. These features can only be accessed (or in some cases, added) by editing phpBB’s files yourself. You must be careful to follow proper procedures when altering the files because phpBB is a delicate and complicated set of scripts. Doing so can save you a lot of headaches later, as many have learned first hand.<a id="id105" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note04"/>Note</h3><p>You will be reminded of these procedures at several later points in the book. Try to follow them before manually editing any files, even if you are not reminded. This cannot be stressed enough, because these procedures can save you a lot of time when dealing with problems.</p></div><p>Before editing any file, the most important thing you should do is create a backup of that file. This simply means creating a copy of the file in its current condition. If you encounter problems due to your editing later, you can replace the edited file with the backup. That will effectively revert your forum to the pre-edited state of the file. At some point in your phpBB experience, you will definitely need to use a backup of a file. Everyone makes mistakes at some point, and it is nothing to be ashamed about. At other times, things simply do not work. Regardless of the cause, very few mistakes can be permanently fatal to a phpBB forum if you make backups before doing anything.</p><p>When you do edit a phpBB file, it is important to use the correct type of program. phpBB uses three types of files: graphics, text files containing program code, and text files containing display code.<span class="strong"><strong> Graphics</strong></span> are standard image files you would see on any website and should be edited in programs such as Jasc Paint Shop Pro, Adobe Photoshop, or any other program capable of handling them. The text files, however, are special. Making a mistake in a graphic file will not damage your forum, but making one in a display code file or program code can easily cripple your forum.</p><p>All of phpBB’s<span class="strong"><strong> program code files</strong></span> contain the essential scripting needed to operate and display all aspects of a phpBB-powered forum and website. They are the backbone of phpBB. These files may have filename extensions of<code class="literal"> .php, .inc</code>, or<code class="literal"> .cfg</code>, and are plain text files created in a Unix text file format. This mainly means that when editing the files, you need to use a program capable of understanding the Unix text format. The majority of simple text-editing software will have no problems with this. Microsoft Notepad, perhaps the most commonly used text editor of the Microsoft Windows operating system, cannot understand the Unix format fully. It displays all the contents of a Unix text file on one long line, so Notepad is not the best choice for phpBB administrators. WordPad editor, also included with Microsoft Windows, is able to read Unix files without any problems. Most dedicated phpBB coders use more advanced text-editing programs with special features related to the PHP programming language. Some popular examples are EditPlus, TextPad, and PHPEdit, but there are many more available. You should, however, not need anything more complex than WordPad for the examples here.</p><p>The<span class="strong"><strong> display code files</strong></span> are the<code class="literal"> .tpl</code> files of the template element and the<code class="literal"> .css</code> files of the theme element we learned about earlier. Like the program code files, these are plain text files saved in a Unix text file format. WordPad will again be our choice for editing these files for the examples in this chapter. There are special HTML editing programs, such as Dreamweaver MX, that can be used to edit template files. Those programs tend to cause as many problems as they solve, so you may want to avoid them for now unless you are very familiar with the program you choose.</p><p>Finally, there is one more note about editing both program and display code files. When saving these files, you need to make certain to save them in the proper file format. These are supposed to be plain text files, so you must save them as that. To save an edited phpBB file in WordPad, just click the<span class="strong"><strong> Save</strong></span> toolbar icon or select<span class="strong"><strong> Save</strong></span> from the<span class="strong"><strong> File</strong></span> menu. WordPad should automatically save the file correctly. If you must select<span class="strong"><strong> Save As</strong></span>, make certain to choose<span class="strong"><strong> Text Document</strong></span> in the<span class="strong"><strong> Saves as type</strong></span> selection list.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"/>Note</h3><p>Microsoft WordPad may be able to read Unix file formats, but it does not save files in that format. Instead, it saves files in a<span class="strong"><strong> personal computer</strong></span> (<span class="strong"><strong>PC</strong></span>) format.</p></div></div>
<div class="section" title="Installing a New Style"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec04"/>Installing a New Style</h1></div></div></div><p>One of the easiest ways to customize the appearance of your forum is to download and install a new phpBB style. Hundreds of different styles have been created based on topics like color schemes, popular movies, television shows, hobbies, sports, etc. The majority of these styles are free to download and use, although there are also some commercial styles and style designers available. Some websites that offer style downloads also provide demonstration forums in which you can preview any of the styles without downloading anything. Two of the best websites for downloading phpBB styles are:<a id="id106" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The phpBB Styles Database:<p><a class="ulink" href="http://www.phpbb.com/styles/"> http://www.phpbb.com/styles/</a>.</p></li><li class="listitem" style="list-style-type: disc">The phpBBHacks Templates Database:<p><a class="ulink" href="http://www.phpbbhacks.com/templates.php"> http://www.phpbbhacks.com/templates.php</a>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note39"/>Note</h3><p>Remember, some online communities use the terms template or theme when referring to a complete style, rather than names of style elements.<a class="ulink" href="http://phpBBHacks.com"> phpBBHacks.com</a> tends to use template in this manner.</p></div></li></ul></div><p>Be certain to select a style that is compatible with the version of phpBB that you are using. The two sites above will list the compatible phpBB versions for each style, but other sites may not. Also keep in mind that some other sites carry styles for special ported versions of phpBB that are used with content management systems like PHP-Nuke. Those styles will<span class="emphasis"><em> not</em></span> be compatible with an original flavor phpBB forum and vice versa.<a id="id107" class="indexterm"/>
</p><p>Once you have selected and downloaded a new style, you will need to install the style to your forum. The installation is not a hard process if everything is prepared properly. You will however find it a bit daunting if the process or the creation of the style has been handled incorrectly.</p><p>Most downloads will come in a ZIP file format. Before you can install a downloaded style, you need to decompress the ZIP file. There are various software programs you can use to accomplish this task. If you downloaded phpBB in a ZIP file, you are most probably already familiar with decompressing a file. Even if you are not, there are many decompression software programs you can download. Some of the more famous names include WinZip, WinAce, and WinRAR. Some, like ZipGenius (<a class="ulink" href="http://www.zipgenius.it/">http://www.zipgenius.it/</a>) or XAce, are free. WinZip has a Wizard mode that is very easy to use, so we will not look at decompression in great detail here.</p><div class="section" title="Creating a Copy Style"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec03"/>Creating a Copy Style</h2></div></div></div><p>For the purposes of illustration, this chapter will discuss the usage of a sample style called subBook. Instead of downloading and uncompressing this style, it was created as a quickly renamed copy of the subSilver style. If you would like to create your own subBook style so you can follow along, follow these simple instructions.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec01"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec01"/></h4></div></div></div><div class="section" title="Time For Action—Creating a Copy Style"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl5sec01"/>Time For Action—Creating a Copy Style</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Make a copy of the<code class="literal"> templates/subSilver</code> directory. The copy should contain all the same files found under<code class="literal"> subSilver</code>.<a id="id108" class="indexterm"/></li><li class="listitem">Change the name of the copy directory to<code class="literal"> subBook</code>.</li><li class="listitem">Rename the<code class="literal"> subSilver.cfg</code> and<code class="literal"> subSilver.css</code> files to<code class="literal"> subBook.cfg</code> and<code class="literal"> subBook.css</code>, respectively.</li><li class="listitem">Open the<code class="literal"> theme_info.cfg</code> file for editing. In this file, you will see<code class="literal"> subSilver</code> used several times. Change each of these instances to<code class="literal"> subBook</code>. Take care that you do not delete or change anything else in the file. Remember to follow the proper editing procedures you learned earlier.</li><li class="listitem">The name of the subSilver style is referenced in around forty to fifty lines inside template files in your<code class="literal"> subBook</code> directory. The exact files and number of times vary depending on the version of phpBB 2.0 you are using. When creating a new style from subSilver as we are doing, you need to change all these references to the name of the new style (subBook in our case). Clearly, this step will take some time. This will not affect our installation or uninstallation examples, so you may skip most of this for now. Some advanced text editors have special search and replace features that can help you do this more quickly. At the very least, do these steps on the<code class="literal"> overall_header.tpl</code> file.</li><li class="listitem">Save and close all open files.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch05lvl6sec01"/>What Just Happened?</h6></div></div></div><p>Every style available for phpBB is based around a set of files stored in the<code class="literal"> templates</code> directory. The easiest way to create a new style is to copy the files of another and make a few changes to some of the copied files. These files are the configuration files, such as<code class="literal"> subSilver.cfg</code> and<code class="literal"> theme_info.cfg</code>, which phpBB uses for installing and managing styles. The Cascading Style Sheet file,<code class="literal"> subSilver.css</code> in this case, was also renamed. As a result, references to<code class="literal"> subSilver.css</code> in<code class="literal"> overall_header.tpl</code> also had to be changed to the new name of that file. Completing these steps gives you a new style, which you can edit as much as you like without affecting your forums’ other styles.</p></div></div></div></div></div><div class="section" title="Installing One Element at a Time"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec04"/>Installing One Element at a Time</h2></div></div></div><p>Once you have a new style to install, either from downloading or copying<code class="literal"> subSilver</code>, you need to place that style’s directories and files into the<code class="literal"> templates</code> directory of your forum. phpBB’s Administration Control Panel can automatically detect all styles placed into this directory. If your forum is on a remote server, as most forums and websites tend to be, then you will have to upload the directories and files to that server via one of the methods supported by your web hosting company. This is usually through<span class="strong"><strong> File Transfer Protocol</strong></span> (<span class="strong"><strong>FTP</strong></span>), SSH, or some other setup. Once you have copied or placed the files into<code class="literal"> templates</code>, you have completed two thirds of the style installation already:<a id="id109" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1132_04_01.jpg" alt="Installing One Element at a Time"/></div><p>With the new style’s files placed in your forum file system, you are now ready to install the style through phpBB’s Administration Control Panel. Log in to your forum using an administrator account and enter the Control Panel. In the navigation menu frame, scroll down to the<span class="strong"><strong> Styles Admin</strong></span> section. There are several options here; we are only interested in the<span class="strong"><strong> Add</strong></span> link for the moment. Click this link to enter the<span class="strong"><strong> Styles Administration</strong></span> page.<a id="id110" class="indexterm"/>
</p><p>The<span class="strong"><strong> Styles Administration</strong></span> page lists all the uninstalled styles phpBB has detected in your<code class="literal"> templates</code> directory. You may notice that this page uses both<span class="strong"><strong> theme</strong></span> and<span class="strong"><strong> style</strong></span> to refer to the styles. This confusion stems from the fact that we have already installed the image set and template style elements simply by placing them into the<code class="literal"> templates</code> directory. All that remains is to install the theme element, and thereby complete the style’s installation. To install a theme, just click the<span class="strong"><strong> Install</strong></span> link next to the entry in the list. phpBB will now show the style in the drop-down selection list found in user profiles and the phpBB configuration page:</p><div class="mediaobject"><img src="graphics/1132_04_02.jpg" alt="Installing One Element at a Time"/></div></div><div class="section" title="Troubleshooting"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec05"/>Troubleshooting</h2></div></div></div><p>phpBB is a complicated set of scripts, so even something that should be simple, like installing a style, can cause you problems. There are many causes of these problems, ranging from designer mistakes to errors in the copying of the files, but all of them are easy to fix. Let us examine some of the more common troubles encountered by forum administrators in the past.<a id="id111" class="indexterm"/>
</p><div class="section" title="Style Does Not Appear in Administration"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec02"/>Style Does Not Appear in Administration</h3></div></div></div><p>If a style does not appear in the<span class="strong"><strong> Styles Administration</strong></span> page after you have copied it to the<code class="literal"> templates</code> directory, there is usually a problem with the<code class="literal"> theme_info.cfg</code> file that should be in the style’s directory. Make sure this file has been copied and that the name of the file has not been changed. If the file is present and named correctly, then there is a problem inside the file itself. Some styles have been distributed with errors in this file.</p><p>Open<code class="literal"> theme_info.cfg</code> for editing. It should resemble the subSilver file shown in the figure that follows. Note that each line begins with<code class="literal"> $subSilver[0]</code>, followed by other characters. The<code class="literal"> subSilver</code> part is extremely important, and must be spelled in exactly the same manner as the name of the style’s<code class="literal"> templates</code> directory and cannot contain any spaces. The name will be different for each template, of course. phpBB will consider all of these to be completely different things:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">subSilver</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">sub Silver</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">Subsilver</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">SubSilver</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">subsilver</code></li></ul></div><div class="mediaobject"><img src="graphics/1132_04_03.jpg" alt="Style Does Not Appear in Administration"/></div><p>This screenshot shows a portion of an unaltered subSilver<code class="literal"> theme_info.cfg</code>. Only our first option,<code class="literal"> subSilver</code>, would be correct in this instance. Check each line of<code class="literal"> theme_info.cfg</code> and make any corrections needed to the file or, if necessary, rename the style’s<code class="literal"> templates</code> directory. In certain cases, the latter will be an easier method of correcting the problem. Other styles will have different names for their directory and in<code class="literal"> theme_info.cfg</code>, but the name must be the same in both places.</p></div><div class="section" title="Configuration File Cannot Be Opened"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec03"/>Configuration File Cannot Be Opened</h3></div></div></div><p>Sometimes phpBB may have trouble finding the configuration file for a template element. When this happens, either during installation or normal forum operations, the forum will present the user with a<span class="strong"><strong> Critical Error</strong></span> message, as shown in the following figure, mentioning the name of the template. That name is a very important part of this error message, because it is telling you what name phpBB has used to look for the configuration file. When the name of the template is shown as subSilver, phpBB could not find a file called<code class="literal"> subSilver.cfg</code> in the<code class="literal"> templates/subSilver</code> directory. Similarly, the name subBook means phpBB looked for<code class="literal"> subBook.cfg</code> in the<code class="literal"> templates/subBook</code> directory. The pattern here should be clear:</p><div class="mediaobject"><img src="graphics/1132_04_04.jpg" alt="Configuration File Cannot Be Opened"/></div><p>To repair this error, you need to ensure that phpBB can find the file in question. As with the error when the style does not appear in<span class="strong"><strong> Styles Administration</strong></span>, the names of the actual file and directory must be exactly the same as that in the error message.<code class="literal"> Subbook</code> is not the same as<code class="literal"> subBook</code>. First, look in the<code class="literal"> templates</code> directory and ensure that there is a subdirectory with the template name. Next, look inside that subdirectory for the template configuration file. If either the directory or file is named incorrectly, renaming them to the correct spelling should fix the error.</p><p>If there is no<code class="literal"> templates</code> subdirectory that comes even close to having the correct name, there are two ways to fix the error temporarily. The first method is to rename another subdirectory (and the template configuration file inside it) to the name phpBB is trying to find. When doing this, be sure to write down the original name for a quick change-back later. The second and better method is to copy another template and rename it. The steps for this are the same as those in the<span class="emphasis"><em> Creating a Copy Style</em></span> section earlier in this chapter, except you will not need to edit<code class="literal"> theme_info.cfg</code>. With the problem repaired for the moment, you can try to uninstall the problem style or work out a more lasting solution like replacing the<code class="literal"> templates</code> files of the style.</p></div></div><div class="section" title="Removing an Installed Style"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec06"/>Removing an Installed Style</h2></div></div></div><p>At some point, you may decide that you want to remove a style you have added to your phpBB forum. This is a much simpler process than installing styles. There are two steps to removing a style: deleting the style and theme information from the database and deleting the<code class="literal"> templates</code> directory of the style.<a id="id112" class="indexterm"/>
</p><p>In the Administration Control Panel, scroll the navigation menu down to the<span class="strong"><strong> Styles Admin</strong></span> section. Clicking the<span class="strong"><strong> Management</strong></span> link will load a<span class="strong"><strong> Styles Administration</strong></span> page, listing the styles currently installed on your forum. It looks very similar to the installation page you have already seen. By clicking the<span class="strong"><strong> Delete</strong></span> link next to a style, you will remove all information related to that style in your forum’s SQL database. You will be asked to confirm the deletion before it actually happens. Any users that have selected a style in their profiles will automatically have their selection changed when that style is deleted. Their profile setting will be altered to the style selected as the<span class="strong"><strong> Board Default</strong></span> on the<span class="strong"><strong> General Configuration</strong></span> page of the Administration Control Panel.<a id="id113" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"/>Note</h3><p>If you only have one style installed on your forum, you cannot delete it. You also cannot delete the<span class="strong"><strong> Board Default</strong></span> style</p></div><div class="mediaobject"><img src="graphics/1132_04_05.jpg" alt="Removing an Installed Style"/></div><p>The second aspect of removing a style calls for deleting that style’s related subdirectory of the<code class="literal"> templates</code> directory. This will typically be done through the same means by which you copied the style into<code class="literal"> templates</code> when installing it. Since it is possible to have multiple styles that use a single template or image set element with different themes, you should make certain that removing these files will not damage any styles you have not deleted in the Administration Control Panel.</p></div></div>
<div class="section" title="Create or Customize"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec05"/>Create or Customize</h1></div></div></div><p>So far, we have only looked at installing new styles that already exist. This is only one of the ways in which we can alter the appearance of a phpBB, however. Two of our other options are creating a completely new style or customizing one already installed, like subSilver. Both of these options have some benefits and some drawbacks.<a id="id114" class="indexterm"/>
</p><p>Creating a new style can really bring life to a forum. If your forum has a look that is unlike any other, your visitors are more likely to remember it. You probably remember some of the unique-looking websites you have visited in the past yourself. Also, you do not have to spend time looking through hundreds of existing styles for something you like or one that will fit nicely with the subject matter of your forum. Sometimes you may not even be able to find a style appropriate to your subject! The temptation to create your own style is great.</p><p>On the other hand, creating a new style is a lot of work! There are many graphics required for normal phpBB operations, and you will probably want to replace most of them with your own. You may even want to create new graphics and alter the template files to create new visual effects. Essentially, you would be designing an entire website. If you are not an experienced web designer or graphic artist, you may find the task to be a bit beyond your current skill level.</p><p>When you customize an existing style, you will save a lot of time over creating a new one. The existing structure will already be complete, other than any changes you want to make. You can quickly replace any images or colors to alter the mood of the forum, as you will see later in this chapter. The work of the original style creator will serve as a guideline to help you develop your knowledge. Then again, if you customize a style, that same existing structure will limit you unless changed greatly. Chances are that the customized style will bear some resemblance to the original, and many people will know that at first glance.<a id="id115" class="indexterm"/>
</p><p>So which method is better? It really depends on how much you want to change the look of a forum. There is a good chance you can find an existing style to customize that will not limit you too much. If you look at enough styles, however, you will find that many of them are based, at least in part, on the original subSilver style. For something unique, you will have to create a new style.</p><p>In the rest of this chapter, we will learn to customize an existing style. However, the examples will use the subBook style created earlier in the chapter. This approach will allow us to preserve the original subSilver style of your forum, while making any changes we choose to the subBook copy.</p><p>In <a class="link" href="ch06.html" title="Chapter 6. Creating Your Own Template">Chapter 6</a>, we will deal with designing a completely new style in detail.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note07"/>Note</h3><p>If you did not create and install subBook earlier or replace all the uses of the subSilver name in subBook’s template files, you may wish to do so now. You can work with subSilver if you like, but this may cause your forum to appear much different from the examples and screenshots in later chapters.</p></div></div>
<div class="section" title="Customizing Through the Stylesheet"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec06"/>Customizing Through the Stylesheet</h1></div></div></div><p>The quickest way to overhaul the look of a forum is to change its colors, fonts, and other visual (but non-graphical) decorations. When we looked at the basic elements of a style earlier, we learned that a theme defines and controls these concepts through the formatting rules of a<span class="strong"><strong> Cascading Style Sheet</strong></span> (<span class="strong"><strong>CSS</strong></span>). CSS formatting rules add stylistic data, such as specifications for fonts, colors, sizes, borders, and spacing to a document structured with a markup language like HTML. Since phpBB creates documents of this kind to display a forum, the preferred method for changing these parts of the outward appearance of the forum is CSS.<a id="id116" class="indexterm"/>
</p><p>CSS rules can be stored in three different places: in an external CSS file such as<code class="literal"> subBook.css</code>, in<code class="literal"> overall_header.tpl</code>, or in a combination of the<code class="literal"> overall_header.tpl</code> method with some database storage. subSilver uses the combination method, and therefore subBook will also do the same.</p><div class="section" title="Editing the Stylesheet in the Admin Panel"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec07"/>Editing the Stylesheet in the Admin Panel</h2></div></div></div><p>We can look at the database storage portion of the combination method first. It allows us to edit certain aspects of the stylesheet through the Administration Control Panel. The values entered into the administration feature are placed into the SQL database and later retrieved for use on every page phpBB displays.<a id="id117" class="indexterm"/>
</p><p>To access the stylesheet-editing tool, visit the<span class="strong"><strong> Styles Admin</strong></span> section of the Administration Control Panel, and click the<span class="strong"><strong> Management</strong></span> link. This loads the same<span class="strong"><strong> Styles Administration</strong></span> page you saw when exploring the means of removing installed styles. However, we are now interested in the<span class="strong"><strong> Edit</strong></span> link instead of the<span class="strong"><strong> Delete</strong></span> link. Clicking<span class="strong"><strong> Edit</strong></span> will load the<span class="strong"><strong> Edit Theme</strong></span> page, which provides a simple form for changing colors, fonts, text sizes, and a few other theme aspects.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec04"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec02"/></h4></div></div></div><div class="section" title="Time For Action—Editing the Stylesheet"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl5sec02"/>Time For Action—Editing the Stylesheet</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Locate the line labeled<span class="strong"><strong> Background Color</strong></span> on the page.</li><li class="listitem">There is a form field on this line containing the text<span class="strong"><strong> E5E5E5</strong></span>. Delete that text.</li><li class="listitem">Type<span class="strong"><strong> CC0000</strong></span> in the form field. Use the number zero, not the capital letter O.</li><li class="listitem">Scroll down to the bottom of the page and press the<span class="strong"><strong> Save Settings</strong></span> button.</li><li class="listitem">On the next page, click the word<span class="strong"><strong> Here</strong></span> in the text<span class="strong"><strong> Click Here to return to Style Administration</strong></span>. This returns you to the<span class="strong"><strong> Styles Administration</strong></span> page, where your change will be reflected.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch05lvl6sec02"/>What Just Happened?</h6></div></div></div><p>As the name suggests, the<span class="strong"><strong> Edit Theme</strong></span> page allows you to alter some aspects of the forum’s theme. Each aspect that can be altered has a matching form field, such as<span class="strong"><strong> Background Color</strong></span> for the background color of forum pages. By replacing<span class="strong"><strong> E5E5E5</strong></span> with<span class="strong"><strong> CC0000</strong></span>, you altered the page background color from a light gray to red. If you replace<span class="strong"><strong> CC0000</strong></span> with<span class="strong"><strong> E5E5E5</strong></span> and<span class="strong"><strong> Save Settings</strong></span> again, the change will be reversed.</p></div></div></div></div><div class="section" title="Editing Other Theme Components"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec05"/>Editing Other Theme Components</h3></div></div></div><p>You can change more than just the background color of pages. The first two options on the<span class="strong"><strong> Edit Theme</strong></span> page actually allow you to modify two aspects of the style, even though<span class="strong"><strong> Theme</strong></span> may be used in their labels. Alterations to the<span class="strong"><strong> Theme Name</strong></span> will be reflected in board style selection lists and<span class="strong"><strong> Styles Administration</strong></span>. Selecting a new<span class="strong"><strong> Template</strong></span> can change the entire layout of a forum while keeping the current color scheme. All templates in your forum’s<code class="literal"> templates</code> directory will be listed in this selection box, even if they are not currently used in an installed style.<a id="id118" class="indexterm"/>
</p><p>The remaining thirty-eight options are presented in a three-column format. The first column,<span class="strong"><strong> Theme Element</strong></span>, describes the individual settings while the second column holds the current values. When you install a new style, some values may or may not be provided automatically; it varies from style to style. These two columns are the most relevant to your needs.</p><p>The third column,<span class="strong"><strong> Simple Name</strong></span>, can hold some extra descriptive information about the use of these settings. If you look at the<span class="strong"><strong> Edit Theme</strong></span> page for subSilver, you can see this in action. Unfortunately, phpBB does not have a method of importing<span class="strong"><strong> Simple Name</strong></span> data when installing new styles, so this column is often ignored. You can enter short descriptions of your own, but otherwise only subSilver will use this column:</p><div class="mediaobject"><img src="graphics/1132_04_06.jpg" alt="Editing Other Theme Components"/></div><p>Since there are so many options on this page, let us concentrate on the types of values that can be entered, the settings used most often, and the ones you would most likely want to change. Many settings are alternative versions of others, so looking at every single one in detail is not necessary. All of the options are listed in a table at the end of this section.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note08"/>Note</h3><p>Not all templates will use every setting in the same way. Some templates also do not use all of the settings provided. You should consider the descriptions provided here as a general guide to the ways the settings<span class="emphasis"><em> can</em></span> be used, but not how they<span class="emphasis"><em> must</em></span> be used. There is a fair amount of flexibility here, and some templates make use of that.</p></div></div><div class="section" title="Allowed Values"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec06"/>Allowed Values</h3></div></div></div><p>There are several types of values that can be entered and most settings accept only one type. Those restricted to one kind of value can be grouped under filename, color, font size, and font face settings. All other settings accept filename, color, and CSS class name values, but only one kind of value can be used in each group of these settings.</p><p>The filename settings—<span class="strong"><strong>CSS Stylesheet</strong></span> and<span class="strong"><strong> Background Image</strong></span>—should only be used with the names of existing files in the<code class="literal"> templates</code> directory of a style. It is possible to use a file that is not in a<code class="literal"> templates</code> subdirectory, but this often requires some editing of multiple template files. Some styles, including subSilver, will not use one or both of this pair when first installed. Make sure a value is filled in for<span class="strong"><strong> CSS Stylesheet</strong></span> regardless, as you may find yourself needing it later.<span class="strong"><strong> Background Image</strong></span> is optional.</p><p>Color settings require a hexadecimal color code. Hexadecimal color codes, sometimes called HTML color codes, are combinations of six letters and numbers that represent a color, usually prefaced with a pound symbol (<code class="literal">#</code>). Many websites provide charts and lists that show examples of these codes. When entering a hexadecimal color code into the color settings of this page, you must not include the pound symbol. The color settings will accept only six character values, so including the pound will cause the last character of the code to be cut off! That can lead to some weird color effects. You may be tempted to enter a color name, such as red or green, for the color settings. If you do so, however, you will get some strange results. Lists of the different hexadecimal codes are available on many websites. Two good lists can be found at<a class="ulink" href="http://www.htmlgoodies.com/tutors/colors.html"> http://www.htmlgoodies.com/tutors/colors.html</a> and<a class="ulink" href="http://webmonkey.wired.com/webmonkey/reference"> http://webmonkey.wired.com/webmonkey/reference /color_codes/</a>.</p><p>Font size settings are limited to simple integer numbers like 9, 10, or 15. These will usually be related to a font size in pixel or point measurements, but the type of measurement can vary with each style. Since some styles may also use percentage measurements, you may want to leave these settings alone until you have determined the type of units used in the stylesheet.</p><p>The last of the restricted value settings—font faces—accepts comma-separated lists of typeface names. An example of a good value is<span class="strong"><strong> Verdana, Arial, Helvetica, sans-serif</strong></span>. If you want to include a name that consists of more than one word in the list, place it inside single or double quotes: for example,<span class="strong"><strong> ‘Verdana’, ‘Trebuchet MS’</strong></span>. You can also use a single name, but it is a better idea to use a list. When a list is provided, the first font that is installed on the viewer’s computer will be used.</p><p>The more flexible settings allow you to use filenames, colors, or CSS class names for values, as already stated. Filename values operate under the same restrictions as those for filename-specific settings. Color values can be hexadecimal color codes, including the pound symbol this time, or simple names like blue.<span class="strong"><strong> CSS class names</strong></span> are names of Cascading Style Sheet formatting rules. They will usually be short names made of all lowercase letters and numbers. The formatting rules named will be used to control the display of everything that the theme element controls.</p></div><div class="section" title="Commonly Used and Altered Elements"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec07"/>Commonly Used and Altered Elements</h3></div></div></div><p>You have already learned about a few settings, such as font sizes and faces, in the previous section. Now let us examine some more useful options in the<span class="strong"><strong> Edit Theme</strong></span> page.</p><div class="section" title="Table Cell Colors"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec03"/>Table Cell Colors</h4></div></div></div><p>The<span class="strong"><strong> Table Cell Color 1, Table Cell Color 2, Table Cell Class 1</strong></span>, and<span class="strong"><strong> Table Cell Class 2</strong></span> elements are interesting because they are perhaps the most commonly used. Any aspect of phpBB that displays data in table rows, such as the member list, forums, and topics, can use these elements to achieve an alternating row color effect. For compatibility with phpBB’s internal coding,<span class="strong"><strong> Table Cell Class 1</strong></span> often has a value of<span class="strong"><strong> row1</strong></span> and<span class="strong"><strong> Table Cell Class 2</strong></span> a value of<span class="strong"><strong> row2</strong></span>. This is a sort of unspoken standard, but one that is not always used.</p></div><div class="section" title="Font Colors"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec04"/>Font Colors</h4></div></div></div><p>Two options that many forum administrators like to change, but often cannot locate without help, are<span class="strong"><strong> Font Color 2</strong></span> and<span class="strong"><strong> Font Color 3</strong></span>. All font color settings are used to color a variety of text, but these two are used for the special colors given to administrator and moderator usernames on the forum in several locations like online user lists.<span class="strong"><strong> Font Color 3</strong></span> assigns the administrator names’ color, and<span class="strong"><strong> Font Color 2</strong></span> details moderator name color.</p><p>Again, these colors are used in other places as well, so be sure to look around the forum if you change them. It is very easy to change the name colors to something nice only to find your table headers or code BBCodes have become unreadable.</p><p>Once you have edited the elements to your preferences, you should click the<span class="strong"><strong> Save Settings</strong></span> button at the bottom of the<span class="strong"><strong> Edit Theme</strong></span> page to store the new values in the database. You will be shown a confirmation message that the settings have been updated, and the new settings should be reflected on any page loaded after that message.</p><p>The following table lists the names of theme elements and defines them:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Theme Element Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>CSS Stylesheet</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Filename for a Cascading Style Sheet file.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Background Image</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Image used as a background for the forum. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Background Color</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Color of page backgrounds.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Text Color</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Default text color of all pages.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Link Color</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Default color of all unvisited links.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Visited Link Color</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Color for all links that have been visited.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Active Link Color</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>When clicking a link, it switches color. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Hover Link Color</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>When moving the mouse pointer over a link it changes to this color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Row Color 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Background color for table rows, often very light.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Row Color 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Another, usually medium, table row background color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Row Color 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Third row background color, rarely used and is often the darkest.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Row Class 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>CSS class name for table rows. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Row Class 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Class name for a second set of rows. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Row Class 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Class name for a third row set. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Header Color 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Color for table headings. Also used for page borders in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Header Color 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Second heading color. Also used for table borders in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Header Color 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Third heading color. Also used for inner table borders in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Header Class 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>CSS class name for table heading cells.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Header Class 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Class name for a second set of table heading cells.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Header Class 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Class name for a third heading set.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Cell Color 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Background color of various common table cells.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Cell Color 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Alternative table cell background color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Cell Color 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Another table cell background color. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Cell Class 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>CSS Class name for table cells. Often used to alternate row colors.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Cell Class 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Second Class name for cells. Often used to alternate row colors.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Table Cell Class 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Third possible class name. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Face 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Default type face for most text.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Face 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Second type face, sometimes for topic titles.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Face 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Third type face. Often used for code BBCode tags.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Size 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Smallest font size.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Size 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Medium font size.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Size 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Largest font size, used for most text, including posts.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Color 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Quote BBCode text color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Color 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Code BBCode text color. Also moderator username color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Font Color 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Table header cell text color. Also administrator user name color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Span Class 1</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>A CSS class name for use in HTML span tags. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Span Class 2</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Another class name for span tags. Not used in subSilver.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<span class="strong"><strong>Span Class 3</strong></span>
</p>
</td><td style="text-align: left" valign="top">
<p>Third class name for span tags. Not used in subSilver.</p>
</td></tr></tbody></table></div></div></div></div><div class="section" title="Changing CSS Styles to Change the Look of Your Site"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec08"/>Changing CSS Styles to Change the Look of Your Site</h2></div></div></div><p>The second portion of the combined stylesheet storage method deals with CSS-formatting rules placed in the<code class="literal"> overall_header.tpl</code> file of a template. These formatting rules, or<span class="strong"><strong> CSS classes</strong></span>, control many aspects of the forum’s display. By editing the CSS classes directly, you can create a broader range of design changes than are possible through the<span class="strong"><strong> Edit Theme</strong></span> utility.</p><p>The first step is to locate the CSS classes in<code class="literal"> templates/subBook/overall_header.tpl</code>. Open that file in WordPad and scroll down to a line that contains <code class="literal">&lt;style type="text/css"&gt;</code>. All of the CSS classes are between this line and another containing <code class="literal">&lt;/style&gt;</code>. Each of the classes has two major parts: a class name, also known as a selector, and a declaration block.</p><p>The<span class="strong"><strong> class name</strong></span> is a short and descriptive name that will be used to associate the individual classes with elements of forum pages. Names may be the same as those of HTML tags, such as<code class="literal"> body, td, hr</code>, or<code class="literal"> font</code>, or author-created names preceded by a period, such as<code class="literal"> .postbody</code> or<code class="literal"> .quote</code>. A combination of the two, such as<code class="literal"> td.row1</code> is also acceptable. You will also see classes containing names separated by commas; this is a shortcut for applying one class to all of the named elements.</p><p>Declaration blocks consist of one or more declaration lines enclosed in curly brackets. Each<span class="strong"><strong> declaration line</strong></span> holds a property name and value separated by a colon and ends with a semicolon. Several declaration lines can actually be placed on one line of text, as long as a semicolon ends each declaration, and you will see several such cases in the files. Property names and values specify the actual formatting features like colors, borders, and so on. Here is a sample line for underlining text:</p><div class="informalexample"><pre class="programlisting">text-decoration: underline;
</pre></div><p>Most styles’ stylesheets will also include comment lines starting with<code class="literal"> /*</code> and ending with<code class="literal"> */</code> that explain what display elements of the forum each class will affect. Comment lines do not affect any layout features themselves. An entire class might resemble this sample.</p><div class="informalexample"><pre class="programlisting">td.row2
{
color: black;
/* White Background */
background-color: #FFFFFF;
}
</pre></div><p>Until you reach a point where you are adding new features to your forum, you should not need to alter class names very much, if at all. On the other hand, editing the declaration blocks will let you do just about anything. By examining the existing entries in the file, you will get a good idea of what you can do by adding or removing declaration lines in each class.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"/>Note</h3><p>Hundreds of possible combinations of property names and values exist. There are also some types of class names not covered here or used in subSilver and subBook. For more information about Cascading Style Sheets beyond the scope of this book, check out these resources:</p><p>184 Manually selected Style Sheet Resources:<a class="ulink" href="http://www.cbel.com/style_sheets/"> http://www.cbel.com/style_sheets/</a>
</p><p>W3Schools CSS Tutorials:<a class="ulink" href="http://www.w3schools.com/css/"> http://www.w3schools.com/css/</a>
</p><p>css-discuss Wiki<a class="ulink" href="http://css-discuss.incutio.com/"> http://css-discuss.incutio.com/</a>
</p></div><p>In<code class="literal"> overall_header.tpl</code>, you will see many declaration lines containing special<span class="strong"><strong> template variables</strong></span> like<code class="literal"> {T_BODY_BGCOLOR}</code>. Template variables are a special feature of phpBB used to substitute data into the layout generated from the template files. Some recognizable characteristics of template variables are names beginning and ending with curly brackets and containing only letters, numbers, underscores, and periods. You will not see template variables whose names contain semicolons, colons, or most other special characters. Any template variables in the stylesheet will be replaced with the "theme element" values of the Edit Theme utility; they are where the combination of the database and<code class="literal"> overall_header.tpl</code> come into play. For a listing of the template variables and their matching theme element names, consult the table at the end of this section.</p><p>Template variables can be applied to classes for other types of theme elements, as well. For an example, look at the first class in subBook’s<code class="literal"> overall_header.tpl</code>. This<code class="literal"> body</code> class, which affects the HTML <code class="literal">&lt;body&gt;</code> tag and thus an entire webpage, uses several table color elements in scrollbar-related declaration lines. These lines will change the colors in certain parts of your web browser’s scrollbar, if the browser supports them. The scrollbar properties are not part of the standard CSS features and only function in certain browsers, such as Microsoft’s Internet Explorer. Netscape and Mozilla browsers ignore the scrollbar properties.</p><p>For an interesting example of how you can change the look of your forum, locate the<code class="literal"> .bodyline</code> class. This would be on a single line about eight lines below the<code class="literal"> body</code> class. Near the end of the line, you can see the<code class="literal"> border</code> property, which manages the border around the forum pages. It should currently have values that create a solid, one pixel wide, light blue border, with the color changeable in<span class="strong"><strong> Edit Theme</strong></span>. Now, replace the word<code class="literal"> solid</code> with<code class="literal"> dashed</code>. Save this change and look at your forum’s index page—it now has a dashed line for a border. You can also try<code class="literal"> dotted, ridge</code>, and<code class="literal"> groove</code> for some other effects. By altering the number portion of the<code class="literal"> 1px</code> code in the same area, you can increase and decrease the width of the border. Try<code class="literal"> 10px</code> and<code class="literal"> dotted</code> together for an unusual view.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"/>Note</h3><p>The stylesheet code found in<code class="literal"> subBook/overall_header.tpl</code> is duplicated in<code class="literal"> subBook/simple_header.tpl</code> and, with some changes, in<code class="literal"> subBook/admin/page_header.tpl</code>. Any changes applied to one file should also be made in the others, if you want to keep the same look across all parts of the forum.</p></div><div class="section" title="Using External Stylesheets"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec08"/>Using External Stylesheets</h3></div></div></div><p>By placing a stylesheet in<code class="literal"> overall_header.tpl</code>, phpBB gives you a lot of control through the<span class="strong"><strong> Edit Theme</strong></span> page, but it comes at a cost. The stylesheet has to be freshly loaded on every page, and this can slow down a very busy forum. An alternative is to use an external stylesheet file, such as<code class="literal"> subSilver.css</code> and<code class="literal"> subBook.css</code>. Web browsers do not refresh external stylesheets as often, resulting in smaller page sizes and faster loading times. This type of stylesheet does not support the<span class="strong"><strong> Edit Theme</strong></span> utility, however, so the utility is rendered almost useless.<span class="strong"><strong> Edit Theme</strong></span> will still control administrator and moderator username colors and, depending on the style, row classes and colors.</p><p>To enable the external stylesheet for subBook, find the following line in<code class="literal"> templates/subBook/overall_header.tpl</code>:
</p><div class="informalexample"><pre class="programlisting">&lt;!-- link rel="stylesheet" href="templates/subBook/{T_HEAD_STYLESHEET}" type="text/css" --&gt;
</pre></div><p>This line is an HTML comment line due to the <code class="literal">!--</code> and <code class="literal">--</code> character sequences near the beginning and end. Like the Cascading Style Sheet comment lines, it has no effect on the page layout. By removing the comment characters, you can have the line become a reference to the external stylesheet file. The line should then look like this:</p><div class="informalexample"><pre class="programlisting">&lt;link rel="stylesheet" href="templates/subBook/{T_HEAD_STYLESHEET}" type="text/css"&gt;
</pre></div><p>You should also delete all the CSS classes in<code class="literal"> overall_header.tpl</code>, or they will override the same classes in the external stylesheet. If you have made any changes to those CSS classes, make identical changes in<code class="literal"> subBook.css</code> before deleting the code from<code class="literal"> overall_header.tpl</code>. You will find the same classes in<code class="literal"> subBook.css</code>, but you cannot use template variables in external stylesheet files. If you make these same changes in<code class="literal"> simple_header.tpl</code> and<code class="literal"> admin/page_header.tpl</code>, you can control the appearance of the entire forum from a single stylesheet file. Note that the final line in<code class="literal"> admin/page_header.tpl</code> will be slightly different. You need to add<code class="literal"> ../</code> before<code class="literal"> templates</code> in this line for the stylesheet to be displayed properly on pages using this file. Those pages are generally Administration Control Panel pages, which only you may see (unless you give other users administrator access). The final line for<code class="literal"> admin/page_header.tpl</code> is:</p><div class="informalexample"><pre class="programlisting">&lt;link rel="stylesheet" href="../templates/subBook/{T_HEAD_STYLESHEET}" type="text/css"&gt;
</pre></div><p>The following table lists the template variables and related theme elements:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Template Variable</p>
</th><th style="text-align: left" valign="bottom">
<p>Theme Element Name</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_HEAD_STYLESHEET}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>CSS Stylesheet</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_BACKGROUND}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Background Image</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_BGCOLOR}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Background Color</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_TEXT}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Text Color</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_LINK}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Link Color</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_VLINK}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Visited Link Color</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_ALINK}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Active Link Color</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_BODY_HLINK}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Hover Link Color</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TR_COLOR1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Row Color 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TR_COLOR2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Row Color 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TR_COLOR3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Row Color 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TR_CLASS1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Row Class 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TR_CLASS2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Row Class 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TR_CLASS3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Row Class 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TH_COLOR1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Header Color 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TH_COLOR2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Header Color 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TH_COLOR3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Header Color 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TH_CLASS1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Header Class 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TH_CLASS2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Header Class 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TH_CLASS3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Header Class 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TD_COLOR1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Cell Color 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TD_COLOR2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Cell Color 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TD_COLOR3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Cell Color 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TD_CLASS1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Cell Class 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TD_CLASS2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Cell Class 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_TD_CLASS3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Table Cell Class 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTFACE1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Face 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTFACE2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Face 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTFACE3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Face 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTSIZE1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Size 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTSIZE2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Size 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTSIZE3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Size 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTCOLOR1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Color 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTCOLOR2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Color 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_FONTCOLOR3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Font Color 3</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_SPAN_CLASS1}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Span Class 1</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_SPAN_CLASS2}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Span Class 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">{T_SPAN_CLASS3}</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Span Class 3</p>
</td></tr></tbody></table></div></div></div></div>
<div class="section" title="Customizing through Images"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec07"/>Customizing through Images</h1></div></div></div><p>Another major part of a forum’s appearance is created using images.<span class="strong"><strong> Forum images</strong></span> can be divided into two main categories: those that are just for looks, and those that serve some function. The former might include a forum’s logo or menu link images, while examples of the latter would be new post indicators and posting buttons. By replacing any of these images, you can create a new user interface and adapt your forum’s design at the same time. If you are a graphic artist or experienced in creating your own images, you can create some awesome images to liven up your forum.<a id="id119" class="indexterm"/>
</p><p>You can also download new graphics from phpBB communities, of course. Both<a class="ulink" href="http://phpBB.com"> phpBB.com</a> and<a class="ulink" href="http://phpBBHacks.com"> phpBBHacks.com</a>, which offer style downloads as mentioned previously, also offer some graphic sets. Some of their image downloads are rank and emoticon images, but you can find packs of normal forum buttons too. A few style authors have also made special PSD image packs available, which can be used to create new images for their styles using Adobe Photoshop and other image editors. PSD packs for styles you install, if available, may be useful when adding new features to your forum later.</p><div class="section" title="Installing New Images to Change the Look of Your Site"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec09"/>Installing New Images to Change the Look of Your Site</h2></div></div></div><p>There are two ways to install new images to a phpBB forum. The first is to replace an existing image. Replacing an image entails finding or creating an image, renaming it with the same filename as an image already used on your forum, deleting the existing image, and putting the new image in the same location. This is a quick way of getting new graphics on your forum, but it will limit you to the same type of image previously in place. If you have a JPEG image, like a digital photo, that you want to use for a<span class="strong"><strong> New Topic</strong></span> button in subSilver or subBook, you would have to convert it to a GIF image, losing some picture quality in the process. For cases like this, it’s better to use the second method of installing new images: adding an image with a new filename.</p><p>In order to get phpBB to detect the new filename, however, you may have to edit the template configuration file of the style in which you are installing the new image. If you will recall from earlier in the chapter, these files have a name matching that of a<code class="literal"> templates</code> subdirectory, such as<code class="literal"> subSilver.cfg</code> or<code class="literal"> subBook.cfg</code>, and list many of the graphics found on a forum. The entries in this list usually resemble these examples:</p><div class="informalexample"><pre class="programlisting">$images[‘name’] = "$current_template_images/image.gif";
$images[‘name’] = "$current_template_images/{LANG}/image.gif";
</pre></div><p>If you open<code class="literal"> subBook.cfg</code> in WordPad, you should see several lines in this format. Generally speaking, you should only edit the parts of a line after the last backslash and before the last quotation mark, which would be<code class="literal"> image.gif</code> in the example. If your new image is not inside the<code class="literal"> images</code> subdirectory of the style’s directory, like<code class="literal"> templates/subBook/images</code>, then you would need to replace<code class="literal"> $current_template_images</code> with the correct path to the image. It is usually easier to simply put the new file in the style’s<code class="literal"> images</code> directory. The special<code class="literal"> {LANG}</code> placeholder allows phpBB to use different versions of an image in support of multiple languages.</p><p>The one image you might expect to find in the configuration file—the forum’s phpBB logo—is actually not there. To change the filename for the logo, you will have to edit<code class="literal"> overall_header.tpl</code>. The HTML image tag for the logo resembles:</p><div class="informalexample"><pre class="programlisting">&lt;img src="templates/subBook/images/logo_phpBB.gif" border="0" alt="{L_INDEX}" vspace="1" /&gt;
</pre></div><p>Notice the phpBB logo is the<code class="literal"> logo_phpBB.gif</code> file. Most people want to change the logo quickly, so this is a good file to experiment with replacing or renaming.</p></div></div>
<div class="section" title="Hacking phpBB"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec08"/>Hacking phpBB</h1></div></div></div><p>Altering the look of your forum is only one aspect of customizations that you can perform with phpBB. For some interesting changes, you’ll most likely want to add some completely new features to your forum. You may also want to remove some features that you do not plan to use. To add new features, remove existing features, or otherwise alter the abilities of a phpBB forum, you will have to edit the code of the PHP script files that are the heart of phpBB. You may also need to edit or add new template files to the styles installed on a forum, as well. The process of making these kinds of changes is called<span class="strong"><strong> modifying</strong></span> or<span class="strong"><strong> hacking</strong></span> phpBB.</p><div class="section" title="MODs and Hacks"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec10"/>MODs and Hacks</h2></div></div></div><p>There are many sets of instructions for altering phpBB’s features available at online phpBB communities. Such downloads may include step-by-step instructions for altering core phpBB files or the SQL database, adding new forum files, or any combination of those three categories. These downloads are commonly called MODs or Hacks.<span class="strong"><strong> Hack</strong></span> was the original term used during the era of phpBB 1 and is still used extensively in some phpBB communities. With the advent of phpBB 2.0, the term<span class="strong"><strong> MODs</strong></span>, from a shortened form of the word modifications, also became popular. To avoid confusion, the term<span class="strong"><strong> modification</strong></span> will be used in this chapter.<a id="id120" class="indexterm"/>
</p></div><div class="section" title="phpBB Modification"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec11"/>phpBB Modification</h2></div></div></div><p>What exactly does a modification include? That will depend on the scope of the modification. Very simple modifications typically include one text file containing instructions for altering an existing phpBB file. More complex modifications may also include new files to be added to phpBB and a special installer file. Some extremely complex modifications typically include all of these, plus already edited copies of the original phpBB files. All these files will be placed together in a compressed file, typically in the ZIP format.<a id="id121" class="indexterm"/>
</p><p>While a group of developers created phpBB, modifications are typically the work of individual phpBB users that needed the effect created by the modification. phpBB is open source and released under the GNU General Public License so, it and any derivative works (like modifications) can be freely distributed to others at no charge. Modification authors make their works available to others in the hope that other forum administrators will benefit from them and eventually contribute back to the larger phpBB community. Therefore, there is a large and diverse group of modifications created in different coding methods and writing styles. Some modifications are also released in developmental stages, and you should be careful about using those. They often contain bugs, security holes, or incomplete features that may annoy your forum’s visitors.</p><p>The best places to find large selections of phpBB modification downloads are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">phpBBHacks.com:<a class="ulink" href="http://www.phpbbhacks.com/"> http://www.phpbbhacks.com/</a></li><li class="listitem" style="list-style-type: disc">phpBB Official Site:<a class="ulink" href="http://www.phpbb.com/"> http://www.phpbb.com/</a></li></ul></div><p>Many modification authors will also release their works on their own websites or other phpBB communities. If possible, make sure you only download modifications described as compatible for the version of phpBB you are using. There are many releases of phpBB 1 and phpBB 2, but not all modifications will work with every phpBB release. phpBB 1 modifications, mainly found only at<a class="ulink" href="http://phpBBHacks.com"> phpBBHacks.com</a> now, will not work on any phpBB 2 release. Some phpBB 2 modifications will work only with early or later versions of phpBB 2.0.</p></div><div class="section" title="Installing a Modification"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec12"/>Installing a Modification</h2></div></div></div><p>When you find and download a modification you wish to install, you need to follow a series of steps to place the new code in your forum and activate it fully. Like many other things, the exact steps needed vary with each modification. There is a standard way of proceeding that is common to all modifications, however. To begin with, let’s install this simple modification. It adds a button to each user’s posts that allows others to quickly search for all posts by that user.<a id="id122" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">#
#-----[ OPEN ]------------------------------------------
#
templates/subSilver/viewtopic_body.tpl
#
#-----[ FIND ]------------------------------------------
#
//--&gt;&lt;/script&gt;&lt;noscript&gt;{postrow.ICQ_IMG}&lt;/noscript&gt;&lt;/td&gt;
#
#-----[ IN-LINE FIND ]------------------------------------------
#
&lt;/noscript&gt;
#
#-----[ IN-LINE AFTER, ADD ]------------------------------------------
#
{postrow.SEARCH_IMG}
#
#-----[ SAVE/CLOSE ALL FILES ]------------------------------------------
#
# End
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec09"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec05"/></h4></div></div></div><div class="section" title="Time For Action—Installing a Small Modification"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl5sec03"/>Time For Action—Installing a Small Modification</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Locate the<code class="literal"> templates/subSilver/viewtopic_body.tpl</code> file of your forum. Open this file in your text-editing program.</li><li class="listitem">Use the text-editing programs search feature to locate this line of text in the file. In many programs, this feature can be accessed from the menus or by pressing<span class="strong"><strong> Ctrl+F</strong></span> on Windows systems.<div class="informalexample"><pre class="programlisting">//--&gt;&lt;/script&gt;&lt;noscript&gt;{postrow.ICQ_IMG}&lt;/noscript&gt;&lt;/td&gt;
</pre></div></li><li class="listitem">Now, locate the text <code class="literal">&lt;/noscript&gt;</code> within that line.</li><li class="listitem">Directly after <code class="literal">&lt;/noscript&gt;</code>, type a space and the text<span class="strong"><strong> {postrow.SEARCH_IMG}</strong></span>. The final version of the line should look like this example:<div class="informalexample"><pre class="programlisting">//--&gt;&lt;/script&gt;&lt;noscript&gt;{postrow.ICQ_IMG}&lt;/noscript&gt; {postrow.SEARCH_IMG}&lt;/td&gt;
</pre></div></li><li class="listitem">Save and close the file. If necessary, upload it to your website, replacing the existing file there. You may repeat all of these steps with the<code class="literal"> templates /subBook/viewtopic_body.tpl</code> file, if you wish.</li><li class="listitem">Go to your forum and look at any post. You should see a new<span class="strong"><strong> Search</strong></span> image below the post.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch05lvl6sec03"/>What Just Happened?</h6></div></div></div><p>Congratulations, you have just installed your first phpBB modification! The majority of modifications contain a series of instructions similar to those on the previous page. Authors intend you to use these instructions as a basic guide to adding the modification to your phpBB files. By placing a little bit of new code inside your<code class="literal"> viewtopic_body.tpl</code> file, you have enabled the search button that can be shown with forum posts.</p></div></div></div></div><div class="section" title="Installing a Downloaded Modification"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec10"/>Installing a Downloaded Modification</h3></div></div></div><p>After you have downloaded a modification that you wish to install, you must first decompress the downloaded file if it is a ZIP file or another archive file format. When you do so, one or more new files, and possibly directories containing more files, will be created. When there is only one file, it will typically be a simple text file that you can open in WordPad. The name of the file is usually<code class="literal"> readme.txt, install.txt, install.mod</code>, or something like that. For the sake of example, let’s use<code class="literal"> install.txt</code>.<a id="id123" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"/>Note</h3><p>If a modification contains an<code class="literal"> install.mod</code> file, you may not be able to open this file by double clicking on it like other files. The file extension<code class="literal"> .mod</code> has been used by a popular music file format for years, so music players like WinAMP usually try to open double clicked<code class="literal"> .mod</code> files. In these cases, you will have to open the file through WordPad’s<span class="strong"><strong> File | Open</strong></span> menu.</p></div><p>The<code class="literal"> install.txt</code> will contain all the instructions for installing the modification’s changes, as well as the author’s credits and notes about the changes. Larger modifications may include both a<code class="literal"> readme.txt</code> and an<code class="literal"> install.txt</code> file. In those cases, it’s usually a good idea to examine<code class="literal"> readme.txt</code> before doing anything else, as it may contain special instructions beyond those found in<code class="literal"> install.txt</code>.</p><p>A few modifications are simply written out in paragraph form, but the majority use a common template of a header and simple commands called actions. The modification header will contain basic information such as the modification’s name, version number, author, description, and an estimation of installation difficulty and time. Important notes about the modification and its history might also be found here, so be certain to read the header fully.<span class="strong"><strong> Actions</strong></span> describe steps of the modification installation using a header containing a brief, descriptive name followed by one or more lines of code.</p><p>Here is an example of an action header, as it may appear in a file of instructions.</p><div class="informalexample"><pre class="programlisting">#
#-----[ ACTION NAME ]------------------------------------------
#
</pre></div><p>The actual name of each action will replace the text<code class="literal"> ACTION NAME</code>. There are many kinds of actions, each of which has a different meaning. When used in a set of instructions, action names are usually typed entirely in capital letters.<a id="id124" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note12"/>Note</h3><p>Remember to back up any file you are instructed to alter before doing anything to that file. Refer to the<span class="emphasis"><em> Editing phpBB Files</em></span> section earlier in this chapter if you need to refresh your memory.</p></div></div><div class="section" title="The Copy Action"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec11"/>The Copy Action</h3></div></div></div><p>This action, labeled<span class="strong"><strong> Copy</strong></span>, is an instruction to place files into certain new locations. Typically, the files to be copied are part of the modification and must be uploaded to your forum. Sometimes they already exist in the forum and just need to be moved, but special cases like that should be noted in the modification’s instructions.<a id="id125" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">#
#-----[ COPY ]------------------------------------------
#
db_update.php to db_update.php
functions_new.php to includes/functions_new.php
templates/*.* to templates/subSilver/*.*
</pre></div><p>Above is an example of a typical Copy action. Each line lists a file to copy on the left and the destination of the copy on the right. Unless otherwise noted, the destination path will be relative to your forum’s main directory. With the example, you would place<code class="literal"> db_update.php</code> in the main directory, alongside<code class="literal"> viewtopic.php</code> and<code class="literal"> profile.php, functions_new.php</code> inside the<code class="literal"> includes/</code> directory, and all the files in the modification’s<code class="literal"> templates/</code> directory inside the forum’s<code class="literal"> templates/subSilver/</code> directory. The special notation<code class="literal"> *.*</code> is a quick way of saying<span class="emphasis"><em> all files within this directory</em></span>.</p></div><div class="section" title="The SQL Action and Editing the Database"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec12"/>The SQL Action and Editing the Database</h3></div></div></div><p>When a hack adds new features, they are often tracked in some manner by the SQL database of the forum. In order to get this working, you will need to make changes to the database. Modification authors will include these changes using one or more of three methods. The first method, and most popular in more recently created modifications, is to include an installer script file. Installer files are special files with a<code class="literal"> .php</code> filename extension that can make database changes for you. They are typically named<code class="literal"> install.php</code> or<code class="literal"> db_update.php</code>, but the name can have some variety. To use these files, you normally only need to place them in your forum’s directory structure (the Copy action handles that) and run the file.<a id="id127" class="indexterm"/>
</p><p>This part might be confusing to you. People learning how to install modifications often ask, "What does it mean to<span class="emphasis"><em> run</em></span> the file?" To run a<code class="literal"> .php</code> file, you need to visit it in your web browser like a normal web page. A good comparison comes from thinking of your forum’s<code class="literal"> viewtopic.php</code>, which displays all topics. Every time you read a topic in the forum, you are running the<code class="literal"> viewtopic.php</code> file. Just visiting your uploaded<code class="literal"> db_update.php</code> file will begin the process of editing the database. Some complicated installers may walk you through several steps.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note13"/>Note</h3><p>Many installer scripts will not work unless you log in to the forum using an administrator account before running the file. Always be sure to log in first, and delete the installer file<span class="emphasis"><em> immediately</em></span> after running. Leaving an installer script in place can be a major security risk!</p></div><p>A second method of including database changes is to place a list of SQL query commands in the installation instructions under an SQL action. The third method places the same kind of list in a separate text file, which might be named<code class="literal"> sql.txt</code> or<code class="literal"> schema.sql</code>. Other names are possible, but the important thing to note is that any file with an extension of<code class="literal"> .sql</code> is a text file containing SQL queries. When either of these two methods is used, you will need to do one of two things: create your own installer script or run the changes manually.</p><p>It is not very hard to create your own installer script. In fact, there are generators that can create a<code class="literal"> db_update.php</code> file for you! One such generator can be found at<a class="ulink" href="http://www.phpbbhacks.com/forums/db_generator.php"> http://www.phpbbhacks.com/forums/db_generator.php</a>. Simply copy the SQL queries from the SQL action or file and paste them into this or another generator, submit the form, and you will be presented with the code of a<code class="literal"> db_update.php</code> file. You can download the file directly from that page, place it in your forum, and run the file in the same way you would run an author-supplied installer.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note14"/>Note</h3><p>Some SQL queries may not be compatible with<code class="literal"> db_update.php</code> generators. These will usually produce installer scripts that display parse errors when run. If this happens, visit a friendly phpBB support forum and ask for help with making the queries compatible.</p></div><p>In order to make database changes manually, you can use phpMyAdmin or another similar database management utility. However, you may need to edit the SQL queries before you can do this. When you installed phpBB, you had an option to enter a database table prefix. phpBB uses the value of this option for the beginning of all database table names. Each query in a modification should mention a database table name such as<code class="literal"> phpbb_posts</code> or<code class="literal"> phpbb_config</code>. If your chosen table prefix were<code class="literal"> myforum_</code>, you would need to change the table names to<code class="literal"> myforum_posts</code> and<code class="literal"> myforum_config</code> before using the queries. Installer script files will typically make this change automatically, so you should consider generating one if you are uncomfortable with this process. These are some queries as they might appear before and after changing the table prefix:</p><div class="informalexample"><pre class="programlisting">CREATE TABLE phpbb_tracker (
tracker_id mediumint(8) DEFAULT ‘0’ NOT NULL,
tracker1 tinyint(1) DEFAULT ‘0’ NOT NULL,
tracker2 varchar(40) NOT NULL,
PRIMARY KEY (tracker_id),
);
CREATE TABLE myforum_tracker (
tracker_id mediumint(8) DEFAULT ‘0’ NOT NULL,
tracker1 tinyint(1) DEFAULT ‘0’ NOT NULL,
tracker2 varchar(40) NOT NULL,
PRIMARY KEY (tracker_id),
);
INSERT INTO phpbb_tracker (tracker_id, tracker1, tracker2)
VALUES (1, 3,’Some text’);
INSERT INTO myforum_tracker (tracker_id, tracker1, tracker2)
VALUES (1, 3,’Some text’);
</pre></div><p>With the queries in the proper format, open phpMyAdmin and, if necessary, select your database in the left column. Click on the<span class="strong"><strong> SQL</strong></span> tab or<span class="strong"><strong> Query Window</strong></span> link. Either of these will load a page containing a large text box. Copy the SQL queries from the modification instructions or text file and paste them into this box. A click of the<span class="strong"><strong> Go</strong></span> button should run the queries on the database automatically.</p></div><div class="section" title="The Open Action"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec13"/>The Open Action</h3></div></div></div><p>This simple action tells you the name and location of a file you need to edit. You should open this file in WordPad, or your favorite text-editing program, and be prepared to make changes to it. If you have not already backed up the file, do so now. All the other actions that follow an Open action should be preformed on the file listed in this action until you reach the end of the instructions or another Open action.<a id="id128" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">#
#-----[ OPEN ]------------------------------------------
#
includes/functions.php
</pre></div></div><div class="section" title="The Find Action"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec14"/>The Find Action</h3></div></div></div><p>Each Find action is followed by one or more lines of code that should be contained within the file in the last Open action. Your goal is to locate this code, which is supposed to be an easy task. Most text-editing programs, including WordPad, have a<span class="strong"><strong> Find</strong></span> or<span class="strong"><strong> Search</strong></span> function that makes searching the entire file quick and easy. The<span class="strong"><strong> Find</strong></span> function should be accessible through the menus of the program or, in Windows programs, by pressing<span class="emphasis"><em> Ctrl+F</em></span>.<a id="id129" class="indexterm"/>
</p><p>Unfortunately, there are some problems that can make finding lines a chore. First, several versions of phpBB have been released. Each version has certain code changes, so phpBB 2.0 will have some modifications for early releases where the Find code is very different than the code in the latest version. In these cases, it is often best if you do not install the modification unless the relevant changes between versions seem minor. Another problem is that some modifications try to find code that has been changed, or even removed, by other modifications already. Some authors have tried to bypass this problem by only listing the first few characters of each line to find. That practice has created yet another problem due to misinterpretation of the actions that follow Find instructions. Finally, some lines of code appear more than once in some files. You may need to edit only a specific appearance or all instances.</p><p>How can we solve these problems? Sometimes it is not very easy. If you cannot locate some Find code, the first solution to try is searching for smaller portions of the code. Suppose you have a hard time locating the line of this instruction:</p><div class="informalexample"><pre class="programlisting">#
#-----[ FIND ]------------------------------------------
#
‘SOME_TPL_VARIABLE’ =&gt; $some_php_variable,
</pre></div><p>Looking for a key part of the line, like<code class="literal"> SOME_TPL_VARIABLE</code>, may allow you to find the line even if it has already been changed by another modification or version of phpBB. The ability to adapt lines of code is a key skill when installing modifications and you may need to develop this skill over time.</p><p>When dealing with lines or blocks of code that appear in a file several times, keep in mind that most modifications are written based on a top-to-bottom order. Say you have instructions containing two Find commands for one file, with the code of the second appearing twice in the file. The author usually means for you to locate the first appearance following the code of the first Find command.</p></div><div class="section" title="The Addition Actions"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec15"/>The Addition Actions</h3></div></div></div><p>Three actions can add a new code to a file:<span class="strong"><strong> Before, Add; After, Add</strong></span>; and<span class="strong"><strong> Replace With</strong></span>. Each of these addition actions will always follow a Find action, and operate in reference to the code in the Find action. In the case of Before, Add actions, the code following the action should be placed into the file on a line before the code of the Find action. For After, Add actions, the codes go onto a line after the Find action’s code. A Replace With action will delete the Find action’s code and substitute the new code for the old.<a id="id130" class="indexterm"/>
</p><p>For the most part, these are simple steps. There is one point about both Before, Add and After, Add actions that cannot be stressed enough, and that is<span class="emphasis"><em> always place the new code on a new line, separate from all other code</em></span>. Some modification authors, as has been mentioned, include only partial lines of code in their Find actions. The problem with this practice is that modification users tend to add new code right after that in a Find action, on the same line. This places new code right in the middle of the original code, creating a series of syntax errors that can make a forum inaccessible. If you always add code before or after Find code by inserting it on a completely new line, you should be able to avoid this problem.</p><p>To illustrate how the code of a file should look, here are some sample action sequences and the correct resulting code. For the sake of these examples, assume a file containing the following code has already been referenced in an Open action.</p><div class="informalexample"><pre class="programlisting">&lt;?php
$number1 = $number2 = $number3 = 0;
$number1 = $x + $y;
$number2 = $y + $z;
$total = $number1 + $number2 + $number3;
echo ‘The total is: ‘ . $total;
?&gt;
</pre></div><p>First, a simple Find and After, Add combination:</p><div class="informalexample"><pre class="programlisting">#
#-----[ FIND ]------------------------------------------
#
$number1 = $x + $y;
$number2 = $y + $z;
#
#-----[ AFTER, ADD ]------------------------------------------
#
$number3 = $a + $b;
</pre></div><p>This sequence should create:</p><div class="informalexample"><pre class="programlisting">$number1 = $number2 = $number3 = 0;
$number1 = $x + $y;
$number2 = $y + $z;
$number3 = $a + $b;
$total = $number1 + $number2 + $number3;
</pre></div><p>A Find and Before, Add combination is next:</p><div class="informalexample"><pre class="programlisting">#
#-----[ FIND ]------------------------------------------
#
$number1 = $x + $y;
$number2 = $y + $z;
#
#-----[ BEFORE, ADD ]------------------------------------------
#
$my_array = array(‘a’ =&gt; 1, ‘b’=&gt; 2, ‘x’ =&gt; 3, ‘y’ =&gt; 4, ‘z’ =&gt; 5);
while( list($key, $value) = each($my_array) )
{
$$key = $value;
}
</pre></div><p>After applying this sequence, the file would contain:</p><div class="informalexample"><pre class="programlisting">$number1 = $number2 = $number3 = 0;
$my_array = array(‘a’ =&gt; 1, ‘b’=&gt; 2, ‘x’ =&gt; 3, ‘y’ =&gt; 4, ‘z’ =&gt; 5);
while( list($key, $value) = each($my_array) )
{
$$key = $value;
}
$number1 = $x + $y;
$number2 = $y + $z;
</pre></div><p>A Find action followed by a Replace With action could be:</p><div class="informalexample"><pre class="programlisting">#
#-----[ FIND ]------------------------------------------
#
$total = $number1 + $number2 + $number3;
#
#-----[ REPLACE WITH ]------------------------------------------
#
$average = ($number1 + $number2 + $number3) / 3;
</pre></div><p>That sequence would transform the end of the file into this snippet of code.</p><div class="informalexample"><pre class="programlisting">$average = ($number1 + $number2 + $number3) / 3;
echo ‘The total is: ‘ . $total;
?&gt;
</pre></div><p>Finally, here is another version of the earlier Find and After, Add sequence. This time, the Find action contains only portions of the lines. The result of applying the sequence should be the same as if the full lines were given.</p><div class="informalexample"><pre class="programlisting">#
#-----[ FIND ]------------------------------------------
#
$number1 =
$number2 =
#
#-----[ AFTER, ADD ]------------------------------------------
#
$number3 = $a + $b;
</pre></div></div><div class="section" title="The In-Line Actions"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec16"/>The In-Line Actions</h3></div></div></div><p>Despite what you have just learned about the importance of adding code on new lines, sometimes you will need to change a piece of code within a line. The In-Line actions are used for this. There are four of these:<span class="strong"><strong> In-Line Find; In-Line Before, Add; In-Line After, Add</strong></span>; and<span class="strong"><strong> In-Line Replace With</strong></span>. Ideally, you will see a Find action with a long line of code, followed by an In-Line Find with a short snippet of that line, then one of the other three In-Line actions. Use them just as you would their normal counterparts, but this time do not add the new code on a separate line. You will actually insert the code inside the current line. In several modifications that use In-Line actions, you may have to change a line in several different places.<a id="id131" class="indexterm"/>
</p><p>Using the same short file above, here is an example of an In-Line Replace With action sequence that edits two parts of one line.</p><div class="informalexample"><pre class="programlisting">#
#-----[ FIND ]------------------------------------------
#
echo ‘The total is: ‘ . $total;
#
#-----[ IN-LINE FIND ]------------------------------------------
#
total
#
#-----[ IN-LINE REPLACE WITH ]------------------------------------------
#
average
#
#-----[ IN-LINE FIND ]------------------------------------------
#
$total
#
#-----[ IN-LINE REPLACE WITH ]------------------------------------------
#
$average
</pre></div><p>That sequence alters the end of the file to look like:</p><div class="informalexample"><pre class="programlisting">$average = ($number1 + $number2 + $number3) / 3;
echo ‘The average is: ‘ . $average;
?&gt;
</pre></div></div><div class="section" title="The Last Action"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec17"/>The Last Action</h3></div></div></div><p>Almost every modification’s instructions end with a variation of this action:</p><div class="informalexample"><pre class="programlisting">#
#-----[ SAVE/CLOSE ALL FILES ]------------------------------------------
#
# End
</pre></div><p>This is the last step of the instructions. It serves as a reminder to save your changes, close any remaining open files, and transfer edited files to your forum if necessary. Once you have done those things, you should be finished with the modification installation. You should thoroughly test the installation with your administrator account, a normal user account, and, if necessary, a moderator account. Many modifications add features that work differently for accounts with different permissions. For testing purposes, it is best if you only install one modification at a time. If you were to install three or four modifications simultaneously and you encounter an error in your forum, you might have a hard time tracking down the cause.</p><p>The following table provides a quick reference of the modification Action:<a id="id132" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col width="4" style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Action Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Definition</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Copy</p>
</td><td style="text-align: left" valign="top">
<p>Copies one or more files from one location to another.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>SQL</p>
</td><td style="text-align: left" valign="top">
<p>Runs one or more SQL queries on your forum’s database. These should usually be completed before installing the remainder of the modification.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Open</p>
</td><td style="text-align: left" valign="top">
<p>Opens the file in preparation for editing. Every action following this until the last action, or another Open action, should be performed on this file. It is followed by a single filename.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Find</p>
</td><td style="text-align: left" valign="top">
<p>This locates the code in the file and is followed by code.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>After, Add</p>
</td><td style="text-align: left" valign="top">
<p>Places the following code<span class="emphasis"><em> on a new line after</em></span> the code in the preceding Find action. It always follows a Find action.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Before, Add</p>
</td><td style="text-align: left" valign="top">
<p>Places the following code<span class="emphasis"><em> on a new line before</em></span> the code in the preceding Find action. It always follows a Find action.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Replace With</p>
</td><td style="text-align: left" valign="top">
<p>Deletes the code found in the preceding Find action and puts the following code in its place. It always follows a Find action.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>In-Line Find</p>
</td><td style="text-align: left" valign="top">
<p>Usually follows a Find action. Locates the following code inside a longer line of code.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>In-Line After, Add</p>
</td><td style="text-align: left" valign="top">
<p>Places the following code<span class="emphasis"><em> after</em></span> the code in the preceding In-Line Find,<span class="emphasis"><em> on the same line of code</em></span>. It always follows an In-Line Find action.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>In-Line Before, Add</p>
</td><td style="text-align: left" valign="top">
<p>Places the following code<span class="emphasis"><em> before</em></span> the code in the preceding In-Line Find,<span class="emphasis"><em> on the same line of code</em></span>. It always follows an In-Line Find action.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>In-Line Replace With</p>
</td><td style="text-align: left" valign="top">
<p>Deletes the code in the preceding In-Line Find and put this code in its place on the same line of code. It always follows an In-Line Find action.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Save/Close All Files</p>
</td><td style="text-align: left" valign="top">
<p>Signals the end of file changes and reminds you to save your changes. It is always the last action of a modification.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Add SQL</p>
</td><td style="text-align: left" valign="top">
<p>This is an older form of the SQL action, with the same meaning as that action.</p>
</td></tr></tbody></table></div></div><div class="section" title="The Trouble with Templates"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec18"/>The Trouble with Templates</h3></div></div></div><p>One very important aspect of modification installation remains, just when you thought you had finished it. When you install modifications, you will see that almost all of those modifying or adding template files will only mention the subSilver template in their instructions. By this time, you should have installed at least one other template on your forum. With so many templates existing, it is not practical for authors to mention all of them in their instructions. Since every phpBB forum has subSilver installed at some point, and many templates are built from subSilver, only that one template gets mentioned, with an unspoken understanding that it is really a reference to all templates.<a id="id133" class="indexterm"/>
</p><p>The trouble with templates is that you have to install every modification’s template file changes to all your installed templates, even though the instructions do not tell you to do this. Also, if you install modifications and later install new templates, you have to apply the modifications to those templates. Should you forget to modify a template, any forum members using that template will not be able to access the modification’s features unless they switch to another that you did edit.</p><p>Another problem in this area is the code of the templates themselves. While many templates are created from subSilver, quite a few are not. The latter kinds tend to have some very different markup language coding in their files. It can seem nearly impossible to locate code in a Find action unless you break it down into individual template variables. You might actually have to rewrite the new template files or code to match the look of the alternative templates, too. It can be quite a headache.</p></div><div class="section" title="Uninstalling Modifications"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec19"/>Uninstalling Modifications</h3></div></div></div><p>Occasionally, you may have a need to remove a modification after installing it. Maybe you’ve found that two modifications are conflicting with each other or a modification does not live up to your expectations. Whatever the reason, uninstalling tends to be easier than installing.<a id="id134" class="indexterm"/>
</p><p>There are two methods of removing a modification’s changes to your files. Since you created backups before editing any of your files, you can replace your current files with those backup copies. This reverts the forum’s files to the same condition they were in before the modification was installed. If you have made changes to the files other than installing this modification, then you should not restore the backup files. Doing so in such a case will cause your other changes to be lost.</p><p>The second method is to go through the modification’s instructions as if installing, but invert the action commands. For example, if the instructions have a Find action followed by an After, Add action, you would locate and delete the After, Add code. In the case of a Find and Replace With combination, you would search for the Replace With code, remove it, and place the Find code at that location. To further illustrate these concepts, the following example removes the<span class="strong"><strong> Search</strong></span> button added to posts in the earlier modification installation exercise.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec06"/></h4></div></div></div><div class="section" title="Time For Action—Uninstalling a Small Modification"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl5sec04"/>Time For Action—Uninstalling a Small Modification</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Locate and open the<code class="literal"> templates/subSilver/viewtopic_body.tpl</code> file of your forum in a text-editing program.</li><li class="listitem">Use the text-editing programs search feature to locate this line of text in the file. Again, most programs allow accessing such a feature from their menus or by pressing<span class="emphasis"><em> Ctrl+F</em></span> on Windows systems.<div class="informalexample"><pre class="programlisting">//--&gt;&lt;/script&gt;&lt;noscript&gt;{postrow.ICQ_IMG}&lt;/noscript&gt; {postrow.SEARCH_IMG}&lt;/td&gt;
</pre></div></li><li class="listitem">Now, locate the text<code class="literal"> {postrow.SEARCH_IMG}</code> within that line.</li><li class="listitem">Delete this text and the single space before it. The line should once again look as it originally did:<div class="informalexample"><pre class="programlisting">//--&gt;&lt;/script&gt;&lt;noscript&gt;{postrow.ICQ_IMG}&lt;/noscript&gt;&lt;/td&gt;
</pre></div></li><li class="listitem">Save and close the file. If necessary, upload it to your website, replacing the existing file there. You may repeat all of these steps with the<code class="literal"> templates/subBook/viewtopic_body.tpl</code> file, if you wish.</li><li class="listitem">Go to your forum and look at any post. You should see that the<span class="strong"><strong> Search</strong></span> image is no longer shown.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch05lvl6sec04"/>What Just Happened?</h6></div></div></div><p>By reversing the actions you took to install the Search button modification, you have removed it from your forum. Instead of finding the original code and adding to it, you searched for the modified code. Then you removed the extra code added by the original modification. This restored the altered file to its original state.</p></div></div></div><div class="section" title="Removing Other Changes"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec07"/>Removing Other Changes</h4></div></div></div><p>The need to remove new files and database changes is common to both methods of removing file changes reviewed before the previous example. New files added by a modification are quick and easy to deal with: just delete them. Removing database changes is a more complex aspect of uninstallation; however, phpMyAdmin is a handy tool for making this simple. When a modification has added a new table or a new column in a table, you can locate this addition in phpMyAdmin and click a<span class="strong"><strong> Delete</strong></span> link, which often takes the form of a trash can icon, next to it. phpMyAdmin will ask you to confirm the deletion (or dropping, as it is called when dealing with tables or columns); do so and the change will be gone.</p></div></div></div><div class="section" title="Example Modifications"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec13"/>Example Modifications</h2></div></div></div><p>Thousands of modifications for phpBB have been released for public use in the years since phpBB first appeared. Think of almost any feature you might like to add to or remove from a phpBB forum, and there will probably be at least one modification for that already. New modifications are created and released each week so the possibilities for customizing a forum through this method are endless.<a id="id135" class="indexterm"/>
</p><p>One of the most popular modifications is the massive<span class="strong"><strong> File Attachment Mod</strong></span>, which contains over 140 files. It adds a new feature to phpBB’s posting forums allowing users to upload files that will be attached to and displayed with their posts. Another commonly used example is Modify Profile, formerly known as Add New Field to Profile. This modification is an instruction guide for adding new information fields to user registration and profile-editing forms. Many different kinds of fields can be added, ranging from simple text entry boxes to drop-down selection lists. The data stored in the new field can also be displayed in public profiles, topics, posts, and other places throughout a forum.</p><p>Dozens of modifications alter or add new BBCodes. User and administration management tools, online games, stores, chat rooms, recent topics, download systems, phpBB bug fixes or upgrades, and website portals are examples of some other widely used modifications.</p><p>These lists are only scratching the surface when it comes to describing the types of modifications available for your use. It will definitely be worth your time to check out a few websites that list modifications; you will find something that you want to install at your forum if you look closely enough. Chances are you will find many things to use in customizing your forum.</p></div><div class="section" title="Moving Elements"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec14"/>Moving Elements</h2></div></div></div><p>Some layout alterations can be made to your forum without taking the time to search for a detailed modification. While you can find modification downloads for some of these, modifications often don’t deal with layout issues very well. The differences in templates, and sometimes those created by other modifications, often force forum administrators to rearrange their layout without any help. In order to move elements like this, you will need to have at least a basic knowledge of HTML coding.</p><p>You might have noticed that subSilver and subBook have some statistical data and a login box at the bottom of their forum index pages. One popular change that you can make is to move one or more of those elements to another part of the page. By finding the layout code that creates them in<code class="literal"> index_body.tpl</code> and placing it closer to the top of the file, you can emphasize that your users should log in or the number of users and posts on your forum.</p></div><div class="section" title="Adding New Elements to Your Forum"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec15"/>Adding New Elements to Your Forum</h2></div></div></div><p>Creating new areas in your forum will usually require a full modification, complete with instructions. There are a couple of simple things that can be done without a modification, however. One of these is to add a new link to your forum’s header menu.<a id="id136" class="indexterm"/>
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec20"/></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec08"/></h4></div></div></div><div class="section" title="Time For Action—Adding a Menu Link"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl5sec05"/>Time For Action—Adding a Menu Link</h5></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Locate and open the<code class="literal"> templates/subBook/overall_header.tpl</code> file for editing. You can use the<code class="literal"> subSilver overall_header.tpl</code> file instead, if you like.</li><li class="listitem">Find the line in this file containing the code <code class="literal">&lt;!-- BEGIN switch_user_logged_out --&gt;</code>. There will be several tab spaces at the beginning of the line.</li><li class="listitem">Insert the following code on a new line before the code you just located:<code class="literal">&amp;nbsp;&lt;a href="{U_VIEWONLINE}" class="mainmenu"&gt;&lt;img src="templates/subBook/images/icon_mini_members.gif" width="12" height="13" border="0" alt="{L_WHO_IS_ONLINE}" hspace="3" /&gt;{L_WHO_IS_ONLINE}&lt;/a&gt;&lt;/span&gt;&amp;nbsp;</code></li><li class="listitem"><code class="literal">4</code>. Save your changes to the file and view your forum. You may need to reload or refresh the forum page, but you should see a new<span class="strong"><strong> Who is Online</strong></span> link with the other links near the top of the forum.</li></ol></div><div class="section" title="What Just Happened?"><div class="titlepage"><div><div><h6 class="title"><a id="ch05lvl6sec05"/>What Just Happened?</h6></div></div></div><p>The menu links of your forum, like<span class="strong"><strong> Profile, FAQ</strong></span>, and<span class="strong"><strong> Search</strong></span>, are created by HTML stored in the<code class="literal"> overall_header.tpl</code> template file. By duplicating a line or series of lines that creates one of these links and altering the line a little, you can create a new menu link. In this case, the new link points to the<code class="literal"> viewonline.php</code> file, which displays a list of users currently visiting the forum. If these steps were written up as a modification, they might look like this:</p><div class="informalexample"><pre class="programlisting">#
#-----[ OPEN ]------------------------------------------
#
templates/subBook/overall_header.tpl
#
#-----[ FIND ]------------------------------------------
#
&lt;!-- BEGIN switch_user_logged_out --&gt;
&amp;nbsp;&lt;a href="{U_REGISTER}" class="mainmenu"&gt;&lt;img src="templates/subBook/images/icon_mini_register.gif" width="12" height="13" border="0" alt="{L_REGISTER}" hspace="3" /&gt;{L_REGISTER}&lt;/a&gt;&lt;/span&gt;&amp;nbsp;
&lt;!-- END switch_user_logged_out --&gt;
#
#-----[ BEFORE, ADD ]------------------------------------------
#
&amp;nbsp;&lt;a href="{U_VIEWONLINE}" class="mainmenu"&gt;&lt;img src="templates/subBook/images/icon_mini_members.gif" width="12" height="13" border="0" alt="{L_WHO_IS_ONLINE}" hspace="3" /&gt;{L_WHO_IS_ONLINE}&lt;/a&gt;
&lt;/span&gt;&amp;nbsp;
#
#-----[ SAVE/CLOSE ALL FILES ]------------------------------------------
#
# End
</pre></div></div></div></div></div><div class="section" title="Adding New Languages"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec21"/>Adding New Languages</h3></div></div></div><p>Another common change made by forum administrators is the installation of new language files. If you plan to have many visitors who are fluent in languages other than English or cannot read English, you might want to download and install a language pack from phpBB.com’s Downloads section. Each language pack adds a new option to the<span class="strong"><strong> Board Language</strong></span> drop-down list in user profiles and the Administration Control Panel. Selecting that option will cause the forum to be displayed in that language. Posts will not be translated, but many links and other default text will.<a id="id137" class="indexterm"/>
</p><p>When adding language packs, you should keep in mind that you may have to edit the new language files. Some modifications will include new language files or instructions for editing language files. If you add a new language and do not copy these changes to that language, then some text will not appear on your forum. This situation is similar to that for modifications and templates; you must edit every language, even if the modification’s instructions only mention one.</p></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec09"/>Summary</h1></div></div></div><p>phpBB is excellent and powerful forum software in many areas. Customization possibilities are one of the strongest. With the skills and knowledge you’ve gained in this chapter, you can give your forum a complete face-lift or expand its features beyond anything you might have imagined. Specifically, you learned:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A phpBB style creates the appearance of a forum</li><li class="listitem" style="list-style-type: disc">Editing a styles components allows you to change any aspect of the appearance</li><li class="listitem" style="list-style-type: disc">Modifications are instructions for changing phpBBs features, and usually have a special format</li><li class="listitem" style="list-style-type: disc">How to install and remove styles and modifications downloaded from websites</li><li class="listitem" style="list-style-type: disc">Methods of editing any of phpBBs files and solving errors</li></ul></div><p>Later chapters will expand on these topics somewhat by discussing details of creating your own styles and modifications.</p></div></body></html>
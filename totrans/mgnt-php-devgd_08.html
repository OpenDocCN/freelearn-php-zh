<html><head></head><body><div class="appendix" title="Appendix&#xA0;A.&#xA0;Hello Magento"><div class="titlepage"><div><div><h1 class="title"><a id="appA"/>Appendix A. Hello Magento</h1></div></div></div><p>The following example will give us a quick and easy introduction to the world of creating Magento extensions. We will create a simple "Hello World" module that will allow us to display a "Hello World!" message when we visit a specific URL in our store.</p><div class="section" title="The configuration"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec49"/>The configuration</h1></div></div></div><p>Creating a<a id="id466" class="indexterm"/> barebones extension in Magento requires at least two files: <code class="literal">config.xml</code> and the module declaration file. Let's go ahead and create each of our files.</p><p>The first file is used to declare the module to Magento. Without this file, Magento would not be aware of any extension files.</p><p>The file location is <code class="literal">app/etc/modules/Mdg_Hello.xml</code>.</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0"?&gt;	
&lt;config&gt;
    &lt;modules&gt;
        &lt;Mdg_Hello&gt;
            &lt;active&gt;true&lt;/active&gt;
            &lt;codePool&gt;local&lt;/codePool&gt;
        &lt;/Mdg_Hello&gt;
    &lt;/modules&gt;
&lt;/config&gt;</pre></div><p>The second XML file is called <code class="literal">config.xml</code> and is used to specify all the extension configurations, such as routes, blocks, models, and helper class names. For our example, we are only going to be working with controllers and the routes.</p><p>Let's create the configuration file with the following code:</p><p>The file location is <code class="literal">app/code/local/Mdg/Hello/etc/config.xml</code>.</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;config&gt;

    &lt;modules&gt;
        &lt;Mdg_Hello&gt;
            &lt;version&gt;0.1.0&lt;/version&gt;
        &lt;/Mdg_Hello&gt;
    &lt;/modules&gt;
    &lt;frontend&gt;
        &lt;routers&gt;
            &lt;mdg_hello&gt;
                &lt;use&gt;standard&lt;/use&gt;
                &lt;args&gt;
                    &lt;module&gt;Mdg_Hello&lt;/module&gt;
                    &lt;frontName&gt;hello&lt;/frontName&gt;
                &lt;/args&gt;
            &lt;/mdg_hello&gt;
        &lt;/routers&gt;
    &lt;/frontend&gt;
&lt;/config&gt;</pre></div><p>Our extension <a id="id467" class="indexterm"/>can now be loaded by Magento and you can enable or disable our extension by navigating to <span class="strong"><strong>Magento Backend at System</strong></span> | <span class="strong"><strong>Configuration</strong></span> | <span class="strong"><strong>Advanced</strong></span>.</p></div></div>
<div class="section" title="The controller"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec50"/>The controller</h1></div></div></div><p>At its<a id="id468" class="indexterm"/> core, Magento is a <a id="id469" class="indexterm"/>
<span class="strong"><strong>Model-View-Controller</strong></span> (<span class="strong"><strong>MVC</strong></span>) framework, so in order to make our new route functional, we have to create a new controller that will respond to this specific route. To do this, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the extension root directory.</li><li class="listitem">Create a new folder called <code class="literal">controllers</code>.</li><li class="listitem">Inside the <code class="literal">controllers</code> folder create a file called <code class="literal">IndexController.php</code>.</li><li class="listitem">Copy the following code:<p>The file location is <code class="literal">app/code/local/Mdg/Hello/controllers/IndexController.php</code>.</p><div class="informalexample"><pre class="programlisting">&lt;?php 
class Mdg_Hello_IndexController extends Mage_Core_Controller_Front_Action
{
     public function indexAction()
  {
     echo 'Hello World this is the default action';
     }
}</pre></div></li></ol></div></div>
<div class="section" title="Testing the route"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec51"/>Testing the route</h1></div></div></div><p>Now that we<a id="id470" class="indexterm"/> have created our router and controller, we can test it out by opening <code class="literal">http://magento.localhost.com/hello/index/index</code>, for which we should see the following screen:</p><div class="mediaobject"><img src="graphics/4195OS_App_A_01.jpg" alt="Testing the route"/></div><p>By default, Magento will use both the index controller and index action as defaults for each extension. So, if we go to <code class="literal">http://magento.localhost.com/hello/index/index</code>, we should see the same screen as the one shown in previous screenshot.</p><p>To conclude our introduction to the creation of the Magento module, let's add a new route to our controller:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the extension root directory.</li><li class="listitem">Open <code class="literal">IndexController.php</code>.</li><li class="listitem">Copy the following code:<p>The file location is <code class="literal">app/code/local/Mdg/Hello/controllers/IndexController.php</code>.</p><div class="informalexample"><pre class="programlisting">&lt;?php 
class Mdg_Hello_IndexController extends Mage_Core_Controller_Front_Action
{
     public function indexAction()
  {
     echo 'Hello World this is the default action';
     }

     public function developerAction()
     {
         echo 'Hello Developer this is a custom controller action';
     }
}</pre></div><p>Finally, let's test it <a id="id471" class="indexterm"/>out and load the new action route by going to <code class="literal">http://magento.localhost.com/hello/index/developer</code>.</p><div class="mediaobject"><img src="graphics/4195OS_App_A_02.jpg" alt="Testing the route"/></div></li></ol></div></div></body></html>
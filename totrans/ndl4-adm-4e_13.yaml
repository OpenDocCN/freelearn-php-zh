- en: '13'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '13'
- en: Ensuring Moodle Security
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保Moodle安全
- en: 'Moodle, like any other web application, has the potential to be misused. Moodle
    has dedicated an entire section to security settings that administrators can use
    to fine-tune its safety. After an overview of Moodle’s security, you will learn
    about the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle，就像任何其他网络应用一样，存在被滥用的潜在风险。Moodle专门设置了一个章节，用于安全设置，管理员可以使用这些设置来精细调整其安全性。在概述Moodle的安全设置之后，你将了解以下主题：
- en: '**Security notifications**: You will learn how to set up Moodle’s notification
    mechanisms that warn you about potential security issues and inspect the built-in
    security report.'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全通知**：你将学习如何设置Moodle的通知机制，以警告你潜在的安全问题，并检查内置的安全报告。'
- en: '**User security**: We will look at the configuration of Moodle passwords, protection
    of user details, and spam prevention.'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户安全**：我们将探讨Moodle密码配置、用户详细信息保护和垃圾邮件预防。'
- en: '**Content security**: We will deal with potential issues in content created
    within Moodle and the visibility thereof. You will learn how to restrict content
    created within Moodle, set up content visibility, and configure the antivirus
    scanner.'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容安全**：我们将处理在Moodle内创建的内容的潜在问题及其可见性。你将学习如何限制Moodle内创建的内容、设置内容可见性以及配置防病毒扫描器。'
- en: '`root` directory and cron execution), supporting HTTPS, and working with the
    IP blocker.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`root`目录和cron执行）、支持HTTPS以及与IP阻止器协同工作。'
- en: Before we cover the four aforementioned topics, let’s provide an overview of
    Moodle security, touching upon all layers of the technology stack.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们介绍上述四个主题之前，让我们先概述一下Moodle的安全设置，涉及技术栈的所有层次。
- en: Moodle security – an overview
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Moodle安全 – 概述
- en: Moodle takes security extremely seriously, and any potential issues are given
    the highest priority. Fixed vulnerabilities of serious issues usually trigger
    the release of minor versions, emphasizing the subject’s importance.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle对安全极为重视，任何潜在问题都得到最高优先级处理。严重问题的修复漏洞通常会导致小版本的发布，强调该主题的重要性。
- en: 'The following diagram illustrates the layers of a typical Moodle setup where
    the security of each component has to be ensured:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表展示了典型Moodle设置的层次结构，其中必须确保每个组件的安全性：
- en: '![Figure 13.1 – Moodle security ](img/Figure_13.01_B18779.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![图13.1 – Moodle安全](img/Figure_13.01_B18779.jpg)'
- en: Figure 13.1 – Moodle security
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.1 – Moodle安全
- en: 'The security of a system is as good as its weakest link. Since Moodle relies
    on underlying software, hardware, and network infrastructure, security can potentially
    be compromised in several areas. As this book focuses on Moodle administration,
    we only cover the security elements of Moodle per se. The following areas are
    **not** dealt with, and it is necessary to consult the respective documentation
    and experts on security issues:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 系统的安全性与其最薄弱的环节一样好。由于Moodle依赖于底层软件、硬件和网络基础设施，安全可能在这些多个领域中被破坏。由于本书专注于Moodle管理，我们只涵盖Moodle本身的安全元素。以下领域**不**涉及，需要咨询相关文档和安全问题专家：
- en: '**Software**: As described in [*Chapter 2*](B18779_02.xhtml#_idTextAnchor039),
    *Exploring the Moodle System*, Moodle’s key components comprise a **web server**
    (usually Apache or Microsoft IIS), a **database server** (MySQL, Microsoft SQL
    Server, PostgreSQL, MariaDB, or Oracle), and a programming language (**PHP**).
    Additional PHP and operating system extensions are required, for instance, to
    support the aforementioned database systems.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**软件**：如[*第2章*](B18779_02.xhtml#_idTextAnchor039)《探索Moodle系统》所述，Moodle的关键组件包括一个**Web服务器**（通常是Apache或Microsoft
    IIS）、一个**数据库服务器**（MySQL、Microsoft SQL Server、PostgreSQL、MariaDB或Oracle）以及一种编程语言（**PHP**）。还需要额外的PHP和操作系统扩展，例如，以支持上述数据库系统。'
- en: '**Operating system**: An operating system’s security is under the constant
    threat of exploitation for malicious purposes. The hardening of the operating
    system is a crucial task of a system administrator.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作系统**：操作系统的安全性始终面临被恶意利用的威胁。操作系统加固是系统管理员的一项关键任务。'
- en: '**Hardware**: Moodle runs on (physical or virtual) servers hosted internally
    or externally. There are ongoing safety and security improvements in such systems,
    reflected by ever-extending precautions taken by data centers and hosting providers.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**硬件**：Moodle运行在内部或外部托管的服务器上（物理或虚拟）。在这些系统中，持续的安全和改进正在进行，这反映在数据中心和托管提供商采取的日益扩大的预防措施中。'
- en: '**Network**: Any system that is part of a network is potentially vulnerable.
    Configuration of firewalls, proxy servers, and routers, as well as general network
    security, are key aspects of protecting your system from attacks.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络**：任何属于网络系统的系统都可能存在潜在的安全漏洞。防火墙、代理服务器和路由器的配置，以及一般网络安全性，是保护您的系统免受攻击的关键方面。'
- en: A number of these topics are covered at [docs.moodle.org/en/Security](http://docs.moodle.org/en/Security).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 许多这些主题在[docs.moodle.org/en/Security](http://docs.moodle.org/en/Security)中有详细说明。
- en: Important note
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: One rule that applies to all elements is that the latest software updates should
    be installed regularly.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 适用于所有元素的一条规则是应定期安装最新的软件更新。
- en: With the increasing complexity and growing popularity of Moodle, it is imperative
    that you ensure that all possible measures are taken to prevent any security issues.
    Let’s get started with security notifications.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Moodle的复杂性和受欢迎程度的增加，确保采取所有可能的措施以防止任何安全问题变得至关重要。让我们从安全通知开始。
- en: Configuring security notifications
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置安全通知
- en: Moodle has set up a dedicated site at [moodle.org/security](http://moodle.org/security)
    that deals with security issues. If you register your Moodle instance, which is
    highly recommended, your email address will automatically be added to the security
    alerts mailing list, which gives you advanced notice of vulnerabilities and updates
    a couple of days prior to public release. To set this up, go to **Site administration**
    | **General** | **Registration**, fill in the required information, and click
    on the **Register your** **site** button.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle已经在其网站上设立了专门的页面[http://moodle.org/security](http://moodle.org/security)，用于处理安全问题。如果您注册了您的Moodle实例，这是强烈推荐的，您的电子邮件地址将自动添加到安全警报邮件列表中，这将在公共发布前两天通知您有关漏洞和更新的信息。要设置此功能，请转到**站点管理**
    | **常规** | **注册**，填写所需信息，然后点击**注册您的站点**按钮。
- en: Alternatively, follow the [@moodlesecurity](mailto:@moodlesecurity) Twitter
    handle to be notified of any Moodle security announcements.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，关注[@moodlesecurity](mailto:@moodlesecurity)的Twitter账号，以获取任何Moodle安全公告的通知。
- en: Once you are up to date with general security issues, it is time to focus on
    being aware of any potential issues on your Moodle system. In the remainder of
    this section, we will deal with setting up Moodle notifications and inspecting
    the built-in system report.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您了解了一般的安全问题，就需要关注您Moodle系统中可能存在的任何潜在问题。在本节的剩余部分，我们将讨论设置Moodle通知和检查内置的系统报告。
- en: Setting up Moodle notifications
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置Moodle通知
- en: When you navigate to **Site administration** | **General** | **Notifications**,
    Moodle will display any potential issues with your site. This link also initiates
    the installed Moodle updates and plugins (refer to [*Chapter 8*](B18779_08.xhtml#_idTextAnchor168),
    *Understanding* *Moodle Plugins*).
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当您导航到**站点管理** | **常规** | **通知**时，Moodle将显示您网站上的任何潜在问题。此链接还启动了已安装的Moodle更新和插件（请参阅[*第8章*](B18779_08.xhtml#_idTextAnchor168)，*理解Moodle插件*)。
- en: 'Four messages are displayed in the following screenshot; the second and third
    issues would clearly fall into the security category:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的屏幕截图显示了四条消息；第二和第三个问题显然属于安全类别：
- en: '![Figure 13.2 – Moodle notifications ](img/Figure_13.02_B18779.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图13.2 – Moodle通知](img/Figure_13.02_B18779.jpg)'
- en: Figure 13.2 – Moodle notifications
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.2 – Moodle通知
- en: 'Moodle monitors failed login attempts in its log file, as described in [*Chapter
    12*](B18779_12.xhtml#_idTextAnchor233), *Gaining Insights through Moodle Reporting
    and Analytics*. Repeated login failures can indicate that unauthorized users are
    trying to access your system. In addition to checking your log files regularly,
    you should consider monitoring these activities by configuring the settings when
    you navigate to **Site administration** | **General** | **Security** | **Notifications**:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle在其日志文件中监控失败的登录尝试，如第[*第12章*](B18779_12.xhtml#_idTextAnchor233)中所述，*通过Moodle报告和分析获得洞察力*。重复的登录失败可能表明未经授权的用户正在尝试访问您的系统。除了定期检查您的日志文件外，您还应在导航到**站点管理**
    | **常规** | **安全** | **通知**时配置设置以监控这些活动：
- en: '![Figure 13.3 – Security notifications ](img/Figure_13.03_B18779.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图13.3 – 安全通知](img/Figure_13.03_B18779.jpg)'
- en: Figure 13.3 – Security notifications
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.3 – 安全通知
- en: You can specify whether users will see messages displayed on their screens about
    previously failed logins and who will be emailed about login failures. You can
    further set the number of failed logins from the same IP address that will trigger
    these notifications.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以指定用户是否会在屏幕上看到有关之前失败的登录消息，以及谁会收到关于登录失败的电子邮件。您还可以设置从同一IP地址发起的失败登录次数，这将触发这些通知。
- en: While this is not a foolproof threat alert, it can potentially highlight some
    problems within your system, and it is therefore recommended that you activate
    it. Another benefit of receiving these notifications by email is the customer
    care aspect of getting back to legitimate users who have felt frustrated when
    trying to access your site.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这并不是一个万无一失的威胁警报，但它可能会突出您系统中的一些问题，因此建议您激活它。通过电子邮件接收这些通知的另一个好处是客户关怀方面，当合法用户在尝试访问您的网站时感到沮丧时，您可以提供帮助。
- en: Inspecting security checks
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查安全检查
- en: 'Another mechanism that we already mentioned in [*Chapter 12*](B18779_12.xhtml#_idTextAnchor233),
    *Gaining Insights through Moodle Reporting and Analytics*, is the security report
    you find at **Site administration** | **Reports** | **Security checks**:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种机制是我们已经在[*第12章*](B18779_12.xhtml#_idTextAnchor233)“通过Moodle报告和分析获取洞察”中提到的，那就是您在**网站管理**
    | **报告** | **安全检查**中找到的安全报告：
- en: '![Figure 13.4 – Security checks ](img/Figure_13.04_B18779.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![图13.4 – 安全检查](img/Figure_13.04_B18779.jpg)'
- en: Figure 13.4 – Security checks
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.4 – 安全检查
- en: The report shows several potential key security issues, their status (**OK**,
    **Info**, **Warning**, **Critical**, or **Error**), and a summary. When you click
    on an issue name, you will be redirected to a page that provides more information
    about the problem and, if available, a further **Action** link to the settings
    page where you can rectify the situation.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 报告显示了几个潜在的关键安全问题，其状态（**正常**、**信息**、**警告**、**关键**或**错误**）以及摘要。当您点击问题名称时，您将被重定向到一个提供有关问题的更多信息，以及（如果可用）一个进一步**操作**链接到设置页面，您可以在那里纠正情况。
- en: The **Security checks** page is a good starting point to identify some potential
    issues. However, it does not replace a full security audit, penetration test,
    or health check offered by some Moodle Partners.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**安全检查**页面是识别一些潜在问题的良好起点。然而，它不能取代一些Moodle合作伙伴提供的全面安全审计、渗透测试或健康检查。'
- en: Awareness of what is going on in your Moodle system is as critical as ensuring
    the security of critical components. Let’s start with the weakest link in any
    IT setup – users.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 了解您的Moodle系统中正在发生的事情与确保关键组件的安全一样重要。让我们从任何IT设置中最薄弱的环节——用户开始。
- en: Ensuring user security
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保用户安全
- en: A critical security aspect lies in ensuring that only privileged users can access
    your system and, once they are authenticated, they only have access to their privileged
    areas in Moodle.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 一个关键的安全方面在于确保只有特权用户可以访问您的系统，一旦他们经过身份验证，他们只能访问Moodle中他们的特权区域。
- en: 'Here is a quick recap of the key elements concerning security in the magic
    Moodle triangle – users, courses, and roles:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是关于魔法 Moodle 三角形中安全关键要素的快速回顾——用户、课程和角色：
- en: Ensuring the correct **authentication** setup is critical to ensuring a secure
    Moodle system, especially when self-registration or guest access has been activated.
    We dealt with internal, external, provider-based, and system authentication methods
    in [*Chapter 5*](B18779_05.xhtml#_idTextAnchor092), *Managing Users, Cohorts,*
    *and Authentication*.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保正确的**身份验证**设置对于确保Moodle系统的安全至关重要，尤其是在自我注册或访客访问已被激活的情况下。我们在[*第5章*](B18779_05.xhtml#_idTextAnchor092)“管理用户、群体和身份验证”中处理了内部、外部、基于提供者和系统身份验证方法。
- en: Once users have authenticated with Moodle, you have to ensure that they can
    only enrol in courses where they should have permission to do so, which is controlled
    by **enrolment** methods, as discussed in detail in [*Chapter 4*](B18779_04.xhtml#_idTextAnchor074),
    *Managing Courses* *and Enrolments*.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一旦用户通过Moodle进行身份验证，您就必须确保他们只能注册他们应该有权限参加的课程，这由**注册**方法控制，如在第[*4章*](B18779_04.xhtml#_idTextAnchor074)“管理课程和注册”中详细讨论。
- en: When users are enrolled in courses or access any other area of Moodle, it is
    crucial that they are granted the correct **permissions**, which are controlled
    via roles and capabilities, a topic covered at length in [*Chapter 6*](B18779_06.xhtml#_idTextAnchor116),
    *Managing Permissions, Roles, and Capabilities*. The six risk types of capabilities
    – **Trust**, **Configuration**, **XSS**, **Personal**, **Spam**, and **Data loss**
    – provide a good indication of the damage that can be caused.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当用户注册课程或访问 Moodle 的其他任何区域时，确保他们获得正确的**权限**至关重要，这些权限通过角色和能力进行控制，这在[*第 6 章*](B18779_06.xhtml#_idTextAnchor116)中详细讨论，*管理权限、角色和能力*。能力的六种风险类型——**信任**、**配置**、**跨站脚本**、**个人**、**垃圾邮件**和**数据丢失**——提供了对可能造成的损害的良好指示。
- en: 'In this section, we will focus on three topics impacting users’ security:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将关注三个影响用户安全性的主题：
- en: Moodle passwords, dealing with password policies, and recovering the admin password
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Moodle 密码，处理密码策略和恢复管理员密码
- en: Protection of user details
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户详细信息保护
- en: Prevention of spam
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防止垃圾邮件
- en: Let’s start with Moodle passwords, a topic impacting all Moodle users.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从 Moodle 密码开始，这是一个影响所有 Moodle 用户的主题。
- en: Configuring Moodle passwords
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置 Moodle 密码
- en: 'Moodle offers a password policy feature that applies to manual accounts, which
    can be configured by going to **Site administration** | **General** | **Security**
    | **Site security policies**, as shown in the following screenshots:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 提供了一个适用于手动账户的密码策略功能，可以通过访问 **站点管理** | **常规** | **安全** | **站点安全策略** 来配置，如下面的截图所示：
- en: '![Figure 13.5 – Password policy ](img/Figure_13.05_B18779.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![图 13.5 – 密码策略](img/Figure_13_05_B18779.jpg)'
- en: Figure 13.5 – Password policy
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.5 – 密码策略
- en: 'Moodle’s password policy supports the following configuration option types:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 的密码策略支持以下配置选项类型：
- en: '**Complexity**: All common password requirements are supported, namely **Password
    length**, **Digits**, **Lowercase letters**, **Uppercase letters**, **Non-alphanumeric
    characters**, and **Consecutive** **identical characters**.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复杂性**：支持所有常见的密码要求，包括 **密码长度**、**数字**、**小写字母**、**大写字母**、**非字母数字字符** 和 **连续**
    **相同字符**。'
- en: '**Validity**: Password expiry can be specified for manual accounts at **Site
    administration** | **Plugins** | **Authentication** | **Manual accounts**, where
    you can configure **Enable password expiry**, **Password duration**, and **Notification
    threshold**. Related settings are **Password rotation limit** (the number of times
    before a user can reuse a password), **Maximum time to validate password reset
    request** (when password recovery is being triggered), and **Log out after password
    change** (all browser sessions except the current one).'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**有效期**：可以在 **站点管理** | **插件** | **身份验证** | **手动账户** 中为手动账户指定密码过期时间，在这里您可以配置
    **启用密码过期**、**密码持续时间** 和 **通知阈值**。相关设置包括 **密码轮换限制**（用户可以重用密码的次数），**验证密码重置请求的最大时间**（当触发密码恢复时），以及
    **更改密码后注销**（除当前浏览器会话外的所有浏览器会话）。'
- en: '**Consequences**: You can lock out user accounts after too many failed logins.
    **Account lockout threshold** lets you specify the number of failed logins required
    to trigger a reactivation email to the user, the **Account lockout observation
    window** setting lets you specify the period during which further failed logins
    will be included in the current suspension, and **Account lockout duration** lets
    you specify the time after which the account will be unlocked automatically.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**后果**：在登录失败次数过多后，您可以锁定用户账户。**账户锁定阈值**允许您指定触发向用户发送重新激活电子邮件所需的登录失败次数，**账户锁定观察窗口**设置允许您指定进一步登录失败将包含在当前暂停期间的时间段，而**账户锁定持续时间**允许您指定账户自动解锁的时间。'
- en: Bear in mind that the password policy only applies to manual accounts. If you
    use a different authentication method, the lockout thresholds will be defined
    elsewhere – for instance, within the **Lightweight directory access protocol**
    (**LDAP**) instance.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，密码策略仅适用于手动账户。如果您使用不同的身份验证方法，锁定阈值将在其他地方定义——例如，在 **轻量级目录访问协议**（**LDAP**）实例中。
- en: Important note
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: It is highly recommended that you use a strong password (long, complex, and
    random) for the Moodle administrator account(s), even if the password policy has
    been deactivated.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 强烈建议您为 Moodle 管理员账户使用强密码（长、复杂且随机），即使密码策略已被停用。
- en: 'Moodle stores passwords in a cryptographic hash using `bcrypt` (Blowfish).
    To further improve password security, Moodle supports **password salting**, which
    adds a separate random string to the hash of each user’s password. The password
    stored in the Moodle database has the following format:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 使用 `bcrypt` (Blowfish) 对密码进行加密哈希存储。为了进一步提高密码安全性，Moodle 支持对密码进行**加盐处理**，即在每个用户的密码哈希中添加一个单独的随机字符串。存储在
    Moodle 数据库中的密码具有以下格式：
- en: '[PRE0]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '`<hash_id>` is the ID of the hashing algorithm used (`2y` for bcrypt), and
    `<cost>` is the cost of using that algorithm (two digits). `<secure salt>` is
    a randomly generated 22-character salt; you can find more details on salting at
    [docs.moodle.org/en/Password_salting](http://docs.moodle.org/en/Password_salting).
    `<hash>` is a 31-character hash of the actual password.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '`<hash_id>` 是使用的哈希算法的 ID（`2y` 表示 bcrypt），而 `<cost>` 是使用该算法的成本（两位数字）。`<secure
    salt>` 是一个随机生成的 22 位字符的盐；您可以在 [docs.moodle.org/en/Password_salting](http://docs.moodle.org/en/Password_salting)
    上找到有关加盐的更多详细信息。《hash>` 是实际密码的 31 位哈希值。'
- en: 'If you ever lose your admin password and have no means of recovering it, you
    have two options:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您丢失了管理员密码且无法恢复，您有两个选择：
- en: '`mdl_user` table in the SQL database by manually replacing the old hash with
    the `MD5` value of the new password; it will be upgraded to the strong hash value
    after the first login. For example, to set the password to `''newpassword''`,
    you need to use the following SQL statement:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 SQL 数据库中的 `mdl_user` 表中通过手动将旧哈希替换为新密码的 `MD5` 值来设置密码；在第一次登录后，它将被升级为强哈希值。例如，要将密码设置为
    `'newpassword'`，您需要使用以下 SQL 语句：
- en: '[PRE1]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: If your database does not support the `MD5` function, you must set the password
    to the actual `MD5` hash tag. For example, this would be `5e9d11a14ad1c8dd77e98ef9b53fd1ba`
    for '`newpassword`'. Use one of the many available online generators to find out
    the tag.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的数据库不支持 `MD5` 函数，您必须将密码设置为实际的 `MD5` 哈希标签。例如，对于 `'newpassword'`，这将是一个 `5e9d11a14ad1c8dd77e98ef9b53fd1ba`
    的标签。使用许多可用的在线生成器之一来查找标签。
- en: '`reset_password.php` CLI script sets the correctly salted password for any
    given user. The syntax to change the admin password to `''newpassword''` is as
    follows:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`reset_password.php` CLI 脚本为任何给定用户设置正确加盐的密码。将管理员密码更改为 `''newpassword''` 的语法如下：'
- en: '[PRE2]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The passwords prevent users from unauthorized access to Moodle. Once users have
    identified themselves, the next step is to protect their user details, which is
    the topic of the following subsection.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 密码防止用户未经授权访问 Moodle。一旦用户已经确认了自己的身份，下一步就是保护他们的用户详细信息，这是以下小节的主题。
- en: Protecting user details
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保护用户详细信息
- en: 'Identity theft is a common problem on the internet, and Moodle is no exception.
    To avoid the possibility of fraudsters gathering details about authenticated users,
    a number of settings can be seen by navigating to **Site administration** | **General**
    | **Security** | **Site** **security policies**:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 网络上的身份盗窃是一个普遍问题，Moodle 也不例外。为了避免欺诈者收集有关已认证用户的信息的可能性，可以通过导航到**网站管理** | **常规**
    | **安全** | **网站安全策略**来查看以下设置：
- en: '**Protect usernames**: If users cannot remember their username or password,
    Moodle provides a **Forgotten password** screen. By default, the message displayed
    reads **If you supplied a correct username or email address then an email should
    have been sent to you**. If the protection is turned off, however, the message
    reads **An email should have been sent to your address at ******@<domain name>**,
    which could allow a guess at the username.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**保护用户名**：如果用户忘记了他们的用户名或密码，Moodle 提供了一个**忘记密码**界面。默认情况下，显示的消息是**如果您提供了正确的用户名或电子邮件地址，则应已向您发送电子邮件**。然而，如果保护被关闭，则消息将变为**应已向您在******@<域名>的地址发送电子邮件**，这可能会允许猜测用户名。'
- en: '**Force users to login**: By default, Moodle’s front page is visible to everyone,
    even if they are not logged in to the site. Change this parameter if you wish
    to force users to log in before they see the front page. As a result, your users
    will only see the login screen when they enter your site.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**强制用户登录**：默认情况下，Moodle 的首页对所有人均可见，即使他们未登录到网站。如果您希望强制用户在看到首页之前登录，请更改此参数。因此，您的用户在进入您的网站时将只能看到登录界面。'
- en: '**Force users to login for profiles**: When set to **Yes** (the default setting),
    users will have to log in with an authentic account before accessing other users’
    profile pages.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**强制用户登录以访问个人资料**：当设置为**是**（默认设置）时，用户在访问其他用户的个人资料页面之前必须使用真实账户登录。'
- en: '**Force users to login to view user pictures**: If disabled (default), guests
    will be able to see pictures of other users in their profile. Otherwise, the default
    user image will be shown. Some organizations disable user profile images altogether,
    which can be achieved via the **Disable user profile** **images** option.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**强制用户登录查看用户图片**：如果禁用（默认），访客将能够看到其个人资料中的其他用户的图片。否则，将显示默认用户图片。一些组织完全禁用用户个人资料图片，这可以通过**禁用用户个人资料图片**选项实现。'
- en: '**Open to search engines**: Moodle can be configured to allow search engines
    to crawl through courses with guest access and add content to its search engine
    database. This functionality is turned off by default.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对搜索引擎开放**：Moodle可以配置为允许搜索引擎爬取具有访客访问权限的课程，并将其内容添加到其搜索引擎数据库中。此功能默认关闭。'
- en: '**Allow indexing by search engines**: The self-explanatory options are **Everywhere
    except login and signup pages**, **Everywhere**, and **Nowhere**. Note that these
    settings cannot be enforced because a tag header is added to each site to ask
    search engines to respect it.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**允许搜索引擎索引**：不言自明的选项是**除了登录和注册页面之外的所有地方**、**所有地方**和**任何地方**。请注意，这些设置无法强制执行，因为每个网站都会添加一个标签头，要求搜索引擎尊重它。'
- en: '**Profile visible roles**: Any selected role will be visible on user profiles
    and participation pages.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**个人资料可见角色**：任何选定的角色都将显示在用户个人资料和参与页面上。'
- en: There are two more related parameters further down in the **Site security settings**
    screen. You can activate **Email change confirmation**. If set to **Yes**, users
    will be sent an email to confirm that their change of email address in their profile
    is genuine. Moodle offers a means to remember usernames via cookies, which will
    be entered in the login form when opened. While this is convenient for the end
    user, it poses a potential security risk. To prevent this feature from being supported,
    configure the **Remember username** parameter by going to **Site administration**
    | **General** | **Security** | **Site security policies**. Since usernames are
    stored in a permanent cookie, this potentially infringes user privacy (see [*Chapter
    14*](B18779_14.xhtml#_idTextAnchor271), *Complying with Data* *Protection Regulations*).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在**站点安全设置**屏幕下方还有两个相关的参数。您可以激活**电子邮件更改确认**。如果设置为**是**，用户将收到一封电子邮件以确认他们在个人资料中更改电子邮件地址是真实的。Moodle提供了一种通过cookie记住用户名的方法，当打开登录表单时，这些cookie将被输入。虽然这对最终用户来说很方便，但它可能存在潜在的安全风险。为了防止此功能被支持，请通过转到**站点管理**
    | **常规** | **安全** | **站点安全策略**来配置**记住用户名**参数。由于用户名存储在永久cookie中，这可能会侵犯用户隐私（参见[*第14章*](B18779_14.xhtml#_idTextAnchor271)，*遵守数据保护法规*)）。
- en: By default, Moodle triggers a notification when a login has taken place by a
    user from a new device. To avoid users deactivating this security measure, you
    might want to change the **New Login notifications** status to **Locked** in **Site
    administration** | **General** | **Messaging** | **Notification settings**.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Moodle会在用户从新设备登录时触发通知。为了避免用户禁用此安全措施，您可能希望将**新登录通知**状态更改为**锁定**，在**站点管理**
    | **常规** | **消息** | **通知设置**中。
- en: Related to the protection of user details is the prevention of profile spam,
    which we will cover in the last topic of the user security section.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 与用户详细信息保护相关的是防止个人资料垃圾邮件，这将在用户安全部分最后一个主题中介绍。
- en: Preventing spam
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 防止垃圾邮件
- en: If Moodle is not configured correctly, it allows spammers to insert content
    into user profiles of accounts created via self-registration.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 如果Moodle配置不正确，它将允许垃圾邮件发送者将内容插入通过自助注册创建的账户的用户个人资料中。
- en: Important note
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 重要注意事项
- en: Only use email-based self-registration if it is indispensable.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 只有在必不可少的情况下才使用基于电子邮件的自助注册。
- en: 'If you must use self-registration, ensure to undertake the following measures:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您必须使用自助注册，请确保采取以下措施：
- en: Enable **reCAPTCHA** in **Site administration** | **Plugins** | **Authentication**
    | **Manage authentication**. On the same page, configure **Allowed email domains**
    and **Denied email domains**. Refer to the *Common authentication settings* section
    in [*Chapter 5*](B18779_05.xhtml#_idTextAnchor092), *Managing Users, Cohorts,
    and Authentication*. Many public online lists contain domains for disposable and
    temporary email addresses, which you might want to use for the denylist.
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在**站点管理** | **插件** | **身份验证** | **管理身份验证**中启用**reCAPTCHA**。在同一页面上配置**允许的电子邮件域名**和**拒绝的电子邮件域名**。请参阅[*第5章*](B18779_05.xhtml#_idTextAnchor092)中的*常见身份验证设置*部分，*管理用户、群体和身份验证*。许多公开在线列表包含一次性电子邮件地址的域名，您可能希望将其用于拒绝列表。
- en: Keep **Email change confirmation** enabled in **General** | **Security** | **Site**
    **security policies**.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在**通用** | **安全** | **网站安全策略**中保持**电子邮件更改确认**启用。
- en: Configure the IP blocker, as described further on in this chapter.
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照本章后续部分所述配置IP阻止器。
- en: 'To prevent **profile spam**, also make sure that the following settings in
    **General** | **Security** | **Site security policies** are set correctly (which
    they are, by default):'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 为了防止**个人资料垃圾邮件**，请确保在**通用** | **安全** | **网站安全策略**中的以下设置设置正确（默认情况下是正确的）：
- en: Keep the **Force users to login for profiles** parameter enabled (refer to the
    *Protection of user details* section). This way, you can prevent anonymous visitors
    and search engines from seeing user profiles.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保持**强制用户登录查看个人资料**参数启用（参考*用户详细信息保护*部分）。这样，您可以防止匿名访客和搜索引擎查看用户个人资料。
- en: You further limit access to changing profiles to only those users who are enrolled
    in a course via the **Profiles for enrolled users** **only** setting.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以通过**仅对已注册用户启用个人资料**设置进一步限制更改个人资料的访问权限，仅限于通过课程注册的用户。
- en: Also, be aware that legit users can be the cause of spam. Ensure that no user
    has any unnecessary capabilities in their roles that allow for this (refer to
    spam risk in [*Chapter 6*](B18779_06.xhtml#_idTextAnchor116), *Managing Permissions,
    Roles,* *and Capabilities*).
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，请注意，合法用户可能是垃圾邮件的来源。确保没有任何用户在他们的角色中拥有任何不必要的权限，这可能导致这种情况（参考[*第6章*](B18779_06.xhtml#_idTextAnchor116)，*管理权限、角色和功能*中的垃圾邮件风险）。
- en: 'If your site has been victim to spam, go to **Site administration** | **Reports**
    | **Spam cleaner**. You can either let Moodle autodetect common spam patterns
    (the list makes for some interesting reading!) or search for your own keywords:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的网站遭受了垃圾邮件攻击，请转到**网站管理** | **报告** | **垃圾邮件清理器**。您可以选择让Moodle自动检测常见的垃圾邮件模式（该列表值得一读！）或搜索您自己的关键词：
- en: '![Figure 13.6 – Spam cleaner ](img/Figure_13.06_B18779.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图13.6 – 垃圾邮件清理器](img/Figure_13.06_B18779.jpg)'
- en: Figure 13.6 – Spam cleaner
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.6 – 垃圾邮件清理器
- en: Any user profiles where the **Description** field contains any of the listed
    keywords are shown. You then have the option to delete the user account(s). For
    more information on spam prevention in Moodle, check out [docs.moodle.org/en/Reducing_spam_in_Moodle](http://docs.moodle.org/en/Reducing_spam_in_Moodle).
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 任何**描述**字段包含所列关键词的用户个人资料都会显示出来。然后您可以选择删除用户账户。有关Moodle中垃圾邮件预防的更多信息，请参阅[docs.moodle.org/en/Reducing_spam_in_Moodle](http://docs.moodle.org/en/Reducing_spam_in_Moodle)。
- en: This concludes the section on user security, where we have covered the configuration
    of Moodle passwords, protection of user details, and spam prevention. Next up
    is content security.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了关于用户安全性的章节，其中我们涵盖了Moodle密码配置、用户详细信息保护和垃圾邮件预防。接下来是内容安全。
- en: Ensuring content security
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保内容安全
- en: Content by learners and teachers can potentially contain malicious code, and
    once created, it needs to be protected from unauthorized access. This section
    will ensure content security (namely, content created within Moodle), content
    visibility, and antivirus scanners.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 学习者和教师创建的内容可能包含恶意代码，一旦创建，就需要防止未经授权的访问。本节将确保内容安全（即在Moodle中创建的内容）、内容可见性和防病毒扫描器。
- en: Limiting content created within Moodle
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 限制Moodle内创建的内容
- en: 'Users can create Moodle content by using the Atto editor or uploading files.
    Two settings are available in **Site administration** | **General** | **Security**
    | **Site security policies** to partly prevent the misuse of these:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可以通过使用Atto编辑器或上传文件来创建Moodle内容。在**网站管理** | **通用** | **安全** | **网站安全策略**中，有两个设置可以部分防止这些内容的滥用：
- en: '![Figure 13.7 – Content security settings ](img/Figure_13.07_B18779.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图13.7 – 内容安全设置](img/Figure_13.07_B18779.jpg)'
- en: Figure 13.7 – Content security settings
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.7 – 内容安全设置
- en: 'The two parameters are as follows:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个参数如下：
- en: HTML allows embedding code that uses the explicit `<EMBED>` and `<OBJECT>` tags.
    Potentially, malicious code can be put in embedded scripts, which is why its support
    is deactivated by default. To activate it, enable the **Allow EMBED and OBJECT**
    **tags** parameter.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTML允许嵌入使用显式`<EMBED>`和`<OBJECT>`标签的代码。潜在地，恶意代码可以放入嵌入的脚本中，这就是为什么默认情况下禁用了对其的支持。要激活它，请启用**允许EMBED和OBJECT标签**参数。
- en: The Atto editor automatically removes any unwanted HTML elements and attributes.
    You can bypass this cleansing mechanism for individual users. First, you must
    set the `moodle/site:trustcontent` capability for each user you trust to submit
    JavaScript and other potentially malicious code. Texts created or uploaded by
    those users will be marked as trusted and will not be cleaned before display.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Atto编辑器会自动移除任何不需要的HTML元素和属性。您可以绕过此清洁机制为个别用户设置。首先，您必须为每个您信任提交JavaScript和其他潜在恶意代码的用户设置`moodle/site:trustcontent`能力。这些用户创建或上传的文本将被标记为可信，并在显示前不会被清理。
- en: If you wish to censor obscene or other unwanted words entered by learners in
    activities such as forums, Moodle has developed a `badwords` language string in
    `filter_censor.php` (be careful, as this list is far from G-rated). Also, bear
    in mind that the filter picks up words within words and marks valid terms, such
    as cocktail, sextant, sparse, and altitude.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望在论坛等活动中的学习者输入的淫秽或其他不受欢迎的词语被审查，Moodle在`filter_censor.php`中开发了`badwords`语言字符串（请注意，此列表远非G级）。此外，请记住，过滤器会捕获单词中的单词，并标记有效术语，如cocktail、sexton、sparse和altitude。
- en: Okay, before your imagination runs completely wild, let’s set up content visibility
    next.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，在你完全发挥想象力之前，让我们先设置内容可见性。
- en: Setting up content visibility
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置内容可见性
- en: 'Blogging, tagging, and commenting are Moodle social networking activities.
    Blog entries, tags, and comments are harnessed for searching, sharing, and performing
    other collaborative activities to match interests. The potential issue is that
    the content is visible to users who should not be able to share or view entries.
    Moodle has catered for this by providing several settings, which we have already
    dealt with in the *Configuring collaboration tools* section in [*Chapter 9*](B18779_09.xhtml#_idTextAnchor181),
    *Configuring Educational Features*. Here is a list of areas where the respective
    functionalities need to be turned on and off:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 博客、标签和评论是Moodle社交网络活动。博客条目、标签和评论被用于搜索、分享和执行其他协作活动以匹配兴趣。潜在问题是内容对那些不应能够分享或查看条目的用户可见。Moodle通过提供几个设置来解决这个问题，我们已经在[*第9章*](B18779_09.xhtml#_idTextAnchor181)的[*配置协作工具*](B18779_09.xhtml#_idTextAnchor181)部分中处理过，*配置教育功能*。以下是需要开启和关闭相应功能性的区域列表：
- en: '**Site administration** | **Appearance** | **Blog** | **Blog visibility**'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站管理** | **外观** | **博客** | **博客可见性**'
- en: '**Site administration** | **Advanced features** | **Enable** **tags functionality**'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站管理** | **高级功能** | **启用** **标签功能**'
- en: '**Site administration** | **Appearance** | **Blog** | **Enable comments**'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站管理** | **外观** | **博客** | **启用评论**'
- en: If you deactivate any mechanisms, tags, comments, and blog entries that are
    already on the system or kept hidden, they will reappear when the functionality
    is turned on again. In other words, there is no risk of data loss when turning
    the functionality off and back on.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您停用任何机制，系统上已存在或被隐藏的标签、评论和博客条目将在功能再次开启时重新出现。换句话说，关闭和重新开启功能时不会丢失数据。
- en: You might also consider creating a dedicated role on your system – for example,
    a Blogger role utilizing the `moodle/blog:create` capability. This will limit
    blogging to specific users only – those who have been assigned the new role. You
    can find more details on the Blogger role in the Moodle Docs at [docs.moodle.org/en/Blogger_role](http://docs.moodle.org/en/Blogger_role).
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可能考虑在您的系统上创建一个专用角色 – 例如，一个利用`moodle/blog:create`能力的博客作者角色。这将限制博客只对特定用户开放 –
    那些被分配了新角色的用户。您可以在Moodle Docs中找到有关博客作者角色的更多详细信息，[docs.moodle.org/en/Blogger_role](http://docs.moodle.org/en/Blogger_role)。
- en: The last component of content security is the configuration of virus scanners,
    which is dealt with in the following subsection.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 内容安全性的最后一个组成部分是病毒扫描器的配置，将在以下子节中处理。
- en: Configuring antivirus scanners
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置防病毒扫描器
- en: 'Moodle supports the scanning of uploaded files for viruses, which can be configured
    at **Site administration** | **Plugins** | **Antivirus plugins** | **Manage**
    **antivirus plugins**:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle支持扫描上传文件中的病毒，这可以在**网站管理** | **插件** | **防病毒插件** | **管理** **防病毒插件**中进行配置：
- en: '![Figure 13.8 – Managing antivirus plugins ](img/Figure_13.08_B18779.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![图13.8 – 管理防病毒插件](img/Figure_13.08_B18779.jpg)'
- en: Figure 13.8 – Managing antivirus plugins
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.8 – 管理防病毒插件
- en: 'There are some common antivirus settings applicable to all antivirus plugins.
    The three-step process behind Moodle’s (and most other) antivirus scanning mechanism
    is as follows:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些通用的防病毒设置适用于所有防病毒插件。Moodle（以及大多数其他）防病毒扫描机制背后的三步流程如下：
- en: '**Detection**: Files are scanned for potential threats, where the antivirus
    plugin determines the detection method.'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**检测**：文件将被扫描以查找潜在威胁，防病毒插件将确定检测方法。'
- en: '`$CFG->dataroot/antivirus_quarantine` quarantine folder for later inspection.'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`$CFG->dataroot/antivirus_quarantine`隔离文件夹用于后续检查。'
- en: '**Removal**: Detected files will be deleted immediately after detection when
    quarantine is disabled, after inspection of the quarantine folder, or when the
    maximum quarantine time has been exceeded.'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**删除**：在禁用隔离时，检测到的文件将在检测后立即删除，在检查隔离文件夹后，或者当超过最大隔离时间时。'
- en: '**ClamAV** is available as a standard scanner; more antivirus plugins are available
    from the Moodle plugins directory at [moodle.org/plugins/?q=type:antivirus](http://moodle.org/plugins/?q=type:antivirus).
    ClamAV [is an open-sou](http://www.clamav.net/)rce antivirus engine. Refer to
    [www.clamav.net](http://www.clamav.net) for more details, downloads for different
    operating systems, and how to keep the virus definition database up to date. You
    must install ClamAV on your system before the scanner can be configured via the
    **Settings** link.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '**ClamAV**是一个标准扫描器；更多防病毒插件可在Moodle插件目录中找到，地址为[moodle.org/plugins/?q=type:antivirus](http://moodle.org/plugins/?q=type:antivirus)。ClamAV是一个开源防病毒引擎。有关更多详细信息、不同操作系统的下载以及如何保持病毒定义数据库更新的信息，请参阅[www.clamav.net](http://www.clamav.net)。您必须在配置扫描器通过**设置**链接之前在您的系统上安装ClamAV。'
- en: 'There are two running methods for ClamAV:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: ClamAV有两种运行方法：
- en: '**Via command line**: This is the default method for which you need to specify
    the path where ClamAV has been installed.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通过命令行**：这是默认方法，您需要指定ClamAV已安装的路径。'
- en: '**Via system sockets**: On Unix systems, better performance can be obtained
    using either a Unix domain socket or a TCP socket. You need to contact your system
    administrator for configuration details on these parameters.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通过系统套接字**：在Unix系统中，可以使用Unix域套接字或TCP套接字来获得更好的性能。您需要联系系统管理员以获取这些参数的配置细节。'
- en: ClamAV has two limitations. First, ClamAV does not exist for Windows servers,
    and you will need to install a Windows-based virus scanner to provide this functionality
    and monitor any quarantined files separately. Second, ClamAV will impact your
    system’s performance, which becomes an issue if the file upload facility is plentifully
    used. If this is the case, you might have to allocate 10–20% more RAM to your
    server(s).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: ClamAV有两个限制。首先，ClamAV不支持Windows服务器，您需要安装一个基于Windows的病毒扫描器来提供此功能并单独监控任何隔离文件。其次，ClamAV将影响您的系统性能，如果文件上传功能被大量使用，这将成为一个问题。如果这种情况发生，您可能需要为您的服务器（s）分配10-20%更多的RAM。
- en: This concludes the section on content security, where we covered content created
    within Moodle, content visibility, and antivirus scanners. The last section deals
    with ensuring system security.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 这部分内容安全结束，我们涵盖了在Moodle中创建的内容、内容可见性和防病毒扫描器。最后一部分是确保系统安全。
- en: Ensuring system security
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保系统安全
- en: In the last section of this Moodle security chapter, we deal with configuration
    settings impacting system security, covering access to dataroot, cron execution,
    secure HTTP, and the IP blocker.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在本Moodle安全章节的最后部分，我们处理影响系统安全性的配置设置，包括对dataroot的访问、cron执行、安全HTTP和IP阻止器。
- en: Configuring access to dataroot
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置对dataroot的访问
- en: In the `dataroot` directory is directly accessible via the internet. Moodle
    requires additional space on a server to store uploaded files, such as course
    documents and user pictures. The directory is called `dataroot` and must not be
    accessible via the web. If this directory is accessible directly, unauthorized
    users can get access to content.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '`dataroot`目录直接可通过互联网访问。Moodle需要在服务器上额外空间来存储上传的文件，例如课程文档和用户图片。该目录称为`dataroot`，并且不得通过网页访问。如果此目录直接可访问，未经授权的用户可以访问内容。'
- en: Important note
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '`$CFG->dataroot` must not be accessible via the web!'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '`$CFG->dataroot`不得通过网页访问！'
- en: To prevent `dataroot` from being accessible, move the directory outside the
    web directory (ensure not to mangle permissions) and modify `config.php` accordingly
    by changing the `$``CFG->dataroot` entry.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 为了防止`dataroot`目录可访问，将其移动到网站目录之外（确保不要损坏权限），并相应地修改`config.php`文件，通过更改`$CFG->dataroot`条目。
- en: In externally hosted environments, it is often not possible to locate the directory
    outside the web directory. If this is the case, create a file called `.htaccess`
    in the data directory and add a line containing `denyfromall`.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在外部托管环境中，通常无法在网页目录外找到目录。如果是这种情况，在数据目录中创建一个名为 `.htaccess` 的文件，并添加一行包含 `denyfromall`
    的内容。
- en: The second system security measure is the protection of the execution of the
    cron process, which is covered next.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个系统安全措施是保护 cron 进程的执行，这将在下文中进行介绍。
- en: Protecting cron execution
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保护 cron 执行
- en: We have already described the **cron** process in [*Chapter 1*](B18779_01.xhtml#_idTextAnchor020),
    *Installing Moodle*, and will go into more detail about this in [*Chapter 15*](B18779_15.xhtml#_idTextAnchor289),
    *Optimizing Moodle Performance*. cron is a script that regularly runs to perform
    certain operations, such as sending notifications, processing statistics, and
    cleaning up temporary files. Scripts that run at the operating system level can
    potentially contain malicious code.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在[*第一章*](B18779_01.xhtml#_idTextAnchor020)，“安装 Moodle”中描述了**cron**进程，并在[*第十五章*](B18779_15.xhtml#_idTextAnchor289)，“优化
    Moodle 性能”中会对此进行更详细的介绍。cron 是一个定期运行的脚本，用于执行某些操作，例如发送通知、处理统计数据和清理临时文件。在操作系统级别运行的脚本可能包含恶意代码。
- en: 'It is possible to run a script via a web browser by simply typing in the following
    URL: `<yourMoodlesite>/admin/cron.php`. Two mutually exclusive settings can be
    set in **Site administration** | **General** | **Security** | **Site policies**
    to prevent this:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过在网页浏览器中输入以下 URL 来通过网页浏览器运行一个脚本：`<yourMoodlesite>/admin/cron.php`。在**站点管理**
    | **常规** | **安全** | **站点策略**中可以设置两个互斥的设置来防止这种情况：
- en: '![Figure 13.9 – Configuring cron execution ](img/Figure_13.09_B18779.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![图 13.9 – 配置 cron 执行](img/Figure_13.09_B18779.jpg)'
- en: Figure 13.9 – Configuring cron execution
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.9 – 配置 cron 执行
- en: If you only allow the cron process to be executed from the command line, running
    the script via a web browser will be disabled, and a message will be displayed,
    saying **Sorry, internet access to this page has been disabled by the administrator**.
    The cron process can still be executed automatically if it’s set up correctly.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您只允许从命令行执行 cron 进程，则通过网页浏览器运行脚本将禁用，并显示一条消息，说明**抱歉，管理员已禁用此页面的互联网访问**。如果设置正确，cron
    进程仍然可以自动执行。
- en: If the `<yourMoodlesite>/admin/cron.php?password=yourpassword`. If the password
    is not provided or is incorrect, an error message, which is the same as the one
    we saw earlier, is displayed.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 `<yourMoodlesite>/admin/cron.php?password=yourpassword`。如果没有提供密码或密码不正确，将显示一个错误消息，与之前我们看到的是相同的。
- en: Next up is the configuration of HTTP security.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是 HTTP 安全性的配置。
- en: Configuring HTTP security
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置 HTTP 安全性
- en: Moodle offers full HTTPS support, which runs HTTP requests over SSL (a more
    secure but slightly slower socket layer). Given the rapid advance in hacking technology
    and the negligible cost of SSL certificates, every public-facing web page containing
    user data should run over HTTPS.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 提供了完整的 HTTPS 支持，它通过 SSL（一个更安全但稍微慢一点的套接字层）运行 HTTP 请求。鉴于黑客技术的快速发展和 SSL
    证书的微乎其微的成本，每个包含用户数据的公开网页都应该通过 HTTPS 运行。
- en: Important note
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: 'Repeat after me: every public-facing Moodle site should run over HTTPS, with
    no exception.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 跟着我重复：每个公开的 Moodle 网站都应该通过 HTTPS 运行，没有任何例外。
- en: To ensure that all data transferred from a user’s browser to the server that
    hosts Moodle is encrypted, HTTPS must be enabled on your web server. You will
    also have to purchase or generate an SSL certificate. Every web server has a different
    method to enable HTTPS, so you should consult your server’s documentation. A good
    starting point for setting up SSL/TSL for Apache can be found at [httpd.apache.org/docs/current/ssl/ssl_howto.xhtml](http://httpd.apache.org/docs/current/ssl/ssl_howto.xhtml).
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保从用户的浏览器传输到托管 Moodle 的服务器的所有数据都经过加密，必须在您的 web 服务器上启用 HTTPS。您还必须购买或生成一个 SSL
    证书。每个 web 服务器都有不同的方法来启用 HTTPS，因此您应该查阅您的服务器文档。Apache 设置 SSL/TSL 的良好起点可以在 [httpd.apache.org/docs/current/ssl/ssl_howto.xhtml](http://httpd.apache.org/docs/current/ssl/ssl_howto.xhtml)
    找到。
- en: 'Once the web server has been configured to work with HTTPS, the Moodle installation
    script will work with those details (see [*Chapter 1*](B18779_01.xhtml#_idTextAnchor020),
    *Installing Moodle*). If you need to transition from HTTP to HTTPS, we recommend
    that you follow the instructions on Moodle Docs ([docs.moodle.org/en/Transitioning_to_HTTPS](http://docs.moodle.org/en/Transitioning_to_HTTPS))
    and make use of the **HTTPS conversion tool** provided by Moodle at the bottom
    of **Site administration** | **General** | **Security** | **HTTP security**:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦 Web 服务器被配置为使用 HTTPS，Moodle 安装脚本将使用这些详细信息（参见 [*第 1 章*](B18779_01.xhtml#_idTextAnchor020)，*安装
    Moodle*）。如果您需要从 HTTP 转换到 HTTPS，我们建议您遵循 Moodle Docs 上的说明 ([docs.moodle.org/en/Transitioning_to_HTTPS](http://docs.moodle.org/en/Transitioning_to_HTTPS))
    并使用 Moodle 在 **站点管理** | **常规** | **安全** | **HTTP 安全** 下方提供的 **HTTPS 转换工具**：
- en: '![Figure 13.10 – HTTPS conversion tool ](img/Figure_13.10_B18779.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![图 13.10 – HTTPS 转换工具](img/Figure_13.10_B18779.jpg)'
- en: Figure 13.10 – HTTPS conversion tool
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.10 – HTTPS 转换工具
- en: The tool performs two tasks. First, it scans any course content and notifies
    you if there are any potential issues or conflicts. Second, once you have ticked
    the confirmation box, an irreversible conversion is performed; all HTTP links
    are changed to HTTPS.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 工具执行两个任务。首先，它扫描任何课程内容，并在发现任何潜在问题或冲突时通知您。其次，一旦您勾选了确认框，就会执行不可逆的转换；所有 HTTP 链接都更改为
    HTTPS。
- en: 'The tool can also be executed in CLI mode using the following syntax:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 工具也可以使用以下语法在 CLI 模式下执行：
- en: '[PRE3]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: For more details on the tool, consult [docs.moodle.org/en/HTTPS_conversion_tool](http://docs.moodle.org/en/HTTPS_conversion_tool).
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 关于该工具的更多详细信息，请参阅 [docs.moodle.org/en/HTTPS_conversion_tool](http://docs.moodle.org/en/HTTPS_conversion_tool)。
- en: Important note
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you turn on HTTPS without the relevant system components installed – that
    is, the PHP extension added along with the correct web server configuration –
    you will lock yourself out of your system!
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在没有安装相关系统组件的情况下启用 HTTPS – 即，添加 PHP 扩展以及正确的 Web 服务器配置 – 您将无法访问自己的系统！
- en: 'There are a number of related settings in **Site administration** | **General**
    | **Security** | **HTTP security** that you should double-check:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在 **站点管理** | **常规** | **安全** | **HTTP 安全** 中有许多相关的设置，您应该仔细检查：
- en: '**Secure cookies only**: Web servers can be configured in a way that they only
    accept HTTPS URLs. If this is the case on your system, you should enable this
    parameter.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**仅支持安全 cookies**：Web 服务器可以被配置为只接受 HTTPS URL。如果您的系统是这样的，您应该启用此参数。'
- en: '**Only http cookies**: Moodle supports instructing web browsers to send cookies
    only with real requests, which prevents some XSS attacks.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**仅支持 http cookies**：Moodle 支持指导网络浏览器仅在实际请求中发送 cookies，这可以防止一些 XSS 攻击。'
- en: '**Allow frame embedding**: See the tip in the *Moodle as LTI tool* section
    in [*Chapter 9*](B18779_09.xhtml#_idTextAnchor181), *Configuring* *Educational
    Features*.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**允许框架嵌入**：参见 [*第 9 章*](B18779_09.xhtml#_idTextAnchor181) 中 *Moodle 作为 LTI
    工具* 部分的提示，*配置* *教育功能*。'
- en: '`localhost` variants.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`localhost` 变体。'
- en: '`80` and `443`.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`80` 和 `443`。'
- en: HTTP security defines over what protocol your Moodle instance is accessed and
    the related settings. The last system security topic deals with allowing and blocking
    IP addresses accessing your site.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: HTTP 安全定义了您的 Moodle 实例通过什么协议访问以及相关的设置。最后一个系统安全主题涉及允许和阻止访问您网站的 IP 地址。
- en: Allowing and blocking IP addresses
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 允许和阻止 IP 地址
- en: 'Users will access your system from stationary and mobile devices. What they
    all have in common is that they will access your site via an IP address. You can
    limit this access by specifying an allowlist and a denylist at **Site administration**
    | **General** | **Security** |**IP blocker**:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 用户将从固定和移动设备访问您的系统。他们共同的特点是都将通过 IP 地址访问您的网站。您可以通过在 **站点管理** | **常规** | **安全**
    | **IP 阻止器** 中指定允许列表和拒绝列表来限制这种访问：
- en: '![Figure 13.11 – IP blocker ](img/Figure_13.11_B18779.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![图 13.11 – IP 阻止器](img/Figure_13.11_B18779.jpg)'
- en: Figure 13.11 – IP blocker
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.11 – IP 阻止器
- en: The allowlist (**Allowed IP list**) can contain IP addresses in several formats
    (the full IP address, partial address, ranges of IPs, and the CDIR notation).
    The same applies to the denylist (**Blocked IP list**). By default, the denylist
    has priority over the allowlist. If you wish to reverse this, select **Allowed
    list will be** **processed first**.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 允许列表（**允许 IP 列表**）可以包含多种格式的 IP 地址（完整的 IP 地址、部分地址、IP 地址范围和 CDIR 表示法）。同样适用于拒绝列表（**阻止
    IP 列表**）。默认情况下，拒绝列表优先于允许列表。如果您希望反转这一点，请选择 **允许列表将首先** **处理**。
- en: Important note
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Be aware that with any entries in the allowlist, the effect is to allow ONLY
    those IP addresses and block all others. Exercise care with this setting, as it
    is possible to lock yourself out of Moodle.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在允许列表中的任何条目，其效果是只允许那些 IP 地址，并阻止所有其他地址。在使用此设置时要小心，因为有可能将自己锁在 Moodle 外面。
- en: For example, you might want to add `192.168.*.*` to your allowlist, and denylist
    a particular IP – say, `192.168.123.45` – that was trying to guess your admin
    password multiple times.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，您可能想将 `192.168.*.*` 添加到您的允许列表中，并拒绝一个特定的 IP 地址——比如，尝试多次猜测您的管理员密码的 `192.168.123.45`。
- en: This concludes the section on system security, in which we dealt with access
    to `dataroot`, cron execution, HTTPS, and IP blockers.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 这部分关于系统安全的内容到此结束，我们讨论了 `dataroot` 的访问、cron 执行、HTTPS 和 IP 阻止器。
- en: Summary
  id: totrans-184
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'This chapter taught you how to protect your Moodle system from potential misuse
    and to keep a regular check on its security. To summarize, here is a short list
    of best practices in the following checklist. While this list is by no means complete,
    it gives an indication of the elements you are responsible for as a Moodle administrator:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 本章教您如何保护您的 Moodle 系统免受潜在的滥用，并定期检查其安全性。为了总结，以下是一个简短的检查清单，列出了以下最佳实践。虽然这份清单远非完整，但它为您作为
    Moodle 管理员应负责的元素提供了指示：
- en: '![Figure 13.12 – Moodle security best practices ](img/Figure_13.12_B18779.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图 13.12 – Moodle 安全最佳实践](img/Figure_13.12_B18779.jpg)'
- en: Figure 13.12 – Moodle security best practices
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.12 – Moodle 安全最佳实践
- en: It is important to stress that Moodle’s security is only a single variable in
    the overall equation. Ensure that all other underlying software, infrastructure,
    and hardware components are set up correctly as well.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 强调一点很重要，Moodle 的安全性在整个方程中只是一个变量。确保所有其他底层软件、基础设施和硬件组件都正确设置。
- en: It is also important to stress the importance of an emergency plan if a security
    threat arises. This includes a strategy for identifying the problem, measures
    to resolve the situation, and a list of users to notify, among others.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 如果出现安全威胁，强调制定应急计划的重要性。这包括识别问题的策略、解决情况的措施以及需要通知的用户名单等。
- en: Most Moodle systems run on the LAMP platform, which has proven to be very secure
    if configured correctly. Moodle’s developers are very conscious that security
    is vital when dealing with personal user data, such as grades, assignments, and
    competencies. Hence, the topic has been given the highest priority. However, there
    is no guarantee that your system is 100% protected against misuse. New hacking
    techniques will emerge in today’s world of cyber threats, and users will continue
    to be careless with their credentials (you have all seen the Post-it notes under
    the keyboard). So, ensure security patches and updates on your entire system,
    not just Moodle, are always up to date, and keep educating your users about the
    dangers. Also, consider undergoing a regular security audit or health check, which
    some Moodle Partners offer.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数 Moodle 系统运行在 LAMP 平台上，如果配置正确，已被证明非常安全。Moodle 的开发者非常清楚，在处理个人用户数据（如成绩、作业和能力）时，安全性至关重要。因此，这个主题被赋予了最高的优先级。然而，并不能保证您的系统100%不受滥用。在当今的网络安全世界中，新的黑客技术将不断出现，用户将继续对他们的凭证疏忽大意（你们都见过键盘下的便利贴）。因此，请确保整个系统的安全补丁和更新始终是最新的，并继续教育您的用户关于这些危险。此外，考虑定期进行安全审计或健康检查，这是某些
    Moodle 合作伙伴提供的。
- en: Now that your system is secure, let’s ensure that its privacy setup complies
    with data protection regulations.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您的系统已经安全，让我们确保其隐私设置符合数据保护法规。

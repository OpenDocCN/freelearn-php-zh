<html><head></head><body>
<div id="_idContainer024">
<h1 class="chapter-number" id="_idParaDest-91"><a id="_idTextAnchor092"/><span class="koboSpan" id="kobo.1.1">6</span></h1>
<h1 id="_idParaDest-92"><a id="_idTextAnchor093"/><span class="koboSpan" id="kobo.2.1">Debugging Ruby</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Just like with any other significant programming language, Ruby has a number of tools to help us analyze, fix, and improve our code. </span><span class="koboSpan" id="kobo.3.2">According to a software architect I encountered many years ago, the disparity between a programmer who possesses debugging skills and one who lacks them equates to the distinction between a junior programmer and a senior programmer. </span><span class="koboSpan" id="kobo.3.3">By using the right tools to debug our code, we can both improve our code and improve our understanding of how the language is interpreted, which in the long run, is beneficial to our path as developers. </span><span class="koboSpan" id="kobo.3.4">Let’s take a look at the tools that come with Ruby out of the box, as well as the gems that the Ruby community has developed to debug </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">our code.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">With debugging in mind, in this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1">Debugging functions in Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">versus PHP</span></span></li>
<li><span class="koboSpan" id="kobo.9.1">Gems </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">for debugging</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Understanding </span><strong class="bold"><span class="koboSpan" id="kobo.12.1">Interactive Ruby</span></strong><span class="koboSpan" id="kobo.13.1"> (</span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">IRB)</span></span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">’</span></span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">s usefulness</span></span></li>
</ul>
<h1 id="_idParaDest-93"><a id="_idTextAnchor094"/><span class="koboSpan" id="kobo.17.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.18.1">To follow along with this chapter, you will need </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.20.1">Any IDE to view/edit code (e.g., Sublime Text, Visual Studio Code, Notepad++, Vim, </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">Emacs, etc.)</span></span></li>
<li><span class="koboSpan" id="kobo.22.1">For macOS users, you will also need to have Xcode Command Line </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">Tools installed</span></span></li>
<li><span class="koboSpan" id="kobo.24.1">Ruby version 2.6 or later installed and ready </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">to use</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.26.1">The code presented in this chapter is available </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">at </span></span><a href="https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/"><span class="No-Break"><span class="koboSpan" id="kobo.28.1">https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.29.1">.</span></span></p>
<h1 id="_idParaDest-94"><a id="_idTextAnchor095"/><span class="koboSpan" id="kobo.30.1">Debugging functions in Ruby versus PHP</span></h1>
<p><span class="koboSpan" id="kobo.31.1">So far, we’ve made scripts and code snippets making sure that our code works correctly every time. </span><span class="koboSpan" id="kobo.31.2">However, in the real world, we’ll come into contact with code that someone else has created and either wasn’t tested, or it wasn’t tested in a scenario that hadn’t come up until now. </span><span class="koboSpan" id="kobo.31.3">This happens more often than not, and we should be prepared to get our hands dirty to fix these</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.32.1"> types of issues. </span><span class="koboSpan" id="kobo.32.2">In PHP, we have a couple of functions that will help us debug in the simplest way. </span><span class="koboSpan" id="kobo.32.3">You are welcome to just read the following example and not follow along. </span><span class="koboSpan" id="kobo.32.4">For now, let’s take a look at PHP’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.33.1">var_dump()</span></strong><span class="koboSpan" id="kobo.34.1"> function. </span><span class="koboSpan" id="kobo.34.2">We can open a command shell and create a file with the </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">following content:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.36.1">
&lt;?php //buggy_code.php
$person['firSt'] = 'Thomas';
$person['last'] = 'Anderson';
echo "Hi {$person['first']} {$person['last']}";</span></pre> <p><span class="koboSpan" id="kobo.37.1">Let’s say we ran the following PHP script on </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">our shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.39.1">
php buggy_code.php</span></pre> <p><span class="koboSpan" id="kobo.40.1">It should output something similar </span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">to this:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.42.1">
PHP Warning:  Undefined array key "first"…
Warning: Undefined array key "first" in…
Hi  Anderson</span></pre> <p><span class="koboSpan" id="kobo.43.1">At first glance, we may or may not see the error within the code. </span><span class="koboSpan" id="kobo.43.2">If you saw the error at first glance, congratulations, you’re off to a good start. </span><span class="koboSpan" id="kobo.43.3">But for those who didn’t see the error at first glance, let’s use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.44.1">var_dump()</span></strong><span class="koboSpan" id="kobo.45.1"> function. </span><span class="koboSpan" id="kobo.45.2">Let’s comment out the last line and add this to the ending line of </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">our code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.47.1">
&lt;?php //buggy_code.php
…
//echo "Hi {$person['first']} {$person['last']}";
var_dump($person);</span></pre> <p><span class="koboSpan" id="kobo.48.1">And let’s run this script again from </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">our shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.50.1">
php buggy_code.php</span></pre> <p><span class="koboSpan" id="kobo.51.1">This should output </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.53.1">
…
array(2) {
  ["firSt"]=&gt;
  string(6) "Thomas"
  ["last"]=&gt;
  string(8) "Anderson"
}</span></pre> <p><span class="koboSpan" id="kobo.54.1">In PHP, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1">var_dump()</span></strong><span class="koboSpan" id="kobo.56.1"> function is super useful as it outputs variables, its contents, and its content types. </span><span class="koboSpan" id="kobo.56.2">Notice that in this case, </span><strong class="source-inline"><span class="koboSpan" id="kobo.57.1">var_dump($person)</span></strong><span class="koboSpan" id="kobo.58.1"> is telling us that we have an array, and said</span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.59.1"> array has two elements. </span><span class="koboSpan" id="kobo.59.2">These two elements in the array are strings. </span><span class="koboSpan" id="kobo.59.3">We also notice that the first associative element (</span><strong class="source-inline"><span class="koboSpan" id="kobo.60.1">["firSt"]</span></strong><span class="koboSpan" id="kobo.61.1">) looks strange. </span><span class="koboSpan" id="kobo.61.2">It has a capital “S” in the middle. </span><span class="koboSpan" id="kobo.61.3">So, let’s make the correction and remove our debugging code. </span><span class="koboSpan" id="kobo.61.4">Our code should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.63.1">
&lt;?php //buggy_code.php
$person['first'] = 'Thomas';
$person['last'] = 'Anderson';
echo "Hi {$person['first']} {$person['last']}";</span></pre> <p><span class="koboSpan" id="kobo.64.1">We run it once more in </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">our shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.66.1">
php buggy_code.php</span></pre> <p><span class="koboSpan" id="kobo.67.1">It returns the </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">following output:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.69.1">
Hi Thomas Anderson</span></pre> <p><span class="koboSpan" id="kobo.70.1">While this might not be the best debugging tool, it certainly is a very straightforward way to debug code in PHP. </span><span class="koboSpan" id="kobo.70.2">I personally am quite fond of this function as it was the very first function I used to debug in my life. </span><span class="koboSpan" id="kobo.70.3">Additionally, this is an oversimplified example, but in essence portrays real scenarios, especially when you debug during web development as sometimes you don’t know what is being sent to your script. </span><span class="koboSpan" id="kobo.70.4">If you are more interested in this function, you should take a look at the function’s documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">page: </span></span><a href="https://www.php.net/manual/en/function.var-dump.php"><span class="No-Break"><span class="koboSpan" id="kobo.72.1">https://www.php.net/manual/en/function.var-dump.php</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.73.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.74.1">You may also want to take a look at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">print_r()</span></strong><span class="koboSpan" id="kobo.76.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">var_export()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.78.1"> functions.</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">In Ruby, we don’t really have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.80.1">var_dump()</span></strong><span class="koboSpan" id="kobo.81.1"> function, but instead, every object has a method already available called </span><strong class="source-inline"><span class="koboSpan" id="kobo.82.1">inspect()</span></strong><span class="koboSpan" id="kobo.83.1">. </span><span class="koboSpan" id="kobo.83.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.84.1">inspect()</span></strong><span class="koboSpan" id="kobo.85.1"> method converts the contents of an object to a </span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.86.1">string and returns it. </span><span class="koboSpan" id="kobo.86.2">Let’s redo the same example but in Ruby. </span><span class="koboSpan" id="kobo.86.3">Let’s create a file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">buggy_code.rb</span></strong><span class="koboSpan" id="kobo.88.1"> and add the </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.90.1">
# buggy_code.rb
person = Hash.new
person['firSt'] = 'Thomas'
person['last'] = 'Anderson'
print "Hi #{person['first']} #{person['last']}"</span></pre> <p><span class="koboSpan" id="kobo.91.1">Let’s say we were to run this script on our shell with </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.93.1">
ruby buggy_code.rb</span></pre> <p><span class="koboSpan" id="kobo.94.1">We would get the </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">following output:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.96.1">
Hi  Anderson</span></pre> <p><span class="koboSpan" id="kobo.97.1">We know ahead of time what the error is, but for educational purposes, let’s debug the </span><strong class="source-inline"><span class="koboSpan" id="kobo.98.1">person</span></strong><span class="koboSpan" id="kobo.99.1"> object by adding the following to our code so that it will now look </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.101.1">
# buggy_code.rb
person = Hash.new
person['firSt'] = 'Thomas'
person['last'] = 'Anderson'
#print "Hi #{person['first']} #{person['last']}"
print person.inspect</span></pre> <p><span class="koboSpan" id="kobo.102.1">We run this script on the shell with </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.104.1">
ruby buggy_code.rb</span></pre> <p><span class="koboSpan" id="kobo.105.1">This will return </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.107.1">
{"firSt"=&gt;"Thomas", "last"=&gt;"Anderson"}</span></pre> <p><span class="koboSpan" id="kobo.108.1">While we could accomplish the same effect by just using </span><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">print()</span></strong><span class="koboSpan" id="kobo.110.1">, this is only true because we’re analyzing the contents of a hash in this example. </span><span class="koboSpan" id="kobo.110.2">If the previous example had a class object, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.111.1">print()</span></strong><span class="koboSpan" id="kobo.112.1"> function would not show us all of the contents of an object. </span><span class="koboSpan" id="kobo.112.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">inspect()</span></strong><span class="koboSpan" id="kobo.114.1"> method is </span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.115.1">more generic as it outputs the contents of any type </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">of object.</span></span></p>
<p><span class="koboSpan" id="kobo.117.1">Since we already know the fix, we can just go ahead and fix the example. </span><span class="koboSpan" id="kobo.117.2">Our code should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.119.1">
# buggy_code.rb
person = Hash.new
person['first'] = 'Thomas'
person['last'] = 'Anderson'
print "Hi #{person['first']} #{person['last']}"</span></pre> <p><span class="koboSpan" id="kobo.120.1">Lastly, we can run it again just to verify that our script runs correctly by running this on </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">the shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.122.1">
ruby buggy_code.rb</span></pre> <p><span class="koboSpan" id="kobo.123.1">This would return </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.125.1">
Hi Thomas Anderson</span></pre> <p><span class="koboSpan" id="kobo.126.1">And with this, we’ve learned a very PHP-esque way to debug scripts. </span><span class="koboSpan" id="kobo.126.2">Fortunately, we are not going further down this road. </span><span class="koboSpan" id="kobo.126.3">Instead, let’s take a look into other more Ruby-esque ways </span><span class="No-Break"><span class="koboSpan" id="kobo.127.1">to debug.</span></span></p>
<h1 id="_idParaDest-95"><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.128.1">Gems for debugging</span></h1>
<p><span class="koboSpan" id="kobo.129.1">As you probably guessed, the Ruby community came across the debugging problem just like any other programming</span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.130.1"> community and thus has come up with libraries (or gems) to encapsulate different debug behaviors. </span><span class="koboSpan" id="kobo.130.2">We’ll talk specifically about three gems that make your debugging experience a whole different path than just dumping values in </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">your code:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.132.1">Debug</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.133.1">Pry</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.134.1">Byebug</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.135.1">All of these gems were designed for the same purpose, but each one has its own peculiarities and it will depend </span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.136.1">on your own preference which one you choose to use in your projects. </span><span class="koboSpan" id="kobo.136.2">Let’s start by looking at the </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">first one.</span></span></p>
<h2 id="_idParaDest-96"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.138.1">The debug gem</span></h2>
<p><span class="koboSpan" id="kobo.139.1">This gem comes as a replacement (and improvement) to the traditional </span><strong class="source-inline"><span class="koboSpan" id="kobo.140.1">lib/debug.rb</span></strong><span class="koboSpan" id="kobo.141.1"> standard library. </span><span class="koboSpan" id="kobo.141.2">While</span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.142.1"> there are various ways to use this gem, let’s start by installing </span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.143.1">our gem and creating a simple debuggable example. </span><span class="koboSpan" id="kobo.143.2">First, we will have to do some setup. </span><span class="koboSpan" id="kobo.143.3">Let’s use a Gemfile, which we learned about in previous chapters. </span><span class="koboSpan" id="kobo.143.4">In an empty folder, create a file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.144.1">Gemfile</span></strong><span class="koboSpan" id="kobo.145.1"> and add the following code </span><span class="No-Break"><span class="koboSpan" id="kobo.146.1">to it:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.147.1">
# Gemfile
gem "debug", "&gt;= 1.0.0"</span></pre> <p><span class="koboSpan" id="kobo.148.1">Next, we are going to install the gems listed in this file by running the following command within </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">our shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.150.1">
bundle install</span></pre> <p><span class="koboSpan" id="kobo.151.1">This should output something similar </span><span class="No-Break"><span class="koboSpan" id="kobo.152.1">to this:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.153.1">
Resolving dependencies...
</span><span class="koboSpan" id="kobo.153.2">Using bundler 2.4.6
Using debug 1.7.1
Bundle complete! </span><span class="koboSpan" id="kobo.153.3">1 Gemfile dependency, 2 gems now installed.
</span><span class="koboSpan" id="kobo.153.4">Use `bundle info [gemname]` to see where a bundled gem is installed.</span></pre> <p><span class="koboSpan" id="kobo.154.1">And with this, we have installed the debug gem in our system. </span><span class="koboSpan" id="kobo.154.2">Now let’s test it out. </span><span class="koboSpan" id="kobo.154.3">To save time, you should </span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.155.1">download the example from the </span><span class="No-Break"><span class="koboSpan" id="kobo.156.1">GitHub repo:</span></span></p>
<p><a href="https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/blob/main/chapter06/debuggable_example.rb"><span class="No-Break"><span class="koboSpan" id="kobo.157.1">https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/blob/main/chapter06/debuggable_example.rb</span></span></a></p>
<p><span class="koboSpan" id="kobo.158.1">You can also type the whole code, though I wouldn’t recommend it as it contains a very </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">long string:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.160.1">
# debuggable_example.rb
require 'digest'
user = Hash.new
user['name'] = 'admin'
user['password'] = 'secret'
SECRET_SHA2_PASSWORD = '32b363908ba2382c892800589d6aa3104dc41e6789d2d6a12512c34ec0632834'
user_sha2_input = Digest::SHA2.hexdigest(user['password'])
if user_sha2_input == SECRET_SHA2_PASSWORD
  print "Your password is CORRECT"
else
  print "Your password is INCORRECT"
end</span></pre> <p><span class="koboSpan" id="kobo.161.1">The preceding code may seem a bit complicated at first, but for now, let’s focus on running it and the output, and</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.162.1"> we will explain the outcome of </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">the script.</span></span></p>
<p><span class="koboSpan" id="kobo.164.1">Let’s run our code from the shell with </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.166.1">
ruby debuggable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.167.1">This will output </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.169.1">
Your password is INCORRECT</span></pre> <p><span class="koboSpan" id="kobo.170.1">Our code is basically ciphering a password with an algorithm called SHA2 and compares it to an already ciphered string with the same algorithm. </span><span class="koboSpan" id="kobo.170.2">We use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">digest</span></strong><span class="koboSpan" id="kobo.172.1"> module, which we import at the beginning of the file, to cipher the password with </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">Digest::SHA2</span></strong><span class="koboSpan" id="kobo.174.1">. </span><span class="koboSpan" id="kobo.174.2">If the passwords match, we should get the message </span><strong class="source-inline"><span class="koboSpan" id="kobo.175.1">Your password is CORRECT</span></strong><span class="koboSpan" id="kobo.176.1">. </span><span class="koboSpan" id="kobo.176.2">However, we can infer from the output that the passwords do not match. </span><span class="koboSpan" id="kobo.176.3">To debug, instead of printing </span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.177.1">values here and there with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">print()</span></strong><span class="koboSpan" id="kobo.179.1"> function, let’s use the debug gem. </span><span class="koboSpan" id="kobo.179.2">Since</span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.180.1"> we already installed the gem, we can just import said gem into our script. </span><span class="koboSpan" id="kobo.180.2">Let’s do that. </span><span class="koboSpan" id="kobo.180.3">Let’s add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">require</span></strong><span class="koboSpan" id="kobo.182.1"> statement to our third line of code so that the first four lines of code now look </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.184.1">
# debuggable_example.rb
require 'digest'
require 'debug'
user = Hash.new
…</span></pre> <p><span class="koboSpan" id="kobo.185.1">Now that the gem has been imported, we can now create a breakpoint. </span><span class="koboSpan" id="kobo.185.2">A breakpoint is a line of code that is taken by a debugger program to pause the execution and let us analyze a program within that specific line of code. </span><span class="koboSpan" id="kobo.185.3">It’ll be more clear once we try it out. </span><span class="koboSpan" id="kobo.185.4">So, let’s add a breakpoint right after the hash value for </span><strong class="source-inline"><span class="koboSpan" id="kobo.186.1">name</span></strong><span class="koboSpan" id="kobo.187.1"> that has been set. </span><span class="koboSpan" id="kobo.187.2">Our code should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.188.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.189.1">
# debuggable_example.rb
require 'digest'
require 'debug'
user = Hash.new
user['name'] = 'admin'
user['password'] = 'secret'
SECRET_SHA2_PASSWORD = '32b363908ba2382c892800589d6aa3104dc41e6789d2d6a12512c34ec0632834'
binding.break
user_sha2_input = Digest::SHA2.hexdigest(user['password'])
if user_sha2_input == SECRET_SHA2_PASSWORD
  print "Your password is CORRECT"
else
  print "Your password is INCORRECT"
end</span></pre> <p><span class="koboSpan" id="kobo.190.1">Now, let’s run our script just like any </span><span class="No-Break"><span class="koboSpan" id="kobo.191.1">other script:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.192.1">
ruby debuggable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.193.1">But you’ll notice something new. </span><span class="koboSpan" id="kobo.193.2">Our script will now result in a pause in the middle of the execution. </span><span class="koboSpan" id="kobo.193.3">Instead of </span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.194.1">outputting the text, our shell will now look</span><a id="_idIndexMarker303"/> <span class="No-Break"><span class="koboSpan" id="kobo.195.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.196.1">
[4, 13] in debuggable_example.rb
     4|
     5| user = Hash.new
     6| user['name'] = 'admin'
     7| user['password'] = 'admin'
     8| SECRET_SHA2_PASSWORD = '32b3639…'
=&gt;   9| binding.break
    10| user_sha2_input = Digest::SHA2.hexdigest
        (user['password'])
    11|
    12| if user_sha2_input == SECRET_SHA2_PASSWORD
    13|   print "Your password is CORRECT"
=&gt;#0  &lt;main&gt; at debuggable_example.rb:9
(rdbg)</span></pre> <p><span class="koboSpan" id="kobo.197.1">I’ve truncated the ciphered value (</span><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">'32b3639…'</span></strong><span class="koboSpan" id="kobo.199.1">), but on your screen, it should show the full value. </span><span class="koboSpan" id="kobo.199.2">Notice how the execution has paused. </span><span class="koboSpan" id="kobo.199.3">What sorcery is this? </span><span class="koboSpan" id="kobo.199.4">Nothing other than the debug gem in action. </span><span class="koboSpan" id="kobo.199.5">And we can now even test things out. </span><span class="koboSpan" id="kobo.199.6">For example, let’s see what’s inside of the user hash. </span><span class="koboSpan" id="kobo.199.7">Within</span><a id="_idIndexMarker304"/><span class="koboSpan" id="kobo.200.1"> our debug shell, let’s type </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">the </span></span><span class="No-Break"><a id="_idIndexMarker305"/></span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.203.1">
user</span></pre> <p><span class="koboSpan" id="kobo.204.1">Right after pressing </span><em class="italic"><span class="koboSpan" id="kobo.205.1">Enter</span></em><span class="koboSpan" id="kobo.206.1">, the shell will return the value that has been assigned </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">user</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.210.1">
(rdbg) user
{"name"=&gt;"admin", "password"=&gt;"secret"}
(rdbg)</span></pre> <p><span class="koboSpan" id="kobo.211.1">Notice how our </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">user</span></strong><span class="koboSpan" id="kobo.213.1"> variable has both </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">name</span></strong><span class="koboSpan" id="kobo.215.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">password</span></strong><span class="koboSpan" id="kobo.217.1"> indexes. </span><span class="koboSpan" id="kobo.217.2">But what would happen if we tried to get the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">user_sha2_input</span></strong><span class="koboSpan" id="kobo.219.1"> variable? </span><span class="koboSpan" id="kobo.219.2">Let’s do it. </span><span class="koboSpan" id="kobo.219.3">On the debug shell, type </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.221.1">
user_sha2_input</span></pre> <p><span class="koboSpan" id="kobo.222.1">This returns an </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">empty value:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.224.1">
(ruby) user_sha2_input
nil
(rdbg)</span></pre> <p><span class="koboSpan" id="kobo.225.1">This is because the program has not yet reached the code where that variable is set. </span><span class="koboSpan" id="kobo.225.2">However, this special shell is already providing useful information by showing us all sorts of data related to the execution, such as what script we are running (</span><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">debuggable_example.rb</span></strong><span class="koboSpan" id="kobo.227.1">), and what line we are currently at (</span><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">=&gt; 9| binding.break</span></strong><span class="koboSpan" id="kobo.229.1">). </span><span class="koboSpan" id="kobo.229.2">We can also interact with this shell. </span><span class="koboSpan" id="kobo.229.3">Let’s type </span><strong class="source-inline"><span class="koboSpan" id="kobo.230.1">next</span></strong><span class="koboSpan" id="kobo.231.1"> and then </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">press </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.233.1">Enter</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.235.1">
(rdbg) next</span></pre> <p><span class="koboSpan" id="kobo.236.1">This will move forward in the breakpoint one line at a time. </span><span class="koboSpan" id="kobo.236.2">The shell will re-render again so that it now displays </span><span class="No-Break"><span class="koboSpan" id="kobo.237.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.238.1">
[5, 14] in debuggable_example.rb
     5| user = Hash.new
     6| user['name'] = 'admin'
     7| user['password'] = 'admin'
     8| SECRET_SHA2_PASSWORD = '32b3639…'
     9| binding.break
=&gt;  10| user_sha2_input = Digest::SHA2.hexdigest
        (user['password'])
    11|
    12| if user_sha2_input == SECRET_SHA2_PASSWORD
    13|   print "Your password is CORRECT"
    14| else
=&gt;#0  &lt;main&gt; at debuggable_example.rb:10
(rdbg)</span></pre> <p><span class="koboSpan" id="kobo.239.1">Notice that we moved from line 9 to line 10. </span><span class="koboSpan" id="kobo.239.2">Let’s move one more line of code so that we allow the program to assign</span><a id="_idIndexMarker306"/><span class="koboSpan" id="kobo.240.1"> the password. </span><span class="koboSpan" id="kobo.240.2">This time we will use the</span><a id="_idIndexMarker307"/><span class="koboSpan" id="kobo.241.1"> shortcut for </span><strong class="source-inline"><span class="koboSpan" id="kobo.242.1">next</span></strong><span class="koboSpan" id="kobo.243.1">, which is just the first </span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">letter, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">n</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.247.1">
(rdbg) n</span></pre> <p><span class="koboSpan" id="kobo.248.1">As it renders yet again, we now see that our breakpoint has moved to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">if</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.250.1"> statement:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.251.1">
[5, 14] in debuggable_example.rb
     5| user = Hash.new
     6| user['name'] = 'admin'
     7| binding.break
     8| user['password'] = 'admin'
     9|
=&gt;  10| if user_sha2_input == SECRET_SHA2_PASSWORD
    11|   print "Your password is CORRECT"
    12| else
    13|   print "Your password is INCORRECT"
    14| end
=&gt;#0  &lt;main&gt; at debuggable_example.rb:10
(rdbg)</span></pre> <p><span class="koboSpan" id="kobo.252.1">Now we can view the </span><a id="_idIndexMarker308"/><span class="koboSpan" id="kobo.253.1">contents of the password. </span><span class="koboSpan" id="kobo.253.2">Again, let’s type the </span><strong class="source-inline"><span class="koboSpan" id="kobo.254.1">user_sha2_input</span></strong><span class="koboSpan" id="kobo.255.1"> variable in this </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">debugging shell:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.257.1">
(rdbg) user_sha2_input</span></pre> <p><span class="koboSpan" id="kobo.258.1">We confirm that the</span><a id="_idIndexMarker309"/><span class="koboSpan" id="kobo.259.1"> value is now there, as the output is now </span><span class="No-Break"><span class="koboSpan" id="kobo.260.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.261.1">
(rdbg) user_sha2_input
2bb80d537b1da3e38bd30361aa855686bde0eacd7162fef6a25fe97bf527a25b
(rdbg)</span></pre> <p><span class="koboSpan" id="kobo.262.1">This is where our shell becomes extremely handy. </span><span class="koboSpan" id="kobo.262.2">We can test the </span><strong class="source-inline"><span class="koboSpan" id="kobo.263.1">if</span></strong><span class="koboSpan" id="kobo.264.1"> clause prior to executing it. </span><span class="koboSpan" id="kobo.264.2">Let’s copy the </span><strong class="source-inline"><span class="koboSpan" id="kobo.265.1">if</span></strong><span class="koboSpan" id="kobo.266.1"> clause, but without the </span><strong class="source-inline"><span class="koboSpan" id="kobo.267.1">if</span></strong><span class="koboSpan" id="kobo.268.1"> keyword, and paste it into the </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">debug shell:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.270.1">
user_sha2_input == SECRET_SHA2_PASSWORD</span></pre> <p><span class="koboSpan" id="kobo.271.1">This returns what the </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">if</span></strong><span class="koboSpan" id="kobo.273.1"> sentence </span><span class="No-Break"><span class="koboSpan" id="kobo.274.1">is evaluating:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.275.1">
false</span></pre> <p><span class="koboSpan" id="kobo.276.1">Apparently, someone changed the password to our script but made a mistake. </span><span class="koboSpan" id="kobo.276.2">You see, the problem with the SHA2 algorithm is that it’s not an encryption algorithm that you can encrypt and decrypt so that you can get the original value. </span><span class="koboSpan" id="kobo.276.3">SHA2 is a hashing algorithm, which means that you are only able to cipher a value. </span><span class="koboSpan" id="kobo.276.4">If you need to use it for a password, then what you do is save this ciphered value and compare it to the user’s ciphered input. </span><span class="koboSpan" id="kobo.276.5">That way, not even the program has the original password, thus protecting the user’s password even from the program itself. </span><span class="koboSpan" id="kobo.276.6">In this case, we can quickly confirm that the passwords don’t match. </span><span class="koboSpan" id="kobo.276.7">Let’s debug this issue. </span><span class="koboSpan" id="kobo.276.8">Let’s compare ciphered values. </span><span class="koboSpan" id="kobo.276.9">First, let’s output the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">user_sha2_input</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.278.1"> value:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.279.1">
user_sha2_input</span></pre> <p><span class="koboSpan" id="kobo.280.1">This returns </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.282.1">
2bb80d537b1da3e38bd30361aa855686bde0eacd7162fef6a25fe97bf527a25b</span></pre> <p><span class="koboSpan" id="kobo.283.1">And if we compare it to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">SECRET_SHA2_PASSWORD</span></strong><span class="koboSpan" id="kobo.285.1"> value from our code, we see </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.287.1">
32b363908ba2382c892800589d6aa3104dc41e6789d2d6a12512c34ec0632834</span></pre> <p><span class="koboSpan" id="kobo.288.1">Seeing them close to each</span><a id="_idIndexMarker310"/><span class="koboSpan" id="kobo.289.1"> other, we can easily see just from the first four digits that they have different values. </span><span class="koboSpan" id="kobo.289.2">But before we fix our code, let’s finish our script’s execution with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">continue</span></strong><span class="koboSpan" id="kobo.291.1"> debug </span><a id="_idIndexMarker311"/><span class="koboSpan" id="kobo.292.1">command by typing it into the </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">debug shell:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.294.1">
(rdbg) continue</span></pre> <p><span class="koboSpan" id="kobo.295.1">This will continue our script’s execution until it either finds another breakpoint (of which there are no more in this case) or until it reaches the end of the program (as in this case). </span><span class="koboSpan" id="kobo.295.2">Additionally, it will output the same text as the first time we ran </span><span class="No-Break"><span class="koboSpan" id="kobo.296.1">our script:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.297.1">
(rdbg) continue    # command
Your password is INCORRECT</span></pre> <p><span class="koboSpan" id="kobo.298.1">Now the shell is back to normal, we can get on to fixing the issue. </span><span class="koboSpan" id="kobo.298.2">Unfortunately, there is no way to get the original password (at least not until quantum computers are available to us). </span><span class="koboSpan" id="kobo.298.3">Fortunately, we already have the correct value from our previous </span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">debug session:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.300.1">
2bb80d537b1da3e38bd30361aa855686bde0eacd7162fef6a25fe97bf527a25b</span></pre> <p><span class="koboSpan" id="kobo.301.1">We can just copy this value into our </span><strong class="source-inline"><span class="koboSpan" id="kobo.302.1">SECRET_SHA2_PASSWORD</span></strong><span class="koboSpan" id="kobo.303.1"> variable and remove the breakpoint, so our code now looks </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.305.1">
# debuggable_example.rb
require 'digest'
require 'debug'
user = Hash.new
user['name'] = 'admin'
user['password'] = 'secret'
SECRET_SHA2_PASSWORD = '2bb80d537b1da3e38bd30361aa855686bde0eacd7162fef6a25fe97bf527a25b'
user_sha2_input = Digest::SHA2.hexdigest(user['password'])
if user_sha2_input == SECRET_SHA2_PASSWORD
  print "Your password is CORRECT"
else
  print "Your password is INCORRECT"
end</span></pre> <p><span class="koboSpan" id="kobo.306.1">Let’s run it once more to </span><a id="_idIndexMarker312"/><span class="koboSpan" id="kobo.307.1">confirm that the fix is correct by typing this in </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">our shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.309.1">
ruby debuggable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.310.1">The output should be </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">the </span></span><span class="No-Break"><a id="_idIndexMarker313"/></span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.313.1">
Your password is CORRECT</span></pre> <p><span class="koboSpan" id="kobo.314.1">With this, we have successfully debugged our script with the debug gem. </span><span class="koboSpan" id="kobo.314.2">As we previously saw, with the debug gem, we can run a script line by line, and add more than one break point, and that was just a simple example. </span><span class="koboSpan" id="kobo.314.3">I recommend you play around with this gem more and take a peek at other commands that the gem </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">supports: </span></span><a href="https://github.com/ruby/debug"><span class="No-Break"><span class="koboSpan" id="kobo.316.1">https://github.com/ruby/debug</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.317.1">.</span></span></p>
<h2 id="_idParaDest-97"><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.318.1">The pry gem</span></h2>
<p><span class="koboSpan" id="kobo.319.1">The debug gem is only one of the options that we have available to debug our code nowadays. </span><span class="koboSpan" id="kobo.319.2">The second gem</span><a id="_idIndexMarker314"/><span class="koboSpan" id="kobo.320.1"> we are going to take a look at for debugging is the pry gem. </span><span class="koboSpan" id="kobo.320.2">As its</span><a id="_idIndexMarker315"/><span class="koboSpan" id="kobo.321.1"> name clearly suggests, pry is a a gem that spawns an interactive console that is able to observe deep within a Ruby program. </span><span class="koboSpan" id="kobo.321.2">From its GitHub page, we get that pry is an attempt to replace the classic </span><strong class="bold"><span class="koboSpan" id="kobo.322.1">Interactive Ruby</span></strong><span class="koboSpan" id="kobo.323.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.324.1">IRB</span></strong><span class="koboSpan" id="kobo.325.1">). </span><span class="koboSpan" id="kobo.325.2">Though it has its similarities with the debug gem, it does have its own approach to the debug paradigm. </span><span class="koboSpan" id="kobo.325.3">Let’s take it out for a test drive so you can see what I’m talking about. </span><span class="koboSpan" id="kobo.325.4">We’ll start by simply installing the gem by running the following command on our </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">command shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.327.1">
gem install pry</span></pre> <p><span class="koboSpan" id="kobo.328.1">We should see the </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">following output:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.330.1">
Fetching pry-0.14.2.gem
Successfully installed pry-0.14.2
Parsing documentation for pry-0.14.2
Installing ri documentation for pry-0.14.2
Done installing documentation for pry after 0 seconds
1 gem installed</span></pre> <p><span class="koboSpan" id="kobo.331.1">Now you can either </span><a id="_idIndexMarker316"/><span class="koboSpan" id="kobo.332.1">download the example from </span><a href="https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/blob/main/chapter06/pryable_example.rb"><span class="koboSpan" id="kobo.333.1">https://github.com/PacktPublishing/From-PHP-to-Ruby-on-Rails/blob/main/chapter06/pryable_example.rb</span></a><span class="koboSpan" id="kobo.334.1"> or simply type the code. </span><span class="koboSpan" id="kobo.334.2">The file we either download or create should be named </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">pryable_example.rb</span></strong><span class="koboSpan" id="kobo.336.1"> and it </span><a id="_idIndexMarker317"/><span class="koboSpan" id="kobo.337.1">looks </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.339.1">
# pryable_example.rb
class Person
  attr_accessor :first_name, :last_name
  def full_name
    puts "#{first_name}#{last_name}"
  end
end
person = Person.new
person.first_name = "Zach"
person.last_name = "Smith"
person.full_name</span></pre> <p><span class="koboSpan" id="kobo.340.1">Now let’s execute the script we just created from </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">the shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.342.1">
ruby pryable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.343.1">It should output just </span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">a name:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.345.1">
ZachSmith</span></pre> <p><span class="koboSpan" id="kobo.346.1">Of course, we made a typo on purpose (failing to include a space between the name and last name), but now let’s</span><a id="_idIndexMarker318"/><span class="koboSpan" id="kobo.347.1"> see the pry magic. </span><span class="koboSpan" id="kobo.347.2">Let’s import </span><strong class="source-inline"><span class="koboSpan" id="kobo.348.1">pry</span></strong><span class="koboSpan" id="kobo.349.1"> and add a breakpoint. </span><span class="koboSpan" id="kobo.349.2">Our code should now look </span><a id="_idIndexMarker319"/><span class="No-Break"><span class="koboSpan" id="kobo.350.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.351.1">
# pryable_example.rb
require 'pry'
class Person
  attr_accessor :first_name, :last_name
  def full_name
    puts "#{first_name}#{last_name}"
  end
end
person = Person.new
person.first_name = "Zach"
person.last_name = "Smith"
binding.pry
person.full_name</span></pre> <p><span class="koboSpan" id="kobo.352.1">Let’s run our </span><span class="No-Break"><span class="koboSpan" id="kobo.353.1">script again:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.354.1">
ruby pryable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.355.1">And, just like the debug gem, we will also enter an </span><span class="No-Break"><span class="koboSpan" id="kobo.356.1">interactive shell:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.357.1">
     9: end
    10:
    11: person = Person.new
    12: person.first_name = "Zach"
    13: person.last_name = "Smith"
 =&gt; 14: binding.pry
    15: person.full_name
[1] pry(main)&gt;</span></pre> <p><span class="koboSpan" id="kobo.358.1">What we must consider here is that the commands are going to be different. </span><span class="koboSpan" id="kobo.358.2">We will start with a simple command </span><a id="_idIndexMarker320"/><span class="koboSpan" id="kobo.359.1">within this shell. </span><span class="koboSpan" id="kobo.359.2">Let’s type </span><strong class="source-inline"><span class="koboSpan" id="kobo.360.1">ls</span></strong><span class="koboSpan" id="kobo.361.1"> (that’s a lowercase L and a lowercase S), just like the </span><span class="No-Break"><span class="koboSpan" id="kobo.362.1">Linux command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.363.1">
ls</span></pre> <p><span class="koboSpan" id="kobo.364.1">The prompt will return </span><a id="_idIndexMarker321"/><span class="koboSpan" id="kobo.365.1">something </span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">like this:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.367.1">
[6] pry(main)&gt; ls
self.methods: inspect  to_s
locals: _  __  _dir_  _ex_  _file_  _in_  _out_  person
pry_instance
[7] pry(main)&gt;</span></pre> <p><span class="koboSpan" id="kobo.368.1">Pry lists the content (in memory) from our program, and pry lists it as if it were a filesystem. </span><span class="koboSpan" id="kobo.368.2">If we wanted to “pry” into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">person</span></strong><span class="koboSpan" id="kobo.370.1"> object, we could navigate as if it were a folder. </span><span class="koboSpan" id="kobo.370.2">Let’s do that with the </span><span class="No-Break"><span class="koboSpan" id="kobo.371.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.372.1">
cd person</span></pre> <p><span class="koboSpan" id="kobo.373.1">And right after that, let’s do an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.374.1">ls</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.375.1"> again:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.376.1">
ls</span></pre> <p><span class="koboSpan" id="kobo.377.1">Now the prompt will show the contents </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">person</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.381.1">
[7] pry(main)&gt; cd person
[8] pry(#&lt;Person&gt;):1&gt; ls
Person#methods: first_name  first_name=  full_name  last_name  last_name=
self.methods: __pry__
instance variables: @first_name  @last_name
locals: _  __  _dir_  _ex_  _file_  _in_  _out_
  pry_instance
[9] pry(#&lt;Person&gt;):1&gt;</span></pre> <p><span class="koboSpan" id="kobo.382.1">Depending on the version of Ruby that you may have installed, you may see the previous prompt or a similar one with slight variations, but one way or another they will all show the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">person</span></strong><span class="koboSpan" id="kobo.384.1"> object. </span><span class="koboSpan" id="kobo.384.2">If we closely take a look, we see the </span><strong class="source-inline"><span class="koboSpan" id="kobo.385.1">first_name</span></strong><span class="koboSpan" id="kobo.386.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.387.1">last_name</span></strong><span class="koboSpan" id="kobo.388.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.389.1">full_name</span></strong><span class="koboSpan" id="kobo.390.1"> methods in addition to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">@first_name</span></strong><span class="koboSpan" id="kobo.392.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.393.1">@last_name</span></strong><span class="koboSpan" id="kobo.394.1"> variables. </span><span class="koboSpan" id="kobo.394.2">That is one of the advantages of </span><strong class="source-inline"><span class="koboSpan" id="kobo.395.1">pry</span></strong><span class="koboSpan" id="kobo.396.1"> as it allows us to dig deep into an object. </span><span class="koboSpan" id="kobo.396.2">Another useful thing we can do is fix and reload our code, which simply means that</span><a id="_idIndexMarker322"/><span class="koboSpan" id="kobo.397.1"> we can change part of the code and then reload it into memory without having</span><a id="_idIndexMarker323"/><span class="koboSpan" id="kobo.398.1"> to stop the current execution. </span><span class="koboSpan" id="kobo.398.2">If we go to our source code, and we fix line seven by adding a space between </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">first_name</span></strong><span class="koboSpan" id="kobo.400.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">last_name</span></strong><span class="koboSpan" id="kobo.402.1">, our code should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.404.1">
# pryable_example.rb
require 'pry'
class Person
  attr_accessor :first_name, :last_name
  def full_name
    puts "#{first_name} #{last_name}"
  end
end
person = Person.new
person.first_name = "Zach"
person.last_name = "Smith"
binding.pry
person.full_name</span></pre> <p><span class="koboSpan" id="kobo.405.1">Lastly, while still in our interactive shell, we run </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">this command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.407.1">
reload-method</span></pre> <p><span class="koboSpan" id="kobo.408.1">This should make the prompt</span><a id="_idIndexMarker324"/><span class="koboSpan" id="kobo.409.1"> show us where our breakpoint </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">is again:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.411.1">
     9: end
    10:
    11: person = Person.new
    12: person.first_name = "Zach"
    13: person.last_name = "Smith"
 =&gt; 14: binding.pry
    15: person.full_name</span></pre> <p><span class="koboSpan" id="kobo.412.1">Now let’s get the full name </span><a id="_idIndexMarker325"/><span class="koboSpan" id="kobo.413.1">again by typing </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.415.1">
person.full_name</span></pre> <p><span class="koboSpan" id="kobo.416.1">We then see the fixed full name in </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">the output:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.418.1">
[1] pry(main)&gt; person.full_name
Zach Smith
=&gt; nil
[2] pry(main)&gt;</span></pre> <p><span class="koboSpan" id="kobo.419.1">We can now exit the debug shell with pry’s exit </span><span class="No-Break"><span class="koboSpan" id="kobo.420.1">alias (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.421.1">!!!</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.422.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.423.1">
!!!</span></pre> <p><span class="koboSpan" id="kobo.424.1">This exits the debug shell. </span><span class="koboSpan" id="kobo.424.2">So, as you can see, we have a lot of advantages, such as the level of depth of our view of the object. </span><span class="koboSpan" id="kobo.424.3">However, we do have a major downside. </span><span class="koboSpan" id="kobo.424.4">With pry, we can only see the contents of that specific moment of execution. </span><span class="koboSpan" id="kobo.424.5">We cannot move to another line of code as with debug. </span><span class="koboSpan" id="kobo.424.6">What we can do is add multiple breakpoints as pry allows it. </span><span class="koboSpan" id="kobo.424.7">Either way, don’t let that</span><a id="_idIndexMarker326"/><span class="koboSpan" id="kobo.425.1"> downside deter you from trying </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">it out.</span></span></p>
<h2 id="_idParaDest-98"><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.427.1">The byebug gem</span></h2>
<p><span class="koboSpan" id="kobo.428.1">And yet another tool that is available</span><a id="_idIndexMarker327"/><span class="koboSpan" id="kobo.429.1"> for us is the byebug gem. </span><span class="koboSpan" id="kobo.429.2">Byebug is another debugger that does not depend on internal core sources. </span><span class="koboSpan" id="kobo.429.3">It works in a similar manner to the two options that we’ve previously reviewed. </span><span class="koboSpan" id="kobo.429.4">Additionally, the gem has support for </span><a id="_idIndexMarker328"/><span class="koboSpan" id="kobo.430.1">popular IDEs such as Sublime, Atom, and </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">VS Code.</span></span></p>
<p><span class="koboSpan" id="kobo.432.1">Let’s take a quick dive into this tool. </span><span class="koboSpan" id="kobo.432.2">We are going to install the byebug gem. </span><span class="koboSpan" id="kobo.432.3">On a shell, type the </span><span class="No-Break"><span class="koboSpan" id="kobo.433.1">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.434.1">
gem install byebug</span></pre> <p><span class="koboSpan" id="kobo.435.1">We should see the following output on </span><span class="No-Break"><span class="koboSpan" id="kobo.436.1">our shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.437.1">
Fetching byebug-11.1.3.gem
Building native extensions. </span><span class="koboSpan" id="kobo.437.2">This could take a while...
</span><span class="koboSpan" id="kobo.437.3">Successfully installed byebug-11.1.3
Parsing documentation for byebug-11.1.3
Installing ri documentation for byebug-11.1.3
Done installing documentation for byebug after 4 seconds
1 gem installed</span></pre> <p><span class="koboSpan" id="kobo.438.1">Now that the gem is </span><a id="_idIndexMarker329"/><span class="koboSpan" id="kobo.439.1">available, let’s create a file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.440.1">byeable_example.rb</span></strong><span class="koboSpan" id="kobo.441.1"> with the </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">following content:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.443.1">
# byeable_example.rb
require 'byebug'
[1,5,7,9].each do |index|
  not_label = index ? </span><span class="koboSpan" id="kobo.443.2">"NOT":""
  output = "#{index} is #{not_label} larger than 6"
  puts output
end</span></pre> <p><span class="koboSpan" id="kobo.444.1">Let’s first run our program without</span><a id="_idIndexMarker330"/><span class="koboSpan" id="kobo.445.1"> any breakpoints. </span><span class="koboSpan" id="kobo.445.2">In our shell, let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.446.1">type this:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.447.1">
ruby byeable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.448.1">The output will be </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.450.1">
1 is NOT larger than 6
5 is NOT larger than 6
7 is NOT larger than 6
9 is NOT larger than 6</span></pre> <p><span class="koboSpan" id="kobo.451.1">Our program is showing the same message for every number, which is not what is intended. </span><span class="koboSpan" id="kobo.451.2">Since our gem is already installed and loaded, we only need to add a breakpoint. </span><span class="koboSpan" id="kobo.451.3">And we do that by adding the </span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">byebug</span></strong><span class="koboSpan" id="kobo.453.1"> text. </span><span class="koboSpan" id="kobo.453.2">Let’s add that to our code right before the output variable</span><a id="_idIndexMarker331"/><span class="koboSpan" id="kobo.454.1"> is printed. </span><span class="koboSpan" id="kobo.454.2">Our code should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.456.1">
# byeable_example.rb
require 'byebug'
[1,5,7,9].each do |index|
  not_label = index ? </span><span class="koboSpan" id="kobo.456.2">"NOT":""
  output = "#{index} is #{not_label} larger than 6"
  byebug
  puts output
end</span></pre> <p><span class="koboSpan" id="kobo.457.1">And again, let’s run our script in </span><span class="No-Break"><span class="koboSpan" id="kobo.458.1">the shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.459.1">
ruby byeable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.460.1">As with the other debuggers, we see our shell change into an interactive </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">debugging shell:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.462.1">
   1: # byeable_example.rb
   2: require 'byebug'
   3:
   4: [1,5,7,9].each do |index|
   5:   not_label = index ? </span><span class="koboSpan" id="kobo.462.2">"NOT":""
   6:   output = "#{index} is #{not_label} larger than 6"
   7:   byebug
=&gt; 8:   puts output
   9: end
(byebug)</span></pre> <p><span class="koboSpan" id="kobo.463.1">From this shell, we can write</span><a id="_idIndexMarker332"/><span class="koboSpan" id="kobo.464.1"> commands and see the contents of variables, just like we did with debugger and pry. </span><span class="koboSpan" id="kobo.464.2">We see the file and the breakpoint that we defined on line 7. </span><span class="koboSpan" id="kobo.464.3">At this point, we have </span><a id="_idIndexMarker333"/><span class="koboSpan" id="kobo.465.1">access to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.466.1">index</span></strong><span class="koboSpan" id="kobo.467.1"> variable. </span><span class="koboSpan" id="kobo.467.2">Let’s type this into the </span><span class="No-Break"><span class="koboSpan" id="kobo.468.1">byebug shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.469.1">
index</span></pre> <p><span class="koboSpan" id="kobo.470.1">We immediately see the value of </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">this variable:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.472.1">
1</span></pre> <p><span class="koboSpan" id="kobo.473.1">As we are inside an </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">each</span></strong><span class="koboSpan" id="kobo.475.1"> loop, the value for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">index</span></strong><span class="koboSpan" id="kobo.477.1"> variable has been populated by the first value from the array (</span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">[1,5,7,9]</span></strong><span class="koboSpan" id="kobo.479.1">), which in this case is </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1">1</span></strong><span class="koboSpan" id="kobo.481.1">. </span><span class="koboSpan" id="kobo.481.2">We can also view what’s inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1">not_label</span></strong><span class="koboSpan" id="kobo.483.1"> variable. </span><span class="koboSpan" id="kobo.483.2">Let’s type it on the </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">byebug shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.485.1">
not_label</span></pre> <p><span class="koboSpan" id="kobo.486.1">Now we see the contents of </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">said variable:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.488.1">
"NOT"</span></pre> <p><span class="koboSpan" id="kobo.489.1">This is because the </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">not_label</span></strong><span class="koboSpan" id="kobo.491.1"> variable is taking the </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">index</span></strong><span class="koboSpan" id="kobo.493.1"> value and instead of comparing it to 6, we are just passing it to the ternary operator (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.494.1">?</span></strong><span class="koboSpan" id="kobo.495.1"> symbol), ergo the </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">not_label</span></strong><span class="koboSpan" id="kobo.497.1"> variable will always have the text </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">"NOT"</span></strong><span class="koboSpan" id="kobo.499.1"> as its value. </span><span class="koboSpan" id="kobo.499.2">We can verify this by typing the </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">keyword </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">continue</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.503.1">
continue</span></pre> <p><span class="koboSpan" id="kobo.504.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">continue</span></strong><span class="koboSpan" id="kobo.506.1"> command will carry on the execution of the program until it finds another breakpoint. </span><span class="koboSpan" id="kobo.506.2">As we are inside a loop, we will move on to the next element in the array, until we reach the breakpoint again. </span><span class="koboSpan" id="kobo.506.3">Let’s see what’s inside the index value again in </span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">the shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.508.1">
index</span></pre> <p><span class="koboSpan" id="kobo.509.1">This will output </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1">the following:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.511.1">
5</span></pre> <p><span class="koboSpan" id="kobo.512.1">That confirms that we’ve moved to the next element in the array. </span><span class="koboSpan" id="kobo.512.2">Let’s see what’s inside of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.513.1">not_label</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.514.1">variable again:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.515.1">
not_label</span></pre> <p><span class="koboSpan" id="kobo.516.1">We should see the </span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">same value:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.518.1">
"NOT"</span></pre> <p><span class="koboSpan" id="kobo.519.1">This will happen with every </span><a id="_idIndexMarker334"/><span class="koboSpan" id="kobo.520.1">value assigned to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">index</span></strong><span class="koboSpan" id="kobo.522.1"> variable. </span><span class="koboSpan" id="kobo.522.2">So let’s exit by typing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">exit</span></strong><span class="koboSpan" id="kobo.524.1"> command on the </span><span class="No-Break"><span class="koboSpan" id="kobo.525.1">byebug shell:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.526.1">
exit</span></pre> <p><span class="koboSpan" id="kobo.527.1">Our shell should go back to</span><a id="_idIndexMarker335"/><span class="koboSpan" id="kobo.528.1"> normal. </span><span class="koboSpan" id="kobo.528.2">Now let’s fix our code by adding a comparison inside our </span><strong class="source-inline"><span class="koboSpan" id="kobo.529.1">not_label</span></strong><span class="koboSpan" id="kobo.530.1"> variable and removing our breakpoint. </span><span class="koboSpan" id="kobo.530.2">Our code should look </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.532.1">
# byeable_example.rb
require 'byebug'
[1,5,7,9].each do |index|
  not_label = index &lt; 6 ? </span><span class="koboSpan" id="kobo.532.2">"NOT":""
  output = "#{index} is #{not_label} larger than 6"
  puts output
end</span></pre> <p><span class="koboSpan" id="kobo.533.1">Now let’s do a final run of </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">our script:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.535.1">
ruby byeable_example.rb</span></pre> <p><span class="koboSpan" id="kobo.536.1">This should correctly output the </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">text messages:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.538.1">
1 is NOT larger than 6
5 is NOT larger than 6
7 is  larger than 6
9 is  larger than 6</span></pre> <p><span class="koboSpan" id="kobo.539.1">Congrats! </span><span class="koboSpan" id="kobo.539.2">Our code has been debugged and fixed. </span><span class="koboSpan" id="kobo.539.3">Again, this is a vastly simplified example, but I hope you get the idea of how useful byebug is. </span><span class="koboSpan" id="kobo.539.4">Byebug has additional commands, configuration options, and even a historical log of our commands. </span><span class="koboSpan" id="kobo.539.5">Please take a look at byebug’s GitHub</span><a id="_idIndexMarker336"/><span class="koboSpan" id="kobo.540.1"> page for more </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">information: </span></span><a href="https://github.com/deivid-rodriguez/byebug"><span class="No-Break"><span class="koboSpan" id="kobo.542.1">https://github.com/deivid-rodriguez/byebug</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.543.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.544.1">As you probably noticed, all of</span><a id="_idIndexMarker337"/><span class="koboSpan" id="kobo.545.1"> these gems work in a very similar manner. </span><span class="koboSpan" id="kobo.545.2">As we’ll see in the next section, this is because they are all built based </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">on IRB.</span></span></p>
<h1 id="_idParaDest-99"><a id="_idTextAnchor100"/><span class="koboSpan" id="kobo.547.1">Understanding IRB’s usefulness</span></h1>
<p><span class="koboSpan" id="kobo.548.1">In </span><a href="B19230_03.xhtml#_idTextAnchor037"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.549.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.550.1">, we briefly saw the </span><strong class="bold"><span class="koboSpan" id="kobo.551.1">IRB</span></strong><span class="koboSpan" id="kobo.552.1"> shell, and I hope you noticed some of the similarities between IRB and our debugging tools. </span><span class="koboSpan" id="kobo.552.2">Basically, what these gems do is </span><a id="_idIndexMarker338"/><span class="koboSpan" id="kobo.553.1">enhance IRB so that we can view variables in memory, move around execution points, and work in a “frozen” state of our program. </span><span class="koboSpan" id="kobo.553.2">At the end of the day, you will be able to choose which one of these tools is more convenient for your everyday use. </span><span class="koboSpan" id="kobo.553.3">I could steer you toward one, or you could simply use the built-in IRB. </span><span class="koboSpan" id="kobo.553.4">One technique I saw a fellow developer use was that he wrote most of his code in IRB, and once the code ran without problems, he would just copy the code from IRB into an IDE to save his work. </span><span class="koboSpan" id="kobo.553.5">This saved him a lot of time that he would have otherwise used on testing. </span><span class="koboSpan" id="kobo.553.6">Another coworker used a very popular IDE called RubyMine. </span><span class="koboSpan" id="kobo.553.7">This tool allows us </span><a id="_idIndexMarker339"/><span class="koboSpan" id="kobo.554.1">to add breaking points at the touch of a button (among many other features). </span><span class="koboSpan" id="kobo.554.2">Additionally, one downside of using debuggers is that you add debug code when setting up breakpoints. </span><span class="koboSpan" id="kobo.554.3">This could potentially break your code if you forget to remove the breakpoints when you commit your code into your code base. </span><span class="koboSpan" id="kobo.554.4">RubyMine removes that risk as breakpoints are not added to your code but rather managed by </span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">the IDE.</span></span></p>
<p><span class="koboSpan" id="kobo.556.1">Nowadays, most IDEs have integrated some sort of debugger mechanism for your convenience. </span><span class="koboSpan" id="kobo.556.2">As that might be outside </span><a id="_idIndexMarker340"/><span class="koboSpan" id="kobo.557.1">of the scope of this book, you might want to check those IDEs and their own implementation of debugging on </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">your own:</span></span></p>
<ul>
<li><a href="https://www.sublimetext.com/"><span class="No-Break"><span class="koboSpan" id="kobo.559.1">https://www.sublimetext.com/</span></span></a></li>
<li><a href="https://code.visualstudio.com/"><span class="No-Break"><span class="koboSpan" id="kobo.560.1">https://code.visualstudio.com/</span></span></a></li>
<li><a href="https://www.jetbrains.com/ruby/"><span class="No-Break"><span class="koboSpan" id="kobo.561.1">https://www.jetbrains.com/ruby/</span></span></a></li>
</ul>
<p><span class="koboSpan" id="kobo.562.1">Whatever path you take is entirely up to you. </span><span class="koboSpan" id="kobo.562.2">I just wanted to give you an understanding of what IRB is, and how powerful it can be in </span><span class="No-Break"><span class="koboSpan" id="kobo.563.1">Ruby development.</span></span></p>
<p><span class="koboSpan" id="kobo.564.1">PHP programmers who come from a Laravel background will be familiar with the tinker tool, which is basically an interactive shell for PHP with Laravel components loaded. </span><span class="koboSpan" id="kobo.564.2">I must admit that tinker (</span><a href="https://github.com/laravel/tinker"><span class="koboSpan" id="kobo.565.1">https://github.com/laravel/tinker</span></a><span class="koboSpan" id="kobo.566.1">) looks a lot like a tool that Ruby on Rails has: the Rails console. </span><span class="koboSpan" id="kobo.566.2">The Rails console is basically IRB with Ruby on Rails components loaded for ease of use. </span><span class="koboSpan" id="kobo.566.3">But let’s not get ahead of ourselves. </span><span class="koboSpan" id="kobo.566.4">We first must learn about Ruby </span><span class="No-Break"><span class="koboSpan" id="kobo.567.1">on Rails.</span></span></p>
<h1 id="_idParaDest-100"><a id="_idTextAnchor101"/><span class="koboSpan" id="kobo.568.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.569.1">In this chapter, we learned about the different functions we can use to debug in PHP and the equivalent in Ruby, and how to debug our code by using three different tools that are easily configured and installed. </span><span class="koboSpan" id="kobo.569.2">While not wanting to impose my debugging gem of choice, I will say that for several years I used pry, until byebug came along. </span><span class="koboSpan" id="kobo.569.3">I suggest you not only try byebug but also be on the lookout for new debugging gems. </span><span class="koboSpan" id="kobo.569.4">We also learned how to add breakpoints to our debug code and how useful and powerful these breakpoints can be during development. </span><span class="koboSpan" id="kobo.569.5">Lastly, we learned that all of these gems are basically enhanced IRBs, so we can easily use any of them as they all behave in a very </span><span class="No-Break"><span class="koboSpan" id="kobo.570.1">similar fashion.</span></span></p>
<p><span class="koboSpan" id="kobo.571.1">Having seen all this, we are now ready to board the Ruby on </span><span class="No-Break"><span class="koboSpan" id="kobo.572.1">Rails wagon.</span></span></p>
</div>


<div class="Content" id="_idContainer025">
<h1 id="_idParaDest-101" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor102"/><span class="koboSpan" id="kobo.1.1">Part 2:Ruby and the Web</span></h1>
<p><span class="koboSpan" id="kobo.2.1">In this part, you will get an introduction to how Ruby is used in web development through the most popular Ruby framework, Ruby on Rails. </span><span class="koboSpan" id="kobo.2.2">In addition to this, you will learn the basics of database handling and views, and finally, get an overview of the differences in hosting for Ruby on Rails applications in comparison to </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">PHP applications.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This part has the </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">following chapters:</span></span></p>
<ul>
<li><a href="B19230_07.xhtml#_idTextAnchor103"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 7</span></em></a><span class="koboSpan" id="kobo.7.1">, </span><em class="italic"><span class="koboSpan" id="kobo.8.1">Understanding Convention over Configuration</span></em></li>
<li><a href="B19230_08.xhtml#_idTextAnchor114"><em class="italic"><span class="koboSpan" id="kobo.9.1">Chapter 8</span></em></a><span class="koboSpan" id="kobo.10.1">, </span><em class="italic"><span class="koboSpan" id="kobo.11.1">Models, DBs, and Active Record</span></em></li>
<li><a href="B19230_09.xhtml#_idTextAnchor127"><em class="italic"><span class="koboSpan" id="kobo.12.1">Chapter 9</span></em></a><span class="koboSpan" id="kobo.13.1">, </span><em class="italic"><span class="koboSpan" id="kobo.14.1">Bringing It All Together</span></em></li>
<li><a href="B19230_10.xhtml#_idTextAnchor140"><em class="italic"><span class="koboSpan" id="kobo.15.1">Chapter 10</span></em></a><span class="koboSpan" id="kobo.16.1">, </span><em class="italic"><span class="koboSpan" id="kobo.17.1">Considerations for Hosting Rails Applications versus PHP Applications</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer026">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer027">
</div>
</div>
</body></html>
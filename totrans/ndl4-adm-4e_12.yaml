- en: '12'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '12'
- en: Gaining Insights through Moodle Reporting and Analytics
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过Moodle报告和分析获得洞察
- en: Moodle collects usage data from various activities from when users log in until
    they log out. This data can be utilized for a range of reporting and analytics
    activities, all of which will be dealt with in this chapter.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle从用户登录到登出期间收集各种活动的使用数据。这些数据可用于各种报告和分析活动，所有这些活动都将在本章中处理。
- en: 'To get an overview of the topics that will be covered, have a look at the following
    diagram:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解将要涵盖的主题概述，请查看以下图表：
- en: '![Figure 12.1 – Reporting overview ](img/Figure_12.01_B18779.jpg)'
  id: totrans-4
  prefs: []
  type: TYPE_IMG
  zh: '![图12.1 – 报告概述](img/Figure_12.01_B18779.jpg)'
- en: Figure 12.1 – Reporting overview
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.1 – 报告概述
- en: 'There are two types of reports in Moodle: **custom reports** created with the
    report generator and **log-based reports**, hardcoded in Moodle.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle中有两种类型的报告：使用报告生成器创建的**自定义报告**和硬编码在Moodle中的**基于日志的报告**。
- en: 'The first part of this chapter will provide an overview of the **report generator**
    and cover data sources, report building, report audiences, and schedules. We will
    also briefly cover a more technical third-party report generator: Configurable
    reports.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的第一部分将概述**报告生成器**，并涵盖数据源、报告构建、报告受众和计划。我们还将简要介绍一个更技术性的第三方报告生成器：可配置报告。
- en: The second part of this chapter deals with log-based reports. After a detailed
    overview of the underlying **Moodle logging framework** and its components, events,
    and log stores, you will learn how to interact with Moodle logs.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的第二部分讨论基于日志的报告。在详细概述了底层**Moodle日志框架**及其组件、事件和日志存储之后，您将学习如何与Moodle日志进行交互。
- en: 'Finally, we will deal with two more reporting techniques that use logs as their
    basis: **Moodle statistics** and **Moodle analytics**.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将处理两种使用日志作为其基础的更多报告技术：**Moodle统计数据**和**Moodle分析**。
- en: We won’t cover **system reports** in this chapter – that is, reports that deal
    with a particular topic; they will be dealt with when the relevant topics are
    covered. For instance, backups reports will be described in [*Chapter 16*](B18779_16.xhtml#_idTextAnchor308),
    *Avoiding Sleepless Nights – Moodle Backup and Restore*.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在本章中不会涵盖**系统报告**——即处理特定主题的报告；它们将在相关主题被覆盖时处理。例如，备份报告将在[*第16章*](B18779_16.xhtml#_idTextAnchor308)中描述，*避免失眠之夜——Moodle备份和恢复*。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Creating custom reports with the report generator
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用报告生成器创建自定义报告
- en: Understanding Moodle’s logging framework
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解Moodle的日志框架
- en: Interacting with log-based reports
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与基于日志的报告交互
- en: Gathering statistics
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集统计数据
- en: Making predictions with Moodle Analytics
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Moodle分析进行预测
- en: OK, let’s start with the first part of this chapter and create custom reports
    with the report generator.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，让我们从本章的第一部分开始，并使用报告生成器创建自定义报告。
- en: Creating custom reports with the report generator
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用报告生成器创建自定义报告
- en: The **report generator** was initially implemented as part of Moodle Workplace,
    Moodle’s powerful and flexible learning platform for corporate training and workplace
    learning. Due to its popularity in Moodle’s commercial edition and its applicability
    across sectors, it was decided to port the report generator to Moodle 4\. The
    stripped-down version has been adopted by Moodle and has proven to be a valuable
    addition to creating custom reports.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '**报告生成器**最初作为Moodle Workplace的一部分实现，这是Moodle强大的灵活的学习平台，适用于企业培训和职场学习。由于其Moodle商业版中的流行以及其在各行业的适用性，决定将报告生成器移植到Moodle
    4。简化版已被Moodle采用，并已被证明是创建自定义报告的有价值补充。'
- en: So, before we deal with data sources and report building, let’s explore the
    report generator.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在我们处理数据源和报告构建之前，让我们探索报告生成器。
- en: Exploring the report generator
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索报告生成器
- en: 'You might not have realized it, but you have already used reports in the previous
    11 chapters! How? Well, Moodle has done something very smart: it uses internal
    reports for key features in Moodle. For example, the list of certificate templates
    in the *Skills and incentives* section in [*Chapter 9*](B18779_09.xhtml#_idTextAnchor181),
    *Configuring Educational Features*, is a report. The report on config changes?
    You guessed it, yet another report. Every time you see a table list view in any
    Moodle tool, it is likely to be a built-in system report.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能没有意识到，您已经在之前的 11 章中使用了报告！如何？嗯，Moodle 做了一些非常聪明的事情：它使用内部报告来处理 Moodle 中的关键功能。例如，在第
    9 章 [*配置教育功能*](B18779_09.xhtml#_idTextAnchor181) 的 *技能和激励* 部分的证书模板列表是一个报告。配置更改的报告？您猜对了，又是另一个报告。每次您在任何
    Moodle 工具中看到表格列表视图时，它很可能是一个内置的系统报告。
- en: 'Moodle distinguishes between two types of reports:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 区分两种类型的报告：
- en: '**Internal reports**: Embedded, predefined reports that are part of Moodle.
    Internal reports cannot be modified or removed since Moodle relies on them.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内部报告**：嵌入的、预定义的报告，是 Moodle 的一部分。内部报告不能被修改或删除，因为 Moodle 依赖于它们。'
- en: '**Custom reports**: User-generated reports made available to other users.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义报告**：由用户生成并向其他用户提供的报告。'
- en: 'This section exclusively deals with custom reports, so let’s see how Moodle’s
    report builder works. The following diagram illustrates the high-level elements
    of the reporting workflow:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本节专门讨论自定义报告，让我们看看 Moodle 的报告构建器是如何工作的。以下图表说明了报告工作流程的高级元素：
- en: '![Figure 12.2 – Report builder workflow ](img/Figure_12.02_B18779.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.2 – 报告构建器工作流程](img/Figure_12.02_B18779.jpg)'
- en: Figure 12.2 – Report builder workflow
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.2 – 报告构建器工作流程
- en: Moodle stores its data relevant to reporting in the **Moodle database**. External
    data sources might be added in future versions, but at the time of writing, this
    is the only data source available.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 将与其报告相关的数据存储在 **Moodle 数据库** 中。未来版本可能会添加外部数据源，但在撰写本文时，这是唯一可用的数据源。
- en: The most flexible reporting tool would let you select individual fields from
    every entity in the underlying database. However, this would require users to
    be familiar with the entire database model, which contains well over 100 tables
    and even more relationships among them. Instead, Moodle offers some report sources
    to simplify the usage of the report builder.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 最灵活的报告工具将允许您从底层数据库的每个实体中选择单个字段。然而，这要求用户熟悉整个数据库模型，该模型包含超过 100 个表以及它们之间更多的关系。相反，Moodle
    提供了一些报告来源以简化报告构建器的使用。
- en: Important note
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: A **report source** contains a predefined set of fields and relationships available
    when building a report.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**报告来源**包含在构建报告时可用的一组预定义字段和关系。'
- en: 'Based on the selected record source, a certain amount of data will be available,
    which can be reduced by the following mechanisms: **Selecting data fields** lets
    the report creator decide which columns are being made available – for example,
    student name, course name, and completion status. **Applying conditions** lets
    the report creator decide which rows will be made available – for instance, all
    records from a particular faculty. Access to reports is granted via audiences
    – for example, all users with the Manager role or all users who are members of
    a particular cohort.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 根据所选的记录来源，将提供一定量的数据，可以通过以下机制进一步减少：**选择数据字段**让报告创建者决定哪些列可供使用 – 例如，学生姓名、课程名称和完成状态。**应用条件**让报告创建者决定哪些行可供使用
    – 例如，来自特定学院的全部记录。报告的访问权限通过受众授予 – 例如，所有具有管理员角色的用户或所有属于特定班级的用户。
- en: The report viewer can then reduce the amount of data further via filters. A
    **filter**, which has to be configured by the report creator, allows you to select
    one or more criteria – for instance, by course category or by country.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 报告查看器可以通过筛选进一步减少数据量。**筛选**必须由报告创建者配置，允许您选择一个或多个标准 – 例如，按课程类别或按国家。
- en: Important note
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: A report isn’t static; it is an interactive view of your data.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 报告不是静态的；它是您数据的交互式视图。
- en: 'The following subsections are dedicated to each building block of the reporting
    workflow. Let’s start with the first part of the diagram: data and report sources.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 以下小节专门介绍报告工作流程的每个构建块。让我们从图表的第一部分开始：数据和报告来源。
- en: Selecting data and report sources
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选择数据和报告来源
- en: In this subsection, we will deal with the input options for the report builder
    – you will learn what they are and when to use each option.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在本小节中，我们将处理报告构建器的输入选项——您将了解它们是什么以及何时使用每个选项。
- en: The database is the underlying **data source** where Moodle stores its data.
    Courses, users, course completions, grades, and other data – such as information
    about learning resources added by authors, forum posts contributed to by learners,
    and system settings configured by the administrator – are mostly stored in the
    database.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库是 Moodle 存储其数据的底层 **数据源**。课程、用户、课程完成情况、成绩以及其他数据，例如作者添加的学习资源信息、学习者贡献的论坛帖子以及管理员配置的系统设置，大部分都存储在数据库中。
- en: A **report source** implicitly defines which elements (tables and relationships)
    of the data source will be used in a report. The set of available report sources
    includes data such as user profile information, course data, or cohort membership.
    Additional report sources can be created by Moodle developers programmatically,
    and the number of record sources is expected to go up in upcoming releases.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**报告源**隐式定义了数据源中哪些元素（表和关系）将在报告中使用。可用的报告源集合包括用户配置文件信息、课程数据或群体成员资格。Moodle 开发者可以通过编程方式创建额外的报告源，预计记录源的数量将在未来的版本中增加。'
- en: Before exploring the report builder, ensure the **Enable custom reports** setting
    is enabled under **Site administration** | **General** | **Advanced features**.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在探索报告构建器之前，请确保在 **站点管理** | **常规** | **高级功能** 下启用了 **启用自定义报告** 设置。
- en: 'Let’s look at the report sources available in Moodle to date. You can manage
    reports via **Site administration** | **Reports** | **Report builder** | **Custom
    reports**, where you will see a list of available reports – actually, what you
    will see is a report. A report of reports! In our example instance, we have already
    created some reports, as shown here:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看 Moodle 到目前为止可用的报告源。您可以通过 **站点管理** | **报告** | **报告构建器** | **自定义报告** 来管理报告，在那里您将看到一个可用报告的列表——实际上，您将看到的是一个报告。一个报告的列表！在我们的示例实例中，我们已经创建了一些报告，如图所示：
- en: '![Figure 12.3 – Custom reports and filters ](img/Figure_12.03_B18779.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.3 – 自定义报告和过滤器](img/Figure_12.03_B18779.jpg)'
- en: Figure 12.3 – Custom reports and filters
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.3 – 自定义报告和过滤器
- en: The self-explanatory fields shown in the report table are **Name**, **Report
    source**, **Time created**, **Time modified**, and **Modified by**. The standard
    actions available are **Edit report content**, **Edit report details**, **View
    report**, and **Delete report**. There are filters available on the right-hand
    side that let you limit the number of reports shown by **Name**, **Report Source**,
    and **Time created**.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 报告表中显示的直观字段是 **名称**、**报告源**、**创建时间**、**修改时间**和**修改者**。可用的标准操作包括**编辑报告内容**、**编辑报告详情**、**查看报告**和**删除报告**。右侧有可用的过滤器，允许您通过**名称**、**报告源**和**创建时间**来限制显示的报告数量。
- en: Important note
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Each report has one report source.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 每个报告都有一个报告源。
- en: The selected report source cannot be changed once a report has been created.
    To use a different report source, a new report must be created.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 创建报告后，所选的报告源不能更改。要使用不同的报告源，必须创建一个新的报告。
- en: 'Select the **New report** button on the **Reports** page to create a new report.
    You will then be greeted with a pop-up screen, as shown here:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在 **报告** 页面上选择 **新建报告** 按钮，以创建一个新的报告。随后，你将看到一个弹出窗口，如图所示：
- en: '![Figure 12.4 – Creating a new report ](img/Figure_12.04_B18779.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.4 – 创建新的报告](img/Figure_12.04_B18779.jpg)'
- en: Figure 12.4 – Creating a new report
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.4 – 创建新的报告
- en: 'A report contains the following two compulsory settings: **Name** (displayed
    whenever the report is made available to users) and **Report source** (defines
    where the data for the report will come from). The following report sources are
    currently available in Moodle:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一个报告包含以下两个必填设置：**名称**（在报告对用户可用时显示）和**报告源**（定义报告数据将来自哪里）。以下是在 Moodle 中当前可用的报告源：
- en: '**Badges**: Badge details linked to recipients (users) and courses'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**徽章**：与接收者（用户）和课程关联的徽章详情'
- en: '**Cohorts**: Cohort data and user membership details'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**群体**：群体数据和用户成员详情'
- en: '**Course participants**: Courses, users, and their enrolments and course completions'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程参与者**：课程、用户以及他们的注册和课程完成情况'
- en: '**Courses**: Course and category details'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程**：课程和类别详情'
- en: '**Tags**: Tags and tag categories'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标签**：标签和标签类别'
- en: '**Task logs**: Data regarding scheduled and ad hoc tasks'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**任务日志**：有关计划性和临时任务的数据'
- en: '**Users**: User details'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**：用户详情'
- en: 'The following report sources are already in the pipeline and are likely to
    be available by the time you read this book: Notes, Blogs, Groups, Comments, and
    Files. Existing report sources may also be extended by adding more data fields,
    relations to other entities, conditions, and filters.'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 以下报告源已在管道中，并且在你阅读这本书的时候可能已经可用：笔记、博客、群组、评论和文件。现有的报告源也可以通过添加更多数据字段、与其他实体的关系、条件和过滤器进行扩展。
- en: 'There are two more settings when creating a new report that require some attention:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建新报告时，还有两个需要关注的设置：
- en: '**Include default setup**: When enabled, the report will already be populated
    with several predefined columns, conditions, and filters. When you get started,
    it is recommended that you leave this option ticked since it simplifies the process
    of building reports, which we will cover next.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**包含默认设置**：当启用时，报告将自动填充几个预定义的列、条件和过滤器。当你开始时，建议你勾选此选项，因为它简化了构建报告的过程，我们将在下一部分进行介绍。'
- en: '**Remove any duplicate rows**: When enabled, any duplicate rows will be removed
    from the report.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**移除任何重复行**：当启用时，任何重复行将从报告中移除。'
- en: By default, there is no limit to the number of reports you or anybody with the
    `reportbuilder:edit` (edit your own custom reports) or `reportbuilder:editall`
    (edit all custom reports) capabilities can create. If you need to restrict the
    number of custom reports, go to **Site administration** | **Reports** | **Report
    builder** | **Custom report settings** and adjust the **Custom reports limit**
    setting accordingly.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，你或任何具有`reportbuilder:edit`（编辑自己的自定义报告）或`reportbuilder:editall`（编辑所有自定义报告）能力的人可以创建的报告数量没有限制。如果你需要限制自定义报告的数量，请转到**网站管理**
    | **报告** | **报告构建器** | **自定义报告设置**并相应地调整**自定义报告限制**设置。
- en: 'Another setting on the same screen that potentially improves performance is
    **Custom reports live editing**. If disabled, the preview of data while editing
    the report will be deactivated; otherwise, it will be kept up to date:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在同一屏幕上另一个可能提高性能的设置是**自定义报告实时编辑**。如果禁用，则在编辑报告时数据预览将被停用；否则，它将保持更新：
- en: '![Figure 12.5 – Custom report settings ](img/Figure_12.05_B18779.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![图12.5 – 自定义报告设置](img/Figure_12.05_B18779.jpg)'
- en: Figure 12.5 – Custom report settings
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.5 – 自定义报告设置
- en: When you **Save** the report, you will be redirected to the actual report builder,
    which we will cover next.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 当你**保存**报告时，你将被重定向到实际的报告构建器，我们将在下一部分进行介绍。
- en: Building reports
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建报告
- en: In this subsection, we will deal with the various facilities the report builder
    has to offer. You will learn what these are and how to apply them in real-world
    scenarios.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在本小节中，我们将处理报告构建器提供的各种功能。你将了解这些功能是什么以及如何在现实世界场景中应用它们。
- en: 'The report generator allows you to build and customize reports with drag and
    drop, instant preview, inline column editing, grouping, and aggregation. The following
    annotated screenshot shows the key elements of the Moodle report generator:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 报告生成器允许你通过拖放、即时预览、行内列编辑、分组和聚合来构建和自定义报告。以下带注释的屏幕截图显示了Moodle报告生成器的关键元素：
- en: '![Figure 12.6 – The report builder interface ](img/Figure_12.06_B18779.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图12.6 – 报告构建器界面](img/Figure_12.06_B18779.jpg)'
- en: Figure 12.6 – The report builder interface
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.6 – 报告构建器界面
- en: 'The following actions are available in the report generator:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 报告生成器中可用的以下操作：
- en: '**A – Data fields panel**: List of data fields, grouped by entities'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**A – 数据字段面板**：按实体分组的数据字段列表'
- en: '**B – Data fields panel**: Live search fields'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**B – 数据字段面板**：实时搜索字段'
- en: '**C – Preview panel**: Inline editing of column names and headings'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**C – 预览面板**：列名和标题的行内编辑'
- en: '**D – Preview panel**: For selecting the field aggregation method'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**D – 预览面板**：选择字段聚合方法'
- en: '**E – Preview panel**: Preview toggle'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**E – 预览面板**：预览切换'
- en: '**F – Settings panel**: **Conditions**'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**F – 设置面板**：**条件**'
- en: '**G – Settings panel**: **Filters**'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**G – 设置面板**：**过滤器**'
- en: '**H – Settings panel**: **Sorting**'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**H – 设置面板**：**排序**'
- en: '**I – Settings panel**: **Card view**'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**I – 设置面板**：**卡片视图**'
- en: '**J – Report builder menu**: Access to report tabs'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**J – 报告构建器菜单**：访问报告标签页'
- en: 'For the database boffins among you, it might be helpful to map the report elements
    to their SQL counterparts:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 对于你们中的数据库专家，将报告元素映射到它们的SQL对应项可能会有所帮助：
- en: 'Selected data fields: **SELECT … FROM …**'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择的数据字段：**SELECT … FROM …**
- en: 'Conditions: **WHERE**'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 条件：**WHERE**
- en: 'Aggregation and grouping: **GROUP BY**'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 聚合和分组：**GROUP BY**
- en: 'Sorting: **ORDER BY**'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 排序：**ORDER BY**
- en: 'Now that you have had a first glimpse of the report creation interface, let’s
    look closely at the various elements, which can be grouped into two categories:
    configuring fields (columns) and configuring settings (rows).'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经对报告创建界面有了初步的了解，让我们仔细看看各种元素，这些元素可以分为两类：配置字段（列）和配置设置（行）。
- en: Configuring fields (columns)
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置字段（列）
- en: This subsection deals with available options to customize the columns in a report.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 本小节处理自定义报告列的可用选项。
- en: In the left-hand side panel of the Moodle report generator, you will see all
    available fields for the selected report source, which have been grouped into
    entities. Each entity can be expanded or collapsed for better usability. You can
    also search for field entries to limit the number of displayed items. These items
    have been labeled **A** and **B** in the previous screenshot.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在Moodle报告生成器的左侧面板中，您将看到所选报告源的所有可用字段，它们已按实体分组。每个实体都可以展开或折叠以提高可用性。您还可以搜索字段条目以限制显示的项目数量。这些项目在之前的屏幕截图中被标记为**A**和**B**。
- en: To add columns to the report, click on the selected field on the left list.
    The column will be added automatically as the rightmost column in the table. You
    can then rearrange the column order via the standard **Move** handle. To remove
    a column, click on the standard delete icon.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 要将列添加到报告中，请点击左侧列表中选定的字段。列将自动作为表格中最右侧的列添加。然后您可以通过标准的**移动**手柄重新排列列顺序。要删除列，请点击标准的删除图标。
- en: 'Two field types are available that can be added as columns to a report:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 报告中可用的字段类型有几种，可以添加为列：
- en: '**Text fields**: For example, surname, department, or course name'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本字段**：例如，姓氏、部门或课程名称'
- en: '**Image fields**: For example, user picture or badge image'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像字段**：例如，用户图片或徽章图片'
- en: 'Most text fields reflect a value from the underlying Moodle database. However,
    some text fields are preprocessed by the report generator to support additional
    functionality:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数文本字段反映了底层Moodle数据库中的值。然而，一些文本字段在报告生成器中预先处理以支持附加功能：
- en: '**Hyperlinked text fields**: Mainly to directly view data entries – for example,
    to a user profile or a course'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**超链接文本字段**：主要用于直接查看数据条目 - 例如，用户资料或课程'
- en: '**Calculated text fields**: To provide a numeric value – for instance, the
    number of courses in a category'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算文本字段**：提供数值 - 例如，类别中的课程数量'
- en: '**Grouped text fields**: To provide multiple data points as a single cell –
    for example, the members in a cohort'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分组文本字段**：为了将多个数据点作为一个单元格提供 - 例如，队列中的成员'
- en: Custom fields, such as custom user profile fields or custom course fields, are
    fully supported by the report generator. They will appear in the list of available
    fields, just like any built-in variable.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 报告生成器完全支持自定义字段，如自定义用户资料字段或自定义课程字段。它们将像任何内置变量一样出现在可用字段列表中。
- en: 'One of the most powerful features of the report generator is its support for
    **aggregation**. Have a look at the following three reports, all with the same
    fields but different aggregation methods applied to the **Badge recipient** column:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 报告生成器最强大的功能之一是其对**聚合**的支持。看看以下三个报告，它们具有相同的字段，但应用于**徽章接收者**列的聚合方法不同：
- en: '![Figure 12.7 – Aggregation ](img/Figure_12.07_B18779.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![图12.7 – 聚合](img/Figure_12.07_B18779.jpg)'
- en: Figure 12.7 – Aggregation
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.7 – 聚合
- en: In the first report, **No aggregation** has been applied, so all data entries
    are shown. In the second report, the **Comma separated values** option has been
    selected, which displays multiple usernames in a single cell. In the last report,
    the **Count** method was chosen, which shows the number of recipients per badge.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一个报告中，未应用**无聚合**，因此显示所有数据条目。在第二个报告中，选择了**逗号分隔值**选项，它在一个单元格中显示多个用户名。在最后一个报告中，选择了**计数**方法，显示了每个徽章的接收者数量。
- en: 'Depending on the data field selected, different methods are at your disposal,
    as shown in the following table, including the SQL function used internally:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 根据选择的数据字段，您有多种方法可供选择，如下表所示，包括内部使用的SQL函数：
- en: '![Figure 12.8 – Aggregation operations ](img/Figure_12.08_B18779.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![图12.8 – 聚合操作](img/Figure_12.08_B18779.jpg)'
- en: Figure 12.8 – Aggregation operations
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.8 – 聚合操作
- en: An aggregate function calculates a set of values and returns a single value.
    For example, **Count** takes a list of values and returns – you guessed it – the
    number of items. The **Remove any duplicate rows** setting has no effect if columns
    are aggregated.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 聚合函数计算一组值并返回单个值。例如，**计数**接受一组值并返回——您猜对了——项目数量。**移除任何重复行**设置在列聚合时没有效果。
- en: 'Using the **Course participants** record source in conjunction with aggregation
    methods, you can create powerful reports, such as the following:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 结合**课程参与者**记录源和聚合方法，你可以创建强大的报告，例如以下内容：
- en: 'Number of users enrolled in each course: **Course full name** (**No aggregation**),
    **User Full name** (**Count**)'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每门课程注册的用户数量：**课程全名**（**不聚合**），**用户全名**（**数量**）
- en: 'Users enrolled in each course: **Course full name** (**No aggregation**), **User
    Full name** (**Comma separated distinct value**)'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每门课程注册的用户：**课程全名**（**不聚合**），**用户全名**（**逗号分隔的独立值**）
- en: 'Number of completions of each course: **Course full name** (**No aggregation**),
    **Course completion** (**Distinct count**)'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每门课程的完成次数：**课程全名**（**不聚合**），**课程完成**（**独立计数**）
- en: There is no system behind what methods are available for which field type. For
    each data field, a set of possible aggregation methods is offered by Moodle.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 对于哪种字段类型有哪些可用方法，没有系统化的分类。对于每个数据字段，Moodle 提供了一组可能的聚合方法。
- en: Viewers also have the option to download the table data in various formats,
    namely CSV, XLSX, HTML, JSON, ODS, and PDF. You can reduce or rearrange the options
    in that list by going to **Site administration** | **Plugins** | **Data formats**
    | **Manage data formats**. The XLSX format is useful for visualizing data using
    Excel’s charting tools.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 观众也有选项下载表格数据为各种格式，即 CSV、XLSX、HTML、JSON、ODS 和 PDF。您可以通过转到**网站管理** | **插件** |
    **数据格式** | **管理数据格式**来减少或重新排列该列表中的选项。XLSX 格式对于使用 Excel 的图表工具可视化数据很有用。
- en: 'Now that we have exhausted all the options for customizing columns in a report,
    let’s look at how to configure the second dimension in a table: rows.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经用完了在报告中自定义列的所有选项，让我们看看如何配置表格中的第二个维度：行。
- en: Configuring settings (rows)
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置设置（行）
- en: This subsection deals with the available options for customizing or limiting
    the rows in a report. This can be done via the **Settings** panel on the right-hand
    side, where you can access the **Conditions**, **Filters**, **Sorting**, and **Card
    view** accordion panels. These configuration options will be described in the
    following four subsections.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 本小节讨论了自定义或限制报告中的行的可用选项。这可以通过右侧的**设置**面板完成，在那里您可以访问**条件**、**过滤器**、**排序**和**卡片视图**折叠面板。以下四个小节将描述这些配置选项。
- en: Conditions
  id: totrans-121
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 条件
- en: Conditions let you limit the amount of data that is being presented to the report
    viewer. For example, you might want to exclude any suspended users from your reports.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 条件允许您限制报告观众所看到的数据量。例如，您可能希望从报告中排除任何已挂起的用户。
- en: Important note
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Conditions are a predefined set of criteria that are always applied when viewing
    a report. Conditions cannot be changed in viewing mode.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 条件是一组预定义的标准，在查看报告时始终应用。在查看模式下，无法更改条件。
- en: Depending on the selected report source, the list of available conditions might
    differ slightly from the list of available fields.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 根据所选的报告源，可用条件列表可能略有不同。
- en: 'An interesting condition available in most report sources is **Select user**,
    which has three options:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数报告源中有一个有趣的条件可用，即**选择用户**，它有三个选项：
- en: '**Any user**: All users are shown.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**任何用户**：显示所有用户。'
- en: '**Current user**: The report only shows data about the report viewer. Using
    this powerful mode, you can create reports that display personalized data, depending
    on who is viewing the report. For example, if you wish to create a report showing
    the progress of the report viewer in each course, select the **Course full name**
    and **Student progress** fields and set the **Select user** condition to **Current
    user**. When students view the report, they will only see the progress in the
    courses they are enrolled in.'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**当前用户**：报告只显示关于报告观众的数据。使用这种强大的模式，您可以创建显示个性化数据的报告，具体取决于谁在查看报告。例如，如果您希望创建一个显示报告观众在每个课程中进度的报告，请选择**课程全名**和**学生进度**字段，并将**选择用户**条件设置为**当前用户**。当学生查看报告时，他们只会看到他们注册的课程中的进度。'
- en: '**Select**: The same principle as **Current user**, but you can select one
    or many users.'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择**：与**当前用户**相同的原理，但你可以选择一个或多个用户。'
- en: 'Two more conditions let you select values: **Select course** and **Select category**,
    including an option to **View all subcategories**.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 两个更多条件让你选择值：**选择课程**和**选择类别**，包括一个**查看所有子类别**的选项。
- en: Filters
  id: totrans-131
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 过滤器
- en: 'The following two screenshots show configuring filters (left) and what the
    first three entries look like from a user’s perspective when viewing the report
    (right):'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 以下两个截图显示了配置过滤器（左侧）以及从用户视角查看报告时前三个条目看起来像什么（右侧）：
- en: '![Figure 12.9 – Report filtering ](img/Figure_12.09_B18779.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![图12.9 – 报告过滤](img/Figure_12.09_B18779.jpg)'
- en: Figure 12.9 – Report filtering
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.9 – 报告过滤
- en: We described the **Current user** option in the **Select user** filter, which
    creates a unique report for each viewer. This type of filter also impacts reports
    created automatically and sent out to users via schedules (see the *Scheduling
    reports section* further down).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在**选择用户**过滤器中描述了**当前用户**选项，它为每个查看者创建一个独特的报告。此类过滤器也会影响自动创建并按计划发送给用户的报告（请参阅下面的*安排报告部分*）。
- en: You can add as many filters as you wish. Furthermore, the list of filters is
    not limited to the fields shown in the report. For example, in a user report,
    you might add a filter to narrow the search down to individual authentication
    methods, even though the field is not available in the report itself.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以添加你想要的任意数量的过滤器。此外，过滤器列表不仅限于报告中显示的字段。例如，在用户报告中，你可能添加一个过滤器来缩小搜索范围，仅限于个别认证方法，即使该字段在报告中本身不可用。
- en: Sorting
  id: totrans-137
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 排序
- en: The penultimate of the four settings deals with the order in which the data
    is presented.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 四个设置中的倒数第二个设置处理数据呈现的顺序。
- en: Important note
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Sorting defines the initial order in which the fields are being ordered.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 排序定义了字段排序的初始顺序。
- en: 'In the following screenshot, the data is ordered by **Category name** (in ascending
    order), **Course short name** (in descending order), and **Course full name**
    (in ascending order):'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下截图中，数据按**类别名称**（升序排列）、**课程简称**（降序排列）和**课程全名**（升序排列）排序：
- en: '![Figure 12.10 – Report sorting ](img/Figure_12.10_B18779.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![图12.10 – 报告排序](img/Figure_12.10_B18779.jpg)'
- en: Figure 12.10 – Report sorting
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.10 – 报告排序
- en: When in viewing mode, the preceding order will initially be applied. Once a
    user clicks on a column name, the data will be sorted by this field; the sort
    order will be reversed when the same column is clicked again.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在查看模式下，前面的顺序将最初被应用。一旦用户点击列名，数据将按此字段排序；当再次点击同一列时，排序顺序将反转。
- en: Card view
  id: totrans-145
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 卡片视图
- en: The card view feature supports responsive layout design in the report builder.
    Card view allows you to configure the report layout for narrow views when the
    block is in the sidebar or a smaller device is used. A report will automatically
    switch to card view when displayed on small screens.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 卡片视图功能支持报告构建器中的响应式布局设计。卡片视图允许你在块在侧边栏或使用较小设备时配置报告布局。当在小型屏幕上显示时，报告将自动切换到卡片视图。
- en: Report audiences
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 报告受众
- en: 'Report audiences indicate which users have access to the report. They can also
    be used as recipients in scheduled reports. To access audiences, select the **Audiences**
    tab of a report, where you can create the following audiences:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 报告受众表明哪些用户有权访问报告。它们也可以用作计划报告的收件人。要访问受众，请选择报告的**受众**选项卡，在那里你可以创建以下受众：
- en: '**All users**: Use this audience to give access to all users'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**所有用户**：使用此受众群给所有用户授权'
- en: '**Assigned system role**: Select at least one system role'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分配的系统角色**：选择至少一个系统角色'
- en: '**Manually added users**: Select at least one user (via name or email address)'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**手动添加的用户**：选择至少一个用户（通过姓名或电子邮件地址）'
- en: '**Member of cohort**: Select at least one cohort'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**队列成员**：选择至少一个队列'
- en: '**Site administrators**: Moodle admins – that is, you and everybody who is
    also an admin'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站管理员**：Moodle管理员 – 即你以及所有也是管理员的人'
- en: To confirm which users now have access to the report, switch to the **Access**
    tab, which is, as you might have guessed by now, yet another system report. Now
    that we know who has been granted access to the report, let’s configure when a
    report is sent to the specified audiences.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 要确认现在哪些用户有权访问报告，切换到**访问**选项卡，正如你可能已经猜到的，这又是另一个系统报告。现在我们知道谁被授予了访问报告的权限，让我们配置报告发送到指定受众的时间。
- en: Scheduling reports
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安排报告
- en: By default, all reports are available as pull reports; that is, users have to
    select and view a report proactively. This section provides instructions on configuring
    the automatic delivery of reports via the report scheduler, known as push reports.
    Having users log in to see a report is less effective than having the report land
    directly in their inbox.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，所有报告都作为拉取报告提供；也就是说，用户必须主动选择和查看报告。本节提供了配置通过报告调度器自动发送报告（称为推送报告）的说明。让用户登录查看报告不如让报告直接进入他们的收件箱有效。
- en: 'To access the scheduler, select the **Schedules** tab of a report. And yes,
    the list of schedules is yet another system report with a predefined filter:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问调度器，请选择报告的**调度**选项卡。是的，调度列表又是另一个具有预定义过滤器的系统报告：
- en: '![Figure 12.11 – Scheduling reports I ](img/Figure_12.11_B18779.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![图12.11 – 调度报告I](img/Figure_12.11_B18779.jpg)'
- en: Figure 12.11 – Scheduling reports I
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.11 – 调度报告I
- en: 'Select the **New schedule** button at the top right to create a new report
    schedule. You will then be presented with a pop-up window containing the following
    four sections:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 点击右上角的**新建调度**按钮以创建新的报告调度。然后您将看到一个包含以下四个部分的弹出窗口：
- en: '![Figure 12.12 – Scheduling reports II ](img/Figure_12.12_B18779.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![图12.12 – 调度报告II](img/Figure_12.12_B18779.jpg)'
- en: Figure 12.12 – Scheduling reports II
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.12 – 调度报告II
- en: 'These four sections contain the following settings:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 这四个部分包含以下设置：
- en: The **General** part of the screen contains information about the schedule,
    including what report to send, in which format the report should be sent, and
    the timing settings.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 屏幕的**常规**部分包含有关调度的信息，包括要发送的报告、报告应发送的格式以及时间设置。
- en: '**Name** is only used in the list of schedules. The **Format** dropdown lets
    you pick the file format of the report. The options are CSV, XLSX, HTML, JSON,
    ODF, and PDF. You can reduce or rearrange the options in that list by going to
    **Site administration** | **Plugins** | **Data formats** | **Manage data formats**.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '**名称**仅在调度列表中使用。**格式**下拉菜单允许您选择报告的文件格式。选项包括CSV、XLSX、HTML、JSON、ODF和PDF。您可以通过访问**站点管理**
    | **插件** | **数据格式** | **管理数据格式**来减少或重新排列该列表中的选项。'
- en: The `cron` process triggers the execution of the report being sent.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '`cron`进程触发发送报告的执行。'
- en: The last setting in this section is `reportbuilder:scheduleviewas` capability
    determines whether reports can be scheduled to be viewed as others.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 本节最后的设置`reportbuilder:scheduleviewas`能力决定了报告是否可以调度为他人查看。
- en: In the **Audience** section, you specify who the recipients are. You need to
    select at least one audience, as specified previously. If no audiences have been
    specified yet, a warning will be shown.
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在**受众**部分，您指定收件人是谁。您需要选择至少一个受众，如前所述。如果尚未指定任何受众，将显示警告。
- en: 'The **Schedule** section contains the custom message, which includes the two
    standard elements of any email message: **Subject** and **Body**. At the time
    of writing, no placeholders are supported, so you will have to tailor the message
    text accordingly.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**调度**部分包含自定义消息，其中包含任何电子邮件消息的两个标准元素：**主题**和**正文**。在撰写本文时，不支持占位符，因此您必须相应地调整消息文本。'
- en: In the **Advanced** section, there is only a single option, which lets you specify
    what happens *If the report is empty*. The self-explanatory options are **Send
    message with empty report**, **Send message without report**, and **Don’t send
    message** (default).
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在**高级**部分，只有一个选项，允许您指定**如果报告为空时**会发生什么。直观的选项有**发送空报告的消息**、**不发送报告的消息**和**不发送消息**（默认）。
- en: With that, we have provided an overview of the report generator, a potentially
    powerful tool for generating custom reports. However, it has some limitations,
    which we will discuss in the following section.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些，我们已经提供了报告生成器的概述，这是一个生成自定义报告的潜在强大工具。然而，它有一些限制，我们将在下一节中讨论。
- en: Report generator limitations and an alternative
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 报告生成器的限制和替代方案
- en: The report builder is a powerful tool for creating reports based on predefined
    report sources. At the time of writing, the number of report sources available
    is rather small, but it is expected that this limitation will change in the very
    near future. Moodle Workplace ([docs.moodle.org/en/Report_builder](http://docs.moodle.org/en/Report_builder))
    already contains significantly more report sources than Moodle, so watch out for
    new sources being added soon.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 报告构建器是一个基于预定义报告源创建报告的强大工具。在撰写本文时，可用的报告源数量相当有限，但预计这种限制将在不久的将来得到改变。Moodle Workplace
    ([docs.moodle.org/en/Report_builder](http://docs.moodle.org/en/Report_builder))
    已经包含比Moodle更多的报告源，所以请留意新源很快将被添加。
- en: 'We mentioned earlier that the report creator’s main advantage is that you don’t
    have to be familiar with Moodle’s underlying database schema. However, some administrators
    find the concept of report sources too restrictive and wish to create more flexible
    reports. **Configurable reports** ([moodle.org/plugins/block_configurable_reports](http://moodle.org/plugins/block_configurable_reports))
    is a popular third-party plugin for Moodle, which appears as a block once installed.
    The plugin supports the following five types of reports:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前提到，报告创建者的主要优势是您不必熟悉Moodle的底层数据库模式。然而，一些管理员发现报告源的概念过于限制性，希望创建更灵活的报告。"**可配置报告**"([moodle.org/plugins/block_configurable_reports](http://moodle.org/plugins/block_configurable_reports))
    是一个流行的Moodle第三方插件，一旦安装，就会作为一个块出现。该插件支持以下五种类型的报告：
- en: '**Course reports**: Reports that use course data'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程报告**：使用课程数据的报告'
- en: '**Category reports**: Reports that use category data plus optional embedded
    course reports'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类别报告**：使用类别数据加上可选嵌入课程报告的报告'
- en: '**User reports**: Reports that use user data and their course activities'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户报告**：使用用户数据及其课程活动的报告'
- en: '**Timeline reports**: Reports across time for courses, users, and their activities'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**时间线报告**：针对课程、用户及其活动的跨时间报告'
- en: '**SQL reports**: Any valid SQL statement can be used to query the Moodle database'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SQL报告**：可以使用任何有效的SQL语句来查询Moodle数据库'
- en: Depending on what type of report has been chosen, different selection criteria
    (fields, conditions, ordering, and calculations) are offered. Additionally, filters
    for drill-down can be specified, the layout can be created, and permissions for
    who is allowed to run the report can be set. Furthermore, the plugin can plot
    different types of graphs.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 根据选择报告的类型，提供不同的选择标准（字段、条件、排序和计算）。此外，可以指定用于深入分析的过滤器，可以创建布局，并可以设置允许运行报告的权限。此外，插件可以绘制不同类型的图表。
- en: 'The unique feature of Configurable reports is that you can create reports based
    on **Custom SQL**. If you are familiar with the SQL language and the underlying
    Moodle database schema, you can add queries, such as the one shown in the following
    screenshot arrangement:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 可配置报告的独特之处在于您可以根据**自定义SQL**创建报告。如果您熟悉SQL语言和底层Moodle数据库模式，您可以添加查询，例如以下屏幕截图安排中所示：
- en: '![Figure 12.13 – Configurable reports sample](img/Figure_12.13_B18779.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![图12.13 – 可配置报告样本](img/Figure_12.13_B18779.jpg)'
- en: Figure 12.13 – Configurable reports sample
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.13 – 可配置报告样本
- en: In the preceding screenshot, you can also see a link to **List of SQL Contributed
    reports**, which is a very good starting point for creating reports (this is where
    I got the SQL query of the sample report).
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，您还可以看到一个链接到**SQL贡献报告列表**，这是一个创建报告的非常好的起点（这就是我获取示例报告的SQL查询的地方）。
- en: This concludes this section on custom reporting based on Moodle’s report builder,
    where we covered the tool’s workflow, the available data sources, and configuration.
    In addition to creating flexible custom reports, Moodle ships with several predefined
    reports that make use of the logging framework, mentioned in this chapter’s introduction.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了基于Moodle报告构建器的自定义报告部分，我们在这里介绍了工具的工作流程、可用的数据源和配置。除了创建灵活的自定义报告外，Moodle还附带了一些预定义的报告，这些报告利用了本章引言中提到的日志框架。
- en: Understanding Moodle’s logging framework
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解Moodle的日志框架
- en: 'Moodle has a powerful built-in logging framework that is, as expected, fully
    customizable and extensible. The idea behind the logging mechanism is as follows:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle有一个功能强大的内置日志框架，正如预期的那样，它是完全可定制和可扩展的。日志机制背后的理念如下：
- en: A user performs an action that triggers an **Event**. An example is a student
    who posts a reply on a forum.
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户执行一个动作，触发一个**事件**。一个例子是学生在论坛上发帖。
- en: The **Log manager** entity monitors the event and decides whether it will be
    logged or ignored. Site-wide log manager settings determine this behavior.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日志管理器**实体监控事件并决定是否将其记录或忽略。网站范围的日志管理器设置确定此行为。'
- en: The log manager sends the data to the active **Log store plugin**, which filters
    or enriches the information. The passed-on data might be augmented with an IP
    address and a timestamp.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志管理器将数据发送到活动的**日志存储插件**，该插件过滤或丰富信息。传递的数据可能包含IP地址和时间戳。
- en: The data is then written to the configured **Log store**.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后将数据写入配置的**日志存储**。
- en: 'The top half of the diagram shows this logging workflow:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图表的上半部分显示了此日志工作流程：
- en: '![Figure 12.14 – From events to reports](img/Figure_12.14_B18779.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![图12.14 – 从事件到报告](img/Figure_12.14_B18779.jpg)'
- en: Figure 12.14 – From events to reports
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.14 – 从事件到报告
- en: 'Now, let’s take a look at what happens when a user requests a report, which
    is represented in the bottom half of the diagram:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看当用户请求报告时会发生什么，这在上半部分的图中表示：
- en: The reporting module notifies the log manager, who passes on the request to
    the log store plugin. If more than one log store has been set up, the user must
    select one.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告模块通知日志管理器，日志管理器将请求传递给日志存储插件。如果已设置多个日志存储，则用户必须选择一个。
- en: The log store plugin reads the relevant data from the log store and passes it
    back to the log manager.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志存储插件从日志存储中读取相关数据，并将其传递回日志管理器。
- en: The report module generates the report, which is then displayed to the user.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告模块生成报告，然后将其显示给用户。
- en: Now, let’s look at the individual components of Moodle’s logging framework in
    more detail, starting with events.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们更详细地查看Moodle日志框架的各个组成部分，从事件开始。
- en: Understanding events
  id: totrans-200
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解事件
- en: 'Two closely related elements deal with events in Moodle – the events list and
    event monitoring rules:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 两个紧密相关的元素处理Moodle中的事件 – 事件列表和事件监控规则：
- en: '![Figure 12.15 – Events, events list, and event monitoring rules ](img/Figure_12.15_B18779.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![图12.15 – 事件、事件列表和事件监控规则](img/Figure_12.15_B18779.jpg)'
- en: Figure 12.15 – Events, events list, and event monitoring rules
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.15 – 事件、事件列表和事件监控规则
- en: These concepts have been illustrated in the preceding diagram and will be described
    in detail in the remainder of this subsection, starting with the events list.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 这些概念已在先前的图中说明，将在本小节的剩余部分详细描述，从事件列表开始。
- en: Events list
  id: totrans-205
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 事件列表
- en: 'Most actions in Moodle trigger an event. You can look at the list of all the
    available events by going to **Site administration** | **Reports** | **Events
    list**. This list will grow over time, with internal and external events being
    added. Each event comprises the following elements:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle中的大多数操作都会触发一个事件。您可以通过访问**网站管理** | **报告** | **事件列表**来查看所有可用事件的列表。随着时间的推移，该列表将增长，包括内部和外部事件。每个事件都包含以下元素：
- en: '**Event name**: The name of the event and a unique internal identifier'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事件名称**：事件的名称和唯一的内部标识符'
- en: '**Component**: The Moodle component that the event belongs to; for instance,
    Core, a course module, or some other part, such as statistics or logs'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**组件**：事件所属的Moodle组件；例如，核心、课程模块或某些其他部分，如统计数据或日志'
- en: '**Education level**: There are three levels: **Participating**, **Teaching**,
    and **Other**'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教育水平**：有三个级别：**参与**、**教学**和**其他**'
- en: '**Database query type**: Four query types can occur, namely **create, read,
    update, and delete** (**CRUD**)'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据库查询类型**：可能发生四种查询类型，即**创建、读取、更新和删除**（**CRUD**）'
- en: '**Affected table**: The database table that is being affected'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**受影响的表**：正在受影响的数据库表'
- en: '**Since**: The Moodle version when the event was introduced'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自**：引入事件时的Moodle版本'
- en: '**Legacy event**: The event that was triggered in the legacy log store (this
    only contains events from version 2.6, when events were introduced)'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**遗留事件**：在遗留日志存储中触发的事件（这仅包含从2.6版本引入事件时的事件）'
- en: 'The following screenshot shows some events filtered by **user**:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了按**用户**过滤的一些事件：
- en: '![Figure 12.16 – Events list (filtered by user) ](img/Figure_12.16_B18779.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![图12.16 – 事件列表（按用户过滤）](img/Figure_12.16_B18779.jpg)'
- en: Figure 12.16 – Events list (filtered by user)
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.16 – 事件列表（按用户过滤）
- en: 'You can filter the list by **Name**, **Component**, **Education level**, and
    **Database query type**. You will see a more detailed presentation of the same
    information by clicking on an event name. In the screenshot arrangement, we have
    selected the **User added to cohort** event. In addition to fields already familiar
    from the events list, the screenshot shows two additional items of information:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过**名称**、**组件**、**教育水平**和**数据库查询类型**来过滤列表。通过点击事件名称，您将看到相同信息的更详细展示。在截图排列中，我们已选择**用户添加到班级**事件。除了来自事件列表中已熟悉的字段外，截图还显示了两个额外的信息项：
- en: '**Parent Event**: Internally, events are organized hierarchically, but the
    information is relevant mainly to developers.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**父事件**：在内部，事件是按层次结构组织的，但信息主要与开发者相关。'
- en: '`tool_log`); the event monitor itself; the Cohort sync module, which ensures
    that every time a user is added to a cohort, they will also be enrolled in linked
    courses; and the core system itself.'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tool_log`); 事件监控本身；班级同步模块，确保每次用户被添加到班级时，他们也将被注册到相关课程；以及核心系统本身。'
- en: The information about events is for administrators, mostly for information purposes.
    However, it is relevant when setting up event monitoring rules.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 事件信息主要针对管理员，主要用于信息目的。然而，在设置事件监控规则时，它是有相关性的。
- en: Event monitoring rules
  id: totrans-221
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 事件监控规则
- en: Administrators (and users with the `tool/monitor:managerules` capability) can
    define events that you can subscribe to. These patterns of activities are represented
    as rules that contain an event as well as a frequency. Once such a pattern has
    been detected, an event will be triggered, sending a message to all subscribers.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 管理员（以及具有`tool/monitor:managerules`能力的用户）可以定义您可以订阅的事件。这些活动模式表示为包含事件以及频率的规则。一旦检测到这种模式，就会触发事件，向所有订阅者发送消息。
- en: While users with editing teacher rights can set up their own rules at the course
    level, you, as the administrator, are more likely to define a set of required
    rules to which educators will subscribe.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然具有编辑教师权限的用户可以在课程级别设置自己的规则，但您作为管理员，更有可能定义一组必需的规则，教育工作者将订阅这些规则。
- en: First, you must enable event monitoring by navigating to **Site administration**
    | **Reports** | **Event monitoring rules**.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，您必须通过导航到**网站管理** | **报告** | **事件监控规则**来启用事件监控。
- en: 'Let’s add our first event rule via the **Add a new rule** button. Once you
    have entered **Rule name**, select **Area to monitor**. The values in the list
    are identical to those you came across in the **Component** dropdown, as seen
    in the preceding events list. Once chosen, the **Event** list will be populated
    with all the available events that the component supports. The description is
    optional, but it is recommended that you provide this for potential subscribers.
    The **Notification threshold** … **in minutes** combo specifies the number of
    events within a specified period that are required for the **Notification message**
    property to be sent. The body of this message can include any or all of the placeholders
    explained in the sample message text shown in the following screenshots:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过**添加新规则**按钮添加我们的第一个事件规则。一旦您输入了**规则名称**，请选择**监控区域**。列表中的值与您在**组件**下拉菜单中遇到的值相同，如前述事件列表所示。一旦选择，**事件**列表将填充该组件支持的所有可用事件。描述是可选的，但建议您为此提供信息，以便潜在订阅者。**通知阈值**…**分钟**组合指定在指定时间段内需要多少事件才能发送**通知消息**属性。此消息的正文可以包括以下截图所示示例消息文本中的任何或所有占位符：
- en: '![Figure 12.17 – Events monitoring rules and subscriptions ](img/Figure_12.17_B18779.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![图12.17 – 事件监控规则和订阅](img/Figure_12.17_B18779.jpg)'
- en: Figure 12.17 – Events monitoring rules and subscriptions
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.17 – 事件监控规则和订阅
- en: Any user with the `tool/monitor:subscribe` capability can subscribe to event
    rules via the **Event monitoring** link in the **Miscellaneous** section under
    **Preferences**. Once an event rule has subscriptions, rules editing is limited.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 任何具有`tool/monitor:subscribe`能力的用户都可以通过**偏好**下的**杂项**部分的**事件监控**链接订阅事件规则。一旦事件规则有订阅，则规则编辑将受到限制。
- en: Before subscribing to a course, you must **Select a course** that is monitored
    (**Site** covers all courses). From now on, a notification message will be sent
    when the subscribed rule is triggered.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在订阅课程之前，您必须**选择一个课程**进行监控（**网站**覆盖所有课程）。从现在起，当订阅的规则被触发时，将发送通知消息。
- en: Now that we have covered events in detail, let’s have a look at the logging
    components of our diagram.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经详细介绍了事件，让我们来看看我们图表的日志组件。
- en: Logging and log stores
  id: totrans-231
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 日志和日志存储
- en: 'Logging involves three components: the log manager, log store plugins, and
    physical log stores.'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 日志涉及三个组件：日志管理器、日志存储插件和物理日志存储。
- en: The **log manager** is an internal component that monitors events and passes
    data to all enabled log store plugins. Moodle comes with a predefined log manager;
    however, this may be replaced by other log manager plugins in the future. For
    now, as an administrator, you have no means of configuring the log manager itself.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '**日志管理器**是一个内部组件，它监控事件并将数据传递给所有启用的日志存储插件。Moodle自带一个预定义的日志管理器；然而，将来这可能会被其他日志管理器插件所取代。目前，作为管理员，你无法配置日志管理器本身。'
- en: 'A **log store plugin** is associated with a physical log store and determines
    what data is stored and read. Navigate to **Site administration** | **Plugins**
    | **Logging** | **Manage log stores** to see Moodle’s three core log store plugins:
    **Standard log**, **External database log**, and **Legacy log**. We will ignore
    legacy logs as they will be discontinued over time.'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '**日志存储插件**与一个物理日志存储相关联，并确定存储和读取哪些数据。导航到**网站管理** | **插件** | **日志** | **管理日志存储**，以查看Moodle的三个核心日志存储插件：**标准日志**、**外部数据库日志**和**旧版日志**。我们将忽略旧版日志，因为随着时间的推移，它们将被停止使用。'
- en: The **standard log store** has replaced the legacy log; it supports all new
    logging concepts and provides better performance. In its **Settings**, you can
    specify whether to **Log guest access**, whether to store in **JSON format** (instead
    of serialized PHP), how long to **Keep logs for**, and its **Write buffer size**.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '**标准日志存储**已取代了旧版日志；它支持所有新的日志概念，并提供了更好的性能。在其**设置**中，你可以指定是否**记录访客访问**，是否以**JSON格式**（而不是序列化的PHP）存储，以及**保留日志的时间**和其**写入缓冲区大小**。'
- en: 'You can configure an **external database log** store if you wish to write logging
    information to a database separate from Moodle. This additional data storage is
    useful if you wish to collect data for more detailed analysis or data warehousing
    operations. This is shown in the following screenshot:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望将日志信息写入与Moodle分开的数据库，你可以配置一个**外部数据库日志存储**。这种额外的数据存储对于你希望收集数据进行更详细的分析或数据仓库操作非常有用。这在下图中显示：
- en: '![Figure 12.18 – Configuring the external database log store ](img/Figure_12.18_B18779.jpg)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![图12.18 – 配置外部数据库日志存储](img/Figure_12.18_B18779.jpg)'
- en: Figure 12.18 – Configuring the external database log store
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.18 – 配置外部数据库日志存储
- en: By default, the same databases are supported as when we installed Moodle. The
    database host, user, password, and name settings are identical to the ones we
    covered in [*Chapter 1*](B18779_01.xhtml#_idTextAnchor020), *Installing Moodle*.
    Additionally, you have to specify a `mdl_logstore_standard_log`. Ensure you test
    the connection (the link is at the top of the screen); if successful, the check
    will display the columns that the external table contains. You can also specify
    various settings for a persistent database connection if you have a lot of logging
    traffic on your site and performance is an issue.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，支持与安装Moodle时相同的数据库。数据库主机、用户、密码和名称设置与我们在[*第1章*](B18779_01.xhtml#_idTextAnchor020)“安装Moodle”中介绍的一致。此外，你必须指定一个`mdl_logstore_standard_log`。确保你测试连接（链接在屏幕顶部）；如果成功，检查将显示外部表包含的列。如果你网站上的日志流量很大且性能是问题，你也可以指定持久数据库连接的各种设置。
- en: 'Now comes the exciting part of the external log store plugin. You can specify
    filters, which will then be applied when storing the data:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是外部日志存储插件的精彩部分。你可以指定过滤器，这些过滤器将在存储数据时被应用：
- en: '**Log guest actions**: This tells you whether guest actions are stored or not.
    Usually, this is not required unless you wish to log all users’ traffic.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**记录访客操作**：这会告诉你访客操作是否被存储。通常情况下，除非你希望记录所有用户的流量，否则不需要这样做。'
- en: '**Educational levels**: These are the three types that we came across in the
    events section, namely **Teaching**, **Participating**, and **Other**.'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教育水平**：这些是我们事件部分遇到的三种类型，即**教学**、**参与**和**其他**。'
- en: '**Database query types**: These are the four CRUD types we came across in the
    events section, namely **Create**, **Read**, **Update**, and **Delete**.'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据库查询类型**：这些是我们事件部分遇到的四种CRUD类型，即**创建**、**读取**、**更新**和**删除**。'
- en: Filtering logs is useful when privacy regulations do not allow you to store
    actions of certain users or types (refer to [*Chapter 14*](B18779_14.xhtml#_idTextAnchor271),
    *Complying with Data Protection Regulations*) and when reporting from the log
    store does not require specific actions; this will also have a beneficial impact
    on performance.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 当隐私法规不允许您存储某些用户或类型的操作时，过滤日志很有用（参看[*第14章*](B18779_14.xhtml#_idTextAnchor271)，*遵守数据保护法规*），以及当从日志存储报告中报告不需要特定操作时；这也会对性能产生积极影响。
- en: Important note
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: External database logs supplement the standard log, not replace them. Disabling
    the standard log will cause log-based system reports to malfunction.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 外部数据库日志补充了标准日志，而不是替代它们。禁用标准日志将导致基于日志的系统报告出现故障。
- en: You can add additional log stores from [moodle.org/plugins/?q=type:logstore](http://moodle.org/plugins/?q=type:logstore).
    An interesting option is **Logstore xAPI**, which emits xAPI statements (also
    known as Tin Can) to an LRS of your choice.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[moodle.org/plugins/?q=type:logstore](http://moodle.org/plugins/?q=type:logstore)添加额外的日志存储。一个有趣的选项是**Logstore
    xAPI**，它将xAPI语句（也称为Tin Can）发送到您选择的LRS。
- en: This concludes this subsection on logging components, which covered the log
    store manager, log store plugins, and the log store itself. The last element in
    our process diagram covers log-based reports, which we will cover next.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了关于日志组件的子节，它涵盖了日志存储管理器、日志存储插件以及日志存储本身。我们流程图中的最后一个元素是日志报告，我们将在下一节中介绍。
- en: Interacting with log-based reports
  id: totrans-249
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 与基于日志的报告交互
- en: 'There are two types of built-in reports in Moodle: ones supplied with data
    from a log store and others generated on the fly without log store input. You
    can view the list of reports by going to **Site administration** | **Plugins**
    | **Reports** | **Manage reports**, as shown in the following annotated screenshot
    (the icons on the left indicate whether it is a course, system, or another type
    of report):'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle中有两种内置报告类型：一种是从日志存储提供数据的报告，另一种是在没有日志存储输入的情况下即时生成的报告。您可以通过访问**站点管理** |
    **插件** | **报告** | **管理报告**来查看报告列表，如下面的注释截图所示（左侧的图标表示它是一个课程、系统或其他类型的报告）：
- en: '![Figure 12.19 – System reports ](img/Figure_12.19_B18779.jpg)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![图12.19 – 系统报告](img/Figure_12.19_B18779.jpg)'
- en: Figure 12.19 – System reports
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.19 – 系统报告
- en: Here, you can see when a report requires a log store and, if so, which ones
    are supported. We will focus on (live) logs since they form the basis for log-based
    reporting, before moving on to statistics and analytics.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以查看报告何时需要日志存储，如果需要，哪些是受支持的。我们将重点关注（实时）日志，因为它们是日志报告的基础，然后再转向统计和分析。
- en: Remember that most information you retrieve from log-based reporting is also
    available to teachers at the course level. While educators use this information
    mainly in a pedagogical context (to monitor progress and measure performance),
    your role as an administrator is to view this data in a site-wide context. Furthermore,
    you are the one who is likely to be approached if any claims, problems, or other
    anomalies occur, for example, if a student insists on having submitted an assignment
    that is not on the system or a teacher is unable to log in from home. Given the
    sensitivity of such data and your organization’s policies, access to some operations
    has to be deactivated via roles and capabilities (added to the right of each report,
    if available).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，从基于日志的报告中检索的大部分信息在课程级别也对教师可用。虽然教育工作者主要在教学方法中使用这些信息（以监控进度和衡量表现），但作为管理员，您的角色是在整个站点范围内查看这些数据。此外，如果发生任何索赔、问题或其他异常情况，例如，如果学生坚持声称提交了系统上没有的作业或教师无法从家中登录，您很可能会被找到。鉴于此类数据的敏感性和您组织的政策，必须通过角色和能力（如果可用，添加到每个报告的右侧）来停用某些操作的访问权限。
- en: 'Depending on your setup and configuration, Moodle records a detailed log of
    each action that users perform. By default, each record (or hit) in the standard
    log contains data about the following:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的设置和配置，Moodle会记录用户执行的每个操作的详细日志。默认情况下，标准日志中的每个记录（或点击）包含以下数据：
- en: '**Who** (user)'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**谁**（用户）'
- en: '**What** (action)'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**什么**（操作）'
- en: '**When** (date and time)'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**何时**（日期和时间）'
- en: '**Where** (IP address)'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在哪里**（IP地址）'
- en: 'Site-wide logs can be accessed by going to **Site administration** | **Reports**
    | **Logs**. At the top of the page, you can interactively drill down to the data
    via filters, which is useful if you need to locate data about an individual, an
    activity, or a course. For example, if pupils claim that they have submitted an
    assignment, which cannot be located, the tracking log will be able to shed light
    on this. The available filters are as follows:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 通过访问**网站管理** | **报告** | **日志**可以访问网站范围内的日志。在页面顶部，您可以通过过滤器交互式地深入到数据中，这在需要定位有关个人、活动或课程的数据时很有用。例如，如果学生声称他们提交了无法找到的作业，跟踪日志将能够提供线索。可用的过滤器如下：
- en: '**Courses**: Select a specific course or the entire Moodle site (site logs).'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**课程**：选择特定的课程或整个Moodle网站（网站日志）。'
- en: '**Groups**: Select a specific group or **All groups**. This filter is only
    displayed if group mode is enabled in the selected course.'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**组**：选择特定的组或**所有组**。此过滤器仅在所选课程中启用了组模式时显示。'
- en: '**Participants**: Select a specific user or **All participants**.'
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**参与者**：选择特定的用户或**所有参与者**。'
- en: '**Date**: Specify a particular day or all days of activity. Unfortunately,
    it is not (yet) possible to specify date ranges.'
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期**：指定特定的某一天或所有活动日。不幸的是，目前尚不能指定日期范围。'
- en: '**Activities**: Select whether you wish to run a report of **All activities**
    or **Site errors** – this list changes when a course has been selected.'
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**活动**：选择是否要运行**所有活动**或**网站错误**的报告 – 当选择课程时，此列表会发生变化。'
- en: '**Actions**: You can choose among **All actions**, **Create**, **View**, **Update**,
    **Delete**, and **All changes**.'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作**：您可以选择**所有操作**、**创建**、**查看**、**更新**、**删除**和**所有更改**。'
- en: '**Educational levels**: You can choose from **All events**, **Teaching**, **Participating**,
    and **Other**. We came across the latter three options when looking at events.'
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教育水平**：您可以从**所有事件**、**教学**、**参与**和**其他**中选择。我们在查看事件时遇到了后三个选项。'
- en: '**Log store**: If more than one log store has been set up, you must select
    the one from which the data is being read.'
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日志存储**：如果已设置多个日志存储，您必须选择数据正在从中读取的那个。'
- en: 'Once you have selected a course and clicked on the **Get these logs** button,
    the content in each dropdown menu changes context-sensitively. For example, the
    **Participants** menu contains all the names of users who have a role in the course,
    and the **Activities** menu is populated with activities and resources. If you
    watch Moodle’s submenu, you will see what happens internally. Moodle temporarily
    redirects the reporting tool inside the selected course where the course log viewer
    is called, which is identical in appearance. Once you have selected your filtering
    criteria, a report is displayed, as follows:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您选择了课程并点击了**获取这些日志**按钮，每个下拉菜单的内容会根据上下文敏感地改变。例如，**参与者**菜单包含在课程中有角色的所有用户的姓名，而**活动**菜单则填充了活动和资源。如果您查看Moodle的下拉菜单，您将看到内部发生的情况。Moodle临时重定向到所选课程内的报告工具，其中课程日志查看器被调用，外观相同。一旦您选择了过滤条件，就会显示报告，如下所示：
- en: '![Figure 12.20 – Log data ](img/Figure_12.20_B18779.jpg)'
  id: totrans-270
  prefs: []
  type: TYPE_IMG
  zh: '![图12.20 – 日志数据](img/Figure_12.20_B18779.jpg)'
- en: Figure 12.20 – Log data
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.20 – 日志数据
- en: 'This tabular information is displayed in the reverse order of a user’s access
    date and time; that is, the last hit is displayed first. The columns of the table
    represent the following information:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 此表格信息以用户访问日期和时间的逆序显示；也就是说，最后访问的记录首先显示。表格的列代表以下信息：
- en: '**Time**: Date and time of the hit.'
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**时间**：击中的时间。'
- en: '**User full name**: Name of the user – if a particular user is selected, the
    same value will be displayed in each row.'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户全名**：用户的名字 – 如果选择了特定用户，则每个行将显示相同的值。'
- en: '**Affected user**: This will display if the action impacts another user.'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**受影响用户**：如果操作影响其他用户，将显示此信息。'
- en: '**Event context**: The context in which the event has been triggered. A link
    directs you to the context, for instance, a course.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事件上下文**：事件被触发的上下文。一个链接会引导您到上下文，例如，一个课程。'
- en: '**Component**: The event component (refer to the *Events* section earlier in
    this chapter).'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**组件**：事件组件（参考本章前面的*事件*部分）。'
- en: '**Event name**: The event that has been triggered. When selected, a pop-up
    window containing the event will open.'
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事件名称**：被触发的那个事件。当选择时，将打开一个包含事件的弹出窗口。'
- en: '**Description**: A short description of what the user has been doing – this
    is very useful for seeing what resources are being accessed or checking whether
    an individual has viewed a course. Internal IDs are used, such as user ID, course
    ID, or forum ID.'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：用户所做事情的简要描述——这对于查看正在访问的资源或检查个人是否查看过课程非常有用。使用内部ID，如用户ID、课程ID或论坛ID。'
- en: '`cli`), a restore operation (`restore`), Moodle itself (`web`), a web service
    (`ws`), or any other origin (`other`).'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cli`），恢复操作（`restore`），Moodle本身（`web`），网络服务（`ws`），或任何其他来源（`other`）。'
- en: '**IP address**: The (unresolved) IP address; this is useful for identifying
    where the user accessed the page (for example, from home or within the organization).'
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IP地址**：未解析的IP地址；这对于确定用户访问页面的位置很有用（例如，从家中或组织内部）。'
- en: At the bottom of the results page, you can download table data in several formats
    (CSV, XLSX, HTML, JSON, ODS, or PDF). You can reduce or rearrange the options
    in that list by going to **Site administration** | **Plugins** | **Data formats**
    | **Manage data formats**.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 在结果页面底部，您可以以多种格式（CSV、XLSX、HTML、JSON、ODS或PDF）下载表格数据。您可以通过转到**网站管理** | **插件**
    | **数据格式** | **管理数据格式**来减少或重新排列该列表中的选项。
- en: 'When you click on the IP address in the log, a new page will open that displays
    the registered location of the user’s IP as a pin on the world map (this is not
    the case for local or private IP addresses), as shown in the following figure:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 当您点击日志中的IP地址时，将打开一个新页面，显示用户IP的注册位置作为世界地图上的一个标记（这不适用于本地或私有IP地址），如下所示：
- en: '![Figure 12.21 – Geographical location of an IP address ](img/Figure_12.21_B18779.jpg)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![图12.21 – IP地址的地理位置](img/Figure_12.21_B18779.jpg)'
- en: Figure 12.21 – Geographical location of an IP address
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.21 – IP地址的地理位置
- en: The default lookup tool that’s used is called **NetGeo** (www.geoplugin.com).
    For more accurate results, you will need to install a local copy of the **MaxMind
    GeoLite** database ([dev.maxmind.com](http://dev.maxmind.com)) or specify a Google
    Maps API key. Both settings can be found in the IP address lookup section at **Site
    administration** | **General** | **Location** | **Location settings**.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的查找工具称为**NetGeo**（www.geoplugin.com）。为了获得更准确的结果，您需要安装**MaxMind GeoLite**数据库的本地副本（[dev.maxmind.com](http://dev.maxmind.com)）或指定Google
    Maps API密钥。这两个设置都可以在**网站管理** | **常规** | **位置** | **位置设置**中的IP地址查找部分找到。
- en: Moodle provides **live logs** of activities in the last hour, which can be accessed
    by navigating to **Site administration** | **Reports** | **Live logs**. It is
    a prepared report that shows activities that took place in the previous 60 minutes;
    it is updated automatically every 60 seconds. You can **Pause live updates** via
    the button beside the log reader selector. Live logs are helpful if you have changed
    the configuration, for instance, an authentication or enrolment plugin, and want
    to ensure that it is working correctly. Alternatively, you can just sit back and
    watch what is happening on your site. The format of the screen is identical to
    the preceding standard log. Note that the first entry in the live log is you looking
    at the live log!
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle提供过去一小时的**实时日志**，可以通过导航到**网站管理** | **报告** | **实时日志**来访问。这是一个预先准备的报告，显示了前60分钟内发生的活动；它每60秒自动更新一次。您可以通过日志阅读器选择器旁边的按钮**暂停实时更新**。实时日志在您更改了配置（例如，身份验证或注册插件）并希望确保其正确工作时很有帮助。或者，您也可以坐下来观察网站上发生的事情。屏幕格式与先前的标准日志相同。请注意，实时日志中的第一条记录是您查看实时日志的情况！
- en: 'When selecting **site errors** from the activities dropdown menu, all the errors
    (mainly failed logins) are displayed. For example, the report that is shown in
    the following screenshot displays two invalid logins, as well as two failed attempts
    to send an email to users:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 当从活动下拉菜单中选择**网站错误**时，将显示所有错误（主要是失败的登录尝试）。例如，以下屏幕截图显示的两个无效登录尝试，以及两次尝试向用户发送电子邮件失败：
- en: '![Figure 12.22 – Error log ](img/Figure_12.22_B18779.jpg)'
  id: totrans-289
  prefs: []
  type: TYPE_IMG
  zh: '![图12.22 – 错误日志](img/Figure_12.22_B18779.jpg)'
- en: Figure 12.22 – Error log
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.22 – 错误日志
- en: It is a good practice to check the error logs regularly to identify problems
    on your site and potential unauthorized access attempts. These reports can also
    be set up to be sent by email to the site administrator (refer to [*Chapter 13*](B18779_13.xhtml#_idTextAnchor251),
    *Ensuring Moodle Security*).
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 定期检查错误日志是一个好习惯，以便识别网站上的问题和潜在的未授权访问尝试。这些报告也可以设置为通过电子邮件发送给网站管理员（参考[*第13章*](B18779_13.xhtml#_idTextAnchor251)，*确保Moodle安全*）。
- en: You should now be equipped to interact with Moodle logs fully. Statistics has
    been mentioned a few times in this section; we’ll look at what statistical analysis
    Moodle supports and how we can benefit from it in the next section.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你应该已经准备好完全与Moodle日志交互。本节中提到了几次统计；我们将在下一节中查看Moodle支持的统计分析以及我们如何从中受益。
- en: Gathering statistics
  id: totrans-293
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 收集统计
- en: This section will teach you how to set up and interpret **Moodle statistics**.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 本节将教你如何设置和解释**Moodle统计**。
- en: Moodle has a built-in Statistics module, which is deactivated by default because
    the component is very resource-hungry in terms of disk space usage and, more importantly,
    memory usage.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle内置了一个统计模块，默认情况下是禁用的，因为该组件在磁盘空间使用和，更重要的是，内存使用方面非常消耗资源。
- en: Important note
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Only use the Statistics module if you require the information and can accept
    some potentially significant performance reduction.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 只有在你需要这些信息并且可以接受一些可能显著的性能降低时，才使用统计模块。
- en: 'Select **Enable statistics** under **Site administration** | **General** |
    **Advanced features** and configure it by navigating to **Site administration**
    | **Server** | **Statistics**, where the following parameters are available:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 在**网站管理** | **常规** | **高级功能**下选择**启用统计**，并通过导航到**网站管理** | **服务器** | **统计**来配置它，以下参数将可用：
- en: '**Maximum processing interval**: After enabling the Statistics module, Moodle
    utilizes the logs to derive statistical information. Here, you need to specify
    the time that Moodle should go back by to gather the stats. Be aware that this
    is quite a resource-intensive operation.'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大处理间隔**：启用统计模块后，Moodle利用日志来推导统计信息。在此，你需要指定Moodle应该回溯多长时间来收集统计。请注意，这是一个相当消耗资源的操作。'
- en: '**Maximum runtime**: You can limit the time the statistics gathering process
    is allowed to run; this is another mechanism that helps you avoid putting too
    much burden on the system.'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大运行时间**：你可以限制统计收集过程允许运行的时间；这是另一种帮助你避免对系统造成过大负担的机制。'
- en: '**Days to process**: The number of days that will be processed in each statistics
    execution.'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**处理天数**：每次统计执行中将处理的天数。'
- en: '**User threshold**: Here, the Statistics module can be instructed to ignore
    courses with less than a certain number of enrolled users.'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户阈值**：在此，可以指示统计模块忽略注册用户数量少于一定数量的课程。'
- en: Statistics calculations take place in the background via the `\core\task\stats_cron_task`
    scheduled task. It is highly recommended that its execution time does not clash
    with the site backup as both operations are potentially very resource-intensive.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 统计计算通过`\core\task\stats_cron_task`计划任务在后台进行。强烈建议其执行时间不要与网站备份冲突，因为这两个操作都可能非常消耗资源。
- en: 'Let’s look at some statistics by going to **Site administration** | **Reports**
    | **Statistics**. Once you have selected **Course**, **Report type** (views, posts,
    logins, or all of these), and **Time period**, a graph and some tabular information
    will be displayed. The data that’s shown represents the number of *hits* on a
    particular day, broken down by roles:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过访问**网站管理** | **报告** | **统计**来查看一些统计信息。一旦你选择了**课程**、**报告类型**（视图、帖子、登录或所有这些），以及**时间段**，就会显示一个图表和一些表格信息。显示的数据表示特定一天上的*点击量*，按角色细分：
- en: '![Figure 12.23 – Statistics report ](img/Figure_12.23_B18779.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![图12.23 – 统计报告](img/Figure_12.23_B18779.jpg)'
- en: Figure 12.23 – Statistics report
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.23 – 统计报告
- en: If no data is displayed, you might have to readjust the settings of your statistics.
    Also, while statistics gathering is in progress, a message might be displayed
    stating that the module is in catch-up mode. If this is the case, you must wait
    until the processing has been completed.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有数据显示，你可能需要重新调整你的统计设置。此外，在统计收集过程中，可能会显示一条消息，说明模块处于追赶模式。如果是这种情况，你必须等待处理完成。
- en: 'A report that shows some basic statistics on courses over a period of interest
    that make use of the statistics data is located at **Site administration** | **Reports**
    | **Course overview**. The options are as follows (you can find the report measure
    calculations at [docs.moodle.org/en/Course_overview_report](http://docs.moodle.org/en/Course_overview_report)):'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 一个报告显示了在一段时间内关于课程的某些基本统计信息，并使用了统计数据，位于**网站管理** | **报告** | **课程概览**。选项如下（你可以在[docs.moodle.org/en/Course_overview_report](http://docs.moodle.org/en/Course_overview_report)找到报告度量计算）：
- en: '**Most active courses**'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最活跃的课程**'
- en: '**Most active courses (weighted)**'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最活跃的课程（加权）**'
- en: '**Most participatory courses (enrolments)**'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**参与度最高的课程（注册）**'
- en: '**Most participatory courses (views/posts)**'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**参与度最高的课程（查看/帖子）**'
- en: Each report shows a table, and a graph visualizes the course data.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 每个报告都显示一个表格，并通过图表可视化课程数据。
- en: I don’t know about you, but the information provided by these two Statistics
    reports is highly unsatisfactory. Given the module’s burden on our system and
    the amount of available data, this seems like a very simplistic – some would say
    useless – way to display statistics.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 我不知道你们的情况如何，但这两个统计报告提供的信息非常令人不满意。考虑到模块对我们系统的负担以及可用的数据量，这似乎是一个非常简单——有些人可能会说无用的——显示统计信息的方式。
- en: An extension to the Statistics module is a plugin called **Overview Statistics**
    ([moodle.org/plugins/report_overviewstats](http://moodle.org/plugins/report_overviewstats)),
    which provides you with more analyses on users who are logging in, user countries,
    preferred languages, and some course stats. While this is an improvement over
    the Statistics facility, it is still far from ideal.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 统计模块的一个扩展是一个名为**概览统计**（[moodle.org/plugins/report_overviewstats](http://moodle.org/plugins/report_overviewstats)）的插件，它为您提供了关于登录用户、用户国家、首选语言以及一些课程统计的更多分析。虽然这比统计功能有所改进，但它仍然远非理想。
- en: If the described statistics facilities do not satisfy your hunger for usage
    data, you might consider using tools such as **Matamo**, **Piwik** (both privacy-focused
    and open source), and **Google Analytics**. These web log analyzers are feature-rich
    services that track any traffic to your Moodle site and offer an abundance of
    statistics on visitors, traffic sources, content, user-defined goals, and much
    more.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 如果描述的统计功能不能满足您对使用数据的渴望，您可以考虑使用**Matamo**、**Piwik**（两者都注重隐私且开源）和**Google Analytics**等工具。这些网络日志分析器是功能丰富的服务，可以跟踪您Moodle站点的任何流量，并提供关于访客、流量来源、内容、用户定义的目标以及更多统计信息。
- en: 'You have two options for adding web traffic analysis support to your Moodle
    system:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 您有两个选项可以将网络流量分析支持添加到您的Moodle系统中：
- en: A dedicated plugin that supports any or all of the tools mentioned previously,
    for example, **Web Analytics** ([moodle.org/plugins/tool_webanalytics](http://moodle.org/plugins/tool_webanalytics)).
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个专门支持之前提到的任何或所有工具的插件，例如，**Web Analytics** ([moodle.org/plugins/tool_webanalytics](http://moodle.org/plugins/tool_webanalytics))。
- en: 'A theme that supports web log analyzers. The two most popular third-party themes,
    which were mentioned in [*Chapter 7*](B18779_07.xhtml#_idTextAnchor140), *Enhancing
    Moodle’s Look and Feel*, provide different levels of integration: while **Moove**
    only supports your Google Analytics V4 code, **Adaptable** has a dedicated **Analytics**
    tab where you can customize your Google Analytics, Matamo, and Piwik settings,
    respectively.'
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个支持网络日志分析器的主题。在[*第7章*](B18779_07.xhtml#_idTextAnchor140)“增强Moodle的外观和感觉”中提到的两个最受欢迎的第三方主题，提供不同级别的集成：**Moove**仅支持您的Google
    Analytics V4代码，而**Adaptable**有一个专门的**分析**选项卡，您可以在其中分别自定义Google Analytics、Matamo和Piwik设置。
- en: Piwik, Matomo, and Google Analytics run sophisticated statistics against historical
    browsing data. Moodle Analytics, on the other hand, applies machine learning techniques
    and models to make predictions of future outcomes, which is the topic of the final
    section of this chapter.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: Piwik、Matomo和Google Analytics对历史浏览数据进行复杂的统计分析。另一方面，Moodle Analytics则应用机器学习技术和模型来预测未来的结果，这是本章最后部分的主题。
- en: Making predictions with Moodle Analytics
  id: totrans-321
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Moodle Analytics进行预测
- en: In this section, you will learn about **Moodle Analytics**, including how to
    create learning analytics models.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您将了解**Moodle Analytics**，包括如何创建学习分析模型。
- en: Custom and log-based reports are descriptive; they tell viewers what happened
    but not why, and don’t predict outcomes or advise users on how to improve. While
    reporting tells us about *who*, *what*, *when*, and *where*, learning analytics
    aims to explain *why* and *how well*.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 自定义和基于日志的报告是描述性的；它们告诉观众发生了什么，但不知道为什么，也不预测结果或建议用户如何改进。虽然报告告诉我们关于*谁*、*什么*、*何时*和*何地*的信息，但学习分析旨在解释*为什么*以及*效果如何*。
- en: Important note
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Moodle Analytics predicts or detects unknown aspects of learning based on (historical)
    log data and current behavior.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle Analytics根据（历史）日志数据和当前行为预测或检测学习中的未知方面。
- en: 'There are two types of models that Moodle Analytics supports:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle Analytics支持两种类型的模型：
- en: '**Machine learning-based models**: Sophisticated models use mathematical tools
    to make predictions; for instance, students with a high likelihood of failing
    a course'
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基于机器学习的模型**：复杂的模型使用数学工具进行预测；例如，有很高可能挂科的课程'
- en: '**Static models**: Simple models are based on assumptions and do not require
    sophisticated analyses; for example, students who have not enrolled in a course'
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**静态模型**：简单模型基于假设，不需要复杂的分析；例如，未选修课程的'
- en: 'The following diagram illustrates the key components of the Moodle Analytics
    workflow (adapted from [docs.moodle.org/dev/Analytics_API](http://docs.moodle.org/dev/Analytics_API)):'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表说明了Moodle分析工作流程的关键组件（改编自[docs.moodle.org/dev/Analytics_API](http://docs.moodle.org/dev/Analytics_API)）：
- en: '![Figure 12.24 – Moodle Analytics components and workflow ](img/Figure_12.24_B18779.jpg)'
  id: totrans-330
  prefs: []
  type: TYPE_IMG
  zh: '![图12.24 – Moodle分析组件和工作流程](img/Figure_12.24_B18779.jpg)'
- en: Figure 12.24 – Moodle Analytics components and workflow
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.24 – Moodle分析组件和工作流程
- en: 'Let’s circle through the workflow, starting from the top left:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从左上角开始回顾工作流程：
- en: '**Log** is the selected log file we covered earlier. A **Subset** of the log
    will be created based on the analytics model and the selected analysis interval.'
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**日志**是我们之前提到的所选日志文件。将根据分析模型和所选分析间隔创建日志的**子集**。'
- en: '**Indicators**, also known as predictors or features, are what you think will
    lead to an accurate target prediction. An indicator might be forum participation
    or teacher availability. **Targets**, also known as classes, represent the event
    the model is attempting to predict. A popular target is “students at risk of dropping
    out.”'
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**指标**，也称为预测器或特征，是你认为会导致准确目标预测的因素。一个指标可能是论坛参与度或教师可用性。**目标**，也称为类别，代表模型试图预测的事件。一个流行的目标是“有辍学风险的学生”。'
- en: The filtering and augmentation outcome from the first three steps results in
    **Model Data**, which is used for the prediction model at hand.
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前三个步骤的过滤和增强结果产生**模型数据**，该数据用于当前预测模型。
- en: The **Model** itself is created using **machine learning** (**ML**) algorithms
    that carry out all the heavy computation behind the scenes. We can treat this
    element as a black box and rely on the of the machine learning backend working
    correctly.
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**模型**本身是通过使用**机器学习**（**ML**）算法创建的，这些算法执行所有幕后复杂的计算。我们可以将这个元素视为一个黑盒，并依赖于机器学习后端正确运行。'
- en: '**Predictions** are patterns found in data – the bigger and more diverse the
    model data, the more accurate the predictions. A prediction might be in the form
    of a rule such as “if forum participation is low and teacher availability is low,
    then students at risk of dropping out is high.”'
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**预测**是数据中的模式 – 模型数据越大、越多样化，预测就越准确。一个预测可能是一个规则，例如“如果论坛参与度低且教师可用性低，那么有辍学风险的学生就高。”'
- en: '**Insights** are generated by predictions when certain thresholds are met (a
    particular student is at risk of dropping out). Based on the insights, **Actions**
    should then be taken.'
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当达到某些阈值时，通过预测生成**见解**。基于这些见解，应采取**行动**。
- en: One of the most popular machine learning techniques is **classification**. The
    objective of classification is to predict a target by building a model based on
    a training dataset and then utilizing that model to predict the target in the
    test data. In our learning analytics context, a typical target is a prediction
    of whether students will pass or fail, or whether they are likely to drop out.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 最受欢迎的机器学习技术之一是**分类**。分类的目标是通过基于训练数据集构建模型来预测目标，然后利用该模型在测试数据中预测目标。在我们的学习分析环境中，一个典型的目标是对学生是否会通过或失败，或者他们是否可能辍学的预测。
- en: This type of learning is known as supervised learning because the learning process
    is guided toward the targets while building the model. Staying with the pass-fail
    scenario, the modeler (you!) would decide which data should be considered as indicators;
    for instance, course progress, grades, and participation levels.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 这种学习方式被称为监督学习，因为学习过程在构建模型的同时被引导向目标。以通过/不通过的场景为例，模型构建者（你！）会决定哪些数据应被视为指标；例如，课程进度、成绩和参与度水平。
- en: Some typical classification applications include loan approval, churn prediction,
    medical diagnoses, and spam detection. Learning analytics usually deals with classification
    problems with one target (for example, pass or fail) to be predicted. Moodle Analytics
    currently only supports this type of binary classification.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 一些典型的分类应用包括贷款审批、流失预测、医疗诊断和垃圾邮件检测。学习分析通常处理具有一个待预测目标（例如，通过或失败）的分类问题。Moodle分析目前仅支持这种二进制分类。
- en: We have only touched upon the very basics of the inner workings of Moodle Analytics.
    If you wish to dive deeper into this fascinating topic, some excellent resources
    are available online, such as docs.moodle.org/en/Using_analytics and docs.moodle.org/dev/Analytics_API.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 我们只是触及了Moodle分析内部运作的非常基础的部分。如果你希望深入了解这个迷人的主题，一些优秀的在线资源可供参考，例如docs.moodle.org/en/Using_analytics和docs.moodle.org/dev/Analytics_API。
- en: OK, enough of all the abstract machine learning and learning analytics theory.
    However, before we can create our first Moodle analytics model, some initial configuration
    is required, which we are going to cover first.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 好了，关于所有抽象的机器学习和学习分析理论的讨论就到这里。然而，在我们能够创建第一个Moodle分析模型之前，需要进行一些初始配置，我们将首先介绍这些配置。
- en: Setting up Moodle Analytics
  id: totrans-344
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置Moodle分析
- en: 'First, ensure that the **Analytics** option under **Site administration** |
    **General** | **Advanced features** is turned on. Setting up Moodle Analytics
    requires configuring two types of settings: educational domain knowledge and some
    technical parameters.'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，确保在**站点管理** | **常规** | **高级功能**下**分析**选项已开启。设置Moodle分析需要配置两种类型的设置：教育领域知识和一些技术参数。
- en: 'Under **Site administration** | **General** | **Analytics** | **Site information**,
    you should provide information about how most educators and learners use your
    Moodle site. This educational domain knowledge can be taken into account by machine
    learning algorithms. The self-explanatory fields to be configured are shown in
    the following screenshot:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 在**站点管理** | **常规** | **分析** | **站点信息**下，你应该提供有关大多数教育者和学习者如何使用你的Moodle站点的信息。这种教育领域知识可以被机器学习算法考虑。以下截图显示了需要配置的说明性字段：
- en: '![Figure 12.25 – Analytics site information ](img/Figure_12.25_B18779.jpg)'
  id: totrans-347
  prefs: []
  type: TYPE_IMG
  zh: '![图12.25 – 分析站点信息](img/Figure_12.25_B18779.jpg)'
- en: Figure 12.25 – Analytics site information
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.25 – 分析站点信息
- en: 'You can find the technical configuration by going to **Site administration**
    | **General** | **Analytics** | **Analytics settings**, where the parameters have
    been explained in detail:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过访问**站点管理** | **常规** | **分析** | **分析设置**来找到技术配置，其中参数已经详细解释：
- en: '![Figure 12.26 – Analytics settings ](img/Figure_12.26_B18779.jpg)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![图12.26 – 分析设置](img/Figure_12.26_B18779.jpg)'
- en: Figure 12.26 – Analytics settings
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.26 – 分析设置
- en: Most of these settings can easily be mapped onto the Moodle Analytics workflow
    presented earlier. Two scheduled tasks `(\tool_analytics\task\train_models` and
    `\tool_analytics\task\predict_models`) iterate through enabled models to train
    models and generate predictions, respectively. While you can allow these processes
    to be executed manually by disabling the **Analytics processes execution via command
    line only** setting, this is only recommended for testing purposes and not in
    production environments.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数这些设置可以轻松映射到之前展示的Moodle分析工作流程中。两个计划任务`(\tool_analytics\task\train_models`和`\tool_analytics\task\predict_models`)分别遍历启用的模型以训练模型和生成预测。虽然你可以通过禁用**仅通过命令行执行分析过程**设置来手动执行这些过程，但这仅推荐用于测试目的，不适用于生产环境。
- en: Once the domain and technical setup has been completed, we can create analytics
    models.
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成领域和技术设置，我们就可以创建分析模型。
- en: Creating analytics models
  id: totrans-354
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建分析模型
- en: 'Analytics models are managed under **Site administration** | **General** |
    **Analytics** | **Analytics models**, as shown in the following screenshot:'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 分析模型在**站点管理** | **常规** | **分析** | **分析模型**下进行管理，如下截图所示：
- en: '![Figure 12.27 – Analytics models ](img/Figure_12.27_B18779.jpg)'
  id: totrans-356
  prefs: []
  type: TYPE_IMG
  zh: '![图12.27 – 分析模型](img/Figure_12.27_B18779.jpg)'
- en: Figure 12.27 – Analytics models
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.27 – 分析模型
- en: 'For each model, the three relevant fields are **Indicators**, **Analysis interval**,
    and **Insights**:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个模型，三个相关字段是**指标**、**分析间隔**和**洞察**：
- en: '**Indicators**: There are nearly 60 predefined indicators available, based
    on an empirical model of student engagement among many Moodle instances and some
    Moodle Partner sites. These indicators are divided into two types: cognitive depth
    and social breadth. You can find more details on Moodle Analytics indicators at
    [docs.moodle.org/en/Learning_analytics_indicators](http://docs.moodle.org/en/Learning_analytics_indicators).'
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**指标**：基于许多Moodle实例和一些Moodle合作伙伴站点中的学生参与经验模型，有近60个预定义的指标可用。这些指标分为两种类型：认知深度和社会广度。您可以在[docs.moodle.org/en/Learning_analytics_indicators](http://docs.moodle.org/en/Learning_analytics_indicators)上找到有关Moodle分析指标的更多详细信息。'
- en: '**Analysis interval**: This time-splitting method defines when Moodle will
    calculate predictions and the portion of logs that will be considered for those
    predictions.'
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分析间隔**：这种时间分割方法定义了Moodle何时计算预测以及将考虑用于这些预测的日志部分。'
- en: '**Insights**: These are the “interesting” prediction outcomes. The selection
    depends on the model type, for instance, users who are at risk of dropping out.
    These insights also trigger events, for example, notifications to course teachers
    or messages to students. Here is an **Insights** sample provided to course teachers,
    where they can also provide feedback, which will then be taken into account during
    the subsequent analysis:'
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**洞见**：这些是“有趣”的预测结果。选择取决于模型类型，例如，有退课风险的用户。这些洞见也会触发事件，例如，向课程教师发送通知或向学生发送消息。以下是一个提供给课程教师的**洞见**样本，他们也可以提供反馈，这些反馈将在后续分析中予以考虑：'
- en: '![Figure 12.28 – Insights example ](img/Figure_12.28_B18779.jpg)'
  id: totrans-362
  prefs: []
  type: TYPE_IMG
  zh: '![图12.28 – 洞见示例](img/Figure_12.28_B18779.jpg)'
- en: Figure 12.28 – Insights example
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.28 – 洞见示例
- en: 'To adjust the settings of a model, select the standard **Edit** option in the
    **Action** menu. Here is an example of the **Students at risk of dropping out**
    model:'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 要调整模型的设置，请选择**操作**菜单中的标准**编辑**选项。以下是一个**有退课风险的学员**模型的示例：
- en: '![Figure 12.29 – Analytics model details ](img/Figure_12.29_B18779.jpg)'
  id: totrans-365
  prefs: []
  type: TYPE_IMG
  zh: '![图12.29 – 分析模型详情](img/Figure_12.29_B18779.jpg)'
- en: Figure 12.29 – Analytics model details
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.29 – 分析模型详情
- en: You can modify the list of **Indicators** and **Analysis interval**. Additionally,
    you can restrict the model-building to **Contexts** – that is, selected course
    categories and courses.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以修改**指标**和**分析间隔**的列表。此外，您可以将模型构建限制在**上下文**中 – 即选定的课程类别和课程。
- en: Important note
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: When a model is modified, all previous predictions will be deleted.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 当模型被修改时，所有之前的预测将被删除。
- en: 'You must configure the same parameters when creating a new model after selecting
    the target. The following targets (what the model will predict) are available
    in Moodle:'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择目标后创建新模型时，您必须配置相同的参数。以下是在Moodle中可用的以下目标（模型将预测的内容）：
- en: Students at risk of not achieving the competencies assigned to a course (ML)
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有可能无法达到课程分配能力的学员（机器学习）
- en: Students at risk of not meeting the course completion conditions (ML)
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有可能无法满足课程完成条件的学员（机器学习）
- en: Students at risk of dropping out (ML)
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有退课风险的学员（机器学习）
- en: Students at risk of not achieving the minimum grades to pass the course (ML)
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有可能无法达到课程最低通过分数的学员（机器学习）
- en: Courses at risk of not starting (static)
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有可能不开设的课程（静态）
- en: Students who have not accessed the course recently (static)
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最近未访问课程的学员（静态）
- en: Students who have not accessed the course yet (static)
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尚未访问课程的学员（静态）
- en: Upcoming activities due (static)
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 即将到期的活动（静态）
- en: At the beginning of this section, we mentioned that Moodle Analytics supports
    machine learning-based and static models. In static models, the indicators are
    fixed; you cannot modify these as you can in machine learning-based models.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节开头，我们提到Moodle分析支持基于机器学习和静态模型。在静态模型中，指标是固定的；您无法像在基于机器学习的模型中那样修改这些指标。
- en: 'There are several other analytics-specific commands in the **Actions** menu
    (some of those options only appear if the **Analytics processes execution via
    command line only** setting under **Site administration** | **General** | **Analytics**
    | **Analytics settings** is disabled):'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 在**操作**菜单中还有其他几个特定于分析的命令（其中一些选项仅在**站点管理** | **常规** | **分析** | **分析设置**下的**仅通过命令行执行分析过程**设置被禁用时才会出现）：
- en: '**Execute scheduled analysis**: Train machine learning algorithms with the
    new data available on the system and get predictions for ongoing courses'
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**执行计划分析**：使用系统上可用的新数据训练机器学习算法，并为正在进行的课程获取预测'
- en: '**Insights report**: Depending on the model, report insights will be shown
    about what insights have been found and information about the individual targets'
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**洞察报告**: 根据模型的不同，将显示已发现的洞察以及关于个别目标的信息'
- en: '**Export**: Moodle Analytics models can be exported in JSON format and imported
    via the **Import model** option upon selecting the **New model** button'
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**导出**: Moodle 分析模型可以以 JSON 格式导出，并在选择 **新建模型** 按钮后通过 **导入模型** 选项导入'
- en: '**Invalid site elements**: A list of the elements that cannot be analyzed by
    this model'
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无效站点元素**: 列出无法由该模型分析的元素'
- en: '**Clear predictions**: Clears all the model predictions and training data'
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**清除预测**: 清除所有模型预测和训练数据'
- en: Moodle Analytics is one of the most powerful tools in Moodle but also one of
    the least utilized. Whether it is due to its complexity or lack of trust in machine
    learning algorithms, I don’t know. Hopefully, we have shed some light on this
    topic and have equipped you with the skills to offer Moodle Analytics to your
    learners and educators.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 分析是 Moodle 中最强大的工具之一，但同时也是使用最少的一个。无论是由于其复杂性还是对机器学习算法缺乏信任，我不清楚。希望我们已经在这方面提供了一些启示，并为你提供了向学习者和教育者提供
    Moodle 分析技能。
- en: Summary
  id: totrans-387
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Moodle offers a wide range of reporting facilities for teachers and administrators.
    In this chapter, we focused on reporting tools admins interact with or have to
    configure and provide to users. Even if you are not a data nerd, I hope the reporting
    facilities presented are helpful in your day-to-day administrative work.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 为教师和管理员提供了一系列的报表功能。在本章中，我们专注于管理员交互或需要配置并提供给用户的报表工具。即使你不是数据狂热者，我也希望所提供的报表功能能帮助你在日常管理工作中。
- en: The newly introduced report generator is a versatile tool for creating flexible
    and interactive custom reports. You got to know the report generator, including
    data sources, report building, audiences, and schedules. The more report sources
    that are made available in the future, the less likely you will need third-party
    tools, such as Configurable reports, which we briefly dealt with.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 新引入的报告生成器是一个灵活且交互式的自定义报告工具。你已了解了报告生成器，包括数据源、报告构建、受众和计划。未来可提供的报告源越多，你将越不需要第三方工具，例如我们简要介绍的配置报告。
- en: In the second part of this chapter, you learned everything about Moodle’s logging
    framework in terms of its components, events, and log stores. You also interacted
    with Moodle logs, one of the most often used tools in the administrator’s day-to-day
    job.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的第二部分，你了解了 Moodle 记录框架的各个方面，包括其组件、事件和日志存储。你还与 Moodle 日志进行了交互，这是管理员日常工作中最常用的工具之一。
- en: The logging framework provides the foundation for statistics and learning analytics,
    which we covered in dedicated sections.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 记录框架为统计和学习教育分析提供了基础，我们已在专门的章节中进行了介绍。
- en: Moodle reporting, particularly the newly introduced report generator, has recently
    undergone a significant makeover. Expect more features to be introduced shortly.
    Another constantly improved topic is Moodle’s security, which is the next chapter’s
    topic.
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: Moodle 报表，尤其是新引入的报告生成器，最近经历了一次重大改观。预计很快将引入更多功能。另一个不断改进的主题是 Moodle 的安全性，这是下一章的主题。

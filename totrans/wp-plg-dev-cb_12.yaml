- en: Distributing Your Plugin on wordpress.org
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在wordpress.org上分发您的插件
- en: 'In this chapter, we will discuss how to distribute your creations, covering
    the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论如何分发您的作品，包括以下主题：
- en: Creating a readme file for your plugin
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为您的插件创建一个readme文件
- en: Applying for your plugin to be hosted on wordpress.org
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 申请将您的插件托管在wordpress.org上
- en: Uploading your plugin using Subversion
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Subversion上传您的插件
- en: Providing plugin banner and thumbnail images
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为您的插件提供横幅和缩略图图像
- en: Introduction
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Once you have a version of your new plugin that is ready to be distributed to
    the masses, you need to decide whether you will join the official WordPress repository
    or self-publish it.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的插件版本准备好向大众分发，您需要决定您是加入官方WordPress插件仓库还是自行发布。
- en: In most cases, the preferred option is to add your new extension to the official
    WordPress plugin repository, where you have many benefits, including free hosting,
    built-in notification of new updates, and a powerful search engine that users
    can access on [https://wordpress.org](https://wordpress.org) or from the Plugins
    section of their website's administration pages. Other benefits of hosting on
    the official repository include download statistics and the creation of a free
    forum to facilitate user support. To qualify for this hosting, your work must
    be free and open source, as well as comply with the GNU General Public License,
    Version 2 (also known as GPL v2), a common open source software license that WordPress
    itself uses.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，首选的选项是将您的新扩展添加到官方WordPress插件仓库，在那里您有很多好处，包括免费托管、内置的新更新通知以及用户可以在[https://wordpress.org](https://wordpress.org)或从他们网站管理页面的插件部分访问的强大搜索引擎。在官方仓库托管的其他好处包括下载统计和创建一个免费论坛，以促进用户支持。为了符合这种托管资格，您的工作必须是免费和开源的，并且必须遵守GNU通用公共许可证，版本2（也称为GPL
    v2），这是一种常见的开源软件许可证，WordPress本身也使用。
- en: This includes any code you wrote, along with any third-party PHP or Javascript
    libraries that you have included in your work. To learn more about the GPL v2
    license, visit [https://www.gnu.org/licenses/gpl-2.0.html](https://www.gnu.org/licenses/gpl-2.0.html).
    It is also possible to publish a plugin with paid premium features on the official
    repository, but you cannot move free features behind a paywall over time.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这包括您编写的任何代码，以及您在作品中包含的任何第三方PHP或JavaScript库。要了解更多关于GPL v2许可证的信息，请访问[https://www.gnu.org/licenses/gpl-2.0.html](https://www.gnu.org/licenses/gpl-2.0.html)。您也可以在官方仓库发布带有付费高级功能的插件，但您不能随着时间的推移将免费功能放在付费墙后面。
- en: In comparison, self-hosting gives you full control over pricing, distribution
    license, and general presentation of your work, but it makes it harder for people
    to find your plugin and relies on implementing a custom update notification mechanism
    yourself, using third-party libraries to add equivalent functionality or having
    users manually download updates when available. There are also a number of popular
    plugin digital marketplaces that can help alleviate some of these drawbacks, but
    your work will still have less visibility than it would on the official repository.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 相比之下，自行托管让您对定价、分发许可证和作品的一般展示有完全的控制权，但它使得人们更难找到您的插件，并且需要您自己实现定制的更新通知机制，使用第三方库添加等效功能，或者当可用时让用户手动下载更新。还有一些流行的插件数字市场可以帮助缓解这些缺点，但您的工作在官方仓库上的可见性仍然较低。
- en: Before making your plugin publicly available, you should also be sure that you
    are ready to deal with user feedback and questions. Once your creation is available
    for download, WordPress website administrators will quickly download it, install
    it, and may find that your work covers most, but not all, of their needs. When
    this happens, you will start getting requests to add functionality. This interaction
    with users is usually a great experience that can bring new ideas to the table
    that will enhance your work, but you should also be ready to accept criticism
    and invest time in fixing issues and implementing new features. You also need
    to think of the time that will be involved in testing your extension against new
    versions of WordPress, which typically come out two to three times a year.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在将您的插件公开之前，您还应该确保您已准备好处理用户反馈和问题。一旦您的作品可供下载，WordPress网站管理员会迅速下载、安装它，并可能发现您的工作覆盖了大部分但不是所有他们的需求。当这种情况发生时，您将开始收到添加功能的要求。与用户的这种互动通常是一次很好的体验，可以带来新的想法，从而增强您的工作，但您也应该准备好接受批评，并在修复问题和实现新功能上投入时间。您还需要考虑测试您的扩展程序与WordPress新版本的时间，这些新版本通常每年发布两到三次。
- en: This chapter explains how to prepare your work to be uploaded to the official
    plugin repository, including the application for an account, the actual code submission
    using Subversion, and how to customize your plugin page to give it a unique look.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本章解释了如何准备您的工作以便上传到官方插件存储库，包括申请账户、使用Subversion实际提交代码以及如何自定义插件页面以使其具有独特的外观。
- en: Creating a README file for your plugin
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为您的插件创建一个README文件
- en: If you look at any plugins on the official WordPress repository, you will see
    that their page contains a lot of information, including a description of the
    extension, a list of frequently asked questions, and installation notes. As you
    may have noticed from the work that we have done so far, this data does not reside
    in the main plugin's code file. Instead, the official WordPress repository looks
    for this information in a specially formatted `readme.txt` file that needs to
    be included with the plugin.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您查看官方WordPress存储库中的任何插件，您将看到它们的页面包含大量信息，包括扩展的描述、常见问题列表和安装说明。如您所注意到的，我们迄今为止所做的工作，这些数据并不位于主插件的代码文件中。相反，官方WordPress存储库在插件中寻找这些信息，这些信息需要包含在一个特别格式化的`readme.txt`文件中。
- en: This recipe shows how to create a `readme.txt` file for the Book Reviews plugin
    that we created in [*Chapter 4*](6298bc2b-19d5-4e3a-833c-3c4b667b22e5.xhtml),
    *The Power of Custom Post Types*.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本食谱展示了如何为我们在[*第4章*](6298bc2b-19d5-4e3a-833c-3c4b667b22e5.xhtml)，“自定义帖子类型的威力”中创建的图书评论插件创建一个`readme.txt`文件。
- en: Getting ready
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You should have already followed the *Updating page title to include custom
    post data using plugin filters* recipe from [*Chapter 4*](6298bc2b-19d5-4e3a-833c-3c4b667b22e5.xhtml),
    *The Power of Custom Post Types*, to have a starting point for this recipe. Alternatively,
    you can get the resulting code (`Chapter 4/ch4-book-reviews/ch4-book-reviews-v11.php`)
    for that recipe from the code bundle.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该已经遵循了来自[*第4章*](6298bc2b-19d5-4e3a-833c-3c4b667b22e5.xhtml)，“自定义帖子类型的威力”中的*更新页面标题以包含自定义帖子数据使用插件过滤器*食谱，以便为本食谱提供一个起点。或者，您可以从代码包中获取该食谱的结果代码（`Chapter
    4/ch4-book-reviews/ch4-book-reviews-v11.php`）。
- en: How to do it...
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: Navigate to the `ch4-book-reviews` folder of your WordPress plugins directory.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到您的WordPress插件目录中的`ch4-book-reviews`文件夹。
- en: Create a new text file named `readme.txt` and open it in a code editor.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`readme.txt`的新文本文件，并在代码编辑器中打开它。
- en: 'Insert the following text in the file:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文件中插入以下文本：
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Save and close the text file.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并关闭文本文件。
- en: Navigate to the Book Reviews edition page and take a screenshot using a third-party
    screen capture tool or your operating system's built-in function.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到图书评论版页面，并使用第三方屏幕截图工具或操作系统内置功能进行截图。
- en: Save the resulting image as `screenshot-1.jpg` in the plugin directory.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将生成的图像保存为`screenshot-1.jpg`在插件目录中。
- en: How it works...
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The `readme.txt` file uses a wiki-like syntax, with the number of equal signs
    (`=`) indicating the level of each section header. The first and most important
    section is the header, which contains important information, such as the plugin's
    name, the author's [https://wordpress.org](https://wordpress.org) username, donation
    link, search tags, supported versions, along with a one-line description of its
    functionality. This last item will always be visible as users navigate through
    your plugin's pages.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '`readme.txt`文件使用类似wiki的语法，其中等号(`=`)的数量表示每个部分标题的级别。最重要的部分是标题，其中包含重要信息，例如插件名称、作者的[https://wordpress.org](https://wordpress.org)用户名、捐赠链接、搜索标签、支持的版本，以及对其功能的一行描述。这个最后的项目将始终可见，因为用户在浏览你的插件页面时。'
- en: The initial header is followed by multiple sections, which correspond to the
    various sections that appear within a plugin's display pages. More specifically,
    these sections contain a complete description of the extension's capability, a
    step-by-step guide to installing and using your work, a change log containing
    a list of all the versions with a summary of changes for each of them, frequently
    asked questions, and screenshots. It is also possible for plugin authors to create
    their own arbitrary section using the same syntax.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 初始标题之后是多个部分，这些部分对应于插件显示页面中的各种部分。更具体地说，这些部分包含扩展功能的完整描述、安装和使用你作品的分步指南、包含所有版本列表及其更改摘要的变更日志、常见问题解答和截图。插件作者还可以使用相同的语法创建他们自己的任意部分。
- en: As with the standard wiki syntax, the repeating `1.` in front of each installation
    step will be converted to incrementing values when the system displays these bullets
    using an ordered list on the live website. Finally, if screenshots are listed
    in the `readme.txt` file, the [https://wordpress.org](https://wordpress.org) website
    will search for files whose names start with the keyword `screenshot-`, followed
    by a number corresponding to the values listed in the screenshot section, and
    display them with the associated text as a legend. When taking screenshots of
    your plugin in action, make sure that they are clear and meaningful, as visitors
    will often decide whether they will download your creations based on these images.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 与标准的wiki语法一样，每个安装步骤前面的重复`1.`在系统使用有序列表在实时网站上显示这些项目时将被转换为递增值。最后，如果`readme.txt`文件中列出了截图，[https://wordpress.org](https://wordpress.org)网站将搜索以关键字`screenshot-`开头的文件，后面跟着与截图部分中列出的值相对应的数字，并将它们与相关的文本一起作为图例显示。在拍摄插件操作截图时，请确保它们清晰且具有意义，因为访客通常会根据这些图像决定是否下载你的作品。
- en: You can find more details about the `readme.txt` file format in the [https://wordpress.org](https://wordpress.org)
    plugin handbook ([https://developer.wordpress.org/plugins/wordpress-org/how-your-readme-txt-works/](https://developer.wordpress.org/plugins/wordpress-org/how-your-readme-txt-works/)).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在插件手册中找到关于`readme.txt`文件格式的更多详细信息：[https://wordpress.org](https://wordpress.org)
    ([https://developer.wordpress.org/plugins/wordpress-org/how-your-readme-txt-works/](https://developer.wordpress.org/plugins/wordpress-org/how-your-readme-txt-works/))。
- en: There's more...
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: To keep plugin code files more organized and have complete control over releases,
    you should consider using Subversion tags.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使插件代码文件更有条理，并对发布有完全的控制，你应该考虑使用Subversion标签。
- en: Releasing specific plugin versions using tags
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用标签发布特定的插件版本
- en: Tags are a Subversion concept that allows developers to identify a group of
    files at a specific point in time and label them with a name. This name can be
    used to specify the version of your plugin that [https://wordpress.org](https://wordpress.org)
    visitors will be able to download. While this recipe specifies a value of `trunk`
    as the `Stable Tag`, indicating that the latest version of the files uploaded
    to the plugin's `trunk` folder will be released, it's possible to indicate any
    other tag name in this field. In addition to keeping your work more organized,
    working with tags allows you to commit partially implemented new plugin features
    to your repository without having them automatically available for all to access.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 标签是Subversion的概念，允许开发者在特定时间点识别一组文件，并用名称标记它们。这个名称可以用来指定[https://wordpress.org](https://wordpress.org)访客将能够下载的插件版本。虽然这个配方指定了`trunk`作为`Stable
    Tag`的值，表示将发布上传到插件`trunk`文件夹的最新版本的文件，但在这个字段中可以指定任何其他标签名称。除了使你的工作更有条理之外，使用标签允许你将部分实现的新插件功能提交到你的存储库，而无需它们自动对所有用户可用。
- en: Applying for your plugin to be hosted on WordPress.org
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After creating proper documentation for your creation, the next step toward
    its publication on the official plugin repository is to apply for hosting. This
    is simply done by submitting a request form in the Developer Center section on
    [http://wordpress.org](http://wordpress.org).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: This recipe shows how to apply for plugin hosting and offers tips to follow
    for quick acceptance.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Create a zip archive containing your entire plugin directory, including the
    `readme.txt` file created in the previous recipe.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Log into the [https://wordpress.org](https://wordpress.org) website using the
    form at the top of the plugin submission page with your existing credentials or
    create a new account if you don't currently have one.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Point your web browser to the plugin hosting request form page, which is available
    at [https://wordpress.org/plugins/developers/add/](https://wordpress.org/plugins/developers/add/).
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select your ZIP file and upload it to the site.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works...
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Plugin submission is a fairly simple process, giving developers access to a
    Subversion repository that they can use to upload their work and share it with
    the community.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: Before submitting your plugin, you should search through existing plugins to
    be sure that you have not selected a name that already exists in the repository,
    as that will result in your request being turned down. You can do this by using
    the website's search engine, as well as trying to access an address that was named
    based on your plugin name. For example, following our Book Reviews plugin example,
    you could check to see whether the address [https://wordpress.org/plugins/book-reviews](https://wordpress.org/plugins/book-reviews)
    exists.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: It should be noted that your plugin needs to be functional when you apply to
    be listed on the repository. Once your plugin has been approved, you will get
    access to a hosted Subversion version control repository to easily keep backups
    of all the versions of your work during development and easily publish your work.
    If you work on a plugin with one or more people, this infrastructure will make
    it very easy to exchange code between all contributors.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: See also
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The *Creating a README file for your plugin* recipe
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Uploading your plugin using Subversion
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you thought that using Subversion in the recipes of *Chapter 1*, *Preparing
    a Local Development Environment*, was overkill when you're working on a plugin
    locally, you will see that this knowledge comes in very handy once your hosting
    request has been approved by the WordPress team, as the system's backend relies
    on that version control system.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: This recipe shows how to submit your creation to the [https://wordpress.org](https://wordpress.org)
    website once a repository has been created for you.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You should have already followed the *Applying for your plugin to be hosted
    on WordPress.org* recipe to have an approved repository on the official website.
    You should have also installed a Subversion client, as shown in the *Creating
    a local Subversion repository* recipe in *Chapter 1*, *Preparing a Local Development
    Environment*. Finally, you should have plugin files ready for upload.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该已经遵循了 *在 WordPress.org 上托管您的插件的申请* 食谱，以在官方网站上获得批准的仓库。您还应该已经安装了 Subversion
    客户端，如 *第 1 章* 中 *准备本地开发环境* 食谱中所示。最后，您应该有准备上传的插件文件。
- en: How to do it...
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Right-click on a file explorer and select the TortoiseSVN | Repo-browser menu.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击文件资源管理器并选择 TortoiseSVN | 仓库浏览器菜单。
- en: 'Enter the address of your new repository, as indicated in your hosting approval
    email. For example, for a plugin named Book Reviews, the address would be `http://plugins.svn.wordpress.org/book-reviews`:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您新仓库的地址，如您的托管批准电子邮件中所示。例如，对于名为 Book Reviews 的插件，地址将是 `http://plugins.svn.wordpress.org/book-reviews`：
- en: '![](img/abe6c86a-bef6-4589-9257-9d9a970d7d1e.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/abe6c86a-bef6-4589-9257-9d9a970d7d1e.png)'
- en: Right-click on the plugin's name on the left-hand side tree view and select
    the Checkout option.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击左侧树视图中的插件名称并选择检出选项。
- en: Select a local folder on your computer as the Checkout directory.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您的计算机上的一个本地文件夹作为检出目录。
- en: Click on OK to create a local copy of the server structure with the accompanying
    version control data.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“确定”以创建具有伴随版本控制数据的本地服务器结构副本。
- en: Copy your plugin's files to the `trunk` folder of the resulting directory structure
    if it is empty, or update existing files with newer versions if you continued
    working on them after submission.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果结果目录结构为空，将您的插件文件复制到 `trunk` 文件夹中，或者如果您在提交后继续工作，则使用较新版本更新现有文件。
- en: If you added any new files, right-click on them, and select the TortoiseSVN
    | Add... menu.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您添加了任何新文件，右键单击它们，并选择 TortoiseSVN | 添加... 菜单。
- en: Right-click on the `trunk` folder and select the SVN Commit... menu option.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击 `trunk` 文件夹并选择 SVN 提交... 菜单选项。
- en: Enter a message indicating that you are uploading new files to the plugin repository
    and what changes have been made.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入一条消息，说明您正在上传新文件到插件仓库以及所做的更改。
- en: Click on OK to upload your files to the official repository.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“确定”将您的文件上传到官方仓库。
- en: When prompted for authentication, use your [https://wordpress.org](https://wordpress.org)
    Username and Password. Click on the Save authentication checkbox to avoid providing
    these credentials each time.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当提示进行身份验证时，使用您的 [https://wordpress.org](https://wordpress.org) 用户名和密码。点击“保存身份验证”复选框以避免每次都提供这些凭据。
- en: 'After committing files, you will receive an email confirming that they have
    been uploaded to the repository, along with information on any changes that were
    made to each file. You will then be able to visit your plugin''s page and download
    it. For our example, the Book Reviews plugin, the address of the page would be
    [https://wordpress.org/plugins/book-reviews](https://wordpress.org/plugins/book-reviews/):'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提交文件后，您将收到一封确认邮件，告知文件已上传到仓库，并附带对每个文件所做的更改信息。然后您将能够访问您的插件页面并下载它。对于我们的示例，Book
    Reviews 插件，页面的地址将是 [https://wordpress.org/plugins/book-reviews](https://wordpress.org/plugins/book-reviews/)：
- en: '![](img/1a08d1ff-cb31-4d9c-9aae-d02262e5337b.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1a08d1ff-cb31-4d9c-9aae-d02262e5337b.png)'
- en: How it works...
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'The official WordPress plugin repository uses Subversion to manage all code
    files, provide version control services to developers, and find information to
    populate the extension''s page. When your new repository is created, it contains
    three main directories: `trunk`, `tags`, and `branches`.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 官方的 WordPress 插件仓库使用 Subversion 来管理所有代码文件，为开发者提供版本控制服务，并为扩展页面提供信息。当您的新的仓库创建时，它包含三个主要目录：`trunk`、`tags`
    和 `branches`。
- en: The `trunk` directory is usually the main location where you place the latest
    version of your plugin files. Following the steps in the recipe, we copy our files
    to this location and commit them to the server. Once uploaded, the WordPress.org
    servers take care of creating a zipped copy of your work.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '`trunk` 目录通常是放置您插件文件最新版本的默认位置。按照食谱中的步骤，我们将文件复制到这个位置并将它们提交到服务器。一旦上传，WordPress.org
    服务器将负责创建您工作的压缩副本。'
- en: The `tags` directory is designed to hold pointers to various versions of your
    creation over time, as discussed in the *Creating a README file for your plugin*
    recipe. This functionality used in conjunction with the Stable tag field of your
    plugin's `readme.txt` file allows you to redirect users to a known working version
    of your work while you commit and test potentially unstable work to the `trunk`.
    New tags are created using the Branch/Tag item of the TortoiseSVN menu and associating
    a name to a specific revision. The `branches` directory has a similar function
    to `tags`, but is more focused toward the creation of alternate versions of plugins
    or in-development revisions that include specific functionality.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '`tags`目录旨在随着时间的推移保存对您的作品的各个版本的指针，如*为您的插件创建README文件*配方中所述。此功能与您的插件`readme.txt`文件的稳定标签字段结合使用，允许您在提交和测试可能不稳定的作品到`trunk`的同时，将用户重定向到已知的工作版本。新标签是通过使用TortoiseSVN菜单中的分支/标签项并关联一个名称到特定修订版来创建的。`branches`目录与`tags`具有类似的功能，但更专注于创建插件或包含特定功能的开发修订版的替代版本。'
- en: There's more...
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更多内容...
- en: If you want to execute your plugin's code in a local WordPress development installation
    as you are writing it, the following section shows you how to manage your code.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想在编写插件代码时在本地WordPress开发安装中执行它，以下部分将向您展示如何管理您的代码。
- en: Checking out plugins to your development installation
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将插件检出到您的开发安装
- en: When checking out the complete plugin directory, you end up with a structure
    that cannot be executed directly in a local development installation of WordPress
    for testing and development purposes. Instead of checking out the entire directory
    structure, you can limit your selection to the `trunk` directory. This will only
    copy the contents of that specific folder to your system and you can set the target
    folder to be located directly under the plugins directory.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 当检查完整的插件目录时，您最终会得到一个不能直接在WordPress本地开发安装中进行测试和开发的结构。而不是检查整个目录结构，您可以限制您的选择到`trunk`目录。这将只复制该特定文件夹的内容到您的系统，并且您可以设置目标文件夹位于插件目录下。
- en: See also
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: The *Creating a README file for your plugin* recipe
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为您的插件创建README文件的配方
- en: The *Checking out files from a Subversion repository* recipe in *Chapter 1*,
    *Preparing a Local Development Environment*
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在第1章，*准备本地开发环境*中的*从Subversion仓库检出文件*配方
- en: The *Committing changes to a Subversion repository* recipe in *Chapter 1*, *Preparing
    a Local Development Environment*
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在第1章，*准备本地开发环境*中的*向Subversion仓库提交更改*配方
- en: Providing plugin banner and thumbnail images
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提供插件横幅和缩略图图像
- en: While the plugin listing that we put in place by creating a `readme.txt` file
    and uploading it to the official plugin repository is perfectly functional, it
    does not really stand out among the sea of extensions that are available on the
    website. Thankfully, [https://wordpress.org](https://wordpress.org) introduced
    a mechanism allowing plugin developers to add a banner image to their listing.
    This image can be anything from a simple picture to a complex graphic to advertise
    your creation.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然通过创建`readme.txt`文件并将其上传到官方插件仓库来实现的插件列表是功能齐全的，但它并没有在网站上众多扩展程序中脱颖而出。幸运的是，[https://wordpress.org](https://wordpress.org)引入了一种机制，允许插件开发者向他们的列表添加横幅图片。这张图片可以是任何从简单图片到复杂图形，以宣传您的作品。
- en: This recipe explains how to prepare images for your plugin and how to upload
    them to your repository.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 此配方解释了如何为您的插件准备图像以及如何将它们上传到您的仓库。
- en: Getting ready
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You should have already followed the *Applying for your plugin to be hosted
    on wordpress.org* and *Uploading your plugin using Subversion* recipes to have
    an approved repository on the official repository and plugin files uploaded to
    the server.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该已经遵循了*申请在wordpress.org托管您的插件*和*使用Subversion上传您的插件*配方，以便在官方仓库中有一个批准的仓库，并将插件文件上传到服务器。
- en: How to do it...
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Create a new image that is exactly 772 x 250 pixels.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个精确为772 x 250像素的新图像。
- en: Save the image as a PNG file with the name `banner-772x250.png`.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将图像保存为名为`banner-772x250.png`的PNG文件。
- en: Right-click on a file explorer and select the TortoiseSVN | Repo-Browser menu.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击文件资源管理器并选择TortoiseSVN | Repo-Browser菜单。
- en: Enter the address of your plugin repository. For example, for a plugin named
    Book Reviews, the address would be `http://plugins.svn.wordpress.org/book-reviews`.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您的插件仓库地址。例如，对于一个名为Book Reviews的插件，地址将是`http://plugins.svn.wordpress.org/book-reviews`。
- en: Create a new top-level directory named `assets`, at the same level as `trunk`,
    `tags`, and `branches`.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在与`trunk`、`tags`和`branches`相同的级别创建一个名为`assets`的新顶级目录。
- en: Select the `assets` directory, then drag and drop the new image file in the
    folder to upload it to the server.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`assets`目录，然后将新图像文件拖放到文件夹中上传到服务器。
- en: Specify a Log Message in the dialog that appears to explain why the file is
    being uploaded.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出的对话框中指定一个日志消息，以解释为什么文件正在上传。
- en: Create smaller images that are exactly 256 x 256 pixels and 128 x 128 pixels
    in size and name the files `icon-256x256.png` and `icon-128x128.png`, respectively.
    The larger icon should be a higher resolution version of the exact content of
    the smaller one, since it will be used to replace the smaller one on high DPI
    displays.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建大小正好为256 x 256像素和128 x 128像素的小图像，并将文件分别命名为`icon-256x256.png`和`icon-128x128.png`。较大的图标应该是较小图标内容的更高分辨率版本，因为它将在高DPI显示上替换较小的图标。
- en: Repeat steps 6 and 7 to upload the two icons to the `assets` directory.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤6和7，将两个图标上传到`assets`目录。
- en: 'Visit your plugin''s page on [https://wordpress.org](https://wordpress.org)
    to see the images in place:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问您插件在[https://wordpress.org](https://wordpress.org)上的页面，查看图像是否正确显示：
- en: '![](img/11966de4-f91b-4637-a4fd-f7ee6febe0fa.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/11966de4-f91b-4637-a4fd-f7ee6febe0fa.png)'
- en: 'Search for your plugin through the [https://wordpress.org/plugins](https://wordpress.org/plugins)
    page or the Add New section of the Plugins management interface of WordPress to
    see how the icon and short plugin description are used:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过[https://wordpress.org/plugins](https://wordpress.org/plugins)页面或WordPress插件管理界面的“添加新插件”部分搜索您的插件，以查看图标和简短插件描述的使用方式：
- en: '![](img/196cb0fe-b1b0-406e-a5e2-7393b3f8b1f5.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/196cb0fe-b1b0-406e-a5e2-7393b3f8b1f5.png)'
- en: How it works...
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: When files are uploaded to the plugin repositories, the [https://wordpress.org](https://wordpress.org)
    website checks for the presence of specific image files with specific names for
    the plugin banner and icon. If these files are present, it changes the layout
    of the plugin page to incorporate the images. It is important to respect the image
    format and specified dimensions when creating a plugin banner and icons to make
    sure that they are displayed properly on the website.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 当文件上传到插件仓库时，[https://wordpress.org](https://wordpress.org)网站会检查是否存在特定名称的特定图像文件，用于插件横幅和图标。如果这些文件存在，它将更改插件页面的布局以包含这些图像。在创建插件横幅和图标时，尊重图像格式和指定尺寸非常重要，以确保它们在网站上正确显示。
- en: See also
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: The *Uploading your plugin using Subversion* recipe
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用Subversion上传您的插件*的步骤'

- en: Chapter 2. Setting Up the Development Environment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 2 章。设置开发环境
- en: '*What on earth is a development environment and why do I need it?* It is fairly
    widely accepted that during the process of building your website, you should not
    make it available for people to use over the Internet. Making your site *live*,
    while you are still making changes and breaking and fixing things, means that
    it is possible for people to find your site, attempt to use it, and form an exceedingly
    bad opinion of your web development skills. You might, in the worst case, find
    that you have even inadvertently allowed malicious users to gain access to sensitive
    information due to improperly implemented security settings, among other things.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*究竟什么是开发环境，为什么我需要它？* 人们普遍认为，在构建网站的过程中，你不应该让它对互联网用户可用。在你还在进行更改、破坏和修复事物的时候，让你的网站“上线”，意味着人们可能会找到你的网站，尝试使用它，并对你网站开发技能形成极差的印象。在最坏的情况下，你可能会发现，由于安全设置不当，你甚至无意中允许恶意用户获取敏感信息，以及其他一些问题。'
- en: Rather than allow the public access to your work in progress, it is far better
    to set up a PHP‑enabled web server on your home or office PC. This server, along
    with PHP and your database, can then be used to design and build everything just
    as you want it, before transferring the final product over to the live site. A
    development environment is precisely that machine, along with its attendant development
    tools and technologies, where you can build your site. This chapter therefore
    will ensure that you set yours up correctly and efficiently so that you can begin
    working on Drupal directly in the chapters that follow.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 与其让公众访问你的工作进度，不如在你的家庭或办公室电脑上设置一个 PHP 启用的 Web 服务器。这个服务器，连同 PHP 和你的数据库，可以用来设计和构建你想要的一切，然后再将最终产品转移到实时网站上。开发环境正是这样一台机器，以及它附带的发展工具和技术，你可以用它来构建你的网站。因此，本章将确保你正确且高效地设置它，以便你可以在接下来的章节中直接开始处理
    Drupal。
- en: 'Specifically, we will discuss the following important topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 具体来说，我们将讨论以下重要主题：
- en: A brief introduction to the technologies involved
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 涉及技术的简要介绍
- en: Obtaining and installing Apache, MySQL, and PHP
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取和安装 Apache、MySQL 和 PHP
- en: Obtaining and installing Drupal
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取和安装 Drupal
- en: Upgrading Drupal
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 升级 Drupal
- en: Troubleshooting common problems
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 故障排除常见问题
- en: A short tour of Drupal
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Drupal 简介之旅
- en: Installation and setup for Apache, MySQL, and PHP will only be covered for Windows
    because we trust that Linux hacks will have everything installed already (or will
    know how it is done). On the off chance that you don't have everything installed,
    a quick glance over the instructions given on the software-in-question's site
    should suffice to get you on your feet. The installation procedure for Drupal
    is much the same for Windows and Linux; so people using either can follow along
    with the *Obtaining and Installing Drupal* section.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Apache、MySQL 和 PHP 的安装和设置，我们只会涵盖 Windows 系统，因为我们相信 Linux 用户已经安装了所有必要的软件（或者知道如何安装）。如果你还没有安装所有软件，快速浏览一下软件所在网站上的说明应该足以让你开始操作。Drupal
    的安装过程在 Windows 和 Linux 系统上基本相同；因此，使用任一系统的用户都可以跟随“获取和安装 Drupal”部分进行操作。
- en: 'Before we begin, however, there is one crucial bit of advice to be given:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始之前，然而，有一项至关重要的建议需要给出：
- en: Note
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Ensure that you have access to a good, preferably lightning fast, Internet connection,
    as you will be downloading a fair amount of software.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你有一个好，最好是闪电般的快速，互联网连接，因为你将下载相当多的软件。
- en: For those users who have already installed various bits of software, you might
    find it convenient to skip whatever sections you do not need, going over only
    those that are of interest. As well as providing information on installation,
    this chapter will also have a troubleshooting section addressing some of the most
    common errors associated with the setup process for Drupal.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 对于已经安装了各种软件的用户，您可能会发现跳过不需要的部分，只阅读感兴趣的部分很方便。除了提供安装信息外，本章还将包含一个故障排除部分，解决与 Drupal
    设置过程相关的一些最常见错误。
- en: It should also be noted that because Drupal has been developed with flexibility
    in mind, it is possible to use it off IIS as an alternative web server, as well
    as utilizing PostgreSQL as an alternative database because support for these are
    actively being developed. Rather than show how to set each and every one up, we
    will focus on the most popular combination of Apache, MySQL, and PHP.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 还应注意的是，由于Drupal的开发是以灵活性为前提的，因此它可以用作IIS之外的替代Web服务器，同时也可以使用PostgreSQL作为替代数据库，因为这些支持正在积极开发中。我们不会展示如何设置每一个组件，而是将重点放在最流行的组合Apache、MySQL和PHP上。
- en: The Drupal Environment
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Drupal环境
- en: I know most of you will be eager to get going at the moment, and might well
    prefer to dive straight into making modifications to your Drupal site. Before
    we do so, it will be of real benefit for you to take a few moments to read over
    this section to gain an appreciation of how everything is put together behind
    the scenes. Having a basic knowledge of how the various technologies co-operate
    in order to provide you with a working Drupal site, will help you immeasurably
    in the long run.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我知道你们大多数人现在都迫不及待地想要开始，可能更愿意直接修改你的Drupal网站。在我们这样做之前，花几分钟时间阅读这一部分，了解幕后的一切是如何组合起来的，这对你们来说将是非常有益的。了解各种技术如何合作以提供工作的Drupal网站，将极大地帮助你们在长期中。
- en: 'The best thing to do to begin with is take a look at each of the individual
    underlying technologies we will be using:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，最好的做法是查看我们将要使用的每个基础技术：
- en: '**PHP:** PHP, or PHP Hypertext Preprocessor, is the language in which Drupal
    is written. Recently it has received a major upgrade and is now more or less a
    fully functional **Object Oriented Language**, with some very powerful features.
    PHP is widely used on the Internet for a multitude of different projects and is
    renowned for its ease of use. The current version of PHP is PHP 5, which is what
    we will use in this book for our demonstration since the latest version of Drupal
    is PHP 5 friendly. However, you are welcome to use version 4 because this is what
    most internet service providers use at present. The good news is that we will
    not have to delve deeply into programming code in order to build our site—Drupal
    handles most, if not all, of the complex programming issues.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**PHP**：PHP，或PHP Hypertext Preprocessor，是Drupal所使用的语言。最近它经历了一次重大升级，现在几乎是一个完全功能的**面向对象语言**，具有一些非常强大的功能。PHP在互联网上被广泛用于各种不同的项目，以其易用性而闻名。当前的PHP版本是PHP
    5，这是我们将在本书中用于演示的版本，因为最新的Drupal版本与PHP 5兼容。然而，你们可以使用版本4，因为这是目前大多数互联网服务提供商所使用的版本。好消息是，我们不需要深入编程代码来构建我们的网站——Drupal处理了大多数，如果不是所有，复杂的编程问题。'
- en: '**Apache:** This is the web server we will use to serve web pages during the
    development phase. Apache is the most popular web server on the Internet, with
    millions of live sites using it every day. In fact, as the Apache website says:
    *It is more widely used than all the other web servers combined*.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Apache**：这是我们将在开发阶段用来提供网页服务的Web服务器。Apache是互联网上最受欢迎的Web服务器，每天都有数百万个网站在使用它。事实上，正如Apache网站所说：*它比所有其他Web服务器加起来还要广泛使用*。'
- en: '**MySQL:** This is the database software that we will use to store all the
    information required to keep the website running. Everything from customer details
    to product information and a host of other things will be stored in the MySQL
    database. Keeping with the trend of popularity, MySQL is also the world''s most
    popular bit of database software with over six million active installations worldwide.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MySQL**：这是我们用来存储所有保持网站运行所需信息的数据库软件。从客户详情到产品信息以及其他许多东西都将存储在MySQL数据库中。遵循流行的趋势，MySQL也是全球最受欢迎的数据库软件，全球有超过六百万个活跃安装。'
- en: Now, since we don't want to waste too much time downloading and installing all
    the different pieces of software we need individually, we are going to use a package
    installation, which provides us with everything we need using only one installation.
    The package we will use for the purposes of this book is called **Apache2Triad**.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，由于我们不希望浪费太多时间下载和安装我们需要的各种软件，我们将使用包安装，它只通过一次安装就为我们提供了一切所需。我们将在本书中使用的包叫做**Apache2Triad**。
- en: 'Now that we know *what* we are using, it is important to take a quick look
    at *how* we are going to be using it. The following diagram shows a simplified
    view of how everything works, with the shaded section denoting the Apache2Triad
    package containing the Apache web server, PHP interpreter, and MySQL database,
    with Drupal installed on the system:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经知道了*我们要使用什么*，那么快速看一下*我们将如何使用它*是很重要的。以下图表展示了如何简化地了解一切是如何工作的，其中阴影部分表示包含
    Apache web 服务器、PHP 解释器和 MySQL 数据库的 Apache2Triad 软件包，Drupal 已安装在该系统上：
- en: '![The Drupal Environment](img/1800_02_01.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![Drupal 环境](img/1800_02_01.jpg)'
- en: 'So, whenever a user does anything with your Drupal site (hopefully like contributing
    meaningfully), here''s what happens:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，每当用户在您的 Drupal 网站上做任何事情（希望是做出有意义的贡献）时，以下是会发生的事情：
- en: The relevant information is bundled off to the server in the form of an HTTP
    (HyperText Transfer Protocol) request. An HTTP request comes in two forms—either
    a `GET` or a `POST`. For our purposes, it is not important to understand how `GET`
    and `POST` work, as long as you understand that information can be captured from
    the user and sent to the server for processing using these requests.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 相关信息以 HTTP（超文本传输协议）请求的形式打包发送到服务器。HTTP 请求有两种形式——要么是 `GET`，要么是 `POST`。对于我们来说，了解
    `GET` 和 `POST` 如何工作并不重要，只要您理解可以通过这些请求从用户那里捕获信息并发送到服务器进行处理即可。
- en: The server receives the HTTP request and says, *Ah! This is a PHP page that
    has been requested. I need to send it off for processing by the PHP engine*. The
    PHP page then gets processed and executed appropriately, and any actions that
    are required as a result of the user's request are performed.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 服务器接收到 HTTP 请求后说：“啊！这是一个请求的 PHP 页面。我需要将其发送给 PHP 引擎进行处理。”然后 PHP 页面被处理并适当地执行，任何由用户请求引起的必要操作都会被执行。
- en: Once that is done, an appropriate response is returned by the server to the
    user's browser, and the cycle continues.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦完成，服务器就会向用户的浏览器返回适当的响应，然后循环继续。
- en: There are quite a few methods of providing dynamic web content that don't rely
    on PHP server requests. Instead, processing is done on the client side of the
    application (in other words, on the web browser). We will take a look at how to
    enhance your web pages with JavaScript much later on, in [Chapter 9](ch09.html
    "Chapter 9. Advanced Features and Modifications"), but what you have been shown
    here is fundamentally how everything works, even if there are exceptions to the
    rule.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多提供动态网页内容的方法，这些方法不依赖于 PHP 服务器请求。相反，处理是在应用程序的客户端（换句话说，在网页浏览器）上完成的。我们将在[第 9
    章](ch09.html "第 9 章。高级功能和修改")中稍后讨论如何使用 JavaScript 增强您的网页，但您在这里看到的是一切工作的基本原理，即使有一些例外。
- en: While this section has been a bit of a whirlwind tour of the underlying technologies
    associated with Drupal, the information contained in here should prove to be invaluable
    at some stage. For example, knowing how everything fits together will often help
    you isolate the cause of any problems you encounter, allowing you to resolve them
    quicker.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这一节对 Drupal 相关的底层技术进行了一次快速浏览，但这里包含的信息在某些阶段应该非常有价值。例如，了解一切是如何结合在一起的通常有助于您隔离遇到问题的原因，从而更快地解决问题。
- en: Don't worry if this all seems a little daunting at the moment. Bear in mind
    that Drupal itself handles most, if not all, of the complexity associated with
    ensuring everything runs smoothly. As you will see, our job becomes one of customization
    rather than actual software development. With that behind us, let's get on with
    the installation process.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 目前这一切看起来可能有些令人畏惧，但请记住，Drupal 本身就处理了大多数，如果不是所有，与确保一切顺利运行相关的复杂性。正如您将看到的，我们的工作变成了定制而不是实际的软件开发。有了这个基础，让我们继续进行安装过程。
- en: Obtaining and Installing PHP, Apache, and MySQL
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取和安装 PHP、Apache 和 MySQL
- en: 'As mentioned in the previous section, we are going to make use of a package
    installation in order to simplify the task of creating a workable development
    environment. You will notice that most software installation is really about learning
    a single process and repeating it for whatever software you need. More often than
    not, you will:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，我们将利用软件包安装来简化创建可工作开发环境的工作。您会注意到，大多数软件安装实际上就是学习一个过程，然后为所需的任何软件重复该过程。更常见的情况是，您将：
- en: Go to the software producer's site
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往软件生产商的网站
- en: Find the download page
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到下载页面
- en: Download the software
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载软件
- en: Unpack the software or run the executable file, depending on the method of installation
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解压软件或运行可执行文件，具体取决于安装方法
- en: Install the software
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装软件
- en: Configure your installation
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置您的安装
- en: Test your setup
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测试您的设置
- en: 'That sounds easy enough; so head on over to [http://apache2triad.net/](http://apache2triad.net/),
    which is the homepage for the Apache2Triad project and click the **Downloads**
    link in the left-hand box towards the bottom of the screen. (Feel free to browse
    around to learn more about this useful enterprise.) This will take you to the
    downloads page on the SourceForge site at: [http://sourceforge.net/project/showfiles.php?group_id=93507](http://sourceforge.net/project/showfiles.php?group_id=93507).'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这听起来很简单；所以前往[http://apache2triad.net/](http://apache2triad.net/)，这是Apache2Triad项目的首页，点击屏幕底部左侧框中的**下载**链接。（您可以随意浏览以了解更多关于这个有用企业信息。）这将带您到SourceForge网站上的下载页面：[http://sourceforge.net/project/showfiles.php?group_id=93507](http://sourceforge.net/project/showfiles.php?group_id=93507)。
- en: 'Select the package you wish to use—for the purposes of this book, release package
    1.5.3 was used. At the time of writing, this was the latest stable release, but
    you should feel free to use a later version, if there is one, as this will not
    affect how you follow along here. Once you have clicked **Download** for a package
    you will be presented with a list of download options. Release package 1.5.3 has
    only one option as shown here:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 选择您希望使用的软件包——在本书中，使用了版本1.5.3的发布包。在撰写本文时，这是最新的稳定版本，但您当然可以使用更晚的版本，这不会影响您在这里的跟随。一旦您为某个软件包点击了**下载**，您将看到一个下载选项列表。发布包1.5.3只有一个选项，如下所示：
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_02.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装PHP、Apache和MySQL](img/1800_02_02.jpg)'
- en: This is the package we will download and install. In order to do this, simply
    click the `package name .exe` file, which will take you to a list of mirror sites
    from which you can choose one to provide you with the download. A mirror is simply
    a server that provides all the same facilities at a different geographical location—this
    is done to reduce the load on individual servers and provide faster downloads
    to people all over the globe. Make your choice and click **Download** to begin.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们将要下载和安装的软件包。为了做到这一点，只需点击`软件包名称.exe`文件，这将带您到一个镜像站点列表，您可以从中选择一个来提供下载。镜像只是一个在不同地理位置提供所有相同设施的服务器——这样做是为了减少单个服务器的负载，并为全球各地的人提供更快的下载。做出选择并点击**下载**以开始。
- en: 'Depending on your PC''s security settings, you may be given the following warning
    message:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的PC安全设置，您可能会收到以下警告信息：
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_03.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装PHP、Apache和MySQL](img/1800_02_03.jpg)'
- en: Simply click **Run** to continue (or **Save** if you would like to hold on to
    a copy). At this point, you may want to take a break for a cup of coffee or tea
    if you have a slow connection as it may take a while.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 简单点击**运行**以继续（或者如果您想保留副本，请点击**保存**）。在这个时候，如果您连接速度较慢，可能需要花一些时间，您可能想要休息一下，喝杯咖啡或茶。
- en: At some stage during the setup process, the installer will ask you to confirm
    several settings and you are free to make changes as and when prompted. All the
    configurable settings have sensible defaults; so you don't really have to bother
    with this too much. However, you will be asked to enter a password. Please ensure
    that you use something that is memorable to you and secure. You will need to use
    8 characters or more and preferably use some numerical digits as part of the password.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置过程中某个阶段，安装程序将要求您确认几个设置，您可以根据提示随时进行更改。所有可配置的设置都有合理的默认值；所以您实际上不必太在意这一点。然而，您将被要求输入密码。请确保使用一个您能记住且安全的密码。您需要使用8个字符或更多，并且最好在密码中使用一些数字。
- en: Note
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Ensure that you can remember your password as it is needed in order to run the
    initialization tasks a little later in the setup process.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您能记住您的密码，因为它在设置过程中稍后运行初始化任务时是必需的。
- en: 'Once everything has been done, you should receive the following message:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 一切完成后，您应该会收到以下信息：
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_04.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装PHP、Apache和MySQL](img/1800_02_04.jpg)'
- en: 'Make sure you save and close whatever important documents you have open before
    clicking **OK**. Once your machine has restarted, you will find that you have
    a whole list of new and exciting options to explore from the **Apache2Triad**
    option under **All Programs** in the **Start** menu. For example, the following
    options are made available with the 1.5.3 distribution:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在点击**确定**之前，请确保保存并关闭你打开的所有重要文档。一旦你的机器重新启动，你会发现你有一系列新的和令人兴奋的选项可以探索，这些选项位于**开始**菜单下的**所有程序**中的**Apache2Triad**选项下。例如，以下选项是1.5.3版本中提供的：
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_05.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装PHP、Apache和MySQL](img/1800_02_05.jpg)'
- en: 'There is quite a lot more than what we really need for our immediate purposes,
    but just to ensure that everything is going according to plan, click **open site
    root** in the **Start** menu and you should be shown the following web page in
    your default browser:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们当前目的来说，还有很多我们不需要的东西，但为了确保一切按计划进行，点击**开始**菜单中的**打开网站根目录**，你应该会在默认浏览器中看到以下网页：
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_06.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装PHP、Apache和MySQL](img/1800_02_06.jpg)'
- en: This confirms that everything is up and running as expected. Pretty easy so
    far! One thing to make note of in the previous screenshot is the final link called
    **htdocs**. Traditionally in Apache servers, the folder on your file system called
    `htdocs` is known as the *root* folder. What this means is that all the web pages
    and folders for your site must be placed inside `htdocs` in order for them to
    be served by Apache. If something is not in `htdocs`, then it is not possible
    to browse it!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这确认了一切都按预期运行。到目前为止，这很简单！在之前的屏幕截图中需要注意的一点是最后的链接叫做**htdocs**。在Apache服务器中，文件系统中的`htdocs`文件夹通常被称为**根**文件夹。这意味着为了使Apache能够提供，你的网站的所有网页和文件夹都必须放在`htdocs`内部。如果某个东西不在`htdocs`中，那么就无法浏览它！
- en: 'From this we know that we will have to locate the actual folder called `htdocs`
    on the file system in order to know where to put Drupal once we have downloaded
    it. Assuming you have gone with the default setup, you will find `htdocs` in the
    following directory (on Windows machines) along with everything else that was
    installed and created during setup: `C:/apache2triad/`.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 从这里我们知道，为了知道下载后Drupal应该放在哪里，我们必须在文件系统中定位名为`htdocs`的实际文件夹。假设你选择了默认设置，你将在以下目录中找到`htdocs`，以及设置过程中安装和创建的所有其他内容：（在Windows机器上）`C:/apache2triad/`。
- en: Before we move on from here, it is worthwhile taking a look at what has been
    provided as part of the Apache2Triad installation because some of the facilities
    made available to you could well be most useful as time goes by. You will also
    find that many hosting packages on live sites offer pretty much the same functionality
    as you now have on your PC.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续前进之前，看看Apache2Triad安装中提供的内容是值得的，因为随着时间的推移，一些提供给你的设施可能非常有用。你还会发现，许多现场网站的主机套餐提供的功能与你现在在PC上拥有的功能几乎相同。
- en: Of particular interest and use to us Drupal people is phpMyAdmin, which is a
    complete database management tool for MySQL. It can make your life a lot easier
    as you become more advanced and wish to play around with your data. It is entirely
    likely that you can perform most of the tasks you need by using phpMyAdmin instead
    of having to learn SQL against the MySQL command-line client.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们Drupal用户来说，特别有趣和有用的是phpMyAdmin，这是一个完整的MySQL数据库管理工具。随着你变得更加高级并希望对你的数据进行操作，它可以使你的生活变得更加容易。你完全有可能通过使用phpMyAdmin来完成大多数任务，而无需学习MySQL的命令行客户端。
- en: Note
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you are struggling to log on to phpMyAdmin or any other part of the site,
    then try using **root** as the username and whatever password you set during the
    setup process.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你登录phpMyAdmin或网站的任何其他部分有困难，那么尝试使用**root**作为用户名，并使用你在设置过程中设置的任何密码。
- en: We now have a platform from which we can begin building the Drupal site. Of
    course, we still need Drupal.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在有一个平台，可以从这里开始构建Drupal网站。当然，我们仍然需要Drupal。
- en: Obtaining and Installing Drupal
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取和安装Drupal
- en: '[Chapter 1](ch01.html "Chapter 1. Introduction to Drupal") has already looked
    over the downloads page on the Drupal site; so there isn''t too much to present
    us with problems at this point. Head on over to [http://drupal.org/project/Drupal+project](http://drupal.org/project/Drupal+project)
    and click the Drupal version number you wish to download—generally, *the latest
    stable release* is what you should go for. Click **Download** to grab the latest
    copy and save it to your `C:` drive, or your `My Documents` folder (or wherever
    you want).'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章。Drupal简介")已经浏览了Drupal网站上的下载页面；因此，目前没有太多问题。前往[http://drupal.org/project/Drupal+project](http://drupal.org/project/Drupal+project)，点击您希望下载的Drupal版本号——通常，*最新稳定版本*是您应该选择的。点击**下载**以获取最新版本并将其保存到您的`C:`驱动器或`我的文档`文件夹（或您想要的位置）。'
- en: Now, the Drupal download is different from the Apache2Triad installer in that
    we will install Drupal ourselves; it doesn't come with its own installer `.exe`
    file. Instead we are asked if we would like to **Save** (or **Open)** a `.tar.gz`
    file. If you find that your PC doesn't recognize `.gz` files (this is for Windows
    users), then you need to download a zip program like WinZip ( [http://www.winzip.com](http://www.winzip.com)),
    or preferably an open-source option like 7-zip ( [http://www.7-zip.org](http://www.7-zip.org)).
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Drupal的下载与Apache2Triad安装程序不同，我们将自己安装Drupal；它没有自己的`.exe`安装程序文件。相反，我们会被告知是否要**保存**（或**打开**）一个`.tar.gz`文件。如果您发现您的PC无法识别`.gz`文件（这是针对Windows用户的），那么您需要下载一个zip程序，如WinZip（[http://www.winzip.com](http://www.winzip.com)），或者更倾向于开源选项，如7-zip（[http://www.7-zip.org](http://www.7-zip.org)）。
- en: 'Once you are happy that you can open and decompress the downloaded `tar.gz`
    file then extract it to the `htdocs` folder of your Apache installation. If you
    now take a look, you will see something like this:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 当您确认可以打开并解压缩下载的`tar.gz`文件后，将其提取到Apache安装的`htdocs`文件夹中。如果您现在查看，您将看到如下内容：
- en: '![Obtaining and Installing Drupal](img/1800_02_07.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装Drupal](img/1800_02_07.jpg)'
- en: We still need to create a database and populate it with all the necessary tables
    and structures that Drupal will need in order to function—even though, technically
    speaking, you could try to browse your Drupal pages because they are now within
    the `htdocs` folder. There are a number of ways in which this can be done, but
    let's stick to the most basic in order to make this section applicable to everyone.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 我们仍然需要创建一个数据库，并填充所有Drupal运行所需的必要表和结构——尽管从技术上讲，您可以尝试浏览Drupal页面，因为它们现在位于`htdocs`文件夹中。有几种方法可以实现这一点，但让我们坚持最基本的方法，以便使本节适用于所有人。
- en: Open up a command-line shell. In Windows this can be done by clicking **Start**,
    selecting **Run** and typing in **cmd**.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个命令行外壳。在Windows中，可以通过点击**开始**，选择**运行**并输入**cmd**来完成。
- en: 'Type in the following command at the prompt:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在提示符下输入以下命令：
- en: '[PRE0]'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Enter your password when prompted. (This is the one you entered upon setup of
    Apache2Triad.)
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当提示输入密码时，请输入您的密码。（这是您在Apache2Triad设置时输入的密码。）
- en: 'Enter the MySQL command-line prompt by using the following command:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下命令进入MySQL命令行提示符：
- en: '[PRE1]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Once again, enter the same password you have been using until now, when prompted.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次输入您至今为止一直在使用的相同密码，当提示时。
- en: 'In order to set a database username and password for Drupal specifically, enter
    the following command:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了为Drupal特别设置数据库用户名和密码，请输入以下命令：
- en: '[PRE2]'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Remember to substitute values that are relevant to yourself in place of the
    bolded sections of this command—nobody (your username), and `password` (your password).
    After this, you should have a screen that looks something like the following:![Obtaining
    and Installing Drupal](img/1800_02_08.jpg)
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请记住，用与您相关的值替换此命令中加粗的部分——`nobody`（您的用户名）和`password`（您的密码）。之后，您应该会看到一个类似以下屏幕的界面：![获取和安装Drupal](img/1800_02_08.jpg)
- en: 'Next, type in the following command to ensure these settings take effect immediately:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，输入以下命令以确保这些设置立即生效：
- en: '[PRE3]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Type quit to exit the MySQL command-line client, and then load the database
    by typing in:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`quit`退出MySQL命令行客户端，然后通过输入以下命令来加载数据库：
- en: '[PRE4]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Remember to enter the correct password you have set for your drupal database
    user—in this case it is ny4thi as shown in the above screenshot. The bolded sections
    may change depending on the user you defined in a previous step, and the version
    of Drupal you have obtained.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请记住，输入您为drupal数据库用户设置的正确密码——在本例中，如上图所示为ny4thi。加粗的部分可能根据您在之前步骤中定义的用户和您获得的Drupal版本而有所不同。
- en: 'At this point all of the database setup for Drupal has been performed and we
    only have a few configuration tasks to deal with in order to complete the installation
    process. For those of you who are interested in taking a quick peek at what has
    happened under the hood during this setup process, open up the MySQL command-line
    prompt using:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，Drupal的所有数据库设置都已完成，我们只需要处理几个配置任务，以便完成安装过程。对于那些对在设置过程中引擎盖下发生了什么感兴趣的人，请使用以下方法打开MySQL命令行提示符：
- en: '[PRE5]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Enter your password when prompted, and then type the following at the command
    line:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 当提示输入密码时，然后在命令行中输入以下内容：
- en: '[PRE6]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The first command will reel off a list of all the tables that are now present
    in the `drupal` database. The next command can be used to look at the information
    in any of the tables given by substituting one of those present for`<tablename>`.
    Looking through the results you should be able to see that quite a lot of work
    has been done to ensure that everything our website needs has been created.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 第一条命令将列出`drupal`数据库中现在所有存在的表。下一条命令可以用来查看任何给定表的详细信息，只需将其中一个现有的表名替换为`<tablename>`。通过查看结果，您应该能够看到已经做了大量工作来确保我们网站所需的一切都已创建。
- en: We can now move on to the configuration settings!
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以继续配置设置！
- en: 'Go to your Drupal installation by navigating to`C:\apache2triad\htdocs\`**drupal-4.7.0**`\
    sites\default`—obviously your version number can be different. Open up the `settings.php`
    file in an editor of your choice and modify the following line that is on or around
    line 81:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 通过导航到`C:\apache2triad\htdocs\`**drupal-4.7.0**`\ sites\default`来访问您的Drupal安装——显然您的版本号可能不同。使用您选择的编辑器打开`settings.php`文件，并修改大约在第81行的以下行：
- en: '[PRE7]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'For example, the demo site''s settings are now:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，演示网站的设置现在是：
- en: '[PRE8]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: because as you know we created a user called `drupal` and gave that user the
    password `ny4thi`, which allows them access to the `drupal` database that was
    created using the SQL script provided in the download. The only other setting
    we need think about at the moment is the base URL that describes the address of
    your website—it is optional to fill this out; so if you find that there are problems
    with broken links and so on when you first check out the site, come back to this
    setting.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 因为正如您所知，我们创建了一个名为`drupal`的用户，并给这个用户设置了密码`ny4thi`，这允许他们访问使用下载中提供的SQL脚本创建的`drupal`数据库。目前我们唯一需要考虑的其他设置是描述您网站地址的基本URL——填写此信息是可选的；所以如果您在第一次检查网站时发现存在断链等问题，请回到这个设置。
- en: 'Assuming you are not using another server in a network, simply add in the extra
    folder to the default address and remove the hash (#) symbol from the front of
    the line, as shown here:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您没有在网络上使用其他服务器，只需将额外的文件夹添加到默认地址，并从行首移除井号（#）符号，如下所示：
- en: '[PRE9]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Remember to change the bolded section to the correct Drupal version according
    to which package you download.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 记得将粗体部分更改为您下载的包的正确Drupal版本。
- en: 'If you have saved your files to some other location, then you will need to
    make your configuration settings accordingly. Once you are done, save the changes
    to the file and get ready for the acid test. If everything has gone according
    to plan, you should be presented with a fresh Drupal website when you navigate
    to the base URL in your browser, as follows:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已将文件保存到其他位置，那么您需要相应地调整您的配置设置。完成之后，保存文件中的更改，并准备进行压力测试。如果一切按计划进行，当您在浏览器中导航到基本URL时，应该会看到一个全新的Drupal网站，如下所示：
- en: '![Obtaining and Installing Drupal](img/1800_02_09.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![获取和安装Drupal](img/1800_02_09.jpg)'
- en: If this is not the screen you get (or something very close to it), then don't
    worry. There is a troubleshooting section following soon and an entire community,
    replete with forums to help solve problems. However, if this is what you see,
    then congratulations, you are now the proud administrator of one default Drupal
    website. Of course, if you don't feel like typing in `drupal‑4.7.0` every time
    you want to access the site, you are free to change the name of this folder.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您看到的不是这个屏幕（或者非常接近），那么请不要担心。接下来将很快有一个故障排除部分，以及一个完整的社区，其中包含论坛来帮助解决问题。然而，如果您看到的是这个，那么恭喜您，您现在已经成为了一个自豪的默认Drupal网站的管理员。当然，如果您每次想要访问网站时都不想输入`drupal-4.7.0`，您可以自由地更改这个文件夹的名称。
- en: Note
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Make sure that you make the corresponding change to the `$base_url` variable
    in `settings.php` to reflect any changes to the address otherwise you will end
    up with a broken site.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您在`settings.php`中对`$base_url`变量进行了相应的更改，以反映地址的任何更改，否则您将得到一个损坏的网站。
- en: Effectively, that is all you need to do in order to install Drupal. Everything
    else henceforth is configuration and customization. One of the first things we
    will need to do is set up an administrator's account, and all instructions regarding
    it are presented on your default web page as shown in the previous screenshot.
    Before we do take a brief tour of Drupal, setting up the administrator's account
    in the process, we need to look at a few other issues.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，这就是安装Drupal所需做的全部事情。从今往后，所有其他的事情都是配置和定制。我们首先需要做的事情之一是设置一个管理员账户，所有关于它的说明都已经在您默认的网页上呈现，如之前的截图所示。在我们进行简要的Drupal之旅并在这个过程中设置管理员账户之前，我们需要考虑一些其他问题。
- en: Upgrading Drupal
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 升级Drupal
- en: From time to time it becomes necessary to upgrade your installation of Drupal
    in order to keep your site up to speed and trouble free. Every now and then, for
    example, a security issue may be identified and it is important that people upgrade
    in order to avoid falling prey to malicious hacking. Don't be too alarmed by this.
    All software, whether proprietary or open source, has weaknesses. Weaknesses are
    something you are not able to escape. What counts is how they are dealt with once
    they are found. In the case of Drupal, there is an entire community of people
    watching for bugs, reporting them, fixing them, and then offering the solutions
    to all users for free.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，为了保持您的网站运行顺畅且无故障，您需要升级您的Drupal安装。例如，有时可能会发现安全问题，人们升级以避免成为恶意黑客的受害者是很重要的。不要对此过于恐慌。所有软件，无论是专有软件还是开源软件，都有弱点。弱点是您无法逃避的东西。重要的是一旦发现它们，如何处理它们。在Drupal的情况下，有一个庞大的社区在寻找漏洞、报告它们、修复它们，然后免费向所有用户提供解决方案。
- en: 'So, should it be necessary, it is important you know what to do in order to
    result in a painless upgrade. As you would expect from Drupal, the process is
    fairly simple, but before we look at it, I should warn you:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果需要的话，了解如何进行无痛升级是很重要的。正如您所期望的，Drupal的过程相当简单，但在我们查看它之前，我应该提醒您：
- en: Note
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you are using a theme other than the default, it is possible that your site
    may break. It may be best to revert to the default theme before performing an
    upgrade.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是非默认主题，您的网站可能会出现故障。在升级之前恢复到默认主题可能是最好的选择。
- en: 'For now, this note should not concern you at all because we have not even talked
    about themes—it may be handy to remember at a later date though. Let''s continue:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，这个注意事项不应该让您感到任何困扰，因为我们甚至还没有讨论到主题——不过将来可能会很有用。让我们继续：
- en: Make a backup of your current database so that you preserve all the information
    added by users as well as any configuration changes you have implemented. (Backups
    are discussed in [Chapter 10](ch10.html "Chapter 10. Running Your Website"). Look
    there quickly if you need to make a backup in the meantime.)
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 备份您当前的数据库，以便保留用户添加的所有信息以及您实施的任何配置更改。（备份在[第10章](ch10.html "第10章。运行您的网站")中讨论。如果您需要在此期间进行备份，请快速查看那里。）
- en: Back up the old files, especially those that have important settings like your
    stylesheet or the configuration file contained in the `sites/default/directory`.
    This allows you to re-implement any important settings on the new site.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 备份旧文件，特别是那些包含重要设置，如您的样式表或位于`sites/default/directory`中的配置文件。这允许您在新网站上重新实施任何重要的设置。
- en: Remove all the old Drupal files from your file system, and assuming you want
    to run your site from the same location, unpack all the new files into the same
    folder.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从您的文件系统中删除所有旧的Drupal文件，并且假设您想要从相同的位置运行您的网站，将所有新文件解压缩到相同的文件夹中。
- en: Make the necessary changes to the configuration file based on the settings saved
    in the old one.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据旧配置文件中保存的设置对配置文件进行必要的更改。
- en: Log in as the site administrator (this has to be user number 1), then navigate
    to your Drupal homepage and run the `update.php` script by accessing it from your
    browser. For example, the demo site's update page would be `http://localhost/drupal-4.7.0/update.php`.
    This will bring up a page of notes as follows:![Upgrading Drupal](img/1800_02_10.jpg)
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以网站管理员（必须是用户编号1）的身份登录，然后导航到您的Drupal主页，并通过浏览器访问`update.php`脚本来运行它。例如，演示网站的更新页面将是`http://localhost/drupal-4.7.0/update.php`。这将显示如下页面：![升级Drupal](img/1800_02_10.jpg)
- en: Read through these notes before you click the **run the database upgrade script**
    link to ensure that you perform any version-specific tasks that may be required.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您点击**运行数据库升级脚本**链接之前，请阅读这些说明，以确保您执行可能需要的任何特定版本的任务。
- en: Click the link to bring up the following page:![Upgrading Drupal](img/1800_02_11.jpg)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击链接以打开以下页面：![升级Drupal](img/1800_02_11.jpg)
- en: 'Select an update to perform (only if, for some reason, you are not happy with
    the automatic choice) and then click **Update**. If everything goes well, you
    should see a list of updates that were performed, along with the status of those
    operations; something like this:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要执行的操作更新（仅在您出于某种原因对自动选择不满意时），然后点击**更新**。如果一切顺利，您应该会看到一个已执行更新的列表，以及这些操作的状态；类似于以下内容：
- en: '![Upgrading Drupal](img/1800_02_12.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![升级Drupal](img/1800_02_12.jpg)'
- en: You are now fully updated and can continue as normal. There is another valuable
    source of information you should look at, whenever you need to make an upgrade,
    namely the Drupal site itself:[http://drupal.org/upgrade/](http://drupal.org/upgrade/)
    . This page contains useful notes and version-specific issues and instructions
    that could come in handy.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已完全更新，可以继续正常操作。当您需要升级时，还应查看另一个非常有价值的信息来源，即Drupal网站本身：[http://drupal.org/upgrade/](http://drupal.org/upgrade/)。此页面包含有用的说明和特定版本的注意事项、问题和说明，可能非常有用。
- en: Troubleshooting Common Problems
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 故障排除常见问题
- en: In this section, we will take a look at two of the problems most likely to occur
    during your setup process. We will also take a look at how they manifest themselves
    and how to solve them quickly. It should be noted that at this early stage there
    are not many things that can go wrong since the installation routine is fairly
    well used and most, if not all, of the bugs have been ironed out. This is good
    news for us because it is likely that any errors are the result of typos or something
    else quite simple, which should be easy to rectify.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨在您的设置过程中最有可能出现的两个问题。我们还将查看它们如何表现出来以及如何快速解决它们。需要注意的是，在这个早期阶段，由于安装程序已经被广泛使用，并且大多数，如果不是全部，的bug已经被消除，因此不太可能出现问题。这对我们来说是个好消息，因为任何错误很可能是由于打字错误或其他相当简单的原因造成的，这应该很容易纠正。
- en: Unfortunately, we can't hope to cover absolutely everything in this section;
    so we will also outline a brief process that you can use to solve any problem,
    and not just the ones involved with installation. Having a sound process to follow
    whenever you encounter problems is immeasurably more valuable that being shown
    solutions to each and every problem anyway. By the end of this section you should
    be confident that you can install and upgrade Drupal as well as handle any problems
    that might arise along the way. So let's begin.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，我们无法在本节中涵盖所有内容；因此，我们还将概述一个简短的过程，您可以使用它来解决任何问题，而不仅仅是与安装相关的问题。在遇到问题时遵循一个合理的流程是无价的，而不仅仅是展示每个问题的解决方案。在本节结束时，您应该有信心能够安装和升级Drupal，以及处理可能出现的任何问题。那么，让我们开始吧。
- en: 'If, instead of the default homepage, you receive a message like this:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您收到的不是默认主页，而是如下信息：
- en: '![Troubleshooting Common Problems](img/1800_02_13.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![故障排除常见问题](img/1800_02_13.jpg)'
- en: then it is likely that you have made a typo in the connection string in the
    `/sites/default/settings.php` file. Recheck this file to ensure that the name
    and password you supply are correct. If you cannot find the problem, enter your
    root name and password in the `settings.php` file to see whether you can log on
    with that. If that works, then you know that there is a problem with the user
    and/or their permissions, and not with anything else, so check your `GRANT` statement
    in step 5 again, and ensure it matches the settings in the `settings.php` file.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，很可能是您在`/sites/default/settings.php`文件中的连接字符串中犯了拼写错误。请重新检查此文件，以确保您提供的名称和密码是正确的。如果您找不到问题，请在`settings.php`文件中输入您的root名称和密码，看看您是否可以用它登录。如果这可行，那么您就知道问题出在用户和/或他们的权限上，而不是其他地方，所以请再次检查步骤5中的`GRANT`语句，并确保它与`settings.php`文件中的设置相匹配。
- en: 'In the previous screenshot, there was a typo in the username given in the `settings.php`
    file that caused Drupal to try to connect to MySQL with the username `drupa` instead
    of `drupal`. Of course, some of you may have gotten past this point only to have
    been presented with something like this:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一张截图中，`settings.php`文件中给出的用户名有拼写错误，导致Drupal试图用用户名`drupa`而不是`drupal`连接到MySQL。当然，有些人可能已经通过了这一点，却遇到了类似这样的情况：
- en: '![Troubleshooting Common Problems](img/1800_02_14.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![故障排除常见问题](img/1800_02_14.jpg)'
- en: As you can see, we are almost there, but something has definitely gone wrong
    somewhere along the line as evidenced by the broken link and lack of any formatting
    and style. The most likely cause of this error is an incorrectly set base URL—this
    shouldn't be too much of a problem in versions 4.7 and later, as Drupal detects
    this URL automatically. If, however, you changed the name of the Drupal folder
    in `htdocs` to something like `drupal` instead of the original `drupal-4.7.0`,
    then browsing to that address without adjusting the base URL could cause this
    type of problem.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，我们几乎就要成功了，但肯定是在某个环节出了问题，这从断开的链接和缺少任何格式和样式可以证明。这个错误最可能的原因是设置了错误的基URL——在4.7版及以后的版本中，Drupal会自动检测这个URL，所以这不应该是一个太大的问题。然而，如果您将`htdocs`中的Drupal文件夹名称更改为`drupal`而不是原始的`drupal-4.7.0`，那么在不调整基URL的情况下浏览该地址可能会引起这类问题。
- en: 'To solve this, ensure that the address at which you find the page on your browser
    is the same as that given in the `settings.php` file minus the trailing slash,
    as shown here:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这个问题，确保您在浏览器中找到页面的地址与`settings.php`文件中给出的地址相同，只是没有尾随的反斜杠，如下所示：
- en: '[PRE10]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Oh dear, you can see that this is still the old value; so we need to update
    it to match the address in the previous screenshot as follows:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 哎呀，您可以看到这仍然是旧值；所以我们需要更新它以匹配上一张截图中的地址，如下所示：
- en: '[PRE11]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Once you have the correct setting in place you will find the site displays
    itself correctly. *But what if something else has gone wrong?* Well, at this point,
    the types of problems that can occur are not easily isolated; so it is better
    that you know *how* to go about solving them. The following list of points highlight
    the process you should use in order to go about troubleshooting any problems:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您设置了正确的设置，您会发现网站会正确显示。*但是，如果其他事情出了问题怎么办？* 好吧，在这个时候，可能发生的问题类型不容易隔离；所以您最好知道*如何*去解决它们。以下要点强调了您在故障排除任何问题时应该使用的流程：
- en: Scrutinize any error messages you get and attempt to solve the problem yourself.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仔细检查您收到的任何错误消息，并尝试自己解决问题。
- en: Visit the Drupal forums and search for similar problems.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问Drupal论坛并搜索类似的问题。
- en: Look through the troubleshooting FAQ at[http://drupal.org/node/199](http://drupal.org/node/199)
    .
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看[http://drupal.org/node/199](http://drupal.org/node/199)上的故障排除常见问题。
- en: View the bug list ([http://drupal.org/project/issues](http://drupal.org/project/issues)
    ) to see if your problem is a reported bug.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看错误列表([http://drupal.org/project/issues](http://drupal.org/project/issues)
    )，看看您的问题是否是已报告的错误。
- en: If you can't find bugs, similar posts, or problems, then try posting your queries
    on the forums and ask someone in the community to give you a hand.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您找不到错误、类似帖子或问题，那么请尝试在论坛上发布您的查询，并请求社区中的某个人帮助您。
- en: To supplement this, get on Google and try using relevant keywords to locate
    a similar problem, with hopefully a solution presented.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为补充，上Google并尝试使用相关关键词查找类似的问题，希望找到一个解决方案。
- en: It is highly unlikely you will need to use all six options at this point in
    time, but at some stage in the future you might find that you require more expertise
    than is available by searching on the net. If this is ever the case, then don't
    despair, there are consultants available provided you are willing to part with
    a fee. For now though, you should be ready to continue with the final few tasks
    in the setup process, which will be performed in the following section.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，你很可能不需要使用所有六个选项，但在未来的某个时候，你可能会发现你需要比在网上搜索更多的专业知识。如果这种情况发生，那么不要绝望，如果你愿意支付费用，有顾问可供选择。不过，现在，你应该准备好继续设置过程中的最后几个任务，这些任务将在下一节中执行。
- en: A Short Tour of Drupal
  id: totrans-142
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Drupal简游
- en: Before we move ahead with customization and configuration topics, it is important
    that we glance over what Drupal actually looks like and ensure it is up and working
    properly. In order to do this, there are a few PHP settings we need to look at.
    Once these are taken care of we will have to create the first user who will have
    control over every aspect of the site. No tour of Drupal would be complete without
    a discussion of an actual Drupal page, so we will take a look at a sample towards
    the end of this section once we have finished playing around.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续讨论定制和配置主题之前，重要的是我们先了解一下Drupal的实际样子，并确保它已经启动并且运行正常。为了做到这一点，我们需要查看一些PHP设置。一旦这些问题得到解决，我们就需要创建第一个用户，他将控制网站的各个方面。没有对实际Drupal页面的讨论，任何Drupal之旅都不会完整，因此，我们将在本节末尾完成一些尝试后，查看一个示例。
- en: First things first though, let's deal with PHP.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，首先让我们来处理PHP。
- en: A Couple of Important Settings
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 几个重要的设置
- en: I will demonstrate the changes required for the Apache2Triad setup, but if you
    have gone with anything else (or if you already have everything installed), you
    might notice slight differences in the way things are laid out. Now, the reason
    we need to do all this is because we would obviously like any emails that are
    sent out by Drupal to come from a working email address that we can access, and
    we need to check that the `mail()` function, used by Drupal for sending an email,
    has an SMTP server to work with. As we will end up having to set this somewhere
    along the line anyway (assuming it's not already set), we may as well do it now.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 我将演示Apache2Triad设置所需的更改，但如果你选择了其他任何东西（或者如果你已经安装了所有东西），你可能会注意到布局方式上的细微差异。现在，我们需要做所有这些事情的原因是，我们显然希望Drupal发送的任何电子邮件都来自一个我们可以访问的工作电子邮件地址，并且我们需要检查Drupal用于发送电子邮件的`mail()`函数是否有一个SMTP服务器可以与之配合。既然我们最终不得不在某个地方设置这个（假设它还没有设置），我们不妨现在就做。
- en: 'Open up your `php.ini` file, which on Windows using Apache2Triad is found in
    `C:\WINDOWS`. Search for the lines that read:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 打开你的`php.ini`文件，在Windows使用Apache2Triad的情况下，该文件位于`C:\WINDOWS`。搜索以下行：
- en: '[PRE12]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'You need to provide PHP with an SMTP server that will work here. If you use
    Microsoft Outlook on Windows, then you can find which SMTP server you are already
    using by looking at the servers tab in the **Tools | Accounts | Properties** menu.
    As well as this, you will probably want something other than `admin@localhost`
    to be set here; so ensure you make these changes accordingly. For the demo site,
    the following changes were made:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要为PHP提供一个可以在这里工作的SMTP服务器。如果你在Windows上使用Microsoft Outlook，可以通过查看**工具 | 账户 |
    属性**菜单中的服务器选项卡来找到你正在使用的SMTP服务器。此外，你可能还想设置的不是`admin@localhost`；因此，请确保相应地做出这些更改。对于演示网站，进行了以下更改：
- en: '[PRE13]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Obviously, you must have access to a working SMTP server—if you don't have a
    server to work off, then you can't send emails from your site. This is not a massive
    problem for the meantime, and certainly, your live site will be able to send mails
    even if you can't from your development machine.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，你必须能够访问一个可用的SMTP服务器——如果你没有服务器可以使用，那么你就无法从你的网站发送电子邮件。这在目前并不是一个巨大的问题，而且，即使你无法从你的开发机器发送，你的实际网站仍然能够发送邮件。
- en: Note
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: In order for these settings to take effect you must also remember to restart
    the Apache server.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让这些设置生效，你还必须记得重新启动Apache服务器。
- en: You can restart Apache by double-clicking the Apache icon in the process tray
    (bottom right-hand side of your screen) and selecting **Restart** in the menu.
    You can also access the server through the **Start** menu. Once this is done,
    you can continue with Drupal as per normal.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过双击屏幕右下角的过程栏中的Apache图标来重新启动Apache，然后在菜单中选择**重启**。你也可以通过**开始**菜单访问服务器。完成这些后，你可以像平常一样继续使用Drupal。
- en: Creating an Administrative User
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建管理用户
- en: 'As mentioned on the default Drupal page, you need to click the **create the
    first account** link in order to get the ball rolling. This will bring up the
    registration page, which you can fill in appropriately. Once you click **Create
    new account**, Drupal will automatically attempt to send a welcome email (if you
    receive one, then you know your SMTP setting is working) as well as print out
    a message as shown here:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 如默认Drupal页面所述，你需要点击**创建第一个账户**链接来开始操作。这将显示注册页面，你可以适当地填写。一旦你点击**创建新账户**，Drupal将自动尝试发送欢迎邮件（如果你收到，那么你知道你的SMTP设置是有效的）以及打印出如下所示的消息：
- en: '![Creating an Administrative User](img/1800_02_15.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![创建管理用户](img/1800_02_15.jpg)'
- en: Notice that not only has an email been successfully sent to the address I stipulated
    in the registration process, but the email comes *from* the address I stipulated
    in the `php.ini` file a little earlier.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到，不仅已经成功将电子邮件发送到了我在注册过程中指定的地址，而且这封电子邮件**来自**我在稍早前在`php.ini`文件中指定的地址。
- en: Note
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you don't have an internet connection, you will still be able to set up your
    Drupal site but you won't be able to send and receive emails using a third-party
    STMP server as shown here.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有互联网连接，你仍然可以设置你的Drupal网站，但你将无法使用如这里所示的第三方STMP服务器发送和接收电子邮件。
- en: So far so good! The next step is to enter your new password into the website—remember
    to choose something slightly more memorable than the one that is currently assigned.
    Once you have done that, simply click **Submit** at the bottom of the page to
    continue—you might wish to take a look over some of the other settings that are
    there and make any quick changes (such as adding a **Signature** or changing your
    **Time Zone)** first.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止一切顺利！下一步是将你的新密码输入到网站上——记得选择一个比目前分配的稍微容易记住一些的东西。完成之后，只需在页面底部点击**提交**继续——你可能希望先查看一下其他设置并做出任何快速更改（例如添加**签名**或更改**时区**）。
- en: Using the Administrative Panel
  id: totrans-162
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用管理面板
- en: 'It''s time to a have a quick bit of fun before we get to the more serious matter
    of building our site in the next chapter. Once you are finished with editing your
    user settings, click the **administer** link, which is shown in the block on the
    left-hand side of your page. This will bring up a page like this (with the **modules**
    option selected):'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们进入下一章更严肃的网站构建问题之前，让我们先轻松一下。一旦你完成了编辑用户设置，点击页面左侧的**管理**链接，这将显示一个类似这样的页面（已选择**模块**选项）：
- en: '![Using the Administrative Panel](img/1800_02_16.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![使用管理面板](img/1800_02_16.jpg)'
- en: 'Before we actually play with anything, it is worthwhile listing what each option
    does, because it can become a bit confusing later on when you get into the thick
    of things—mainly due to the large number of menu items available, and not because
    the site is particularly hard to administer. Make special note of the following:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们真正开始操作之前，列出每个选项的功能是值得的，因为当你深入其中时，可能会变得有些混乱——主要是因为菜单项的数量很多，并不是因为网站特别难以管理。特别注意的是以下内容：
- en: Note
  id: totrans-166
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The sections available under the **administer** menu item may change depending
    on the modules you enable, or what contributions you add, or even what permissions
    users are assigned.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '**管理**菜单项下可用的部分可能会根据你启用的模块、添加的贡献或用户分配的权限而变化。'
- en: What this means is that you should always ensure you check what new options
    are available in any given section after you have added and enabled a new module.
    As you should also be aware that not all users will have the same **administer**
    options available to them, you need to check whether they have sufficient powers
    to complete their intended tasks. We will look at all this in more detail later;
    so there is no need to get ahead of ourselves at this point.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着，在你添加并启用了一个新模块之后，你应该始终确保检查该部分是否有新的选项可用。你也应该意识到，并非所有用户都会拥有相同的**管理**选项，你需要检查他们是否有足够的权限来完成他们打算执行的任务。我们将在稍后更详细地探讨这些问题；因此，在这个阶段，没有必要急于求成。
- en: 'The following list outlines the core options:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 以下列表概述了核心选项：
- en: '**access control:** Allows you to set permissions to control what users can
    do on your site.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**访问控制**：允许你设置权限以控制用户可以在你的网站上做什么。'
- en: '**blocks:** Enabled blocks can be displayed in a variety of places on your
    site. Blocks can contain all sorts of information such as who''s online or the
    latest forum posts.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**块：** 启用的块可以在您网站上的多个位置显示。块可以包含各种信息，例如谁在线或最新的论坛帖子。'
- en: '**categories:** Allows administrators to classify and categorize content on
    the site. Drupal has one of the most sophisticated classification systems in the
    form of the taxonomy module.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分类：** 允许管理员对网站上的内容进行分类和分类。Drupal有一个非常复杂的分类系统，即分类模块。'
- en: '**comments:** Allows for the administration of comments that are added to the
    site. Comments are not quite the same as other content types, but are instead
    *attached* to other content types.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**评论：** 允许管理添加到网站上的评论。评论与其他内容类型不完全相同，而是*附加*到其他内容类型上。'
- en: '**content:** Allows for the administration of any and all posts to the site.
    It provides a variety of filters for cutting down results in order to readily
    find specific content as well as update options.'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容：** 允许管理网站上所有帖子。它提供了各种过滤器，以便快速找到特定内容以及更新选项。'
- en: '**input formats:** There are a number of different ways in which Drupal can
    view content from users. This ranges from filtered HTML all the way through to
    full‑blown PHP code.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**输入格式：** Drupal可以以多种方式查看用户的内容。这从过滤HTML到完整的PHP代码都有。'
- en: '**logs:** Enables the recording of a variety of events such as usage information,
    or warnings, and errors that can then be used during the routine maintenance of
    a healthy site.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日志：** 启用记录各种事件，例如使用信息、警告和错误，这些可以在健康网站的常规维护期间使用。'
- en: '**menus:** Allows for creation and manipulation of navigational structures.
    From here it is possible to enable or disable menu items, create new ones, and
    work with primary links too.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**菜单：** 允许创建和管理导航结构。从这里可以启用或禁用菜单项，创建新的菜单项，以及处理主要链接。'
- en: '**modules:** Provide Drupal''s functionality (there are many core modules that
    come with the standard distribution of Drupal, and there are many contributed
    modules that need to be downloaded and installed) and can be enabled or disabled
    depending on the requirements of the site.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模块：** 提供Drupal的功能（标准Drupal分发中包含许多核心模块，还有许多需要下载和安装的贡献模块），可以根据网站的需求启用或禁用。'
- en: '**settings:** Provides a convenient page from which to implement the general
    configuration of the site.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设置：** 提供了一个方便的页面，可以从中实施网站的通用配置。'
- en: '**themes:** Controls the look and feel of your site. There are a variety of
    options available by default. Remember that it is also possible to create your
    own entirely new theme provided you know a bit about PHP, HTML, and CSS.'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主题：** 控制您网站的外观和感觉。默认情况下有各种选项可用。记住，如果您了解一些PHP、HTML和CSS，也可以创建您自己的全新主题。 '
- en: '**users:** From here you can add, remove, or edit any and all users on your
    site.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户：** 从这里您可以添加、删除或编辑您网站上任何和所有的用户。'
- en: '**help:** Contains links to the Drupal handbook as well as help topics for
    a variety of modules, followed by a short glossary of important terms.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**帮助：** 包含指向Drupal手册以及各种模块的帮助主题的链接，之后是一个重要术语的简短词汇表。'
- en: Let's actually make some modifications to the site to see what we can do. Go
    ahead and enable the **blog** module under the **modules** section of the **administer**
    menu item by checking the relevant checkbox under the **Enabled** heading and
    click **Save configuration**. You should notice immediately that there are a few
    changes to the page that loads up, in the form of blog-related menu items—look
    for the new **my blog** link at the top of the menu. Before we see how the actual
    site is changed, go to **blocks** (also under **administer)** and do the same
    thing there, ensuring you enable a few blocks and select **right sidebar** under
    the **Placement** drop-down list.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们实际对网站进行一些修改，看看我们能做什么。请前往**管理**菜单项下的**模块**部分，勾选**启用**标题下的相关复选框，然后点击**保存配置**。您应该会立即注意到页面加载时有一些变化，以博客相关的菜单项的形式出现——在菜单顶部寻找新的**我的博客**链接。在我们看到实际网站如何改变之前，前往**块**（同样在**管理**下）并做同样的事情，确保您启用了一些块，并在**位置**下拉列表中选择**右侧栏**。
- en: Don't worry about what specific changes to make for now. We are simply taking
    a quick look at how easy it is to do stuff using the administration tool. The
    following section will look at the effects of some of these changes via a sample
    Drupal page screenshot.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 目前不必担心具体要做出哪些更改。我们只是快速查看使用管理工具做事情有多容易。下一节将通过一个示例Drupal页面截图来查看一些更改的效果。
- en: A Sample Drupal Page
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个示例Drupal页面
- en: 'Once you are done making modifications, click **create content** in the navigation
    block on the left‑hand side and then click **blog entry**. Once the blog page
    has been brought up, simply add some content, whatever you want, and click **Preview**
    to see how it will turn out, and if you are happy, click **Submit**. If you now
    log out, you will be faced with your new default page. Let''s take a brief look
    over it to discuss some of the main features:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 完成修改后，点击左侧导航块中的**创建内容**，然后点击**博客条目**。一旦打开博客页面，只需添加一些内容，无论是什么，然后点击**预览**以查看效果，如果满意，点击**提交**。如果你现在注销，你会面对你新的默认页面。让我们简要地看一下它，以便讨论一些主要功能：
- en: '![A Sample Drupal Page](img/1800_02_17.jpg)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![一个示例Drupal页面](img/1800_02_17.jpg)'
- en: 'When someone first arrives at your site, as it stands at the moment, they will
    likely be greeted by something as shown in the previous screenshot. (As you can
    tell, I have enabled a whole bunch of new modules and set some blocks to display
    on the right-hand side of the page. As well as this, you can see that I entered
    a greeting message as my first blog entry, which is dutifully displayed by Drupal
    on the homepage instead of the initial instructions.) There are several main areas
    of interest that are highlighted in this screenshot and we should look over them
    here in order to get a feel for what to expect in the chapters to come:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 当有人第一次来到你的网站时，目前的状态，他们可能会看到之前截图中的内容。（正如你可以看到的，我已经启用了一大批新模块，并将一些块设置为在页面右侧显示。此外，你可以看到我输入了一条问候消息作为我的第一条博客条目，Drupal在主页上尽职尽责地显示了它，而不是初始说明。）此截图中有几个主要区域值得关注，我们应该在这里查看它们，以便了解接下来章节中可以期待的内容：
- en: The URL denotes which page is being visited, and can be modified to provide
    search-engine-friendly formats.
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: URL表示正在访问的页面，并且可以修改以提供搜索引擎友好的格式。
- en: The page header contains your site's logo and slogan, among other things. It
    also provides a link to the homepage and is completely configurable.
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 页面标题包含你的网站标志和标语，以及其他内容。它还提供了一个链接到主页，并且是完全可配置的。
- en: The search tool allows users to enter search terms in order to locate content
    within the Drupal site.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索工具允许用户输入搜索词以在Drupal网站上定位内容。
- en: Left and right sidebars contain blocks, which are effectively containers of
    information, as well as the navigational links. In this case, pretty much everything
    has been enabled—which is why there are so many individual blocks down each side
    of the page. Notice too that we now have blocks on the right-hand side because
    we set some of them to appear in the right sidebar. Blocks can also appear in
    other parts of the page, and we will work with these later on anyway.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 左侧和右侧边栏包含块，这些块实际上是信息容器，以及导航链接。在这种情况下，几乎所有功能都已启用——这就是为什么页面的两侧有这么多单独的块。请注意，我们现在在右侧也有块，因为我们设置了一些块在右侧边栏中显示。块也可以出现在页面的其他部分，我们稍后也会处理这些。
- en: All content in Drupal is contained within nodes such as the one shown here.
    This doesn't have to be a blog entry—it could be a poll or forum post. Naturally,
    the method of display is customizable, as we will also see in due course.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Drupal中的所有内容都包含在节点中，如这里所示。这不必是一个博客条目——它可能是一个投票或论坛帖子。当然，显示方式是可定制的，正如我们稍后将会看到的。
- en: Users can register and log in to the site to create posts or view content. Permissions
    and roles can be assigned to users in order to allow them to perform various administrative
    tasks and so on.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户可以注册并登录到网站以创建帖子或查看内容。可以分配权限和角色给用户，以便他们执行各种管理任务等。
- en: What isn't shown in this screenshot (because the page was just too long) is
    the footer area. This section can also hold blocks and other content, and like
    the rest of the site, is fully customizable.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 由于页面过长，此截图没有显示页脚区域。此部分也可以包含块和其他内容，并且像网站的其他部分一样，是完全可定制的。
- en: That concludes our short tour of Drupal. In the next chapter, and the chapters
    that follow, we will begin harnessing the various aspects of Drupal's core functionality
    (as well as enlist the help of some contributions) and mould it into the site
    we wish to create. In the meantime, you are encouraged to play around with the
    site as much as possible in order to get a feel for what you can do.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了我们对Drupal的简要游览。在下一章以及随后的章节中，我们将开始利用Drupal核心功能的各个方面（以及寻求一些贡献的帮助）并将其塑造成我们希望创建的网站。同时，我们鼓励你尽可能多地玩转网站，以了解你可以做什么。
- en: Summary
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In order to provide you with the most efficient method of getting everything
    done, this chapter covered the installation of PHP, MySQL, and Apache in a package
    called Apache2Triad. As a result, you now have the foundation from which to build
    a live site in the coming days and weeks. Having taken the time to set up a working
    development environment, you can be assured that you have prevented any needless
    waste of time, and possibly bad publicity, by not working directly on a live site.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提供给你完成所有事情的最有效方法，本章在名为Apache2Triad的包中涵盖了PHP、MySQL和Apache的安装。因此，你现在有了在接下来的几天和几周内建立现场网站的基础。在花费时间设置一个可工作的开发环境后，你可以确信，通过不在现场网站上直接工作，你已经避免了任何不必要的浪费时间，以及可能的不良宣传。
- en: Now that you have the facilities provided by Apache, PHP, and MySQL installed
    on your own machine, you are free to experiment and play with your site as much
    as you want in order to learn your way around. Of course, installation of the
    requisite technologies is not the end of the story. We also learned how to obtain
    and install Drupal itself—hopefully, you found that quite easy!
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经在自己的机器上安装了Apache、PHP和MySQL提供的服务，你可以自由地实验和玩转你的网站，以了解如何操作。当然，安装所需技术的结束并不是故事的终结。我们还学习了如何获取和安装Drupal本身——希望你觉得这相当简单！
- en: Following this, we noted that from time to time it is important to upgrade Drupal;
    so we discussed how to implement an upgrade in order to cover this. No doubt everything
    went smoothly but you can't always guarantee this, so we took the time to also
    explore some of the more common problems associated with the installation, and
    set out a process for solving problems in general.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在此之后，我们注意到，不时地升级Drupal是很重要的；因此，我们讨论了如何实施升级以涵盖这一点。毫无疑问，一切都很顺利，但你不能总是保证这一点，所以我们还花时间探索了一些与安装相关的一些更常见的问题，并制定了一个解决问题的流程。
- en: Finally, we became acquainted with Drupal itself by creating an administrative
    user and posting some content to the site. We took a bit of time to modify the
    site quite drastically by enabling a module or two in order to observe the effect
    it had on the live site. Using this, we then talked about the major elements of
    an average Drupal page.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们通过创建一个管理用户并在网站上发布一些内容，来熟悉了Drupal本身。我们花了一些时间通过启用一个或两个模块来对网站进行相当大的修改，以便观察它对实际网站的影响。利用这一点，我们接着讨论了普通Drupal页面的主要元素。
- en: If you have gotten this far, then congratulations, you are ready to begin developing
    your site! Its time to get your hands dirty…
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经走到这一步，那么恭喜你，你准备好开始开发你的网站了！是时候动手了……

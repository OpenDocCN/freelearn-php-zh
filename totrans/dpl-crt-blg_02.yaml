- en: Chapter 2. Setting Up the Development Environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*What on earth is a development environment and why do I need it?* It is fairly
    widely accepted that during the process of building your website, you should not
    make it available for people to use over the Internet. Making your site *live*,
    while you are still making changes and breaking and fixing things, means that
    it is possible for people to find your site, attempt to use it, and form an exceedingly
    bad opinion of your web development skills. You might, in the worst case, find
    that you have even inadvertently allowed malicious users to gain access to sensitive
    information due to improperly implemented security settings, among other things.'
  prefs: []
  type: TYPE_NORMAL
- en: Rather than allow the public access to your work in progress, it is far better
    to set up a PHP‑enabled web server on your home or office PC. This server, along
    with PHP and your database, can then be used to design and build everything just
    as you want it, before transferring the final product over to the live site. A
    development environment is precisely that machine, along with its attendant development
    tools and technologies, where you can build your site. This chapter therefore
    will ensure that you set yours up correctly and efficiently so that you can begin
    working on Drupal directly in the chapters that follow.
  prefs: []
  type: TYPE_NORMAL
- en: 'Specifically, we will discuss the following important topics:'
  prefs: []
  type: TYPE_NORMAL
- en: A brief introduction to the technologies involved
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Obtaining and installing Apache, MySQL, and PHP
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Obtaining and installing Drupal
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Upgrading Drupal
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Troubleshooting common problems
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A short tour of Drupal
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installation and setup for Apache, MySQL, and PHP will only be covered for Windows
    because we trust that Linux hacks will have everything installed already (or will
    know how it is done). On the off chance that you don't have everything installed,
    a quick glance over the instructions given on the software-in-question's site
    should suffice to get you on your feet. The installation procedure for Drupal
    is much the same for Windows and Linux; so people using either can follow along
    with the *Obtaining and Installing Drupal* section.
  prefs: []
  type: TYPE_NORMAL
- en: 'Before we begin, however, there is one crucial bit of advice to be given:'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Ensure that you have access to a good, preferably lightning fast, Internet connection,
    as you will be downloading a fair amount of software.
  prefs: []
  type: TYPE_NORMAL
- en: For those users who have already installed various bits of software, you might
    find it convenient to skip whatever sections you do not need, going over only
    those that are of interest. As well as providing information on installation,
    this chapter will also have a troubleshooting section addressing some of the most
    common errors associated with the setup process for Drupal.
  prefs: []
  type: TYPE_NORMAL
- en: It should also be noted that because Drupal has been developed with flexibility
    in mind, it is possible to use it off IIS as an alternative web server, as well
    as utilizing PostgreSQL as an alternative database because support for these are
    actively being developed. Rather than show how to set each and every one up, we
    will focus on the most popular combination of Apache, MySQL, and PHP.
  prefs: []
  type: TYPE_NORMAL
- en: The Drupal Environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I know most of you will be eager to get going at the moment, and might well
    prefer to dive straight into making modifications to your Drupal site. Before
    we do so, it will be of real benefit for you to take a few moments to read over
    this section to gain an appreciation of how everything is put together behind
    the scenes. Having a basic knowledge of how the various technologies co-operate
    in order to provide you with a working Drupal site, will help you immeasurably
    in the long run.
  prefs: []
  type: TYPE_NORMAL
- en: 'The best thing to do to begin with is take a look at each of the individual
    underlying technologies we will be using:'
  prefs: []
  type: TYPE_NORMAL
- en: '**PHP:** PHP, or PHP Hypertext Preprocessor, is the language in which Drupal
    is written. Recently it has received a major upgrade and is now more or less a
    fully functional **Object Oriented Language**, with some very powerful features.
    PHP is widely used on the Internet for a multitude of different projects and is
    renowned for its ease of use. The current version of PHP is PHP 5, which is what
    we will use in this book for our demonstration since the latest version of Drupal
    is PHP 5 friendly. However, you are welcome to use version 4 because this is what
    most internet service providers use at present. The good news is that we will
    not have to delve deeply into programming code in order to build our site—Drupal
    handles most, if not all, of the complex programming issues.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Apache:** This is the web server we will use to serve web pages during the
    development phase. Apache is the most popular web server on the Internet, with
    millions of live sites using it every day. In fact, as the Apache website says:
    *It is more widely used than all the other web servers combined*.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MySQL:** This is the database software that we will use to store all the
    information required to keep the website running. Everything from customer details
    to product information and a host of other things will be stored in the MySQL
    database. Keeping with the trend of popularity, MySQL is also the world''s most
    popular bit of database software with over six million active installations worldwide.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now, since we don't want to waste too much time downloading and installing all
    the different pieces of software we need individually, we are going to use a package
    installation, which provides us with everything we need using only one installation.
    The package we will use for the purposes of this book is called **Apache2Triad**.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that we know *what* we are using, it is important to take a quick look
    at *how* we are going to be using it. The following diagram shows a simplified
    view of how everything works, with the shaded section denoting the Apache2Triad
    package containing the Apache web server, PHP interpreter, and MySQL database,
    with Drupal installed on the system:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Drupal Environment](img/1800_02_01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'So, whenever a user does anything with your Drupal site (hopefully like contributing
    meaningfully), here''s what happens:'
  prefs: []
  type: TYPE_NORMAL
- en: The relevant information is bundled off to the server in the form of an HTTP
    (HyperText Transfer Protocol) request. An HTTP request comes in two forms—either
    a `GET` or a `POST`. For our purposes, it is not important to understand how `GET`
    and `POST` work, as long as you understand that information can be captured from
    the user and sent to the server for processing using these requests.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The server receives the HTTP request and says, *Ah! This is a PHP page that
    has been requested. I need to send it off for processing by the PHP engine*. The
    PHP page then gets processed and executed appropriately, and any actions that
    are required as a result of the user's request are performed.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once that is done, an appropriate response is returned by the server to the
    user's browser, and the cycle continues.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: There are quite a few methods of providing dynamic web content that don't rely
    on PHP server requests. Instead, processing is done on the client side of the
    application (in other words, on the web browser). We will take a look at how to
    enhance your web pages with JavaScript much later on, in [Chapter 9](ch09.html
    "Chapter 9. Advanced Features and Modifications"), but what you have been shown
    here is fundamentally how everything works, even if there are exceptions to the
    rule.
  prefs: []
  type: TYPE_NORMAL
- en: While this section has been a bit of a whirlwind tour of the underlying technologies
    associated with Drupal, the information contained in here should prove to be invaluable
    at some stage. For example, knowing how everything fits together will often help
    you isolate the cause of any problems you encounter, allowing you to resolve them
    quicker.
  prefs: []
  type: TYPE_NORMAL
- en: Don't worry if this all seems a little daunting at the moment. Bear in mind
    that Drupal itself handles most, if not all, of the complexity associated with
    ensuring everything runs smoothly. As you will see, our job becomes one of customization
    rather than actual software development. With that behind us, let's get on with
    the installation process.
  prefs: []
  type: TYPE_NORMAL
- en: Obtaining and Installing PHP, Apache, and MySQL
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As mentioned in the previous section, we are going to make use of a package
    installation in order to simplify the task of creating a workable development
    environment. You will notice that most software installation is really about learning
    a single process and repeating it for whatever software you need. More often than
    not, you will:'
  prefs: []
  type: TYPE_NORMAL
- en: Go to the software producer's site
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Find the download page
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download the software
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Unpack the software or run the executable file, depending on the method of installation
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Install the software
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Configure your installation
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Test your setup
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'That sounds easy enough; so head on over to [http://apache2triad.net/](http://apache2triad.net/),
    which is the homepage for the Apache2Triad project and click the **Downloads**
    link in the left-hand box towards the bottom of the screen. (Feel free to browse
    around to learn more about this useful enterprise.) This will take you to the
    downloads page on the SourceForge site at: [http://sourceforge.net/project/showfiles.php?group_id=93507](http://sourceforge.net/project/showfiles.php?group_id=93507).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Select the package you wish to use—for the purposes of this book, release package
    1.5.3 was used. At the time of writing, this was the latest stable release, but
    you should feel free to use a later version, if there is one, as this will not
    affect how you follow along here. Once you have clicked **Download** for a package
    you will be presented with a list of download options. Release package 1.5.3 has
    only one option as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: This is the package we will download and install. In order to do this, simply
    click the `package name .exe` file, which will take you to a list of mirror sites
    from which you can choose one to provide you with the download. A mirror is simply
    a server that provides all the same facilities at a different geographical location—this
    is done to reduce the load on individual servers and provide faster downloads
    to people all over the globe. Make your choice and click **Download** to begin.
  prefs: []
  type: TYPE_NORMAL
- en: 'Depending on your PC''s security settings, you may be given the following warning
    message:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Simply click **Run** to continue (or **Save** if you would like to hold on to
    a copy). At this point, you may want to take a break for a cup of coffee or tea
    if you have a slow connection as it may take a while.
  prefs: []
  type: TYPE_NORMAL
- en: At some stage during the setup process, the installer will ask you to confirm
    several settings and you are free to make changes as and when prompted. All the
    configurable settings have sensible defaults; so you don't really have to bother
    with this too much. However, you will be asked to enter a password. Please ensure
    that you use something that is memorable to you and secure. You will need to use
    8 characters or more and preferably use some numerical digits as part of the password.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Ensure that you can remember your password as it is needed in order to run the
    initialization tasks a little later in the setup process.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once everything has been done, you should receive the following message:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_04.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Make sure you save and close whatever important documents you have open before
    clicking **OK**. Once your machine has restarted, you will find that you have
    a whole list of new and exciting options to explore from the **Apache2Triad**
    option under **All Programs** in the **Start** menu. For example, the following
    options are made available with the 1.5.3 distribution:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_05.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'There is quite a lot more than what we really need for our immediate purposes,
    but just to ensure that everything is going according to plan, click **open site
    root** in the **Start** menu and you should be shown the following web page in
    your default browser:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing PHP, Apache, and MySQL](img/1800_02_06.jpg)'
  prefs: []
  type: TYPE_IMG
- en: This confirms that everything is up and running as expected. Pretty easy so
    far! One thing to make note of in the previous screenshot is the final link called
    **htdocs**. Traditionally in Apache servers, the folder on your file system called
    `htdocs` is known as the *root* folder. What this means is that all the web pages
    and folders for your site must be placed inside `htdocs` in order for them to
    be served by Apache. If something is not in `htdocs`, then it is not possible
    to browse it!
  prefs: []
  type: TYPE_NORMAL
- en: 'From this we know that we will have to locate the actual folder called `htdocs`
    on the file system in order to know where to put Drupal once we have downloaded
    it. Assuming you have gone with the default setup, you will find `htdocs` in the
    following directory (on Windows machines) along with everything else that was
    installed and created during setup: `C:/apache2triad/`.'
  prefs: []
  type: TYPE_NORMAL
- en: Before we move on from here, it is worthwhile taking a look at what has been
    provided as part of the Apache2Triad installation because some of the facilities
    made available to you could well be most useful as time goes by. You will also
    find that many hosting packages on live sites offer pretty much the same functionality
    as you now have on your PC.
  prefs: []
  type: TYPE_NORMAL
- en: Of particular interest and use to us Drupal people is phpMyAdmin, which is a
    complete database management tool for MySQL. It can make your life a lot easier
    as you become more advanced and wish to play around with your data. It is entirely
    likely that you can perform most of the tasks you need by using phpMyAdmin instead
    of having to learn SQL against the MySQL command-line client.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you are struggling to log on to phpMyAdmin or any other part of the site,
    then try using **root** as the username and whatever password you set during the
    setup process.
  prefs: []
  type: TYPE_NORMAL
- en: We now have a platform from which we can begin building the Drupal site. Of
    course, we still need Drupal.
  prefs: []
  type: TYPE_NORMAL
- en: Obtaining and Installing Drupal
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Chapter 1](ch01.html "Chapter 1. Introduction to Drupal") has already looked
    over the downloads page on the Drupal site; so there isn''t too much to present
    us with problems at this point. Head on over to [http://drupal.org/project/Drupal+project](http://drupal.org/project/Drupal+project)
    and click the Drupal version number you wish to download—generally, *the latest
    stable release* is what you should go for. Click **Download** to grab the latest
    copy and save it to your `C:` drive, or your `My Documents` folder (or wherever
    you want).'
  prefs: []
  type: TYPE_NORMAL
- en: Now, the Drupal download is different from the Apache2Triad installer in that
    we will install Drupal ourselves; it doesn't come with its own installer `.exe`
    file. Instead we are asked if we would like to **Save** (or **Open)** a `.tar.gz`
    file. If you find that your PC doesn't recognize `.gz` files (this is for Windows
    users), then you need to download a zip program like WinZip ( [http://www.winzip.com](http://www.winzip.com)),
    or preferably an open-source option like 7-zip ( [http://www.7-zip.org](http://www.7-zip.org)).
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you are happy that you can open and decompress the downloaded `tar.gz`
    file then extract it to the `htdocs` folder of your Apache installation. If you
    now take a look, you will see something like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing Drupal](img/1800_02_07.jpg)'
  prefs: []
  type: TYPE_IMG
- en: We still need to create a database and populate it with all the necessary tables
    and structures that Drupal will need in order to function—even though, technically
    speaking, you could try to browse your Drupal pages because they are now within
    the `htdocs` folder. There are a number of ways in which this can be done, but
    let's stick to the most basic in order to make this section applicable to everyone.
  prefs: []
  type: TYPE_NORMAL
- en: Open up a command-line shell. In Windows this can be done by clicking **Start**,
    selecting **Run** and typing in **cmd**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Type in the following command at the prompt:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Enter your password when prompted. (This is the one you entered upon setup of
    Apache2Triad.)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enter the MySQL command-line prompt by using the following command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Once again, enter the same password you have been using until now, when prompted.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In order to set a database username and password for Drupal specifically, enter
    the following command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Remember to substitute values that are relevant to yourself in place of the
    bolded sections of this command—nobody (your username), and `password` (your password).
    After this, you should have a screen that looks something like the following:![Obtaining
    and Installing Drupal](img/1800_02_08.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, type in the following command to ensure these settings take effect immediately:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Type quit to exit the MySQL command-line client, and then load the database
    by typing in:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Remember to enter the correct password you have set for your drupal database
    user—in this case it is ny4thi as shown in the above screenshot. The bolded sections
    may change depending on the user you defined in a previous step, and the version
    of Drupal you have obtained.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'At this point all of the database setup for Drupal has been performed and we
    only have a few configuration tasks to deal with in order to complete the installation
    process. For those of you who are interested in taking a quick peek at what has
    happened under the hood during this setup process, open up the MySQL command-line
    prompt using:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Enter your password when prompted, and then type the following at the command
    line:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: The first command will reel off a list of all the tables that are now present
    in the `drupal` database. The next command can be used to look at the information
    in any of the tables given by substituting one of those present for`<tablename>`.
    Looking through the results you should be able to see that quite a lot of work
    has been done to ensure that everything our website needs has been created.
  prefs: []
  type: TYPE_NORMAL
- en: We can now move on to the configuration settings!
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to your Drupal installation by navigating to`C:\apache2triad\htdocs\`**drupal-4.7.0**`\
    sites\default`—obviously your version number can be different. Open up the `settings.php`
    file in an editor of your choice and modify the following line that is on or around
    line 81:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'For example, the demo site''s settings are now:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: because as you know we created a user called `drupal` and gave that user the
    password `ny4thi`, which allows them access to the `drupal` database that was
    created using the SQL script provided in the download. The only other setting
    we need think about at the moment is the base URL that describes the address of
    your website—it is optional to fill this out; so if you find that there are problems
    with broken links and so on when you first check out the site, come back to this
    setting.
  prefs: []
  type: TYPE_NORMAL
- en: 'Assuming you are not using another server in a network, simply add in the extra
    folder to the default address and remove the hash (#) symbol from the front of
    the line, as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Remember to change the bolded section to the correct Drupal version according
    to which package you download.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you have saved your files to some other location, then you will need to
    make your configuration settings accordingly. Once you are done, save the changes
    to the file and get ready for the acid test. If everything has gone according
    to plan, you should be presented with a fresh Drupal website when you navigate
    to the base URL in your browser, as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Obtaining and Installing Drupal](img/1800_02_09.jpg)'
  prefs: []
  type: TYPE_IMG
- en: If this is not the screen you get (or something very close to it), then don't
    worry. There is a troubleshooting section following soon and an entire community,
    replete with forums to help solve problems. However, if this is what you see,
    then congratulations, you are now the proud administrator of one default Drupal
    website. Of course, if you don't feel like typing in `drupal‑4.7.0` every time
    you want to access the site, you are free to change the name of this folder.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Make sure that you make the corresponding change to the `$base_url` variable
    in `settings.php` to reflect any changes to the address otherwise you will end
    up with a broken site.
  prefs: []
  type: TYPE_NORMAL
- en: Effectively, that is all you need to do in order to install Drupal. Everything
    else henceforth is configuration and customization. One of the first things we
    will need to do is set up an administrator's account, and all instructions regarding
    it are presented on your default web page as shown in the previous screenshot.
    Before we do take a brief tour of Drupal, setting up the administrator's account
    in the process, we need to look at a few other issues.
  prefs: []
  type: TYPE_NORMAL
- en: Upgrading Drupal
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: From time to time it becomes necessary to upgrade your installation of Drupal
    in order to keep your site up to speed and trouble free. Every now and then, for
    example, a security issue may be identified and it is important that people upgrade
    in order to avoid falling prey to malicious hacking. Don't be too alarmed by this.
    All software, whether proprietary or open source, has weaknesses. Weaknesses are
    something you are not able to escape. What counts is how they are dealt with once
    they are found. In the case of Drupal, there is an entire community of people
    watching for bugs, reporting them, fixing them, and then offering the solutions
    to all users for free.
  prefs: []
  type: TYPE_NORMAL
- en: 'So, should it be necessary, it is important you know what to do in order to
    result in a painless upgrade. As you would expect from Drupal, the process is
    fairly simple, but before we look at it, I should warn you:'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you are using a theme other than the default, it is possible that your site
    may break. It may be best to revert to the default theme before performing an
    upgrade.
  prefs: []
  type: TYPE_NORMAL
- en: 'For now, this note should not concern you at all because we have not even talked
    about themes—it may be handy to remember at a later date though. Let''s continue:'
  prefs: []
  type: TYPE_NORMAL
- en: Make a backup of your current database so that you preserve all the information
    added by users as well as any configuration changes you have implemented. (Backups
    are discussed in [Chapter 10](ch10.html "Chapter 10. Running Your Website"). Look
    there quickly if you need to make a backup in the meantime.)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Back up the old files, especially those that have important settings like your
    stylesheet or the configuration file contained in the `sites/default/directory`.
    This allows you to re-implement any important settings on the new site.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Remove all the old Drupal files from your file system, and assuming you want
    to run your site from the same location, unpack all the new files into the same
    folder.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Make the necessary changes to the configuration file based on the settings saved
    in the old one.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Log in as the site administrator (this has to be user number 1), then navigate
    to your Drupal homepage and run the `update.php` script by accessing it from your
    browser. For example, the demo site's update page would be `http://localhost/drupal-4.7.0/update.php`.
    This will bring up a page of notes as follows:![Upgrading Drupal](img/1800_02_10.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Read through these notes before you click the **run the database upgrade script**
    link to ensure that you perform any version-specific tasks that may be required.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the link to bring up the following page:![Upgrading Drupal](img/1800_02_11.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Select an update to perform (only if, for some reason, you are not happy with
    the automatic choice) and then click **Update**. If everything goes well, you
    should see a list of updates that were performed, along with the status of those
    operations; something like this:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Upgrading Drupal](img/1800_02_12.jpg)'
  prefs: []
  type: TYPE_IMG
- en: You are now fully updated and can continue as normal. There is another valuable
    source of information you should look at, whenever you need to make an upgrade,
    namely the Drupal site itself:[http://drupal.org/upgrade/](http://drupal.org/upgrade/)
    . This page contains useful notes and version-specific issues and instructions
    that could come in handy.
  prefs: []
  type: TYPE_NORMAL
- en: Troubleshooting Common Problems
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will take a look at two of the problems most likely to occur
    during your setup process. We will also take a look at how they manifest themselves
    and how to solve them quickly. It should be noted that at this early stage there
    are not many things that can go wrong since the installation routine is fairly
    well used and most, if not all, of the bugs have been ironed out. This is good
    news for us because it is likely that any errors are the result of typos or something
    else quite simple, which should be easy to rectify.
  prefs: []
  type: TYPE_NORMAL
- en: Unfortunately, we can't hope to cover absolutely everything in this section;
    so we will also outline a brief process that you can use to solve any problem,
    and not just the ones involved with installation. Having a sound process to follow
    whenever you encounter problems is immeasurably more valuable that being shown
    solutions to each and every problem anyway. By the end of this section you should
    be confident that you can install and upgrade Drupal as well as handle any problems
    that might arise along the way. So let's begin.
  prefs: []
  type: TYPE_NORMAL
- en: 'If, instead of the default homepage, you receive a message like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Troubleshooting Common Problems](img/1800_02_13.jpg)'
  prefs: []
  type: TYPE_IMG
- en: then it is likely that you have made a typo in the connection string in the
    `/sites/default/settings.php` file. Recheck this file to ensure that the name
    and password you supply are correct. If you cannot find the problem, enter your
    root name and password in the `settings.php` file to see whether you can log on
    with that. If that works, then you know that there is a problem with the user
    and/or their permissions, and not with anything else, so check your `GRANT` statement
    in step 5 again, and ensure it matches the settings in the `settings.php` file.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the previous screenshot, there was a typo in the username given in the `settings.php`
    file that caused Drupal to try to connect to MySQL with the username `drupa` instead
    of `drupal`. Of course, some of you may have gotten past this point only to have
    been presented with something like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Troubleshooting Common Problems](img/1800_02_14.jpg)'
  prefs: []
  type: TYPE_IMG
- en: As you can see, we are almost there, but something has definitely gone wrong
    somewhere along the line as evidenced by the broken link and lack of any formatting
    and style. The most likely cause of this error is an incorrectly set base URL—this
    shouldn't be too much of a problem in versions 4.7 and later, as Drupal detects
    this URL automatically. If, however, you changed the name of the Drupal folder
    in `htdocs` to something like `drupal` instead of the original `drupal-4.7.0`,
    then browsing to that address without adjusting the base URL could cause this
    type of problem.
  prefs: []
  type: TYPE_NORMAL
- en: 'To solve this, ensure that the address at which you find the page on your browser
    is the same as that given in the `settings.php` file minus the trailing slash,
    as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'Oh dear, you can see that this is still the old value; so we need to update
    it to match the address in the previous screenshot as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have the correct setting in place you will find the site displays
    itself correctly. *But what if something else has gone wrong?* Well, at this point,
    the types of problems that can occur are not easily isolated; so it is better
    that you know *how* to go about solving them. The following list of points highlight
    the process you should use in order to go about troubleshooting any problems:'
  prefs: []
  type: TYPE_NORMAL
- en: Scrutinize any error messages you get and attempt to solve the problem yourself.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Visit the Drupal forums and search for similar problems.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Look through the troubleshooting FAQ at[http://drupal.org/node/199](http://drupal.org/node/199)
    .
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: View the bug list ([http://drupal.org/project/issues](http://drupal.org/project/issues)
    ) to see if your problem is a reported bug.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you can't find bugs, similar posts, or problems, then try posting your queries
    on the forums and ask someone in the community to give you a hand.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To supplement this, get on Google and try using relevant keywords to locate
    a similar problem, with hopefully a solution presented.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It is highly unlikely you will need to use all six options at this point in
    time, but at some stage in the future you might find that you require more expertise
    than is available by searching on the net. If this is ever the case, then don't
    despair, there are consultants available provided you are willing to part with
    a fee. For now though, you should be ready to continue with the final few tasks
    in the setup process, which will be performed in the following section.
  prefs: []
  type: TYPE_NORMAL
- en: A Short Tour of Drupal
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we move ahead with customization and configuration topics, it is important
    that we glance over what Drupal actually looks like and ensure it is up and working
    properly. In order to do this, there are a few PHP settings we need to look at.
    Once these are taken care of we will have to create the first user who will have
    control over every aspect of the site. No tour of Drupal would be complete without
    a discussion of an actual Drupal page, so we will take a look at a sample towards
    the end of this section once we have finished playing around.
  prefs: []
  type: TYPE_NORMAL
- en: First things first though, let's deal with PHP.
  prefs: []
  type: TYPE_NORMAL
- en: A Couple of Important Settings
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I will demonstrate the changes required for the Apache2Triad setup, but if you
    have gone with anything else (or if you already have everything installed), you
    might notice slight differences in the way things are laid out. Now, the reason
    we need to do all this is because we would obviously like any emails that are
    sent out by Drupal to come from a working email address that we can access, and
    we need to check that the `mail()` function, used by Drupal for sending an email,
    has an SMTP server to work with. As we will end up having to set this somewhere
    along the line anyway (assuming it's not already set), we may as well do it now.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open up your `php.ini` file, which on Windows using Apache2Triad is found in
    `C:\WINDOWS`. Search for the lines that read:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: 'You need to provide PHP with an SMTP server that will work here. If you use
    Microsoft Outlook on Windows, then you can find which SMTP server you are already
    using by looking at the servers tab in the **Tools | Accounts | Properties** menu.
    As well as this, you will probably want something other than `admin@localhost`
    to be set here; so ensure you make these changes accordingly. For the demo site,
    the following changes were made:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: Obviously, you must have access to a working SMTP server—if you don't have a
    server to work off, then you can't send emails from your site. This is not a massive
    problem for the meantime, and certainly, your live site will be able to send mails
    even if you can't from your development machine.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In order for these settings to take effect you must also remember to restart
    the Apache server.
  prefs: []
  type: TYPE_NORMAL
- en: You can restart Apache by double-clicking the Apache icon in the process tray
    (bottom right-hand side of your screen) and selecting **Restart** in the menu.
    You can also access the server through the **Start** menu. Once this is done,
    you can continue with Drupal as per normal.
  prefs: []
  type: TYPE_NORMAL
- en: Creating an Administrative User
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'As mentioned on the default Drupal page, you need to click the **create the
    first account** link in order to get the ball rolling. This will bring up the
    registration page, which you can fill in appropriately. Once you click **Create
    new account**, Drupal will automatically attempt to send a welcome email (if you
    receive one, then you know your SMTP setting is working) as well as print out
    a message as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Creating an Administrative User](img/1800_02_15.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Notice that not only has an email been successfully sent to the address I stipulated
    in the registration process, but the email comes *from* the address I stipulated
    in the `php.ini` file a little earlier.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you don't have an internet connection, you will still be able to set up your
    Drupal site but you won't be able to send and receive emails using a third-party
    STMP server as shown here.
  prefs: []
  type: TYPE_NORMAL
- en: So far so good! The next step is to enter your new password into the website—remember
    to choose something slightly more memorable than the one that is currently assigned.
    Once you have done that, simply click **Submit** at the bottom of the page to
    continue—you might wish to take a look over some of the other settings that are
    there and make any quick changes (such as adding a **Signature** or changing your
    **Time Zone)** first.
  prefs: []
  type: TYPE_NORMAL
- en: Using the Administrative Panel
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'It''s time to a have a quick bit of fun before we get to the more serious matter
    of building our site in the next chapter. Once you are finished with editing your
    user settings, click the **administer** link, which is shown in the block on the
    left-hand side of your page. This will bring up a page like this (with the **modules**
    option selected):'
  prefs: []
  type: TYPE_NORMAL
- en: '![Using the Administrative Panel](img/1800_02_16.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Before we actually play with anything, it is worthwhile listing what each option
    does, because it can become a bit confusing later on when you get into the thick
    of things—mainly due to the large number of menu items available, and not because
    the site is particularly hard to administer. Make special note of the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The sections available under the **administer** menu item may change depending
    on the modules you enable, or what contributions you add, or even what permissions
    users are assigned.
  prefs: []
  type: TYPE_NORMAL
- en: What this means is that you should always ensure you check what new options
    are available in any given section after you have added and enabled a new module.
    As you should also be aware that not all users will have the same **administer**
    options available to them, you need to check whether they have sufficient powers
    to complete their intended tasks. We will look at all this in more detail later;
    so there is no need to get ahead of ourselves at this point.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following list outlines the core options:'
  prefs: []
  type: TYPE_NORMAL
- en: '**access control:** Allows you to set permissions to control what users can
    do on your site.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**blocks:** Enabled blocks can be displayed in a variety of places on your
    site. Blocks can contain all sorts of information such as who''s online or the
    latest forum posts.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**categories:** Allows administrators to classify and categorize content on
    the site. Drupal has one of the most sophisticated classification systems in the
    form of the taxonomy module.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**comments:** Allows for the administration of comments that are added to the
    site. Comments are not quite the same as other content types, but are instead
    *attached* to other content types.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**content:** Allows for the administration of any and all posts to the site.
    It provides a variety of filters for cutting down results in order to readily
    find specific content as well as update options.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**input formats:** There are a number of different ways in which Drupal can
    view content from users. This ranges from filtered HTML all the way through to
    full‑blown PHP code.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**logs:** Enables the recording of a variety of events such as usage information,
    or warnings, and errors that can then be used during the routine maintenance of
    a healthy site.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**menus:** Allows for creation and manipulation of navigational structures.
    From here it is possible to enable or disable menu items, create new ones, and
    work with primary links too.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**modules:** Provide Drupal''s functionality (there are many core modules that
    come with the standard distribution of Drupal, and there are many contributed
    modules that need to be downloaded and installed) and can be enabled or disabled
    depending on the requirements of the site.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**settings:** Provides a convenient page from which to implement the general
    configuration of the site.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**themes:** Controls the look and feel of your site. There are a variety of
    options available by default. Remember that it is also possible to create your
    own entirely new theme provided you know a bit about PHP, HTML, and CSS.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**users:** From here you can add, remove, or edit any and all users on your
    site.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**help:** Contains links to the Drupal handbook as well as help topics for
    a variety of modules, followed by a short glossary of important terms.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let's actually make some modifications to the site to see what we can do. Go
    ahead and enable the **blog** module under the **modules** section of the **administer**
    menu item by checking the relevant checkbox under the **Enabled** heading and
    click **Save configuration**. You should notice immediately that there are a few
    changes to the page that loads up, in the form of blog-related menu items—look
    for the new **my blog** link at the top of the menu. Before we see how the actual
    site is changed, go to **blocks** (also under **administer)** and do the same
    thing there, ensuring you enable a few blocks and select **right sidebar** under
    the **Placement** drop-down list.
  prefs: []
  type: TYPE_NORMAL
- en: Don't worry about what specific changes to make for now. We are simply taking
    a quick look at how easy it is to do stuff using the administration tool. The
    following section will look at the effects of some of these changes via a sample
    Drupal page screenshot.
  prefs: []
  type: TYPE_NORMAL
- en: A Sample Drupal Page
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Once you are done making modifications, click **create content** in the navigation
    block on the left‑hand side and then click **blog entry**. Once the blog page
    has been brought up, simply add some content, whatever you want, and click **Preview**
    to see how it will turn out, and if you are happy, click **Submit**. If you now
    log out, you will be faced with your new default page. Let''s take a brief look
    over it to discuss some of the main features:'
  prefs: []
  type: TYPE_NORMAL
- en: '![A Sample Drupal Page](img/1800_02_17.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'When someone first arrives at your site, as it stands at the moment, they will
    likely be greeted by something as shown in the previous screenshot. (As you can
    tell, I have enabled a whole bunch of new modules and set some blocks to display
    on the right-hand side of the page. As well as this, you can see that I entered
    a greeting message as my first blog entry, which is dutifully displayed by Drupal
    on the homepage instead of the initial instructions.) There are several main areas
    of interest that are highlighted in this screenshot and we should look over them
    here in order to get a feel for what to expect in the chapters to come:'
  prefs: []
  type: TYPE_NORMAL
- en: The URL denotes which page is being visited, and can be modified to provide
    search-engine-friendly formats.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The page header contains your site's logo and slogan, among other things. It
    also provides a link to the homepage and is completely configurable.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The search tool allows users to enter search terms in order to locate content
    within the Drupal site.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Left and right sidebars contain blocks, which are effectively containers of
    information, as well as the navigational links. In this case, pretty much everything
    has been enabled—which is why there are so many individual blocks down each side
    of the page. Notice too that we now have blocks on the right-hand side because
    we set some of them to appear in the right sidebar. Blocks can also appear in
    other parts of the page, and we will work with these later on anyway.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: All content in Drupal is contained within nodes such as the one shown here.
    This doesn't have to be a blog entry—it could be a poll or forum post. Naturally,
    the method of display is customizable, as we will also see in due course.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Users can register and log in to the site to create posts or view content. Permissions
    and roles can be assigned to users in order to allow them to perform various administrative
    tasks and so on.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What isn't shown in this screenshot (because the page was just too long) is
    the footer area. This section can also hold blocks and other content, and like
    the rest of the site, is fully customizable.
  prefs: []
  type: TYPE_NORMAL
- en: That concludes our short tour of Drupal. In the next chapter, and the chapters
    that follow, we will begin harnessing the various aspects of Drupal's core functionality
    (as well as enlist the help of some contributions) and mould it into the site
    we wish to create. In the meantime, you are encouraged to play around with the
    site as much as possible in order to get a feel for what you can do.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In order to provide you with the most efficient method of getting everything
    done, this chapter covered the installation of PHP, MySQL, and Apache in a package
    called Apache2Triad. As a result, you now have the foundation from which to build
    a live site in the coming days and weeks. Having taken the time to set up a working
    development environment, you can be assured that you have prevented any needless
    waste of time, and possibly bad publicity, by not working directly on a live site.
  prefs: []
  type: TYPE_NORMAL
- en: Now that you have the facilities provided by Apache, PHP, and MySQL installed
    on your own machine, you are free to experiment and play with your site as much
    as you want in order to learn your way around. Of course, installation of the
    requisite technologies is not the end of the story. We also learned how to obtain
    and install Drupal itself—hopefully, you found that quite easy!
  prefs: []
  type: TYPE_NORMAL
- en: Following this, we noted that from time to time it is important to upgrade Drupal;
    so we discussed how to implement an upgrade in order to cover this. No doubt everything
    went smoothly but you can't always guarantee this, so we took the time to also
    explore some of the more common problems associated with the installation, and
    set out a process for solving problems in general.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we became acquainted with Drupal itself by creating an administrative
    user and posting some content to the site. We took a bit of time to modify the
    site quite drastically by enabling a module or two in order to observe the effect
    it had on the live site. Using this, we then talked about the major elements of
    an average Drupal page.
  prefs: []
  type: TYPE_NORMAL
- en: If you have gotten this far, then congratulations, you are ready to begin developing
    your site! Its time to get your hands dirty…
  prefs: []
  type: TYPE_NORMAL

<html><head></head><body><div class="chapter" title="Chapter&#xA0;7.&#xA0;Advanced Content"><div class="titlepage"><div><div><h1 class="title"><a id="ch07"/>Chapter 7. Advanced Content</h1></div></div></div><p>Most of our dealings with content so far have been fairly basic in that they require us only to learn which settings to enable and what text to enter. There is a fundamental difference between this and what is coming in this chapter, mainly because the content in this chapter requires us to think ahead and plan what we want ahead of time, in order to prevent things going awry at a later date.</p><p>At this point, after hearing so much about taxonomy and categorization in previous chapters, you might be wondering what all the fuss is about. The main reason for concerning ourselves with categorization is that in order to make Drupal's classification system so powerful, it must be left for us to decide how best to implement. This might sound a little strange at first, but we will see later on in the chapter why this faculty of Drupal is one of the things that distinguish it from everything else out there—it's really a good thing!</p><p>Accordingly, this chapter discusses the following subjects:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">HTML, PHP, and Content Posting</li><li class="listitem" style="list-style-type: disc">Categorization</li></ul></div><p>Don't be fooled by the fact that there are only two items listed here as they both represent a step up in complexity from all the other topics we have discussed so far. However, once these topics are under your belt, you will be more or less on the home straight in terms of the site's development—with only the topic of theming to come before we can begin looking at more administrative-type tasks.</p><p>As well as this, the skills learned during the process of honing your content creation and management techniques will prove useful not only for this website but also in other aspects of your life—whether it is creating and managing office reports for your boss, building a new website, or even writing a book. The reason for this is because, by and large, we are now going to learn<span class="emphasis"><em> how content should be managed and created</em></span> rather than how to click buttons and links to enable or disable settings.</p><p>In any case, I'm sure you're eager to get on with it.</p><div class="section" title="HTML, PHP, and Content Posting"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec01"/>HTML, PHP, and Content Posting</h1></div></div></div><p>We briefly touched upon the fact that it is possible to include HTML or PHP within our posts earlier in<a class="link" href="ch03.html" title="Chapter 3. Basics I: Site Configuration"> Chapter 3</a>, where we added some formatting and a hyperlink to some of our text—we also saw a short PHP script in the section on<span class="strong"><strong> Adding Blocks</strong></span> in<a class="link" href="ch04.html" title="Chapter 4. Basics II: Adding Functionality"> Chapter 4</a>, which provided the site with nice<span class="emphasis"><em> Quote of the Day</em></span> functionality. So, at this point you should be comfortable with the fact that given sufficient permissions, it is possible to post some fairly unique and interesting content.</p><p>It is likely that at some stage you will want to upgrade at least some of your content from plain text to something that looks a little<span class="emphasis"><em> out of the ordinary</em></span>. If it's layout you are talking about, then HTML is what you need to know. Alternatively, if you want to create some dynamic content, which can change depending on the state of your site, or respond to user interaction, then PHP is the way forward. More than likely, you will end up using a combination of both, once you have gained a bit of experience.<a class="indexterm" id="id232"/>
</p><p>Unfortunately, we can't possibly hope to give you a comprehensive introduction into either technology in the space we have here. However, there are tons of online resources available where you can learn about HTML and PHP for free and we will list a bunch of them throughout this section.</p><p>For now, we will look at how to achieve some fairly useful tasks by way of demonstrating how to create an<span class="emphasis"><em> about us</em></span> page that will contain links to other useful sites, pictures of the<span class="emphasis"><em> imaginary team</em></span> as well as some dynamic content.</p><div class="section" title="Input Formats and Filters"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec01"/>Input Formats and Filters</h2></div></div></div><p>The first thing you need to understand is that it is necessary to stipulate which type of content we will be posting, in any given post. This is done through the use of the<span class="strong"><strong> input format</strong></span> setting, which is displayed when posting content to the site—assuming the user in question has sufficient permissions to post different types of content. In order to control what is and is not allowed, head on over to the<span class="strong"><strong> input formats</strong></span> link under the<span class="strong"><strong> administer</strong></span> main menu item. This will bring up a list of the currently defined input formats, like this:<a class="indexterm" id="id233"/>
</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_06_35.jpg"/></div><p>At the moment, you might be wondering why we need to go to all this trouble to decide whether people can add certain tags to their content. The answer to this is that because both HTML and PHP are such powerful internet technologies, it is not hard to subvert even fairly simple abilities for malicious purposes. For example, you might decide you would like to allow authenticated users the ability to link to their homepages from their blogs. Using the ability to add a hyperlink to their postings, a malicious user could create a virus or some other harmful content, and link to it from an innocuous and friendly looking piece of HTML like this:</p><div class="informalexample"><pre class="programlisting">&lt;p&gt;Hi Friends! My &lt;a href="link_to_virus.exe"&gt;homepage&lt;/a&gt; is a great place to meet and learn about my interests and hobbies. &lt;/p&gt;
</pre></div><p>This snippet simply writes out a short paragraph with a link, supposedly to the author's homepage, but in reality the hyperlink reference attribute points to a virus,<code class="literal"> link_to_virus.exe</code>. That's just HTML; PHP can do a lot more damage—to the extent that if you don't have proper security or disaster-recovery policies in place, then it is possible that your site can be rendered useless or destroyed entirely. Security is the main reason why, as you may have noticed from the previous screenshot, anything other than<span class="strong"><strong> Filtered HTML</strong></span> is unavailable for use by anyone except you as the administrator.<a class="indexterm" id="id234"/>
</p><p>Again, it is important to re-iterate the tenet:</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note27"/>Note</h3><p>Never allow users more permissions than they require to complete their intended tasks!</p></div></div><p>As they stand, you might not find the input formats to your liking, and so Drupal provides us with some functionality to modify them. Click on the<span class="strong"><strong> configure</strong></span> link adjacent to the<span class="strong"><strong> Filtered HTML</strong></span> option, and this will bring up the following page:<a class="indexterm" id="id235"/>
</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_07_01.jpg"/></div><p>The<span class="strong"><strong> view</strong></span> tab provides you with the option to alter the<span class="strong"><strong> Name</strong></span> property of the input format; the<span class="strong"><strong> Roles</strong></span> section in this case cannot be changed, but as you will see when we come round to creating our own input format, roles can be assigned however you wish. The final section provides us with a checklist of the types of<span class="strong"><strong> Filters</strong></span> we would like to apply when using this input format. In this case the first two have been selected, and this causes the input format to apply the<span class="strong"><strong> HTML filter</strong></span> (discussed in a moment) as well as the<span class="strong"><strong> Line break converter</strong></span>, but not the<span class="strong"><strong> PHP evaluator.</strong></span>
<a class="indexterm" id="id236"/>
</p><p>The line break converter simply makes it easier for users to format their content because it means that they do not have to explicitly enter<code class="literal">&lt;br&gt;</code> or<code class="literal">&lt;p&gt;</code> HTML tags in order to display new lines or paragraph breaks. If this is disabled, then unless the user has the ability to add the relevant HTML tags, you might end up with all your content looking like this:</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_07_02.jpg"/></div><p>The PHP evaluator simply causes posts to be sent for PHP processing, so that any code that falls between the PHP delimiters<code class="literal">&lt;?php</code> and<code class="literal"> ?&gt;</code> gets executed properly. This should not be enabled for anyone other than yourself or a highly trusted administrator who needs it to complete his or her work. There is, however, no other work to be done for either of these options. The only additional settings we need to look at here are for the<span class="strong"><strong> HTML filter</strong></span>.<a class="indexterm" id="id237"/>
</p><p>Click on the<span class="strong"><strong> configure</strong></span> tab at the top of the page in order to begin working with the<span class="strong"><strong> HTML filter</strong></span>. You should be presented with something like this (once you have clicked on the<span class="strong"><strong> HTML filter</strong></span> link to expand its content):<a class="indexterm" id="id238"/>
</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_07_03.jpg"/></div><p>To start with, it is possible to decide, using the first two options, whether you would like to strip HTML tags that are disallowed, or simply ignore all tags from any posts (Escape<span class="strong"><strong> all tags</strong></span> causes any tags that are present in the post to be displayed as is). Remember that if you strip all the tags from the content, you should enable the<span class="strong"><strong> Line break converter</strong></span> so that users can at least paragraph their content properly. Which tags are to be stripped is decided in the following section, where you can enter a list of all the tags that<span class="emphasis"><em> are</em></span> to be allowed—anything else gets removed!<a class="indexterm" id="id239"/>
</p><p>In the previous screenshot you can see that there are eleven different types of tags allowed in this input format. Notice that the first one is in fact the<span class="strong"><strong>&lt;a&gt;</strong></span> tag, which can be used to insert links into content—so be wary of this!<a class="indexterm" id="id240"/>
</p><p>Following on, the next setting allows us to specify whether users are given HTML help when posting content—try enabling and disabling this option and browsing to this relative URL in each case to see the difference:<code class="literal"> filter/tips</code>. There is quite a bit of helpful information on HTML in the long filter tips; so take a moment to read over those. The<span class="strong"><strong> Spam link deterrent</strong></span> is a useful tool if you find that the site is being used to bombard members with links to products not sanctioned by you.</p><p>This is not the end of the story, because we also need to be able to create input formats in the event we require something that the default options can't cater for. In this case, let's assume that we want
to add some picture files to the<span class="emphasis"><em> about us</em></span> page, which we will create in due course. Now, there are several ways in which this can be done, but there are two main criteria that need to be satisfied before we can consider creating our page. We need to be able to:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Upload image files and attach them to the post.</li><li class="listitem">Insert and display the image files within the body of the post.</li></ol></div><p>We have already seen how to perform task number one when we discussed<span class="emphasis"><em> Upload</em></span> in<a class="link" href="ch04.html" title="Chapter 4. Basics II: Adding Functionality"> Chapter 4</a> on<span class="emphasis"><em> Adding Functionality</em></span>. So assuming that you are able to attach files to your posts, this leaves us to deal with the second criterion. There are several methods for displaying image files within your posts. The one we will discuss here does not require us to download and install any contribution modules such as<span class="strong"><strong> Img_assist</strong></span>. Instead we will use HTML directly to achieve this—specifically, we will need the<code class="literal">&lt;img&gt;</code> tag.<a class="indexterm" id="id241"/>
</p><p>Take a look at the previous screenshot that shows the<span class="strong"><strong> configure</strong></span> page of the<span class="strong"><strong> Filtered HTML</strong></span> input format. You will notice that the<code class="literal">&lt;img&gt;</code> tag is not available for use. Let's create our own input format to cater for this instead of modifying this default option. Head on back to the main<span class="strong"><strong> input formats</strong></span> page under<span class="strong"><strong> administer</strong></span> and click on<span class="strong"><strong> add input format</strong></span>. This will bring up the following page, from which you can build your new input format as shown:<a class="indexterm" id="id242"/>
</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_07_04.jpg"/></div><p>Since we will need to make use of some PHP code a bit later on, we have enabled the<span class="strong"><strong> PHP evaluator</strong></span> option, as well as prevented the use of this format for anyone but ourselves—normally you would create a format for a group of users who require the modified posting abilities, but in this case we are simply demonstrating how to create a new input format; so this is fine for now.<a class="indexterm" id="id243"/>
</p><p>Clicking<span class="strong"><strong> Save configuration</strong></span> adds this new format to the list, and it can now be configured by clicking on the<span class="strong"><strong> configure</strong></span> link adjacent to its name in the list in order to bring up its configuration pages. Now, the only difference between this input format and the default<span class="strong"><strong> Filtered HTML</strong></span> in terms of HTML is the addition of the<code class="literal">&lt;img&gt;</code> tag followed by a space in the<span class="strong"><strong> Allowed HTML tags</strong></span> list, as follows:</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_07_05.jpg"/></div><p>There is one other thing we need to look at before we are done with this input format. As things stand at the moment, we will run into problems with adding PHP code to any content postings. This is because at the moment the<span class="strong"><strong> HTML filter</strong></span> has its way with the content first, and mangles the code for the<span class="strong"><strong> PHP evaluator</strong></span>.</p><p>Simply click on the<span class="strong"><strong> rearrange</strong></span> tab when configuring your input format and give the<span class="strong"><strong> PHP evaluator</strong></span> a lighter weight, as shown here:<a class="indexterm" id="id244"/>
</p><div class="mediaobject"><img alt="Input Formats and Filters" src="graphics/1800_07_06.jpg"/></div><p>Now, the PHP evaluator gets dibs on the content and can process the PHP properly. For the purposes of adding images to your posts, this is all that is needed for now. Once that has been done, save the changes before using this to create the<span class="emphasis"><em> about us</em></span> page. Before you do, though, it is probably most useful to have a short discourse on HTML since you will find that you need to be able to work with HTML as you attempt more complex postings.</p></div><div class="section" title="HTML"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec02"/>HTML</h2></div></div></div><p>For your browser to render the neatly laid out and colorful pages that we are used to seeing everyday, it needs instructions on what goes where and what color to give everything. This is the domain of<span class="strong"><strong> HyperText Markup Language</strong></span> (HTML), and Drupal is no exception in its use of HTML here.<a class="indexterm" id="id245"/>
</p><p>Let's have a quick crash course on various aspects of HTML before we go any further:<a class="indexterm" id="id246"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Simplicity:</strong></span> From tables and frames to lists and images, as well as specifying fonts and styles, HTML is a convenient and readily understandable convention for web-page creation and layout.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Platform independence:</strong></span> HTML is platform independent (although not all browsers are exactly the same), which makes sense if you think about it; the last thing you would want, as the builder of a website, is to have to cater for every different type of machine that could make use of HTML.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Tags:</strong></span> HTML comes in the form of opening and closing tags, which tell your browser how to display the information enclosed within them. For example, the title of a page would be enclosed within the title tags like this:<code class="literal">&lt;title&gt;My Title Page&lt;/title&gt;</code>. Notice that a forward slash is used to distinguish a closing tag from an opening tag.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Attributes:</strong></span> Tags can have attributes, which can modify or define certain aspects of a tag's behavior. For example, the<code class="literal"> size</code> attribute in the following HTML snippet defines the size of the font,<code class="literal">&lt;font size="2"&gt;I have a font size of 2&lt;/font&gt;</code>, when it is rendered in a browser.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Sections:</strong></span> An HTML page is enclosed within<code class="literal">&lt;html&gt;&lt;/html&gt;</code> tags and is divided into<code class="literal">&lt;head&gt;&lt;/head&gt;</code> and<code class="literal">&lt;body&gt;&lt;/body&gt;</code> sections. The body tags enclose the bulk of the page and contain the information seen on the actual web page. In our case, we need not worry about this because all content is automatically posted between the<code class="literal">&lt;body&gt;</code> tags.</li></ul></div><p>This gives us a fair overview of what HTML is and does, but for practical purposes it is important to see what can be achieved right here and now using the HTML that is available to us. Actually, all HTML tags are available for you as the administrator to use, but recall that you should only use this account during development; once your site has gone live, you should post content using an input format that you have designed for the task. Because of this you will need to know what the tags actually do.</p><p>The following table discusses each of the default allowed tags along with the<code class="literal">&lt;img&gt;</code> tag that has just been added. Bear in mind that it is not really practical to show each and every attribute for each tag here, so if you would like to learn more about each tag individually, then please take a look at<code class="literal"> http://www.w3schools.com</code>, which is an excellent resource for all things HTML and more.</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Tag</p>
</th><th style="text-align: left" valign="bottom">
<p>Important Attributes</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;img&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">src:</code> gives the path to the image file</p>
<p>
<code class="literal">alt:</code> holds a description of the image</p>
</td><td style="text-align: left" valign="top">
<p>The<code class="literal">&lt;img&gt;</code> tag, unlike other tags, does not require a closing<code class="literal">&lt;/img&gt;</code> tag. It is used to display images within HTML pages, and through the use of optional attributes can accurately control the appearance and layout of images.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;a&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">href:</code> specifies the destination URL of the link</p>
<p>
<code class="literal">name:</code> allows bookmarks to be created within web pages.</p>
<p>
<code class="literal">target:</code> defines where to open the link—most often this is a new page,<code class="literal"> _blank</code>, or the same page,<code class="literal"> _self</code>.</p>
</td><td style="text-align: left" valign="top">
<p>The anchor element facilitates the creation of hyperlinks or bookmarks, which can be navigated by users.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;em&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The emphasis tag converts standard text to italics.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;strong&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The strong tag renders text in bold.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;cite&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">title:</code> can be used to specify the source or author of the citation in question</p>
</td><td style="text-align: left" valign="top">
<p>The citation tag allows text to be referenced as coming from another source or author. It is often rendered in italics.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;code&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The code tag changes the style of the enclosed text to mimic computer code's style.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;ul&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">type:</code> defines the type of bullet point to be used:<code class="literal"> disc, square</code>, or<code class="literal"> circle</code>.</p>
</td><td style="text-align: left" valign="top">
<p>The unordered list creates a list of bullet points—it requires the use of the<code class="literal">&lt;li&gt;</code> tag to stipulate items in the list.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;ol&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The order list creates a numbered list of bullets—it requires the use of the<code class="literal">&lt;li&gt;</code> tag to stipulate items in the list.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;li&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The list item tag creates a new item within either an ordered or unordered list; because of this it is contained within<code class="literal">&lt;ul&gt;&lt;/ul&gt;or &lt;ol&gt;&lt;/ol&gt;</code> tags.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;dl&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The definition list tag creates a structured list of items that are defined by the<code class="literal">&lt;dt&gt;</code> and<code class="literal">&lt;dd&gt;</code> tags.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;dt&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The definition term tag creates a term within a definition list. It is contained within<code class="literal">&lt;dl&gt;&lt;/dl&gt;</code> tags.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;dd&gt;</code>
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>The definition description tag creates a description of its parent term—it is contained within<code class="literal">&lt;dl&gt;&lt;/dl&gt;</code> tags.</p>
</td></tr></tbody></table></div><p>This table really only lists a fraction of all the tags that are available to you to use. Most tags also have a wide variety of required, optional, or event-based attributes that you can play around with in order to achieve the desired effect. There is one other tag that we will need to make use of in order to lay out pages properly, and that is the all important<code class="literal">&lt;table&gt;</code> element. Tables are used to order and place content within a page and make use of the<code class="literal">&lt;tr&gt;</code> tag, which defines a new row in the table, and<code class="literal">&lt;td&gt;</code> tags, which define new cells within that row. As an exercise, head on back to your newly created input format, and add these tags.</p><p>This table really only lists a fraction of all the tags that are available to you to use. Most tags also have a wide variety of required, optional, or event-based attributes that you can play around with in order to achieve the desired effect. There is one other tag that we will need to make use of in order to lay out pages properly, and that is the all important<code class="literal">&lt;table&gt;</code> element. Tables are used to order and place content within a page and make use of the<code class="literal">&lt;tr&gt;</code> tag, which defines a new row in the table, and<code class="literal">&lt;td&gt;</code> tags, which define new cells within that row. As an exercise, head on back to your newly created input format, and add these tags.</p><p>With that out of the way, we are ready to begin creating a slightly more advanced posting than all the previous ones.</p></div><div class="section" title="Creating a Feature-Rich Page"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec03"/>Creating a Feature-Rich Page</h2></div></div></div><p>One of the cool things about creating a new page like this is that once it is done, you can reuse the code pretty much anywhere else, substituting in only those values or content that need to change. Obviously, you want the site to look fairly uniform and this supports the principle of code reuse—at least in terms of HTML.</p><p>It is quite likely that at some stage you will want to create more than just one standalone page. If this is the case, simply cut and paste whatever page you have created here and make whatever modification you need, before posting. Doing things in this way will lend all your pages a similar look and feel above and beyond the attributes already given to them by the current theme.<a class="indexterm" id="id247"/>
</p><p>The<span class="emphasis"><em> about us</em></span> page is going to have the following features:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Well-structured content</li><li class="listitem" style="list-style-type: disc">List of objectives</li><li class="listitem" style="list-style-type: disc">Inline pictures of the team</li><li class="listitem" style="list-style-type: disc">Information about the project</li><li class="listitem" style="list-style-type: disc">List of important links</li><li class="listitem" style="list-style-type: disc">Some dynamic, PHP-based content</li><li class="listitem" style="list-style-type: disc">Advertising</li></ul></div><p>In order to meet the requirements stated, we are going to need to make use of the following tags:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;table&gt;</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;ol&gt;</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;ul&gt;</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;img&gt;</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;a&gt;</code></li></ul></div><p>along with a few others, which we will use to demonstrate the various types of font styles available. In order to create a slightly more complex page like this, you should consider working with a proper code/HTML editor (something like EditPlus,<a class="ulink" href="http://www.editplus.com">http://www.editplus.com </a>, will do— alternatively, a simple search on Google will turn up many results, some of which are free) that can indent your code automatically as well as color code the various tags and content, to make life easier.</p><p>OK; we are pretty much ready to begin. I am going to list the entire page's code piece by piece instead of all at once because there are quite a few important things that are worth discussing as we go. However, nothing here is too complicated once you have the hang of HTML and PHP. Before we begin, it is better that we look at the resulting page to get a good idea of what we are working towards. The following screenshot shows the bulk of the page:</p><div class="mediaobject"><img alt="Creating a Feature-Rich Page" src="graphics/1800_07_07.jpg"/></div><p>I hope you'll agree that this page is fairly pleasing to the eye! For very little work it is quite easy to achieve a look and layout such as this. What isn't apparent from this page is that the list of names given here, along with their email links, was provided by a short PHP script that was embedded into the HTML page.</p><p>Let's get on with the code—to start with, we have the following:<a class="indexterm" id="id248"/>
</p><div class="informalexample"><pre class="programlisting">&lt;table border="0" cellpadding="5"&gt;
&lt;tr&gt;
&lt;td align="center" colspan="2"&gt;
&lt;strong&gt;The CWC&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td colspan="2"&gt;
The &lt;em&gt;Contechst Wildlife Community&lt;/em&gt; was started by a group of
individuals in &lt;cite title="South Africa"&gt;Cape Town&lt;/cite&gt;. Through
hard work, dedication and plenty of play time, they have built a truly
international community that strives to effect change with regards to
all things related to our biosphere.
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td colspan="2"&gt;
&lt;br&gt;
We have the following goals:
&lt;/td&gt;
&lt;/tr&gt;
</pre></div><p>This first section is used to declare the table, which will ultimately be responsible for laying out all the content in the places we want to put it. Notice that I have used two table attributes here. The first one,<code class="literal"> border</code>, is set to<code class="literal"> 0</code>, which means that the border is invisible.<span class="emphasis"><em> Why have I done this?</em></span> It's a good idea while you are building your table to set the border to<code class="literal"> 1</code>, so that you can see what you are doing. When you begin making complex, nested tables and so on, you will find that errors sometimes creep in. Being able to see what your table border looks like is a great help in this case. Once you are finished, simply set the border value to<code class="literal"> 0</code> to remove the frames from the page.</p><p>The next option,<code class="literal"> cellpadding</code>, gives each cell in the table a bit of space (or padding, if you prefer) so that content doesn't appear all bunched up together. You can also see that we have a series of table rows and table cells declared in the form of<code class="literal">&lt;tr&gt;</code> and<code class="literal">&lt;td&gt;</code> tags. However, the first<code class="literal">&lt;td&gt;</code> tag has two attributes, which control where the content is placed within the cell (align) and how many columns this cell spans (colspan). This was necessary because at a later stage the image to be added took up a cell on the right-hand side of the table, but the rows above and below still needed to fill the whole page (the whole page being two columns in this case, hence the setting<code class="literal"> colspan="2")</code>.<a class="indexterm" id="id249"/>
</p><p>To get a clearer picture of what I mean, take a look at the following screenshot with the<code class="literal"> border</code> attribute set to<code class="literal"> 1:</code>
</p><div class="mediaobject"><img alt="Creating a Feature-Rich Page" src="graphics/1800_07_08.jpg"/></div><p>Notice how the rows, above and below, all span both columns of the center rows. You will often need to play around a bit in order to get things right when working on more complicated tables.</p><p>If you look past this snippet of code in the previous listing you will notice the use of the<code class="literal">&lt;cite&gt;</code> tag, with a<code class="literal"> title</code> attribute defined. This is here to show you a novel use for providing references. If a user hovers their cursor over the text contained within the<code class="literal">&lt;cite&gt;</code> tag (in this instance,<code class="literal"> Cape Town)</code>, the text defined in the<code class="literal"> title</code> attribute (in this case,<code class="literal"> South Africa)</code> will be displayed on screen. In this way you can clarify or explain important terms without cluttering up your pages.</p><p>Continuing along, we get the following ordered list of goals:<a class="indexterm" id="id250"/>
</p><div class="informalexample"><pre class="programlisting">&lt;tr&gt;
&lt;td colspan="2"&gt;
&lt;ol&gt;
&lt;li&gt;
To provide an online meeting place for like-minded people
&lt;/li&gt;
&lt;li&gt;
To discuss and monitor global conservation and wildlife activities
&lt;/li&gt;
&lt;li&gt;
To influence policy and effect change in hard-hit areas
&lt;/li&gt;
&lt;li&gt;
To support front-line activists like SeaShepherd
&lt;/li&gt;
&lt;li&gt;
To raise funds for animal relief efforts and care
&lt;/li&gt;
&lt;/ol&gt;
&lt;/td&gt;
&lt;/tr&gt;
</pre></div><p>As you can see, each list item contains exactly one line of content (or one goal, in this case), and all are contained within the<code class="literal">&lt;ol&gt;</code> and<code class="literal">&lt;/ol&gt;</code> tags. This is simple enough, but is fairly effective as I am sure you will agree. The next section is where we meet some PHP code as well as insert our image of the team:</p><div class="informalexample"><pre class="programlisting">&lt;tr&gt;
&lt;td align="center" colspan="2"&gt;
&lt;strong&gt;Meet the Team&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td colspan="2"&gt;
In no specific order, the following people constitute the bulk of the
full-time staff here at CWC (You can email them by clicking on the names
shown below):
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;ul&gt;
&lt;?php
$team = array('Tolis Welch', 'David Mercer', 'Bronagh Casey', 'Nic Malan', 'Brian Reid', 'Rochelle Reid');
foreach($team as $item){
$name = explode(" ", $item);
echo '&lt;li&gt;&lt;a href="mailto:' . $name[0] . '@cwc.org"&gt;' . $item . '&lt;/a&gt;&lt;/li&gt;';
}
?&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td align="center"&gt;
&lt;img src="files/bnmv.jpg" alt="The Team" width="250"&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
</pre></div><p>In this case, we have been quite sneaky, as you will see! To summarize, in this section we:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Created an unordered list with the<code class="literal">&lt;ul&gt;</code> tag</li><li class="listitem">Opened up a PHP script by using the<code class="literal">&lt;?php</code> tag</li><li class="listitem">Created an array of team member names</li><li class="listitem">Used a<code class="literal"> foreach</code> loop, to iterate through each name in the array</li><li class="listitem">Obtained the first name of each member by using the built-in<code class="literal"> explode</code> function</li><li class="listitem">Echoed the results, replete with HTML tags to the screen</li></ol></div><p>The actual email links were created using the<code class="literal">&lt;a&gt;</code> tag and the special<code class="literal"> mailto</code> option within the<code class="literal"> href</code> attribute. The email addresses were built from the first name of the team member so the first two addresses are<code class="email">&lt;<a class="email" href="mailto:Tolis@cwc.org">Tolis@cwc.org</a>&gt;</code> and<code class="email">&lt;<a class="email" href="mailto:David@cwc.org">David@cwc.org</a>&gt;</code>. This is slightly contrived as you might not have such an ordered system to your email addresses, but it serves to demonstrate how PHP can be embedded into your pages quite nicely.<a class="indexterm" id="id251"/>
</p><p>Once the email addresses have all been listed, we create a table cell adjacent to them and use the image tag to insert the picture of the team. As you can see, there are three attributes used here to get things done. The first,<code class="literal"> src</code>, gives the path to the image file to be displayed; the second gives a description of the photo so that if someone hovers their cursor over the picture, the text<span class="strong"><strong> The Team</strong></span> will be displayed; finally, we picked a size for the width of the photo in order to fit it to the page properly. Take note:</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note28"/>Note</h3><p>Keep image files small! You can reduce their quality and size using image editing software—large images slow down your site.</p></div></div><p>The following section of HTML prints out a list of links to a few other organizations that may be of interest to users:</p><div class="informalexample"><pre class="programlisting">&lt;td colspan="2"&gt;
At CWC we strive to do the &lt;em&gt;right thing&lt;/em&gt;! Please take the time
to look over the site and register in order to start interacting with
the community - our natural world needs all the help it can get.&lt;br&gt;&lt;br&gt;
If you are interested in getting involved in any one of the number of
critically important organizations around the world, then please feel
free to browse any of the links given below.
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center" colspan="2"&gt;
&lt;strong&gt;Our Friends&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td colspan="2"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href="http://www.seashepherd.org" target="_blank"&gt;Sea Shepherd&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="http://www.worldwildlife.org" target="_blank"&gt;World Wildlife Fund&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="http://www.rspca.org.uk" target="_blank"&gt;The Royal SPCA&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;/tr&gt;
</pre></div><p>This part is fairly straightforward, with the exception of the fact that we are now using a new attribute for the<code class="literal">&lt;a&gt;</code> tag. Because we would rather have people remaining on the site without moving off to visit our friends, we have set the target attribute to<code class="literal"> _blank</code> to force the browser to open up a new window to display the target URL. Other than that, this section is pretty clear, so we move on to the last item on the page—the advertisement:<a class="indexterm" id="id252"/>
</p><div class="informalexample"><pre class="programlisting">&lt;tr&gt;
&lt;td align="center" colspan="2"&gt;
&lt;strong&gt;Our Sponsors!&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center" colspan="2"&gt;
&lt;a href="http://www.packtpub.com" target="_blank"&gt;
&lt;img src="files/PacktLogosmall.png" alt="Packt Publishers"&gt;
&lt;/a&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</pre></div><p>This makes use of both a hyperlink and an image file. In effect, we have turned the image, the<span class="emphasis"><em> Packt</em></span> logo, into a hyperlink by enclosing it within<code class="literal">&lt;a&gt;</code> and<code class="literal">&lt;/a&gt;</code> tags. This means that people can not only view the sponsor's logo, but if they wish, they can also visit the sponsor's site directly by clicking on the image. If your sponsors wished to track how many times people followed links from your site, they might require you to modify the target URL to provide them with some additional information. For example, you might end up making the hyperlink reference something like this:</p><div class="informalexample"><pre class="programlisting">&lt;a href="http://www.packtpub.com?<span class="strong"><strong>referrer</strong></span>=cwc" target="_blank"&gt;
</pre></div><p>Actually, things like tracking banner ads can get fairly complicated, but that is a whole other story; so we won't go into it here!<a class="indexterm" id="id253"/>
</p><p>With that done, you not only have a nice, shiny new<span class="emphasis"><em> about us</em></span> page, but you also have a rough template from which to make other pages with a similar look and feel. There is actually a lot more that goes into giving your pages their look and feel, but this involves the use of themes, which we have not yet discussed (these will actually be discussed in detail in the following chapter).</p><p>With the page completed, we are not quite finished yet, because it still needs to be added to the site. In order to do this, we need to look at how to actually work with the content we are adding.</p></div><div class="section" title="Posting a Feature-Rich Page"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec04"/>Posting a Feature-Rich Page</h2></div></div></div><p>We saw earlier in the<span class="emphasis"><em> Working with Content</em></span> section how to post pages, although we didn't really have any fairly complex pages to work with at that stage. This brief section will show you the process for getting your more complex pages up and on the site. The following list shows the steps required:<a class="indexterm" id="id254"/>
</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new content post, or edit one that is to be modified. In our case, we have an<span class="emphasis"><em> about us</em></span> page already, so as the administrator we can simply click on the<span class="strong"><strong> edit</strong></span> tab when viewing the<span class="strong"><strong> about us</strong></span> page.</li><li class="listitem">Enter or modify the title of the page accordingly.</li><li class="listitem">Select the correct input format. In this case we have a specially created format called<span class="strong"><strong> Inline images</strong></span>.</li><li class="listitem">Copy and paste the HTML created in your HTML or code editor into the<span class="strong"><strong> Body</strong></span> text area.</li><li class="listitem">Ensure the<span class="strong"><strong> Authoring information</strong></span> and<span class="strong"><strong> Publishing options</strong></span> are all correct.</li><li class="listitem">Upload any image files that are needed for this post and ensure that you enter the correct file path and name into your code. For example, the<span class="strong"><strong> File attachments</strong></span> section of the<span class="strong"><strong> about us</strong></span> page looks like this:<a class="indexterm" id="id255"/><div class="mediaobject"><img alt="Posting a Feature-Rich Page" src="graphics/1800_07_09.jpg"/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">In this case, I have not decolorized the bnmv.jpg image as I wanted to preserve its quality for the purposes of the book—however, you should probably aim for image sizes under 10KB.<p>Compare the file paths shown in this screenshot to the ones presented in the code (these file paths are what you would expect when the download method for files is set to Public):
</p><p>src="files/bnmv.jpg" src="files/PacktLogosmall.png"
</p><p>Notice that in the code, we need to give only the relative file path and not the fully qualified one. Because the page is being called from the drupal directory, which contains the files directory, we need to show only the file path and name from files onwards.
</p></li></ul></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note29"/>Note</h3><p>If you find that instead of getting a file path like the ones shown in this demonstration, you get something like<code class="literal"> http://localhost/drupal/system/files?file=PacktLogoSmall.png</code>, then it is because you have the<span class="strong"><strong> Download method</strong></span> set to<span class="strong"><strong> Private</strong></span> in the<span class="strong"><strong> File system settings</strong></span> section of the<span class="strong"><strong> settings</strong></span> menu item under<span class="strong"><strong> administer</strong></span>.</p><p>This means that files are uploaded somewhere outside of the document root (this is set in the same section under<span class="strong"><strong> File system path)</strong></span>, and you need to enter the fully qualified file path instead of simply the relative file path as we did here.</p></div></div></li><li class="listitem">For something like the<span class="emphasis"><em> about us</em></span> page it is probably best to disable comments as you really want this to be a standalone page and not subject to any debate from the rest of the community.<a class="indexterm" id="id256"/></li><li class="listitem">Next, ensure that the menu settings are appropriate for the page you are adding. In this case, we have the following settings in place:<a class="indexterm" id="id257"/></li></ol></div><div class="mediaobject"><img alt="Posting a Feature-Rich Page" src="graphics/1800_07_10.jpg"/></div><p>That's it! Once you are ready to view the page, click on<span class="strong"><strong> Preview</strong></span>, and if everything looks in order, submit it. You can easily edit it again if anything is wrong; so don't fret too much about getting everything just right before you look at it on the site.<a class="indexterm" id="id258"/>
</p><p>So, this section should hopefully have you feeling quite good about how easy it is to create really nice pages for your site. Obviously, if you are not familiar with either HTML or PHP, you will need to practice a bit with these, but the following links should give you a good start:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.php.net">http://www.php.net</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.phpbuilder.com">http://www.phpbuilder.com</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.htmlgoodies.com">http://www.htmlgoodies.com</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.w3schools.com">http://www.w3schools.com</a></li></ul></div><p>Now that you know how to post and work with content, it is important that you learn how to classify and organize that content so that the archive of information that piles up on your site over time doesn't simply become an unsorted heap of laundry, but instead becomes an intuitive and easy-to-use resource of information. In order to achieve this, we need to discuss…</p></div></div></div>
<div class="section" title="Categorization"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec02"/>Categorization</h1></div></div></div><p>At first glance it might seem that categorization and taxonomy are yet more terms used as indicators that your job is going to be more complex for some reason or other. After all, it's perfectly reasonable to set up a website facility to allow blog writers to blog, forum posters to post, administrators to administer, or any other type of content producer to produce content and leave it at that. With what we have covered so far this is all quite possible, so<span class="emphasis"><em> why does Drupal insist on adding the burden of learning about new concepts and terms?</em></span>
<a class="indexterm" id="id259"/>
</p><p>If you know that your site is never going to gather a substantial amount of content, then spending time working with taxonomies and so on is probably not going to bring much advantage—you can simply go ahead and enable whatever content types you require and let users add whatever they please. However, our aim is not generally to remain in obscurity when creating a website, so assuming that you want to attract a large community of users, you will find that the method of categorizing content in Drupal makes it one of the most sophisticated content management systems around—no kidding!</p><p>Take the time to master working with categories and taxonomy in Drupal, because not only will this help you to work out how to manage your content better, but it will also really set your site apart from others because of the flexible and intuitive manner in which the content is organized. You will also find that you can manage a site of pretty much any size imaginable (just in case what you are working on is what becomes<span class="emphasis"><em> the next big thing)</em></span>, because of the manner in which content is associated with terms and categories.<a class="indexterm" id="id260"/>
</p><div class="section" title="What and Why?"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec05"/>What and Why?</h2></div></div></div><p>
<span class="strong"><strong>Taxonomy</strong></span> is described as the science of classification. In terms of how it applies to Drupal, it is the<span class="emphasis"><em> method by which content is organized</em></span> using several distinct types of relationship between terms. Simple as that! This doesn't really encompass how useful it is, though, but before we move on to that, there is a bit of terminology that we should pick up first:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Descriptor:</strong></span> A term used to describe content (also known as a<span class="emphasis"><em> term)</em></span></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Vocabulary:</strong></span> A grouping of related descriptors</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Category:</strong></span> A synonym for vocabulary</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Thesaurus:</strong></span> A categorization of content, which describes<span class="emphasis"><em> is similar to</em></span> relationships</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Taxonomy:</strong></span> A categorization of content into a hierarchical structure</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Tagging:</strong></span> The process of associating a term (descriptor) with content</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Synonym:</strong></span> Can be thought of as<span class="emphasis"><em> another word for</em></span> the current descriptor</li></ul></div><p>It may help to view the following diagram in order to properly grasp how these terms inter-relate:</p><div class="mediaobject"><img alt="What and Why?" src="graphics/1800_07_11.jpg"/></div><p>This serves to illustrate the fact that there are two main types of vocabulary. Each type consists of a set of descriptors, but the relationship between them are different in that taxonomy deals with a hierarchy of information, and thesaurus deals with relationships between terms. The descriptors (shown as small boxes) and their relationships (shown as arrows) play a critical role in which type of vocabulary you use.<a class="indexterm" id="id261"/>
</p><p>We have already seen an example of a taxonomy when the forum module was discussed. In this case there was a hierarchical relationship between forum containers and the forum topics they contained. But what would we need thesauri for? Well, if you were working on creating a scientific document and you wanted to allow plenty of references between terms so that users could browse related pages, which didn't necessarily have child-parent relationships, then you would go for this type of structure.</p><p>So we know that we can classify content in Drupal, but<span class="emphasis"><em> why is this useful?</em></span> One of the things that makes the Drupal taxonomy system so powerful is that it allows content to be categorized when it is created. This removes the burden on the administrators of the site in terms of manpower, because it is no longer necessary to moderate every bit of content coming into the site in order to put it into pre-determined categories.<a class="indexterm" id="id262"/>
</p><p>It is also possible to tag a given node more than once. This means that content can belong to several vocabularies at once. This is very useful for cross-referencing purposes because it highlights relationships between descriptors or vocabularies through the actual nodes.<a class="indexterm" id="id263"/>
</p></div><div class="section" title="Implementing Taxonomies in Drupal"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec06"/>Implementing Taxonomies in Drupal</h2></div></div></div><p>The best way to talk about how to implement some form of categorization is to see it in action. As you might expect from Drupal by now, there are quite a few settings to work with and consider, in order to get things up and running. Let's assume that the CWC demo site has enlisted a large number of specialists who will maintain their own blogs on the website so that interested parties can keep tabs on what's news according to the people in the know.<a class="indexterm" id="id264"/>
</p><p>Now, it is assumed that some people will be happy with visiting their blog of choice and reading over any new postings there, but some people might want to be able to search for specific topics in order to see if there are correlations or disagreements between bloggers on certain subjects. Since there is going to be a lot of content posted once the site has been up and running for a few months, we need some way to ensure that specific topics are easy to find regardless of who has been discussing them on their blogs.</p><div class="section" title="Introduction to Vocabularies"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec01"/>Introduction to Vocabularies</h3></div></div></div><p>Let's quickly discuss how categories are dealt with in the administration tool in order to work out how to go about making sure this requirement is satisfied. If you click on the<span class="strong"><strong> categories</strong></span> link under<span class="strong"><strong> administer</strong></span>, you will be presented with a page listing the current vocabularies. Assuming you have created a forum during the last few chapters, you should have something like this:<a class="indexterm" id="id265"/>
</p><div class="mediaobject"><img alt="Introduction to Vocabularies" src="graphics/1800_07_12.jpg"/></div><p>Before we look at editing terms and vocabularies, let's take a look at how to create a vocabulary for ourselves. Click on the<span class="strong"><strong> add vocabulary</strong></span> tab to bring up the following page, which we can use to create our first vocabulary manually:<a class="indexterm" id="id266"/>
</p><div class="mediaobject"><img alt="Introduction to Vocabularies" src="graphics/1800_07_13.jpg"/></div><p>By way of example, this vocabulary will deal with the topic of hunting, and there are a couple of friendly notes to guide users when they intend to submit a blog entry. This only applies to blog entries because that is the only content (or node) type for which this vocabulary is enabled—you can select as many or as few as you like, depending on how many content types you want this vocabulary to apply to.</p><p>Looking further down the page, there are several other options, which we will discuss in more detail shortly. Clicking on<span class="strong"><strong> Submit</strong></span> adds this vocabulary to the list, so that the main page now looks like this:<a class="indexterm" id="id267"/>
</p><div class="mediaobject"><img alt="Introduction to Vocabularies" src="graphics/1800_07_14.jpg"/></div><p>So far so good, but this will not be of much use to us as it stands! We need to add some terms (descriptors) in order to allow tagging to commence.</p></div><div class="section" title="Dealing with Descriptors"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec02"/>Dealing with Descriptors</h3></div></div></div><p>Click on<span class="strong"><strong> list terms</strong></span> and then select the<span class="strong"><strong> add term</strong></span> tab to bring up the following page:</p><div class="mediaobject"><img alt="Dealing with Descriptors" src="graphics/1800_07_15.jpg"/></div><p>The term<span class="strong"><strong> Trapping</strong></span> has been added here, with a brief description of the term itself, which can be used to guide contributors. We could, if we choose, associate the term<span class="strong"><strong> Snaring</strong></span> with<span class="strong"><strong> Trapping</strong></span> by making it a synonym. In this case, the term<span class="strong"><strong> Snaring</strong></span> (or any other synonym you care to add) gets treated as the term<span class="strong"><strong> Trapping</strong></span>. Edit the term<span class="strong"><strong> Trapping</strong></span> so that the<span class="strong"><strong> Synonyms</strong></span> option looks like this:<a class="indexterm" id="id268"/>
</p><div class="mediaobject"><img alt="Dealing with Descriptors" src="graphics/1800_07_16.jpg"/></div><p>Synonyms don't actually do anything useful at the moment, unless you make use of the Glossary module—while it is not covered here, feel free to download and try it out for a bit of practice. Add a few more terms of your choice to this vocabulary so that your list looks something like this:</p><div class="mediaobject"><img alt="Dealing with Descriptors" src="graphics/1800_07_17.jpg"/></div><p>Now it's time to make use of these terms by posting some blog content.<a class="indexterm" id="id269"/>
</p></div><div class="section" title="Posting Content with Categories Enabled"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec03"/>Posting Content with Categories Enabled</h3></div></div></div><p>Using any account with the requisite permissions to add blog content, attempt to post to the site. You should now be able to view the newly inserted<span class="strong"><strong> Categories</strong></span> section as shown here:<a class="indexterm" id="id270"/>
</p><div class="mediaobject"><img alt="Posting Content with Categories Enabled" src="graphics/1800_07_18.jpg"/></div><p>Now comes the really, really clever bit! Once this blog node has been posted, users can view the blog as normal except that it now has its tagged descriptor displayed below the title as shown here:</p><div class="mediaobject"><img alt="Posting Content with Categories Enabled" src="graphics/1800_07_19.jpg"/></div><p>Notice there is a pop-up window that holds the description of the term that will be displayed if the user hovers the cursor over the descriptor's link.<span class="emphasis"><em> Talking of which, where does the descriptor link take us?</em></span> If you click on the term, in this case,<span class="strong"><strong> Canned</strong></span>, you will be taken to a page listing all of the content that has been tagged with this term. This should really have you quite excited about using Drupal, because with very little work, users can now find focused content without having to look that hard—this is what content management is all about!</p></div><div class="section" title="Hierarchies"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec04"/>Hierarchies</h3></div></div></div><p>What we have seen thus far is really only the start of things. As you can imagine, you can build an entire hierarchy of terms in a vocabulary to give you a fairly complex taxonomy. Remember that if it is a hierarchy you are building, then the broadest terms should be towards the top of the pile with the more focused terms near the bottom. At the moment, though, we don't really have a<span class="emphasis"><em> hierarchy</em></span>, but rather, more of a<span class="emphasis"><em> flat</em></span> structure.<a class="indexterm" id="id271"/>
</p><p>
<span class="emphasis"><em>What if we wanted a set of more specific descriptors, which would allow bloggers to tag their content (which focuses on specific types of Trapping, for example)?</em></span> The answer lies in editing the vocabulary to select a<span class="strong"><strong> Hierarchy</strong></span> (under<span class="strong"><strong> categories)</strong></span> option as follows:<a class="indexterm" id="id272"/>
</p><div class="mediaobject"><img alt="Hierarchies" src="graphics/1800_07_20.jpg"/></div><p>Now, if we wanted to add a term entitled<span class="strong"><strong> Snaring</strong></span> to our vocabulary, specifically, under the term<span class="strong"><strong> Trapping</strong></span>, we would simply click on the<span class="strong"><strong> add term</strong></span> tab and select the relevant parent from the new<span class="strong"><strong> Parent</strong></span> drop-down list that should now be available:</p><div class="mediaobject"><img alt="Hierarchies" src="graphics/1800_07_21.jpg"/></div><p>With this addition saved, the list of terms looks like this:</p><div class="mediaobject"><img alt="Hierarchies" src="graphics/1800_07_22.jpg"/></div><p>That was fairly easy to do, and now we are free to create as complex a structure as we require by adding terms to their correct place in the hierarchy. You might expect Drupal to show you a breadcrumb trail of the hierarchy, but alas this functionality is not yet present. It is possible to add it manually, but that requires some PHP coding and modifications to the source files, which fall outside the scope of this book. If you are feeling adventurous, take a look at<a class="ulink" href="http://www.greenash.net.au/posts/thoughts/basic_breadcrumbs_and_taxonomy"> http://www.greenash.net.au/posts/thoughts/basic_breadcrumbs_and_taxonomy</a>, which outlines a process to include the full hierarchy breadcrumb into your content pages.</p><p>But what happens if your topic is slightly more complex than a straightforward hierarchy? For example, snaring is also a commonly used method of poaching, so it should also appear under<span class="strong"><strong> Poaching</strong></span> in the hierarchy. This is easily achieved by selecting the<span class="strong"><strong> Multiple</strong></span> option under the<span class="strong"><strong> Hierarchy</strong></span> section when editing your vocabulary. Once this change is saved, you can edit the terms that you would like to fall under multiple categories, by holding down the<span class="strong"><strong> Shift</strong></span> or<span class="strong"><strong> Control</strong></span> key when making your selection in the<span class="strong"><strong> Parents</strong></span> section of the<span class="strong"><strong> edit term</strong></span> page as follows:<a class="indexterm" id="id273"/>
</p><div class="mediaobject"><img alt="Hierarchies" src="graphics/1800_07_23.jpg"/></div><p>That takes care of how the<span class="strong"><strong> Hierarchy</strong></span> options affect the structure of Drupal's content. But it's not the end of the story yet.</p></div><div class="section" title="Content Structure"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec05"/>Content Structure</h3></div></div></div><p>
<span class="emphasis"><em>What if, in the demo site's case, we have the term</em></span>
<span class="strong"><strong> Trapping</strong></span>
<span class="emphasis"><em> available to tag content (blog posts in this case) with, but someone is really talking about something other than hunting entirely and there happens to be some sort of content overlap?</em></span> An example scenario might be as follows:<a class="indexterm" id="id274"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Several specialists are contracted to maintain blogs about the African continent.</li><li class="listitem" style="list-style-type: disc">They tag their content using a new<span class="strong"><strong> Africa</strong></span> vocabulary, which contains terms like<span class="strong"><strong> nature, gazelle, predators, lakes, rivers, mountains, hunting, weather</strong></span>, and<span class="strong"><strong> tourism</strong></span>.</li><li class="listitem" style="list-style-type: disc">You wish to be able to allow material that is created from the Africa blogs to be cross-referenced by hunting-related topics in the<span class="strong"><strong> Hunting</strong></span> specialists' blogs.</li></ul></div><p>In order to achieve this it is necessary to create a new vocabulary called<span class="strong"><strong> Africa</strong></span>. Attach this vocabulary to the blog content type, and then create several descriptors, ensuring that one of them is entitled<span class="strong"><strong> Hunting</strong></span> as follows:</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_24.jpg"/></div><p>Now when users attempt to post content, they are presented with not one but two options to classify their content, and assuming you have used the<span class="strong"><strong> Weight</strong></span> option correctly, you can apply a kind of hierarchy to your tags. For example, a blog post on poaching by one of the<span class="strong"><strong> Africa</strong></span> bloggers might look like this:<a class="indexterm" id="id275"/>
</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_25.jpg"/></div><p>Once this is posted to the site, it is then possible to view both categories on the content page instead of just one. In other words, the node has been tagged with several descriptors in what is known as<span class="strong"><strong> faceted tagging</strong></span>. Basically, faceted tagging uses a<span class="emphasis"><em> bottom up</em></span> system of classification, where facets or properties of the content are described by the terms. In this way a very intuitive method of classifying content can be created without users needing to understand the top-down path of a content hierarchy in order to find the content they are after. Ironically, in this case, the specific method of tagging used here helps to elucidate the hierarchy of terms too.</p><p>Taking a look at this posting on the site confirms that users can now go directly to both the<span class="strong"><strong> Hunting</strong></span> and<span class="strong"><strong> Poaching</strong></span> category pages by clicking on the links provided in the posting.</p><p>There is something slightly more subtle in all of this though. <span class="emphasis"><em>Can you see it?</em></span> Drupal, by default, and at the time of writing, doesn't provide us with a breadcrumb trail of categories so that we can view any category further up the hierarchy simply by viewing its content type. However, structuring your hierarchy using this method does exactly this. Take a look at the poaching post on the page we have just submitted:<a class="indexterm" id="id276"/>
</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_26.jpg"/></div><p>We know already from the<span class="strong"><strong> Hunting</strong></span> vocabulary that it is the parent of<span class="strong"><strong> Poaching</strong></span>. Yet, using only the single vocabulary, there is no way that a user could tell which category the<span class="strong"><strong> Poaching</strong></span> term fell under. Doing things this way allows users to effectively navigate up a level by visiting<span class="strong"><strong> Hunting</strong></span>, or staying at the same level by visiting<span class="strong"><strong> Poaching</strong></span>. But there's a problem with this too.</p><p><span class="emphasis"><em>What happens if one of the Hunting bloggers simply wants to make an entry and tag it with the</em></span><span class="strong"><strong> Canned</strong></span> <span class="emphasis"><em>term from the</em></span> <span class="strong"><strong> Hunting</strong></span> <span class="emphasis"><em>vocabulary without having to first specify that this content also belongs to the</em></span><span class="strong"><strong> Africa</strong></span> <span class="emphasis"><em>vocabulary?</em></span> The answer lies once again in editing the vocabulary page, which contains a<span class="strong"><strong> Required</strong></span> checkbox right at the bottom. If this option is enabled, then posters must select at least one tag, but if we leave it unselected, then posters can choose whether to include a term from that vocabulary.</p><p>Talking of new options, there are three others present here that we should take a look at quickly. Related terms does nothing on a standard Drupal site at the time of writing, although you might wish to play around with the <span class="emphasis"><em>Glossary</em></span> module, which makes use of this feature. A related term can be considered to be a kind of cross-reference at the <span class="emphasis"><em>vocabulary level</em></span>—as opposed to a synonym, which works at the <span class="emphasis"><em>term level</em></span>.<span class="strong"><strong> Free tagging</strong></span> is an interesting option because it allows posters to decide on their own terms for their content. Enabling this option for the<span class="strong"><strong> Hunting</strong></span> vocabulary, for example, means posters are given the following category options when creating a blog entry:<a class="indexterm" id="id277"/>
</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_27.jpg"/></div><p>Notice that there is a red asterisk superscript above the<span class="strong"><strong> Hunting</strong></span> category. This is because despite the fact that we are using free tagging, the<span class="strong"><strong> Required</strong></span> option on the<span class="strong"><strong> edit vocabulary</strong></span> page is still enabled—so something<span class="emphasis"><em> has</em></span> to be entered here. Secondly, there is a drop-down list of all the tags available (starting with whatever letter you type). This means that giving people free reign to type in their own tags is not as random as it may at first seem, because they can still be guided as to what terms are already available using this drop-down list. In this way, Drupal can encourage a more coherent body of descriptors.</p><p>Free tagging has some pros in that it is far more flexible to allow free tagging because people can really tag their content exactly as they please—making the tagging system fit the content far more snugly. The problem is, however, that your vocabulary may well become unwieldy, because similar content could be tagged with entirely different descriptors, making it hard for users to find what they are looking for. If you are to allow this option, then you should ensure that the people who are using it are made aware of the fact that they should tag their content sensibly and in as uniform a manner as possible.<a class="indexterm" id="id278"/>
</p><p>At any rate, if we were to continue with our posting on hunting, we might end up with something like this:<a class="indexterm" id="id279"/>
</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_28.jpg"/></div><p>In this case, we have entered four descriptors for this blog entry; so when someone visits the site, they are presented with all four tags associated with this post, like so:</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_29.jpg"/></div><p>You should make note of the fact that it is not possible to create a hierarchy of terms using the free tagging system because every new tag is on the same level as all the other tags. So what you end up with is really a thesaurus instead of a taxonomy.</p><p>This can be very useful for someone who is using the content as reference material because if, for example, they clicked on the descriptor name of a post, which was only tagged with<span class="strong"><strong> clamps</strong></span>, the page that displays all the posts associated with that tag would no doubt display the post we have just added. Because of this, the person would be able to see that<span class="strong"><strong> Trapping, bear traps</strong></span>, and<span class="strong"><strong> gin-traps</strong></span> are all related topics, and would be able to research related material by hopping around from post to post.</p><p>The final option available to us on the<span class="strong"><strong> edit vocabulary</strong></span> page is<span class="strong"><strong> Multiple select</strong></span>. This relates to free tagging in that if you have free tagging enabled, it is possible to enter more than one descriptor for each post—you simply separate each descriptor with a comma. However, if you want to allow for a more thesaurus-like structure of descriptors for your content, without enabling free tagging, you would simply enable<span class="strong"><strong> Multiple select</strong></span>, and this would allow users to tag their posts with as many descriptors as are made available by the creator of the vocabulary. Effectively, this is a middle ground in terms of allowing some flexibility in the tagging while retaining control over how content is tagged.<a class="indexterm" id="id280"/>
</p><p>With<span class="strong"><strong> Multiple select</strong></span> enabled, and<span class="strong"><strong> Free tagging</strong></span> disabled, you would then select the terms you would like to tag a post with in the same way as you selected multiple parents in the hierarchy section earlier:<a class="indexterm" id="id281"/>
</p><div class="mediaobject"><img alt="Content Structure" src="graphics/1800_07_30.jpg"/></div><p>With that we come to the end of the discussion on categorization. As mentioned when we first began working on this section, it may take a little while to get the hang of things, because the way in which the categorization works in Drupal is atypical and not obviously intuitive. However, once you have mastered it you will find that your content is readily accessible and well organized with little effort.</p></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec03"/>Summary</h1></div></div></div><p>With this chapter out of the way, you will hopefully have a good understanding of the tasks that lie ahead in creating a fully functional, content-focused website. If you are not already familiar with HTML and PHP, then I recommend you spend some time learning a bit about HTML before continuing on with the next chapter. That said, you have seen how to create input formats to allow different types of HTML or PHP content into your posts, as well as looking at how to create a fairly nice HTML-based dynamic web page.</p><p>While this is certainly important in terms of creating an aesthetically pleasing site, the real nuts and bolts of your content management lesson came with the discussion on categorization. Drupal's taxonomy system sets it apart from other CMS technologies and provides the flexibility and power to implement pretty much any type of structure that we can imagine for our content. With powerful features like free tagging available at the click of a button, you are sitting at the controls of one of the best systems around.</p><p>Just because it is useful doesn't make it easy though, and you will no doubt need to spend some time putting into practice what has been discussed here. Once you are confident that you have set things up in line with the site's envisaged needs, you should also be able to make any modifications that might be required along the way with the minimum of fuss.</p><p>With much of the hard work out of the way, we can turn our attention to the most creative and, in my opinion, fun part of creating a Drupal site. The following chapter will discuss themes and how to create a unique and appealing look for the new site.</p></div></body></html>
- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Developing plugins for WordPress is the next big thing for you if you are an
    administrator looking to enhance a personal site with custom functionality for
    which no plugin exists, a developer looking to enhance the WordPress platform
    with new ideas for the community, or a website designer building a specific project
    for a client. Learning how to create WordPress plugins will allow you to unleash
    the full potential of the most popular web content management system.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是一名管理员，想要为个人网站添加不存在于任何插件中的自定义功能，或者是一名开发者，想要为WordPress平台带来新的社区想法，或者是一名为特定客户构建项目的网站设计师，那么为WordPress开发插件对你来说将是下一件大事。学习如何创建WordPress插件将使你能够充分发挥最流行的网络内容管理系统（CMS）的潜力。
- en: As an early WordPress adopter, before version 1.0 was out, I started building
    plugins to add functionality to my personal site. Once I got these new elements
    in place, I quickly realized that other users could benefit from these extensions,
    and started distributing them online. To this day, I always love hearing back
    from users of my creations and finding out how they have put them to use and what
    new functionality they think would make them even better.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 作为WordPress的早期使用者，在1.0版本发布之前，我开始构建插件来为我的个人网站添加功能。一旦我设置了这些新元素，我很快意识到其他用户也能从这些扩展中受益，并开始在线分发它们。时至今日，我依然喜欢收到用户对我的作品的反馈，了解他们如何使用它们以及他们认为哪些新功能可以使它们变得更好。
- en: While developing plugins might initially sound a little bit like black magic,
    this book shows you how easy creating plugins actually is through a series of
    step-by-step recipes. If you have previously added code to a theme's functions
    file, you may even be familiar with some of the mechanics explained in this book.
    With all of the information contained in this book, you will quickly be able to
    create your own plugins or dissect existing ones to add that extra bit of missing
    functionality that you require. Before you know, you'll be publishing your own
    creations to the official WordPress plugin repository!
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然开发插件最初可能听起来有点像黑魔法，但本书通过一系列分步指南展示了创建插件实际上是多么简单。如果你之前曾向主题的功能文件中添加过代码，那么你甚至可能对本书中解释的一些机制有所了解。本书包含了所有相关信息，你将能够快速创建自己的插件或分析现有的插件，以添加你所需要的额外功能。不久之后，你将能够将你的作品发布到官方WordPress插件仓库！
- en: Let's start learning how to cook up great WordPress plugins!
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始学习如何制作出色的WordPress插件！
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](bd54bb42-2b11-4ac9-ac09-5e6e66f285b6.xhtml), *Preparing a Local
    Development Environment*, shows plugin developers how to install and configure
    an efficient development environment.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](bd54bb42-2b11-4ac9-ac09-5e6e66f285b6.xhtml)，*准备本地开发环境*，展示了插件开发者如何安装和配置一个高效的开发环境。'
- en: '[Chapter 2](f7395811-9e4a-4913-8a02-cc68875d0071.xhtml), *Plugin Framework
    Basics*, explains the basic mechanics of registering user functions with WordPress
    to be executed at key points when web pages are displayed, forming the basis of
    plugin creation.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](f7395811-9e4a-4913-8a02-cc68875d0071.xhtml)，*插件框架基础*，解释了如何将用户函数注册到WordPress中，以便在网页显示的关键点执行，这是插件创建的基础。'
- en: '[Chapter 3](0346c3c6-27ee-45fb-bfd6-df398e04b2b4.xhtml)*, User Settings and
    Administration Pages*, covers the creation of administration pages that will allow
    users to configure the plugins you create.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](0346c3c6-27ee-45fb-bfd6-df398e04b2b4.xhtml)*，用户设置和管理页面*，涵盖了创建允许用户配置你创建的插件的行政页面。'
- en: '[Chapter 4](6298bc2b-19d5-4e3a-833c-3c4b667b22e5.xhtml)*, The Power of Custom
    Post Types,* empowers developers to add whole new content management sections
    to the WordPress environment.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](6298bc2b-19d5-4e3a-833c-3c4b667b22e5.xhtml)*，自定义文章类型的威力*，赋予开发者向WordPress环境添加全新的内容管理部分的能力。'
- en: '[Chapter 5](99d25d29-3e3b-4b33-8ac1-468e85711c47.xhtml)*, Customizing Post
    and Page Editors,* demonstrates how to alter the default administration post and
    page editing environment to add new capabilities.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](99d25d29-3e3b-4b33-8ac1-468e85711c47.xhtml)*，自定义文章和页面编辑器*，展示了如何修改默认的管理文章和页面编辑环境，以添加新的功能。'
- en: '[Chapter 6](b9f9e93e-1823-4717-91c3-26d5752d62b2.xhtml)*, Accepting User Content
    Submissions*, allows users to submit their own content to new content sections
    that will be managed by your plugins.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](b9f9e93e-1823-4717-91c3-26d5752d62b2.xhtml)*，接受用户内容提交*，允许用户向由你的插件管理的新内容部分提交自己的内容。'
- en: '[Chapter 7](3a74e0e8-c6b8-4641-a7d2-badf67c6f1f2.xhtml)*, Customizing User
    Data*, explains how to store additional information for users and how to modify
    site output based on this data.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第七章](3a74e0e8-c6b8-4641-a7d2-badf67c6f1f2.xhtml)*，自定义用户数据*，解释了如何存储用户额外信息以及如何根据这些数据修改网站输出。'
- en: Chapter 8*, Creating Custom MySQL Database Tables,* leverages the power of MySQL
    to create custom database tables in a site database to store and retrieve custom
    data.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章*创建自定义MySQL数据库表*，利用MySQL的力量在网站数据库中创建自定义数据库表以存储和检索自定义数据。
- en: '[Chapter 9](88afeabe-05f9-4352-8403-09d504fa7502.xhtml), *Leveraging JavaScript,
    jQuery, and AJAX Scripts,* makes plugin output very dynamic by using a number
    of popular script libraries.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第九章](88afeabe-05f9-4352-8403-09d504fa7502.xhtml)，*利用JavaScript、jQuery和AJAX脚本*，通过使用多个流行的脚本库，使插件输出非常动态。'
- en: '[Chapter 10](5ec41ab5-1317-45a6-9ba3-e216107a603d.xhtml)*, Adding New Widgets
    to the WordPress Library*, indicates how to add new widgets that users will be
    able to easily drag and drop to add content to their web pages.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第十章](5ec41ab5-1317-45a6-9ba3-e216107a603d.xhtml)*，向WordPress库添加新小工具*，说明了如何添加用户可以轻松拖放以向网页添加内容的新小工具。'
- en: '[Chapter 11](a5c9b9ff-f4dc-4186-ab05-02666acd0ab7.xhtml), *Enabling Plugin
    Internationalization,* prepares your plugin to be translated into any language
    to make it easier to be used by non-English speakers.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第十一章](a5c9b9ff-f4dc-4186-ab05-02666acd0ab7.xhtml)，*启用插件国际化*，使您的插件能够翻译成任何语言，以便非英语使用者更容易使用。'
- en: '[Chapter 12](c5a20058-d94b-4ece-abbf-cfc93b42d35a.xhtml), *Distributing Your
    Plugin on wordpress.org,* shows you how to prepare your plugin for sharing with
    the global WordPress community.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第十二章](c5a20058-d94b-4ece-abbf-cfc93b42d35a.xhtml)，*在wordpress.org上分发您的插件*，展示了如何为与全球WordPress社区共享您的插件做准备。'
- en: What you need for this book
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要这本书的内容
- en: '[Chapter 1](bd54bb42-2b11-4ac9-ac09-5e6e66f285b6.xhtml), *Preparing* a *Local
    Development Environment,* walks you through all of the tools that are useful to
    have when developing plugins for WordPress, including a local web server, a Subversion
    client, and a dedicated code editor. While this book will always describe all
    of the steps necessary to perform its recipes, having a good understanding of
    WordPress will allow you to fully appreciate the information contained in these
    pages.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[第一章](bd54bb42-2b11-4ac9-ac09-5e6e66f285b6.xhtml)，*准备*一个*本地开发环境*，将引导你了解在为WordPress插件开发时需要具备的所有有用工具，包括本地网络服务器、Subversion客户端和专门的代码编辑器。虽然这本书将始终描述执行其食谱所需的全部步骤，但如果你对WordPress有良好的理解，将能充分欣赏这些页面中的信息。'
- en: Who this book is for
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书面向谁
- en: This book is for WordPress users, developers, or site integrators with basic
    knowledge of WordPress and PHP and an interest in creating new plugins to address
    their personal needs, client needs, or share new ideas with the WordPress community.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为具有WordPress和PHP基础知识、对创建新插件以满足个人需求、客户需求或与WordPress社区分享新想法感兴趣的WordPress用户、开发人员或网站集成人员而编写的。
- en: Conventions
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 术语约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "create
    a text file called `uninstall.php` in the `ch8-bug-tracker` directory and open
    it in a code editor."'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称如下所示：“在`ch8-bug-tracker`目录下创建一个名为`uninstall.php`的文本文件，并在代码编辑器中打开它。”
- en: 'A block of code is set as follows:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块如下设置：
- en: '[PRE0]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块中特定部分的注意时，相关的行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "Here, we added an inner grid with two full-size columns; one for the Price
    of an item and the other will wrap up the Quantity component."'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示：“在这里，我们添加了一个包含两个全尺寸列的内嵌网格；一个用于项目的价格，另一个将包含数量组件。”'
- en: Warnings or important notes appear in a box like this.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要注意事项以如下框的形式出现。
- en: Tips and tricks appear like this.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 小技巧和窍门如下所示。
- en: Reader feedback
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book-what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。告诉我们您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出您真正能从中获得最大价值的标题。
- en: To send us general feedback, simply email `feedback@packtpub.com`, and mention
    the book's title in the subject of your message.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 为了发送给我们一般性的反馈，请简单地发送电子邮件至`feedback@packtpub.com`，并在邮件主题中提及书籍的标题。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经是Packt图书的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大价值。
- en: Downloading the example code
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files for this book from your account at [http://www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从您的账户中下载此书的示例代码文件[http://www.packtpub.com](http://www.packtpub.com)。如果您在其他地方购买了此书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。
- en: 'You can download the code files by following these steps:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过以下步骤下载代码文件：
- en: Log in or register to our website using your email address and password.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的电子邮件地址和密码登录或注册我们的网站。
- en: Hover the mouse pointer on the SUPPORT tab at the top.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标指针悬停在顶部的SUPPORT标签上。
- en: Click on Code Downloads & Errata.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代码下载与勘误。
- en: Enter the name of the book in the Search box.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索框中输入书籍的名称。
- en: Select the book for which you're looking to download the code files.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您想要下载代码文件的书籍。
- en: Choose from the drop-down menu where you purchased this book from.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉菜单中选择您购买此书籍的地方。
- en: Click on Code Download.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代码下载。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 文件下载完成后，请确保使用最新版本的以下软件解压或提取文件夹：
- en: WinRAR / 7-Zip for Windows
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WinRAR / 7-Zip for Windows
- en: Zipeg / iZip / UnRarX for Mac
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zipeg / iZip / UnRarX for Mac
- en: 7-Zip / PeaZip for Linux
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7-Zip / PeaZip for Linux
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/WordPress-Plugin-Development-Cookbook-Second-Edition](https://github.com/PacktPublishing/WordPress-Plugin-Development-Cookbook-Second-Edition).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 本书代码包也托管在GitHub上，网址为[https://github.com/PacktPublishing/WordPress-Plugin-Development-Cookbook-Second-Edition](https://github.com/PacktPublishing/WordPress-Plugin-Development-Cookbook-Second-Edition)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)找到。查看它们吧！
- en: Errata
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books-maybe a mistake in the text
    or the code-we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书籍中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击勘误提交表单链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the Errata section.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看之前提交的勘误表，请访问[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在勘误表部分。
- en: Piracy
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 海盗行为
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在互联网上对版权材料的盗版是一个横跨所有媒体的持续问题。在Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。
- en: Please contact us at `copyright@packtpub.com` with a link to the suspected pirated
    material.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过链接将涉嫌盗版材料发送至`copyright@packtpub.com`。
- en: We appreciate your help in protecting our authors and our ability to bring you
    valuable content.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。
- en: Questions
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问答
- en: If you have a problem with any aspect of this book, you can contact us at `questions@packtpub.com`,
    and we will do our best to address the problem.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对本书的任何方面有问题，您可以联系我们的`questions@packtpub.com`，我们将尽力解决问题。

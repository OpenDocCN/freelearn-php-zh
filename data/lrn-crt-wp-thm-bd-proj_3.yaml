- en: Building a WordPress Theme for Photo Gallery
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为照片图库构建 WordPress 主题
- en: 'In this chapter, we''ll build a WordPress theme for a photo gallery. We''ll
    use just the core WordPress post system, and we''ll not need any kind of third-party
    photo gallery. The following image is what it''s going to look like; it''s called
    *PhotoGenik*. This is the theme we are going to work on:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们将构建一个用于照片图库的 WordPress 主题。我们将仅使用核心 WordPress 帖子系统，我们不需要任何第三方照片图库。以下图片是它将看起来像的样子；它被称为
    *PhotoGenik*。这是我们将要工作的主题：
- en: '![](img/b3bcc05b-6c6f-4ef3-a0d4-1261eb244e19.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b3bcc05b-6c6f-4ef3-a0d4-1261eb244e19.png)'
- en: 'As shown in the preceding screenshot, you can see on the home page we have
    some images. If we hover over them we get a nice effect, and if we click on one
    it brings us to the single image page where it has a little animation that comes
    in. It also gives us the title, description, and then we have some meta info as
    shown in the following screenshot:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一张截图所示，你可以在主页上看到一些图片。如果我们悬停在它们上面，我们会得到一个很好的效果，如果我们点击其中一个，它会带我们到一个单张图片页面，那里有一个进入的小动画。它还提供了标题、描述，然后我们有一些元信息，如以下截图所示：
- en: '![](img/fd789a60-23f4-47d6-9b91-3782901e4cb2.png)'
  id: totrans-4
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fd789a60-23f4-47d6-9b91-3782901e4cb2.png)'
- en: On the left-hand side at the top in the preceding screenshot, we have the core
    categories module. When we click on that, and you can see it only shows the pictures
    from that category, and they have a nice fade-in effect. We also have the Search
    bar on the right-hand side at the top. In the search box we can just type in,
    let's say one of the titles of the images, and search; that particular image will
    come up.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一张截图的左侧顶部，我们看到了核心分类模块。当我们点击它时，你可以看到它只显示该类别的图片，并且它们有一个漂亮的淡入效果。在顶部右侧，我们还有一个搜索栏。在搜索框中，我们只需输入，比如说图片的一个标题，然后搜索；那个特定的图片就会出现。
- en: For this project, we are going to be using the W3.CSS framework ([https://www.w3schools.com/w3css/default.asp](https://www.w3schools.com/w3css/default.asp)),
    which is pretty similar to Bootstrap. It's really easy to work with, and it provides
    a lot of nice-looking elements that you can see on the W3.CSS page. The animations
    that we have is actually coming from this framework, and there are some JavaScript
    widgets that we'll get into.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个项目，我们将使用 W3.CSS 框架([https://www.w3schools.com/w3css/default.asp](https://www.w3schools.com/w3css/default.asp))，它与
    Bootstrap 非常相似。它非常容易使用，并且提供了许多漂亮的元素，你可以在 W3.CSS 页面上看到。我们有的动画实际上来自这个框架，还有一些我们将要涉及的
    JavaScript 小部件。
- en: 'In the backend (refer to the following screenshot), if we look at our Posts,
    you can see we have each photo has its own post:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在后台（参考以下截图），如果我们查看我们的帖子，你可以看到每张照片都有自己的帖子：
- en: '![](img/7c512409-9d41-4f6d-9ed3-f0f3c59fa2ec.png)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/7c512409-9d41-4f6d-9ed3-f0f3c59fa2ec.png)'
- en: 'If we click on the post, we''ll find what we''re using is the featured image:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们点击帖子，我们会发现我们使用的是特色图片：
- en: '![](img/bafa2fd4-e1b5-4663-aa50-d0dfb39ba5ae.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bafa2fd4-e1b5-4663-aa50-d0dfb39ba5ae.png)'
- en: 'So all we have to do is upload a feature image, give it a title, description,
    and choose the Gallery format, and it''ll show up:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们只需要上传一个特色图片，给它一个标题、描述，并选择图库格式，它就会出现：
- en: '![](img/29986edd-17f6-447c-ab3e-48aed90e5c4f.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/29986edd-17f6-447c-ab3e-48aed90e5c4f.png)'
- en: In our case, we'll have a custom gallery post format, and you can also use the
    standard format for just regular posts as well.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的情况下，我们将有一个自定义的图库帖子格式，你也可以使用标准格式来发布常规帖子。
- en: That's what we'll be doing. Let's go ahead and get started.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 那就是我们将会做的事情。让我们开始吧。
- en: Creating the layout of the home page in HTML and CSS
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 HTML 和 CSS 创建主页布局
- en: 'Now before we get into building a photo gallery theme for WordPress, we''ll
    create the layout in HTML. As explained in the introduction, we''ll use the W3.CSS
    framework to create this layout. For this, first we''ll create a new folder and
    call it `photogenik_html`:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始构建 WordPress 的照片图库主题之前，我们将使用 HTML 创建布局。正如介绍中解释的，我们将使用 W3.CSS 框架来创建这个布局。为此，首先我们将创建一个新的文件夹，并将其命名为
    `photogenik_html`：
- en: '![](img/fc70e369-a743-4c47-9bbf-d56ddd6e41bc.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fc70e369-a743-4c47-9bbf-d56ddd6e41bc.png)'
- en: 'Next, inside the folder, we''ll create a couple of files and folders. We''ll
    create the `index.html`, `style.css`, and `single.html` files and also have a
    folder called `images`:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在文件夹内，我们将创建一些文件和文件夹。我们将创建 `index.html`、`style.css` 和 `single.html` 文件，还有一个名为
    `images` 的文件夹：
- en: '![](img/0d87501e-9645-46bb-b08a-8316f1a5b025.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0d87501e-9645-46bb-b08a-8316f1a5b025.png)'
- en: The `single.html` file is going to represent the single image. Once we click
    on one of the images in the gallery, it'll take us into this folder.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '`single.html` 文件将代表单个图片。一旦我们在图库中点击一张图片，它就会带我们进入这个文件夹。'
- en: Creating the HTML layout
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建 HTML 布局
- en: 'Now, let''s open up the `index.html` file with Sublime Text, or of course,
    whichever editor you''d like, and we''ll get a base HTML structure in the editor:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们用 Sublime Text 打开 `index.html` 文件，或者当然，使用你喜欢的任何编辑器，我们将在编辑器中获得一个基本的 HTML
    结构：
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Now, in this HTML layout first, we''ll add `PhotoGenik` in the title:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在这个 HTML 布局中首先，我们在标题中添加 `PhotoGenik`：
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Since we''re using the W3.CSS framework, we have to include the stylesheet.
    So we''re just going to use the CDN here. For this, we''ll add the following style
    sheet link next to the title in the HTML layout:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们使用的是 W3.CSS 框架，我们必须包含样式表。所以我们在这里将使用 CDN。为此，我们将在 HTML 布局中标题旁边添加以下样式表链接：
- en: '[PRE2]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We also want to include our own CSS file as shown here:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还希望包含我们自己的 CSS 文件，如下所示：
- en: '[PRE3]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: So that's `style.css`. Now that's all we need in the head.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 所以这就是 `style.css`。现在，这就是我们在 head 中需要的所有内容。
- en: Creating the header
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建标题
- en: 'The next thing we want to do is to create the header. To create this, follow
    these steps:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步，我们要做的是创建标题。为了创建这个标题，请按照以下步骤操作：
- en: 'First, we''ll use the HTML5 `<header>` tag as shown here:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将使用 HTML5 `<header>` 标签，如下所示：
- en: '[PRE4]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Some of this HTML layout might change once we are actually building the WordPress
    theme, just to adapt to the WordPress conventions.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们实际构建 WordPress 主题时，一些 HTML 布局可能会发生变化，以适应 WordPress 的约定。
- en: 'Next, we''ll give this header a class. If we take a look at the documentation
    page ([https://www.w3schools.com/w3css/default.asp](https://www.w3schools.com/w3css/default.asp))
    for the framework and go to W3.CSS Containers, it should have headers class as
    shown here:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将给这个标题添加一个类。如果我们查看框架的文档页面（[https://www.w3schools.com/w3css/default.asp](https://www.w3schools.com/w3css/default.asp)）并进入
    W3.CSS 容器部分，它应该有标题类，如下所示：
- en: '![](img/bc40e50e-3174-48fc-a534-bc247fedecb3.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bc40e50e-3174-48fc-a534-bc247fedecb3.png)'
- en: 'Now to make the header a class, copy the header class syntax from the containers
    documentation page ([https://www.w3schools.com/w3css/w3css_containers.asp](https://www.w3schools.com/w3css/w3css_containers.asp))
    and paste it in our HTML header as shown here:'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在为了使标题成为一个类，从容器文档页面（[https://www.w3schools.com/w3css/w3css_containers.asp](https://www.w3schools.com/w3css/w3css_containers.asp)）复制标题类语法，并将其粘贴到我们的
    HTML 标题中，如下所示：
- en: '[PRE5]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Let''s make sure that everything is actually working so far. For this, we''ll
    open the `index.html` file with Chrome, and as shown in the following screenshot,
    we''ll find our `Heading`:'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们确保到目前为止一切都在正常工作。为此，我们将使用 Chrome 打开 `index.html` 文件，如下面的截图所示，我们会找到我们的 `标题`：
- en: '![](img/738fe134-c6c8-4b7c-86f7-3b691a233c22.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](img/738fe134-c6c8-4b7c-86f7-3b691a233c22.png)'
- en: So we have our heading. In the next subsection, we will use the grid system.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 所以我们有了我们的标题。在下一个子节中，我们将使用网格系统。
- en: Adding the title and search box
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加标题和搜索框
- en: If you've used Bootstrap, Foundation, or any one of those CSS HTML frameworks,
    then you know what the grid system is. Basically, the **grid system** gives us
    12 columns across, and we can set certain divs or certain elements to span across
    a certain amount of columns.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用过 Bootstrap、Foundation 或其他任何 CSS HTML 框架，那么你就知道网格系统是什么。基本上，**网格系统**给我们提供了
    12 列，我们可以设置某些 div 或某些元素跨越一定数量的列。
- en: 'If we go to our documentation page and then go to W3.CSS Grid ([https://www.w3schools.com/w3css/w3css_grid.asp](https://www.w3schools.com/w3css/w3css_grid.asp)),
    you''ll see the syntax we''d need as shown in the following screenshot:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们访问我们的文档页面，然后进入 W3.CSS 网格布局页面（[https://www.w3schools.com/w3css/w3css_grid.asp](https://www.w3schools.com/w3css/w3css_grid.asp)），你会看到我们需要的语法，如下面的截图所示：
- en: '![](img/221e0de3-ffc4-43fe-8f89-025fd3d17ab2.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](img/221e0de3-ffc4-43fe-8f89-025fd3d17ab2.png)'
- en: 'Copy the example row shown in the preceding screenshot, and paste this right
    in the header as shown here:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 复制前面截图中的示例行，并将其粘贴到标题中，如下所示：
- en: '[PRE6]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Firstly, for the first `w3-col` class, we''ll change `l3` to `l9` (this is
    for **large 9**). We use `l9` for large screens and `m4` for medium screens. However,
    here we''ll just keep the same for both—9 columns. The second `w3-col` class will
    have `m3` and `l3` as shown in the following code:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，对于第一个 `w3-col` 类，我们将 `l3` 改为 `l9`（这是指**大 9**）。我们使用 `l9` 用于大屏幕，`m4` 用于中屏幕。然而，在这里我们将两者都保持相同——9
    列。第二个 `w3-col` 类将具有 `m3` 和 `l3`，如下面的代码所示：
- en: '[PRE7]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Next, we can get rid of the paragraphs inside of the `w3-col` classes as shown
    here:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们可以移除 `w3-col` 类内部的段落，如下所示：
- en: '[PRE8]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Inside the first `w3-col` class, we are going to add the heading, so this will
    be `<h1>` and say `PhotoGenik`, and put a `<span>` tag around the word `Photo`
    because we''ll make that a different color:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一个 `w3-col` 类内部，我们将添加标题，这将是一个 `<h1>` 并说 `PhotoGenik`，我们将用 `<span>` 标签包裹 `Photo`
    这个词，因为我们将会使它有不同的颜色：
- en: '[PRE9]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Then inside of the second `w3-col` class, we''ll have our input, and that''s
    going to have its own class of `w3-input`. We''ll give it a `type` of `text` and
    then give it a placeholder—`Search...`:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 然后在第二个 `w3-col` 类内部，我们将有我们的输入，并且它将有自己的 `w3-input` 类。我们将给它一个 `type` 为 `text`，然后给它一个占位符——`Search...`：
- en: '[PRE10]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Let''s take a look at that by reloading the page:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过重新加载页面来查看这个效果：
- en: '![](img/8c9b4421-6362-4ac7-bec1-c7e32a18b6cd.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8c9b4421-6362-4ac7-bec1-c7e32a18b6cd.png)'
- en: Shifting the search box
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 移动搜索框
- en: 'Now, I want to bring the search box down. For this, we''ll go to our `style.css`
    file. In the `style.css` file, we''ll add `header input` with `margin-top` of
    value `15px`:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我想将搜索框向下移动。为此，我们将进入我们的 `style.css` 文件。在 `style.css` 文件中，我们将添加 `header input`
    并将其 `margin-top` 设置为 `15px`：
- en: '[PRE11]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Now, reload our WordPress page and you can see our header as shown here:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，重新加载我们的 WordPress 页面，你可以看到我们的标题，如这里所示：
- en: '![](img/40bfd0e7-ed6a-4f98-8fec-f4c81e591f7f.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/40bfd0e7-ed6a-4f98-8fec-f4c81e591f7f.png)'
- en: Adding the sidebar and main area
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加侧边栏和主要区域
- en: Next we want the sidebar and main area, so we'll use the grid for that as well.
    First, we'll look into the sidebar and then get into the main area.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们想要侧边栏和主要区域，因此我们也会使用网格来实现这一点。首先，我们将查看侧边栏，然后进入主要区域。
- en: Adding the sidebar
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加侧边栏
- en: 'In the `index.html` file, copy the `w3-col` classes and put that down under
    the header as shown here:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `index.html` 文件中，复制 `w3-col` 类，并将其放在标题下方，如这里所示：
- en: '[PRE12]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Because we want the sidebar on the left, we''ll switch the columns, and then
    we can just get rid of the content inside as shown here:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我们想要侧边栏在左侧，我们将交换列，然后我们可以像这里所示的那样移除内部的内容：
- en: '[PRE13]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'For the three columns (the first `w3-col` class in the preceding code), we''ll
    add a list of categories. So let''s add `<ul>` and give it a class of `w3-ul`:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 对于三个列（前述代码中的第一个 `w3-col` 类），我们将添加一个分类列表。所以让我们添加 `<ul>` 并给它一个 `w3-ul` 类：
- en: '[PRE14]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Then inside `<ul>`, we''ll have the `<li>` tags with links. The first one will
    say `Nature` and these are just going to be categories. Similarly, we''ll add
    `Animals`, `Objects`, `People`, and `Abstract` as shown here:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 然后在 `<ul>` 标签内部，我们将有带有链接的 `<li>` 标签。第一个将显示为 `Nature`，这些只是分类。同样，我们还会添加 `Animals`、`Objects`、`People`
    和 `Abstract`，如这里所示：
- en: '[PRE15]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Let''s save this, take a look at the page, and we can see our categories:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存这个文件，查看页面，我们可以看到我们的分类：
- en: '![](img/3a1e6190-6f44-4bd3-a48e-27c23763a688.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/3a1e6190-6f44-4bd3-a48e-27c23763a688.png)'
- en: Changing the color of the background and text of the sidebar
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改侧边栏的背景和文本颜色
- en: 'Now we want the background to be black and the text to be white, so let''s
    go to our stylesheet and just add some core styles there. The first thing we''ll
    add is `body`, and we''ll give it a background of black and a color of white:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们想要背景为黑色，文本为白色，所以让我们进入我们的样式表并添加一些核心样式。首先，我们将添加 `body`，并给它一个黑色背景和一个白色文本：
- en: '[PRE16]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Then for the links I want to take the underline away, so we''ll add `text-decoration:
    none`. For the list items (`li`), we don''t want to have any bullets so we''ll
    add `list-style: none`. For the input, we want the text to be in a dark color,
    so let''s add `color: #333` as shown here:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '然后，对于链接，我想去掉下划线，所以我们将添加 `text-decoration: none`。对于列表项（`li`），我们不想有任何项目符号，所以我们将添加
    `list-style: none`。对于输入，我们希望文本为深色，所以让我们添加 `color: #333`，如这里所示：'
- en: '[PRE17]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Let''s save this, and we can see the changes as follows:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存这个，然后我们可以看到以下变化：
- en: '![](img/4a0485fd-750a-43e1-9181-45466c31d6f9.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4a0485fd-750a-43e1-9181-45466c31d6f9.png)'
- en: Adding the main area
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加主要区域
- en: 'For the main area, we''ll put another grid inside of the present grid. We''ll
    add three images in a row. In the `index.html` file, we''ll copy the `w3-row`
    class with the columns and paste this inside of the second `w3-col` class in the
    header:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 对于主要区域，我们将在现有的网格内部添加另一个网格。我们将在一行中添加三张图片。在 `index.html` 文件中，我们将复制带有列的 `w3-row`
    类，并将其粘贴在标题中的第二个 `w3-col` 类内部：
- en: '[PRE18]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Next, we''ll get rid of the `<h1>` and `<input>` content. Then we''ll change
    both of the columns to `m4` and `l4` as shown here:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将移除 `<h1>` 和 `<input>` 内容。然后我们将两个列都改为 `m4` 和 `l4`，如这里所示：
- en: '[PRE19]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'We''ll need one more column, so I''m going to copy one of the `w3-col` classes
    and paste that in as shown here:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要一个额外的列，所以我将复制一个 `w3-col` 类并将其粘贴在这里，如这里所示：
- en: '[PRE20]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Adding images to the column
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加到列中的图片
- en: 'Now, we have three columns, so we need an image inside there and then also
    text underneath the images. Now as far as the images go, you should have those
    in your project files. So, I have added some black and white images and they''re
    named `1.jpg` through `6.jpg` as shown here:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们有三个列，因此我们需要在内部添加一个图像，并在图像下方添加文本。至于图像，你应该在项目文件中有这些图像。所以，我添加了一些黑白图像，它们命名为`1.jpg`到`6.jpg`，如下所示：
- en: '![](img/c96bf3aa-6520-41a8-92b8-65c35a7f9b9c.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c96bf3aa-6520-41a8-92b8-65c35a7f9b9c.png)'
- en: 'Let''s go back to our code editor and add the `<image>` tag. We''ll point to
    each one, so add `src` and then that''s going to go to `images/1.jpg`. We''ll
    also have a paragraph underneath with some sample text as shown here:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到我们的代码编辑器，并添加`<image>`标签。我们将指向每一个，所以添加`src`，然后它将指向`images/1.jpg`。我们还将添加一个段落，其中包含一些示例文本，如下所示：
- en: '[PRE21]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'We''ll need to do this for all of our columns as shown here:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要为所有列都做同样的事情，如下所示：
- en: '[PRE22]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'We''ll save it, reload our page, and can see the images as follows:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将保存它，重新加载我们的页面，并可以看到如下所示的图像：
- en: '![](img/c1a83ee7-3aee-4630-b042-eaed9f55ccc9.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c1a83ee7-3aee-4630-b042-eaed9f55ccc9.png)'
- en: 'Now we need to set the width of these images to a 100% of their container because
    as shown in the preceding screenshot, they''re busting out of their container.
    So in the `style.css` sheet, we''ll add the image and set `width` to `100%`:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要将这些图像的宽度设置为容器宽度的100%，因为如前一个屏幕截图所示，它们正从容器中溢出。所以，在`style.css`样式表中，我们将添加图像并将`width`设置为`100%`：
- en: '[PRE23]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'If we go and reload our page, we''ll see the following:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们去重新加载我们的页面，我们将看到以下内容：
- en: '![](img/790560b5-491d-4a18-a074-739f9d023b68.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/790560b5-491d-4a18-a074-739f9d023b68.png)'
- en: 'These are all fit nice and neat. In order for us to get more images, we have
    to put in some more rows. In the `index.html` file, copy the three divs we have
    defined and just put that right underneath the previously added `<img>` tags.
    We''ll then change the image source filenames to `4.jpg`, `5.jpg`, and `6.jpg`.
    We also want to center the text underneath the images as well. So in each `<div>`
    tag, we''ll also going to add a class of `pic`, so that each picture div has its
    own class as shown here:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都整齐地排列在一起。为了让我们获得更多图像，我们必须添加更多行。在`index.html`文件中，复制我们定义的三个`div`，并将其直接放在之前添加的`<img>`标签下方。然后我们将更改图像源文件名为`4.jpg`、`5.jpg`和`6.jpg`。我们还想将图像下方的文本居中。所以，在每个`<div>`标签中，我们也将添加一个`pic`类，这样每个图片`div`都有自己的类，如下所示：
- en: '[PRE24]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Now, in the `style.css`, we''ll add `.pic` and `text-align: center`, as shown
    in this code, so that the text below the images look aligned:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '现在，在`style.css`中，我们将添加`.pic`和`text-align: center`，如下面的代码所示，这样图像下方的文本看起来就对齐了：'
- en: '[PRE25]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'If we now go and reload our page, we can see in the following screenshot that
    we have six images and our text is aligned:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们现在去重新加载我们的页面，我们可以在以下屏幕截图中看到我们有了六张图像，我们的文本是对齐的：
- en: '![](img/4be41467-281b-41f3-8ff2-28c10806be0c.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4be41467-281b-41f3-8ff2-28c10806be0c.png)'
- en: Adding a footer in the main area
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在主区域添加页脚
- en: 'Now down at the bottom of the page, we want a simple footer. To add this, in
    the `index.html` file, we''ll go after the last div, add `<footer>`, and then
    add a paragraph. We''ll add `PhotoGenik` and a copyright symbol 2017 as shown
    here:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在在页面的底部，我们想要一个简单的页脚。为了添加这个页脚，在`index.html`文件中，我们将紧接在最后一个`div`之后添加`<footer>`，然后添加一个段落。我们将添加`PhotoGenik`和版权符号2017，如下所示：
- en: '[PRE26]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Let''s save this. In the stylesheet, add `footer` with the `text-align`, `margin-top`,
    and `border-top` properties set to appropriate values, as shown in the following
    code:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存这个文件。在样式表中，添加`footer`，并将`text-align`、`margin-top`和`border-top`属性设置为适当的值，如下面的代码所示：
- en: '[PRE27]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Save and reload the page, and now we have our footer as shown in the following
    screenshot:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 保存并重新加载页面，现在我们有了如下所示的页脚：
- en: '![](img/907304b6-ad6b-4457-bc2f-2420be43808d.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/907304b6-ad6b-4457-bc2f-2420be43808d.png)'
- en: In the next section, we'll implement animation and also create our `single.html`
    page.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将实现动画并创建我们的`single.html`页面。
- en: Implementing the animation and single.html page
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现动画和single.html页面
- en: In this section, we want to implement the animation, which is going to be very
    simple. We're using the W3.CSS framework that has built-in animation.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们想要实现动画，这将非常简单。我们使用的是具有内置动画的W3.CSS框架。
- en: 'Let''s take a look at the W3.CSS animation page ([https://www.w3schools.com/w3css/w3css_animate.asp](https://www.w3schools.com/w3css/w3css_animate.asp))
    as shown in the following screenshot. We can see the different types of animations:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一下W3.CSS动画页面（[https://www.w3schools.com/w3css/w3css_animate.asp](https://www.w3schools.com/w3css/w3css_animate.asp)），如下面的屏幕截图所示。我们可以看到不同类型的动画：
- en: Top
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶部
- en: Bottom
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 底部
- en: Left
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 左侧
- en: Right
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Right
- en: Fade In
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渐显
- en: Zoom
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zoom
- en: Spin
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Spin
- en: '![](img/c4c57a5e-fa48-428c-9b84-fb35c12ca65d.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c4c57a5e-fa48-428c-9b84-fb35c12ca65d.png)'
- en: Implementing the Fade In animation
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现渐显动画
- en: 'Now using the different type of animations, we want to change the theme of
    our WordPress home page. First, we want to fade in the photos on the home page.
    For this, we will need the fade in class shown in the following screenshot:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们要使用不同类型的动画，来改变我们WordPress主页的主题。首先，我们希望主页上的照片能够渐显。为此，我们需要使用以下截图所示的渐显类：
- en: '![](img/9636e04d-236e-495a-88d4-c2aec17817be.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9636e04d-236e-495a-88d4-c2aec17817be.png)'
- en: 'Let''s copy `class="w3-animate-opacity"` and go to the `index.html` page, and
    on each `<image>` tag paste this in as shown here:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们复制`class="w3-animate-opacity"`，并转到`index.html`页面，然后在每个`<image>`标签上粘贴此内容，如下所示：
- en: '[PRE28]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Let's refresh the home page, and you will see that the images just fade in.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们刷新主页，你会看到图片正在渐显。
- en: Creating animation on the single page
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在单页上创建动画
- en: Now, we will use an animation on the `single.html` page. Open the `single.html`
    file with the Sublime Text editor.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将在`single.html`页面上使用动画。使用Sublime Text编辑器打开`single.html`文件。
- en: 'Next, we will link each of the images on the home page to the `single.html`
    page. We''ll just link the first one here. In the `index.html` page, put the `<a>`
    tag that will go to `single.html` as shown in the following code:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将主页上的每张图片链接到`single.html`页面。这里我们只链接第一张。在`index.html`页面中，放置一个指向`single.html`的`<a>`标签，如下所示代码：
- en: '[PRE29]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: You could put this tag for the rest of the images if you want, but it doesn't
    really matter. This is just the HTML; this isn't the actual theme.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想为其余的图片放置这个标签，那也行，但这并不重要。这只是HTML；这不是实际的主题。
- en: Refresh the home page and click on the first image. This will take us to the
    `single.html` page. We will now copy the code that's in `index.html` and put it
    in the `single.html` page.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 刷新主页并点击第一张图片。这将带我们到`single.html`页面。现在，我们将复制`index.html`中的代码，并将其放入`single.html`页面。
- en: 'Next, we will empty up the 9-column div, everything else is going to stay the
    same. After removing the 9-column div, our code will look like this in the `single.html`
    page:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将清空9列`div`，其他一切保持不变。在移除9列`div`后，我们的代码在`single.html`页面中将看起来如下：
- en: '[PRE30]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Adding a single image for animation
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为单个图片添加动画
- en: 'Now, in the 9-column div in the `single.html` page, we will put our single
    image. For this, first we will put an `<article>` tag and give it a class of `post`.
    Then add a paragraph with the class of `meta`, as shown here:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在`single.html`页面的9列`div`中，我们将放置我们的单张图片。为此，首先我们将放置一个`<article>`标签，并给它一个`post`类。然后添加一个带有`meta`类的段落，如下所示：
- en: '[PRE31]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Next, add `Posted at 2:00pm on 03-29-2017 by Brad` in the `meta` class:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在`meta`类中添加`Posted at 2:00pm on 03-29-2017 by Brad`：
- en: '[PRE32]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'After this, put `<hr />` and then the actual image by adding `src="img/1.jpg"`.
    As we want this image to animate, we will give it a class of `w3-animate-right`,
    as shown here:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，放置`<hr />`，然后添加实际的图片，添加`src="img/1.jpg"`。因为我们希望这张图片有动画效果，所以我们将给它一个`w3-animate-right`类，如下所示：
- en: '[PRE33]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Then under this image, we will add another row, `w3-row`, and a column, `w3-col`,
    with `l2`; this column is where we will put the `Back` button. Then we''ll add
    a column with `l10` as shown here:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在这张图片下面，我们将添加另一行，`w3-row`，和一个`w3-col`列，宽度为`l2`；这个列是我们放置`Back`按钮的地方。然后我们添加一个宽度为`l10`的列，如下所示：
- en: '[PRE34]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Now in column `l2`, let''s put a line break `<br />` and then add a link that
    will go back to the `index.html` page. We will give the link the `w3-btn` and
    `w3-red` classes to format it as a button as shown here:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在`l2`列中，让我们放置一个换行符`<br />`，然后添加一个链接，该链接将返回到`index.html`页面。我们将给这个链接添加`w3-btn`和`w3-red`类，以将其格式化为按钮，如下所示：
- en: '[PRE35]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Then in column `l10`, we''ll add `Photo Title` and also the description. In
    the description, just paste a sample text in as shown here:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在`l10`列中，我们将添加`Photo Title`和描述。在描述中，只需粘贴如下所示的示例文本：
- en: '[PRE36]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Let''s save this code and go back to `single.html` in the browser. We can see
    the image comes in from the right-hand side:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存这段代码，并回到浏览器中的`single.html`。我们可以看到图片是从右侧进入的：
- en: '![](img/77f5eedf-25dd-46b1-bffb-24c3b6739cdf.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/77f5eedf-25dd-46b1-bffb-24c3b6739cdf.png)'
- en: 'Now, as shown in the preceding screenshot, we can find that the columns are
    too close. You can see they''re up against each other. So, we will add some padding
    to the `post` class that we specified for the `<article>` element. For this, add
    `padding:20px` in the `style.css` file:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如前一个截图所示，我们可以发现列太靠近了。你可以看到它们挨在一起。因此，我们将为我们在`<article>`元素中指定的`post`类添加一些填充。为此，在`style.css`文件中添加`padding:20px`：
- en: '[PRE37]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Also, we will add the class of `pic` to that main image as shown here:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们还将添加`pic`类到主图像，如图所示：
- en: '[PRE38]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Now you can see that the photo actually fits in there, and we''re not right
    up against the side column:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以看到照片实际上适合那里，我们并没有紧挨着侧边栏：
- en: '![](img/5dd444ff-429b-4ff3-b2c8-4b99160d34f0.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5dd444ff-429b-4ff3-b2c8-4b99160d34f0.png)'
- en: So we have the title, description, and the Back button on the main image. In
    the next section, we're ready to start creating our WordPress theme.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们在主图像上有了标题、描述和返回按钮。在下一节中，我们准备开始创建我们的WordPress主题。
- en: Adding the theme header and footer
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加主题头部和尾部
- en: 'In the previous section, we went ahead and finished up the HTML template. We''re
    now ready to convert that template into a WordPress theme. Here we have a fresh
    installation of WordPress:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们继续完成了HTML模板。现在我们准备将这个模板转换为WordPress主题。这里有一个全新的WordPress安装：
- en: '![](img/22bd8f10-3c63-4a1d-9cd3-627453bfe88d.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/22bd8f10-3c63-4a1d-9cd3-627453bfe88d.png)'
- en: 'We''ll use this as our starting point. In the editor, open the `wpthemes` folder
    as shown in the following screenshot:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将以此作为起点。在编辑器中，打开如图所示的`wpthemes`文件夹：
- en: '![](img/9e3bf629-31f7-4713-9c1f-734cc73a4b36.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9e3bf629-31f7-4713-9c1f-734cc73a4b36.png)'
- en: Creating a theme inside the wpthemes folder
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在`wpthemes`文件夹内创建主题
- en: 'We''ll start with creating a theme inside the `themes` folder, which is inside
    the `wp-content` folder, called `photogenik`:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从在`wp-content`文件夹内的`themes`文件夹中创建一个名为`photogenik`的主题开始：
- en: '![](img/dbd89cee-1ccc-40ff-9a39-61934d4408a5.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/dbd89cee-1ccc-40ff-9a39-61934d4408a5.png)'
- en: Adding a theme
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加主题
- en: 'The first thing we will create in the `photogenik` folder is a `style.css`
    file. This is where we will put all of our theme data. In the `style.css` file,
    we will put a comment and format it like this:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在`photogenik`文件夹中，我们将首先创建一个`style.css`文件。这就是我们将放置所有主题数据的地方。在`style.css`文件中，我们将放置一个注释并按如下格式进行格式化：
- en: '![](img/df65882a-a3f2-47c1-b3bd-bf3a4be31f3f.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![](img/df65882a-a3f2-47c1-b3bd-bf3a4be31f3f.png)'
- en: 'Add a few details in this comment. These are:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个注释中添加一些详细信息。这些是：
- en: '`Theme Name`: This will be `PhotoGenik`'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`主题名称`：这将设置为`PhotoGenik`'
- en: '`Author`: You can put your own name here'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`作者`：你可以在这里填写你的名字'
- en: '`Author URI`: You can put whatever you want here. Here we will put `http://eduonix.com`'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`作者URI`：你可以在这里填写任何你想要的内容。这里我们将填写`http://eduonix.com`'
- en: '`Description`: For the description we''ll add `Photo gallery theme`'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`描述`：对于描述，我们将添加`照片画廊主题`'
- en: '`Version`: This will be `1.0.0`'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`版本`：这将设置为`1.0.0`'
- en: '[PRE39]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'After this create an `index.php` file. Save this and we will now be able to
    see it inside our admin area. Let''s now reload and go to Appearance | Themes
    as shown in the following screenshot. You can see we have the theme PhotoGenik:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 此后创建一个`index.php`文件。保存此文件，我们就可以在管理区域中看到它了。现在让我们重新加载并转到外观 | 主题，如图所示。你可以看到我们有了主题PhotoGenik：
- en: '![](img/27ff635f-e9f2-49fd-9c64-1a28313968b0.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![](img/27ff635f-e9f2-49fd-9c64-1a28313968b0.png)'
- en: Next, we will upload a screenshot for the theme. For this, go to the `xampp`
    folder or wherever your WordPress installation is.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将上传主题的截图。为此，前往`xampp`文件夹或你的WordPress安装所在之处。
- en: 'Here, we''ll go to `wpthemes\wp-content\themes\photogenik` and paste it. When
    you want to use a screenshot, it should be named as `screenshot.png`. Reload the
    Themes page, and you will see a little screenshot as shown here:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将进入`wpthemes\wp-content\themes\photogenik`并粘贴。当你想要使用截图时，它应该命名为`screenshot.png`。重新加载主题页面，你将看到如图所示的小截图：
- en: '![](img/68fa7e93-3697-4a50-95d5-c46f1e178ee9.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![](img/68fa7e93-3697-4a50-95d5-c46f1e178ee9.png)'
- en: Activating the theme
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 激活主题
- en: Now, let's activate this theme by pressing the Activate button on the theme.
    If we go to the frontend page and reload it, we're obviously not going to get
    anything there.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们通过点击主题中的激活按钮来激活这个主题。如果我们去前端页面并重新加载，显然我们不会在那里得到任何东西。
- en: 'The first thing to do in this case is to put in the style, the CSS. We will
    open the stylesheet (`style.css`) from our HTML template, copy its code, and then
    put it right under the comment we have added earlier:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，首先要做的是添加样式，即CSS。我们将从我们的HTML模板中打开样式表（`style.css`），复制其代码，然后将其直接放在我们之前添加的注释下面：
- en: '[PRE40]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: If we go to the frontend page and reload it, it's still not going to make any
    change in our frontend page because we have nothing in our `index.php` file.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们去前端页面并重新加载，它仍然不会在我们的前端页面上产生任何变化，因为我们`index.php`文件中没有任何内容。
- en: 'Open the `index.php` file, paste everything that we have in our `index.html`
    file, and save it. After this, if we go and reload the frontend page, it will
    show us the static HTML:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 打开 `index.php` 文件，粘贴我们在 `index.html` 文件中的所有内容，并保存。在此之后，如果我们去重新加载前端页面，它将显示静态
    HTML：
- en: '![](img/c11cef38-8c34-42e5-81da-bd6e907340e9.png)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c11cef38-8c34-42e5-81da-bd6e907340e9.png)'
- en: Now, none of this static HTML is coming from WordPress. We will slowly convert
    it from static markup to WordPress.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，这些静态 HTML 都不是来自 WordPress。我们将逐步将其从静态标记转换为 WordPress。
- en: Converting static markup to WordPress
  id: totrans-196
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将静态标记转换为 WordPress
- en: 'Let''s go to the top of the `index.php` page, and the first thing will do is
    include the correct style sheets in the code:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来到 `index.php` 页面的顶部，首先要做的事情就是在代码中包含正确的样式表：
- en: '[PRE41]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'We will take out the `style.css` from the `href` link in the preceding code
    and replace it with `php bloginfo();`. In the parentheses, we''ll add `stylesheet_url`
    as shown here:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从前面代码中的 `href` 链接中移除 `style.css` 并用 `php bloginfo();` 替换它。在括号中，我们将添加 `stylesheet_url`，如下所示：
- en: '[PRE42]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Save this, go to the frontend page, and reload it. You will now see the stylesheet
    is included as shown in the following screenshot:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 保存这个，转到前端页面，并重新加载。你现在将看到样式表被包含，如下面的截图所示：
- en: '![](img/0ef1279a-ff97-4bd3-8ce3-a523d4563b32.png)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0ef1279a-ff97-4bd3-8ce3-a523d4563b32.png)'
- en: You might not see the images because the path is wrong. We'll look into that
    in a later section.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能看不到图片，因为路径错误。我们将在后面的部分探讨这个问题。
- en: Adding the wp_head function
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加 wp_head 函数
- en: 'Now another thing we want to put in the head is the `wp_head` function. Here,
    we can add any head content that we need, for example an extra style sheet for
    a WordPress plugin. So we will add `<?php wp_head(); ?>` as shown here:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们还想要在头部添加 `wp_head` 函数。在这里，我们可以添加我们需要的任何头部内容，例如为 WordPress 插件添加额外的样式表。所以我们将添加
    `<?php wp_head(); ?>`，如下所示：
- en: '[PRE43]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'We also want the character set. In the head, we will add `<meta charset="<?php
    bloginfo(); ?>">`. Then inside the parentheses, we''ll add `charset` as shown
    here:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还想要字符集。在头部，我们将添加 `<meta charset="<?php bloginfo(); ?>">`。然后在括号中，我们将添加 `charset`，如下所示：
- en: '[PRE44]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Now, we will make `<h1>` inside the header dynamic. We''ll add `<?php bloginfo('''');
    ?>` and pass in `name` as shown here:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将使页眉中的 `<h1>` 标签动态化。我们将添加 `<?php bloginfo(''); ?>` 并传入 `name`，如下所示：
- en: '[PRE45]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Let''s save that and see what that gives us by reloading the frontend page:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存它，通过重新加载前端页面来看看它给我们带来了什么：
- en: '![](img/8ba59cb8-21d1-4257-94ad-a0f0103fd0ae.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8ba59cb8-21d1-4257-94ad-a0f0103fd0ae.png)'
- en: As shown in the preceding screenshot, our code is going to give us whatever
    the site name is; in our case, it is WordPress Themes, which we can change inside
    the admin area.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一个截图所示，我们的代码将给出网站名称；在我们的例子中，它是 WordPress Themes，我们可以在管理区域中更改它。
- en: Adding the body_class function
  id: totrans-214
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加 body_class 函数
- en: 'For the body, we''ll include the `body_class` function:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 对于主体，我们将包含 `body_class` 函数：
- en: '[PRE46]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: For now, we will leave the main content as it is.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将主要内容保持原样。
- en: Adding the footer
  id: totrans-218
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加页脚
- en: 'We will add `<?php bloginfo(''name''); ?>` to the footer, as we did in `<h1>`.
    This will give whatever the name of the blog is; in our case, it is `WordPress
    Themes`:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在页脚中添加 `<?php bloginfo('name'); ?>`，就像我们在 `<h1>` 中做的那样。这将给出博客的名称；在我们的例子中，它是
    `WordPress Themes`：
- en: '[PRE47]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Splitting the header and footer
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分割页眉和页脚
- en: Now, we will split our `index.php` file into a header and footer file. Inside
    the `photogenik` folder, we will create two new files called `header.php` and
    `footer.php`.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将 `index.php` 文件分割成页眉和页脚文件。在 `photogenik` 文件夹内，我们将创建两个新的文件，分别命名为 `header.php`
    和 `footer.php`。
- en: 'Let''s figure out what we need to put in the `header.php` file. We will add
    the following code from our `index.php` file into the `header.php` file:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们弄清楚我们需要在 `header.php` 文件中放入什么。我们将从 `index.php` 文件中添加以下代码到 `header.php` 文件中：
- en: '[PRE48]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'For the footer, we will cut the following code from `index.php`, put that in
    `footer.php`, and save it:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 对于页脚，我们将从 `index.php` 中剪切以下代码，将其放入 `footer.php` 中，并保存：
- en: '[PRE49]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'After splitting the header and footer code, the remaining code inside the `index.php`
    file will look like this:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在将页眉和页脚代码分割后，`index.php` 文件内的剩余代码将看起来像这样：
- en: '[PRE50]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'If we reload now, you can see as shown in the following screenshot that all
    we''re getting is the `index.php` file:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们现在重新加载，你可以看到如下面的截图所示，我们得到的就是 `index.php` 文件：
- en: '![](img/1600537d-2230-4978-83d7-0b1e403717fd.png)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1600537d-2230-4978-83d7-0b1e403717fd.png)'
- en: 'We need to include the header and footer in the `index.php` file, so let''s
    do that next. For header, we need to add `<?php get_header(); ?>` at the top of
    the code as shown here:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要在`index.php`文件中包含头部和尾部，所以让我们接下来做这件事。对于头部，我们需要在代码顶部添加`<?php get_header();
    ?>`，如下所示：
- en: '[PRE51]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Then we will do the same thing for the footer. We will add `<?php get_footer();
    ?>` at the end of the code as shown here:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将对尾部做同样的处理。我们将在代码末尾添加`<?php get_footer(); ?>`，如下所示：
- en: '[PRE52]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'If we go back and reload our frontend page, you can see that it''s back to
    normal:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们返回并重新加载我们的前端页面，你可以看到它已经恢复正常：
- en: '![](img/07a0bbd7-7dd2-48a6-9fe5-3a9de0d1e099.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/07a0bbd7-7dd2-48a6-9fe5-3a9de0d1e099.png)'
- en: Changing the site name
  id: totrans-237
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改站点名称
- en: 'To change the name of the site, in the backend page, we''ll go to the Settings
    section and select General:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 要更改站点的名称，在后台页面，我们将进入设置部分并选择常规：
- en: '![](img/f1c20dcd-9dc5-4983-ab2e-1f08ea313482.png)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/f1c20dcd-9dc5-4983-ab2e-1f08ea313482.png)'
- en: 'Here, we''ll change Site Title from `Wordpress Themes` to `PhotoGenik` and
    save the changes. When we reload the frontend page, and the changes should reflect
    as follows:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将站点标题从`Wordpress Themes`更改为`PhotoGenik`并保存更改。当我们重新加载前端页面时，更改应该如下反映：
- en: '![](img/8154c80c-448f-47c7-a0ae-058210f3b2d6.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8154c80c-448f-47c7-a0ae-058210f3b2d6.png)'
- en: In the next section, we will look at the content in the posts because that's
    what we want the post to be showing in the index. Okay, so we'll get to that next.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将查看帖子中的内容，因为这是我们希望在索引中显示的内容。好的，那么我们将在下一节中处理这个问题。
- en: The post loop
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 帖子循环
- en: 'In the previous section, we created the header and footer files and included
    them in the `index.php` file. In this section, we will work on the main post area.
    So far, we have a bunch of static HTML which we need to change. We will have two
    types of posts:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们创建了头部和尾部文件并将它们包含在`index.php`文件中。在本节中，我们将处理主要帖子区域。到目前为止，我们有一堆静态HTML需要更改。我们将有两种类型的帖子：
- en: '**Regular post**: This will be a standard blog post with a title and paragraph'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**常规帖子**：这将是一个带有标题和段落的标准博客帖子'
- en: '**Gallery post**: This will have the image with the description underneath'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**画廊帖子**：这将包含带有下方描述的图片'
- en: We will add support for content or post formats. So what we need to do is create
    a `functions.php` file inside our `photogenik` theme.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将添加对内容或帖子格式的支持。因此，我们需要做的是在我们`photogenik`主题内部创建一个`functions.php`文件。
- en: Adding the theme support function
  id: totrans-248
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加主题支持函数
- en: 'We will create a function to set up certain support for our theme. For instance,
    to be able to use the featured image or thumbnails. In `function.php`, we''ll
    add a comment `Theme Support` and declare the `theme_setup` function as shown
    here:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将创建一个函数来设置我们主题的特定支持。例如，为了能够使用特色图片或缩略图。在`function.php`中，我们将添加一个注释`主题支持`并声明`theme_setup`函数，如下所示：
- en: '[PRE53]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'Now, when we go to a post as shown in the following screenshot, we don''t have
    a Featured Image box below the Tags section. That''s what we will add inside the
    function:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，当我们访问一个帖子，如下面的屏幕截图所示，我们在标签部分下方没有特色图片框。这就是我们将在函数内部添加的内容：
- en: '![](img/8e8be39a-c8ab-493f-a74d-cb432a2d703a.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8e8be39a-c8ab-493f-a74d-cb432a2d703a.png)'
- en: 'To set up the featured image support, we''ll add `add_theme_support` inside
    the `theme_setup` function. Then, inside the parentheses, we will add `post-thumbnails`
    as shown here:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置特色图片支持，我们将在`theme_setup`函数内部添加`add_theme_support`。然后，在括号内，我们将添加`post-thumbnails`，如下所示：
- en: '[PRE54]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'For the thumbnail size, we will put the max image size because we''ll use CSS
    to shrink the images down. Next, to the `theme_setup` function we''ll add `set_post_thumbnail_size`
    with size 900 x 600, as shown here:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 对于缩略图大小，我们将放置最大图像大小，因为我们将使用CSS来缩小图像。接下来，在`theme_setup`函数中，我们将添加`set_post_thumbnail_size`，大小为900
    x 600，如下所示：
- en: '[PRE55]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Next, we will add our gallery post format support. We will use the same `add_theme_support`
    function we used earlier, except we will replace `post-thumbnails` with `post-formats`.
    Then for the second parameter, we will put in an array of the formats we want
    to include. All we want besides the standard format is the `gallery` format, so
    we will put in `gallery` as shown here:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将添加我们的画廊帖子格式支持。我们将使用之前使用的相同的`add_theme_support`函数，除了我们将用`post-formats`替换`post-thumbnails`。然后对于第二个参数，我们将放入我们想要包含的格式的数组。我们除了标准格式外，只想包含`gallery`格式，所以我们将输入`gallery`，如下所示：
- en: '[PRE56]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Passing the function into action
  id: totrans-259
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将函数传递到动作
- en: 'Now that we have the `theme_setup` function, we need to pass this function
    into an action. So let''s add `add_action` and the action will be `after_setup_theme`.
    The second parameter will be the function we want to run, which is `theme_setup`
    as shown here:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了`theme_setup`函数，我们需要将这个函数传递到一个动作中。所以让我们添加`add_action`，动作将是`after_setup_theme`。第二个参数将是我们要运行的函数，即`theme_setup`，如下所示：
- en: '[PRE57]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Now, let''s save this code and reload the backend page. As shown in the following
    screenshot, you will now see that we have the Featured Image section under the
    Tags section, and we also have support for the gallery format:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们保存这段代码并重新加载后端页面。如以下截图所示，你现在将看到在标签部分下有特色图片部分，并且我们也支持相册格式：
- en: '![](img/b7df0c39-7e24-453e-bd18-dd5f10ee9e74.png)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b7df0c39-7e24-453e-bd18-dd5f10ee9e74.png)'
- en: Now since we have both standard and gallery formats, we need to create the two
    different files for the content. In the `photogenik` folder create one file for
    content, as `content.php`, and another for gallery, as `content-gallery.php`.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了标准和相册格式，我们需要为内容创建两个不同的文件。在`photogenik`文件夹中创建一个内容文件，命名为`content.php`，另一个为相册，命名为`content-gallery.php`。
- en: Before we actually work on these files, we will simplify our `index.php` file.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们实际处理这些文件之前，我们将简化我们的`index.php`文件。
- en: Working on index.php for the content post
  id: totrans-266
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在内容帖子中处理index.php
- en: 'To simplify the `index.php` file, open the file in the editor and get rid of
    all the code present in it except the `<?php get_header(); ?>` and `<?php get_footer();
    ?>` lines. This is how our `index.php` will look like:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化`index.php`文件，在编辑器中打开文件，并移除其中除`<?php get_header(); ?>`和`<?php get_footer();
    ?>`行之外的所有代码。这就是我们的`index.php`将看起来像这样：
- en: '[PRE58]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'We will then check for posts and if there are posts, loop through them and
    spit out the correct content file. Now, we will add `<?php if(have_posts()) :
    ?>` and then we''ll use the shorthand syntax as shown here:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: '然后，我们将检查帖子，如果有帖子，将遍历它们并输出正确的内容文件。现在，我们将添加`<?php if(have_posts()) : ?>`，然后我们将使用如下的简写语法：'
- en: '[PRE59]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: Adding the while loop for the post
  id: totrans-271
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加帖子循环
- en: 'If there are posts then we want to loop through them. We can use a `while`
    loop to do that. So, inside the `if` statement, we''ll add `<?php while(have_posts())
    : the_post(); ?>`. Then end the `while` loop by adding `<?php endwhile; ?>` as
    shown here:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '如果有帖子，我们希望遍历它们。我们可以使用`while`循环来实现这一点。因此，在`if`语句内部，我们将添加`<?php while(have_posts())
    : the_post(); ?>`。然后通过添加`<?php endwhile; ?>`来结束`while`循环，如下所示：'
- en: '[PRE60]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'While it has post, we want to spit out the content file, whether it''s `content.php`
    or `content-gallery.php` that pertains to whatever format we choose in the post.
    So, we''ll add `<?php get_template_part(); ?>` inside the `while` loop. Next,
    pass in `content` and for the second parameter, pass `get_post_format()`. This
    will determine whether the post is a gallery or just a standard post. Here is
    how our code will look like:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 当有帖子时，我们希望输出内容文件，无论是`content.php`还是`content-gallery.php`，这取决于我们在帖子中选择的格式。因此，我们将在`while`循环内部添加`<?php
    get_template_part(); ?>`。接下来，传入`content`作为第一个参数，并将`get_post_format()`作为第二个参数。这将确定帖子是相册还是标准帖子。以下是我们的代码将如何看起来：
- en: '[PRE61]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: Adding an else statement
  id: totrans-276
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加else语句
- en: 'Next, we will add an `else` statement to the `if` statement we have defined,
    which will come into the picture if there are no posts. If there are no posts,
    we will echo a message saying `Sorry, there are no posts`:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将向已定义的`if`语句中添加一个`else`语句，如果没有帖子，它将出现。如果没有帖子，我们将输出一条消息说“抱歉，没有帖子”：
- en: '[PRE62]'
  id: totrans-278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Now let''s save the `index.php` file. For the content files, we''ll add `STANDARD
    CONTENT` in the `content.php` file as shown here:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们保存`index.php`文件。对于内容文件，我们将在`content.php`文件中添加`STANDARD CONTENT`，如下所示：
- en: '![](img/bee23ffb-471c-4391-818d-598d2621289d.png)'
  id: totrans-280
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bee23ffb-471c-4391-818d-598d2621289d.png)'
- en: 'And add `PHOTO` in the `content-gallery.php` file, as shown here:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 在`content-gallery.php`文件中添加`PHOTO`，如下所示：
- en: '![](img/875bf6ae-77da-4b27-8ff7-5ad0e98a5ae4.png)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/875bf6ae-77da-4b27-8ff7-5ad0e98a5ae4.png)'
- en: 'If we go to the frontend page and reload it, we get STANDARD CONTENT because
    if we look at our posts, we just have one post, `Hello world!`:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们访问前端页面并重新加载它，我们会得到STANDARD CONTENT，因为我们看看我们的帖子，我们只有一个帖子，`Hello world!`：
- en: '![](img/9bafc8ed-d870-4d18-bdb9-66cac6432529.png)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9bafc8ed-d870-4d18-bdb9-66cac6432529.png)'
- en: 'Now add another post named `Test`, choose the Gallery format for this post,
    and publish it:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 现在添加另一个名为`Test`的帖子，为这个帖子选择相册格式，并发布它：
- en: '![](img/5c104456-2026-4871-828d-2594690d323a.png)'
  id: totrans-286
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/5c104456-2026-4871-828d-2594690d323a.png)'
- en: 'Reload the frontend page, and you can now see that we get PHOTO STANDARD CONTENT:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载前端页面，现在你可以看到我们得到了PHOTO STANDARD CONTENT：
- en: '![](img/42965e50-ac68-4090-9568-671012da986b.png)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/42965e50-ac68-4090-9568-671012da986b.png)'
- en: So that's our two posts. They're on the same line but this is actually two different
    posts. We now know that our code is working. In the next section, we'll work on
    both of the photo and standard content files so that we can output the posts correctly.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这是我们两个帖子。它们在同一行上，但实际上是两个不同的帖子。我们现在知道我们的代码正在工作。在下一节中，我们将处理照片和标准内容文件，以便我们可以正确输出帖子。
- en: Displaying the post content
  id: totrans-290
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 显示帖子内容
- en: In this section, we'll work on the content pages, both the regular post content
    and also the gallery.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将处理内容页面，包括常规帖子内容和画廊。
- en: Adding a regular post content
  id: totrans-292
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加常规帖子内容
- en: 'For adding a regular post, we''ll start with the `content.php` file in the
    editor. We''ll add title, metadata, thumbnail, and lastly, the main content to
    the post. To start with, we will create an `article` tag and give it a class of
    `post`:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 对于添加常规帖子，我们将在编辑器中的`content.php`文件开始。我们将添加标题、元数据、缩略图，最后是帖子的主要内容。首先，我们将创建一个`article`标签，并给它一个`post`类：
- en: '[PRE63]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: Adding a title to the regular post content
  id: totrans-295
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加标题到常规帖子内容
- en: 'Next, we need the title. We will put the title inside of an `<h2></h2>` tag.
    We can get the title by adding `<?php echo the_title(); ?>`:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要标题。我们将标题放在`<h2></h2>`标签内。我们可以通过添加`<?php echo the_title(); ?>`来获取标题：
- en: '[PRE64]'
  id: totrans-297
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Just to check, reload the main page and you can see with the regular content
    posts we actually get the title:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 只需刷新主页面，你就可以看到，对于常规内容帖子，我们实际上得到了标题：
- en: '![](img/e8a04887-6898-4836-9bdc-b232a0755759.png)'
  id: totrans-299
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e8a04887-6898-4836-9bdc-b232a0755759.png)'
- en: Adding metadata
  id: totrans-300
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加元数据
- en: 'Next, we will add the metadata. Let''s put that in a paragraph with a class
    called `meta` as shown here:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将添加元数据。让我们将其放在一个带有`meta`类的段落中，如下所示：
- en: '[PRE65]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'In the `meta` class, we will add `Posted at` and then get the date and time.
    To get the date and time, we will add `<?php the_time(); ?>` and `<?php the_data();
    ?>` respectively:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 在`meta`类中，我们将添加`发布于`，然后获取日期和时间。为了获取日期和时间，我们将添加`<?php the_time(); ?>`和`<?php
    the_date(); ?>`分别：
- en: '[PRE66]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'Next, we want to add the user''s name, and we will put that in a link. For
    this, we will add `<a href=""> </a>`, add the `php` tag, and echo out `get_author_posts_url()`
    as shown here:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们想要添加用户的名称，我们将将其放在一个链接中。为此，我们将添加`<a href=""> </a>`，添加`php`标签，并输出`get_author_posts_url()`，如下所示：
- en: '[PRE67]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'Now, we need to put the ID for the author, which we can add with `get_the_author_meta()`
    and pass in `ID`. This will get us the author''s ID. Then for the actual text,
    we will add `<?php the_author(); ?>`, as shown here:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要放置作者的ID，我们可以通过`get_the_author_meta()`添加，并传入`ID`。这将给我们作者的ID。然后对于实际文本，我们将添加`<?php
    the_author(); ?>`，如下所示：
- en: '[PRE68]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'If we check it out, we''ll see the page as shown in the following screenshot:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们检查一下，我们将看到页面如下截图所示：
- en: '![](img/24f7a976-8d6b-4409-8ff1-e666d68681ee.png)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/24f7a976-8d6b-4409-8ff1-e666d68681ee.png)'
- en: This shows Posted at 1:55 am on December 22, 2017 by admin.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明发布于2017年12月22日凌晨1:55，由管理员发布。
- en: Checking the thumbnail in content post
  id: totrans-312
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查内容帖子中的缩略图
- en: 'Next, what we''ll do is check to see if there''s a thumbnail or a featured
    image. For this, we''ll add an `if` statement:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将检查是否有缩略图或特色图片。为此，我们将添加一个`if`语句：
- en: '[PRE69]'
  id: totrans-314
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'In the `if` statement, add `has_post_thumbnail()` and let''s end the `if` statement
    as shown here:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 在`if`语句中，添加`has_post_thumbnail()`，并让我们以如下方式结束`if`语句：
- en: '[PRE70]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'If there''s a thumbnail, we''ll create `<div>` and give it a class of `post-thumbnail`.
    In `<div>` we''ll add `<?php the_post_thumbnail(); ?>` as shown here:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有缩略图，我们将创建一个`<div>`并给它一个`post-thumbnail`类。在`<div>`中，我们将添加`<?php the_post_thumbnail();
    ?>`，如下所示：
- en: '[PRE71]'
  id: totrans-318
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'Now, under the `if` block add a `<br />` tag, and then we will need the main
    content which is really easy; we can just add `<?php the_content(); ?>` as shown
    here:'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在`if`块下添加一个`<br />`标签，然后我们需要主要内容，这很简单；我们只需添加`<?php the_content(); ?>`即可，如下所示：
- en: '[PRE72]'
  id: totrans-320
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'Let''s save this and reload the home page, and you can see that we have the
    title, metadata, and content of that post as shown in the following screenshot:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存并刷新主页，你可以看到，我们有了该帖子的标题、元数据和内容，如下截图所示：
- en: '![](img/78a24b73-c0ee-48fc-863b-c06cf5635fe7.png)'
  id: totrans-322
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/78a24b73-c0ee-48fc-863b-c06cf5635fe7.png)'
- en: Adding a gallery post
  id: totrans-323
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加画廊帖子
- en: For the gallery post, the code is going to be a little different. We will start
    with the `content-gallery.php` page.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 对于画廊帖子，代码将略有不同。我们将从`content-gallery.php`页面开始。
- en: 'Let''s just take a look at our `index.html` page that we created in the earlier
    section. Similar to the `index.html` page, we will add a 4-column `<div>` in the
    `content-gallery.php` page. We will give `<div>` a class of `w3-col m4 l4 pic`
    as shown here:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看我们在前面部分创建的`index.html`页面。类似于`index.html`页面，我们将在`content-gallery.php`页面中添加一个4列`<div>`。我们将给`<div>`一个`w3-col
    m4 l4 pic`类，如下所示：
- en: '[PRE73]'
  id: totrans-326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: Checking the thumbnail in the gallery post
  id: totrans-327
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查画廊帖子中的缩略图
- en: 'As we want to check for the thumbnail, as we did in the previous section, we
    will use the same code in the `content-gallery.php` page:'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们想要检查缩略图，就像我们在前面的部分做的那样，我们将在`content-gallery.php`页面中使用相同的代码：
- en: '[PRE74]'
  id: totrans-329
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'This is going to be a little different than the regular content post. We will
    remove the `<?php the_post_thumbnail(); ?>` line. After removing it, the code
    should look like the following:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 这将不同于常规的内容帖子。我们将删除`<?php the_post_thumbnail(); ?>`行。删除后，代码应如下所示：
- en: '[PRE75]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Thumbnail or featured images mean the same thing.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 缩略图或特色图片意味着相同的事情。
- en: Creating an array of attributes
  id: totrans-333
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建属性数组
- en: 'We want to do a little extra in the `content-gallery.php` file. We will add
    a class to the images so that we can do the animation and stuff like that. For
    this, we will create an array of attributes. In the div, let''s add the following
    code:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 我们想在`content-gallery.php`文件中做一些额外的工作。我们将给图片添加一个类，以便我们可以进行动画等操作。为此，我们将创建一个属性数组。在`div`中，让我们添加以下代码：
- en: '[PRE76]'
  id: totrans-335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'Next, in the array, we will put in `class` and we want that to be `w3-animate-opacity`
    class. Then, we also want a hover effect for which we can use `w3-hover-opacity`:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在数组中，我们将放入`class`，并希望它是`w3-animate-opacity`类。然后，我们还想添加一个悬停效果，我们可以使用`w3-hover-opacity`：
- en: '[PRE77]'
  id: totrans-337
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'Now, each image is going to have a link around it. So, after the array of attribute,
    we will add `<a href="php echo the_permalink()"></a>`:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，每张图片都将有一个链接围绕它。因此，在属性数组之后，我们将添加`<a href="php echo the_permalink()"></a>`：
- en: '[PRE78]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'This link will take us to the single post. Then to show the thumbnail we will
    add `<?php echo get_the_post_thumbnail(); ?>` in the anchor tag as shown here:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 此链接将带我们到单个帖子。然后，为了显示缩略图，我们将在锚标签中添加`<?php echo get_the_post_thumbnail(); ?>`，如下所示：
- en: '[PRE79]'
  id: totrans-341
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'In the `get_the_post_thumbnail()` function, we will pass in ID, the size which
    will be `large`, and then the attributes as shown here:'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 在`get_the_post_thumbnail()`函数中，我们将传入ID、大小（将是`large`），然后是此处显示的属性：
- en: '[PRE80]'
  id: totrans-343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'Next, underneath the `endif` statement, we will put the content:'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在`endif`语句下面，我们将放置内容：
- en: '[PRE81]'
  id: totrans-345
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Now save the code and reload the home page. We will not see anything because
    we didn''t actually add any content to that photo post:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 现在保存代码并重新加载主页。我们不会看到任何东西，因为我们实际上没有添加任何内容到那个照片帖子：
- en: '![](img/f2ad62be-a88f-4b23-8846-d8666b01a114.png)'
  id: totrans-347
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f2ad62be-a88f-4b23-8846-d8666b01a114.png)'
- en: Adding a new post
  id: totrans-348
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加新帖子
- en: 'Before adding a new post, delete the post we created in the previous sections.
    As shown in the following screenshot, go to the Posts section in our WordPress
    page, select both the posts, and move them to trash:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加新帖子之前，删除我们在前面部分创建的帖子。如图所示，在我们的WordPress页面中转到“帖子”部分，选择两个帖子，并将它们移动到回收站：
- en: '![](img/b0cdb2a2-d031-4bc0-a158-c9543605852e.png)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b0cdb2a2-d031-4bc0-a158-c9543605852e.png)'
- en: 'Now, we will create a new post. For this, we want to make sure to add a few
    sections. These are:'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将创建一个新的帖子。为此，我们想要确保添加几个部分。这些包括：
- en: '**Title section**: First, we''ll add a title. Let''s call it `Photo One`.'
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标题部分**：首先，我们将添加一个标题。让我们称它为“照片一”。'
- en: '**Description section**: Add a small paragraph or some sample content which
    will be the description:'
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述部分**：添加一小段文字或一些示例内容，这将作为描述：'
- en: '![](img/e1310a7e-07b4-46d6-968a-e28edacdac92.png)'
  id: totrans-354
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e1310a7e-07b4-46d6-968a-e28edacdac92.png)'
- en: '**Format**: Make sure to choose Gallery as our post format:'
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**格式**：确保选择画廊作为我们的帖子格式：'
- en: '![](img/06ccab90-f814-43e3-9922-8f09d7985069.png)'
  id: totrans-356
  prefs: []
  type: TYPE_IMG
  zh: '![](img/06ccab90-f814-43e3-9922-8f09d7985069.png)'
- en: '**Categories:** We will create a few categories. We''ll add `Nature`, `Objects`,
    `People`, `Places`, and `Abstract` categories. After creating the categories,
    choose `Nature`:'
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分类**：我们将创建一些分类。我们将添加“自然”、“物体”、“人物”、“地点”和“抽象”分类。创建分类后，选择“自然”：'
- en: '![](img/52277e99-a9ab-417d-95d2-c24cafa42999.png)'
  id: totrans-358
  prefs: []
  type: TYPE_IMG
  zh: '![](img/52277e99-a9ab-417d-95d2-c24cafa42999.png)'
- en: '**Featured Image**: To add a featured image, follow these steps:'
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**特色图片**：要添加特色图片，请按照以下步骤操作：'
- en: 'When we click on the Set featured image, it''ll lead us to the following page:'
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当我们点击“设置特色图片”时，它将带我们到以下页面：
- en: '![](img/abc7df06-c465-4dfe-8386-439527073ab9.png)'
  id: totrans-361
  prefs: []
  type: TYPE_IMG
  zh: '![](img/abc7df06-c465-4dfe-8386-439527073ab9.png)'
- en: To upload a file, we'll click on the Select Files button.
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要上传文件，我们将点击“选择文件”按钮。
- en: 'We will go to our `photogenik_html` folder, then the `images` folder, and choose
    the first image:'
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将进入`photogenik_html`文件夹，然后是`images`文件夹，并选择第一张图片：
- en: '![](img/12e7282d-240b-4b7d-8c3d-e271cf5fdbe9.png)'
  id: totrans-364
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/12e7282d-240b-4b7d-8c3d-e271cf5fdbe9.png)'
- en: 'We can give the image a title, `Photo One`, and add a caption and description
    as shown in the following screenshot:'
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以给图片一个标题`Photo One`，并添加一个标题和描述，如下面的截图所示：
- en: '![](img/09ace2fb-c8b3-492a-8cde-33ea9b32551f.png)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/09ace2fb-c8b3-492a-8cde-33ea9b32551f.png)'
- en: Then we'll click on the Set featured image button.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后我们点击设置特色图片按钮。
- en: 'Now, hit the Publish button and take a look at the frontend. It should look
    like this:'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击发布按钮并查看前端。它应该看起来像这样：
- en: '![](img/a00460ed-1bab-458b-8fe9-8891f8082115.png)'
  id: totrans-369
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a00460ed-1bab-458b-8fe9-8891f8082115.png)'
- en: So there's our image, it fades in, but the proportion is incorrect.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 所以这是我们的图片，它淡入，但比例不正确。
- en: Adding proper proportions to the image
  id: totrans-371
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加适当的图片比例
- en: 'To fix the proportions of the image, we''ll go to our `style.css` page and
    go down to pic. In our case, we want the actual image, so we will add `.pic img`
    and set the `width` to `100%` and make that important. Then we will set `height`
    to `100%` as shown here:'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 为了调整图片的比例，我们将进入`style.css`页面，并找到pic部分。在我们的例子中，我们想要实际的图片，所以我们将添加`.pic img`，并将`width`设置为`100%`，并使其重要。然后我们将`height`设置为`100%`，如下所示：
- en: '[PRE82]'
  id: totrans-373
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'Reload the home page, and this time we should see something like this:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载主页，这次我们应该看到如下内容：
- en: '![](img/b5b5a6b2-29bc-4428-9ccf-5b493600c52d.png)'
  id: totrans-375
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b5b5a6b2-29bc-4428-9ccf-5b493600c52d.png)'
- en: 'Now, that looks good! Similarly, we will upload the rest of the images we have
    in the `photogenik_html\images` folder:'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，看起来不错！同样，我们将上传`photogenik_html\images`文件夹中剩余的图片：
- en: '![](img/fb8ef422-9ad9-44ef-b250-a4e01d704ecc.png)'
  id: totrans-377
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fb8ef422-9ad9-44ef-b250-a4e01d704ecc.png)'
- en: 'We can see that we have our six photos at the backend in the Posts area as
    shown in the following screenshot:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，在我们的后端帖子区域有六张图片，如下面的截图所示：
- en: '![](img/cff06eb3-0be9-483e-b63e-88cabbbb1f67.png)'
  id: totrans-379
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/cff06eb3-0be9-483e-b63e-88cabbbb1f67.png)'
- en: So we now have that functionality down. In the next section, we'll work on the
    categories, and we want it to be a WordPress widget.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经实现了这个功能。在下一节中，我们将处理分类，并希望它成为一个WordPress小部件。
- en: Adding the category widget and search option
  id: totrans-381
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加分类小部件和搜索选项
- en: 'In this section, we will work on the categories widget shown on the left-hand
    side of the following screenshot. Right now, we just have a static HTML unordered
    list:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将处理以下截图左侧显示的分类小部件。目前，我们只有一个静态的HTML无序列表：
- en: '![](img/f5fbd428-4d64-4932-b9e6-cbbce651c53a.png)'
  id: totrans-383
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/f5fbd428-4d64-4932-b9e6-cbbce651c53a.png)'
- en: Adding a function to use the category widget
  id: totrans-384
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加一个函数以使用分类小部件
- en: 'In order to use widgets, first we have to include the initialization code in
    our `functions.php` file:'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用小部件，我们首先必须在`functions.php`文件中包含初始化代码：
- en: '[PRE83]'
  id: totrans-386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: Specifying the widget locations
  id: totrans-387
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 指定小部件位置
- en: 'In the `function.php` file, underneath the `add_action` function, we will specify
    the locations. For this, we will add a function called `init_widgets`, pass in
    `&id`, and then add `register_sidebar` as shown here:'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 在`function.php`文件中，在`add_action`函数下方，我们将指定位置。为此，我们将添加一个名为`init_widgets`的函数，传入`&id`，然后添加`register_sidebar`，如下所示：
- en: '[PRE84]'
  id: totrans-389
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: The `register_sidebar` function is used for creating any kind of widget position.
    Even though it says sidebar, it doesn't have to be in the sidebar; in our case,
    it is but it doesn't have to be.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: '`register_sidebar`函数用于创建任何类型的小部件位置。尽管它说侧边栏，但它不必在侧边栏中；在我们的例子中，它是在侧边栏中，但不必一定在侧边栏中。'
- en: 'Next, we will pass in an array to the `register_sidebar` function. Add a name,
    `Sidebar`, and an ID, `sidebar`, as shown here:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将向`register_sidebar`函数传递一个数组。添加一个名称`Sidebar`和一个ID`sidebar`，如下所示：
- en: '[PRE85]'
  id: totrans-392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Then we will declare the action using `add_action`. The hook we will use is
    `widgets_init` and put in the function we just created, which is `init_widgets`,
    as shown here:'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将使用`add_action`声明动作。我们将使用的钩子是`widgets_init`，并放入我们刚刚创建的函数`init_widgets`，如下所示：
- en: '[PRE86]'
  id: totrans-394
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: Next, we will register the widgets.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将注册小部件。
- en: Registering the widgets
  id: totrans-396
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 注册小部件
- en: 'Let''s now register the widgets. We will only have the sidebar in this particular
    template. Add a function, `custom_register_widgets`, and call `register_widget`
    as shown here:'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们现在注册小部件。在这个特定的模板中，我们只有侧边栏。添加一个函数`custom_register_widgets`，并调用`register_widget`，如下所示：
- en: '[PRE87]'
  id: totrans-398
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: 'Here, we will use the categories widget, but we will create a custom version
    of it and put it in our template in our `themes` folder. So in the `register_widget`
    parentheses, we''ll add `WP_Widget_Categories_Custom` as shown here:'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将使用分类小部件，但我们将创建一个自定义版本并将其放入`themes`文件夹中的模板中。因此，在`register_widget`括号中，我们将添加`WP_Widget_Categories_Custom`，如下所示：
- en: '[PRE88]'
  id: totrans-400
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Then we will add the action using `add_action`, pass in `widgets_init` as we
    want this to run, and then add the `custom_register_widgets` function as shown
    here:'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将使用`add_action`添加动作，传入`widgets_init`，因为我们希望它运行，然后添加`custom_register_widgets`函数，如下所示：
- en: '[PRE89]'
  id: totrans-402
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: Next, we will style our widgets.
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将对小部件进行样式化。
- en: Styling our category widgets
  id: totrans-404
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 样式化我们的分类小部件
- en: In this section we will style our widgets. In our `photogenik` theme folder,
    we will create a new folder called `widgets`. Inside the `widgets` folder, we
    will create a new file named `class-wp-widget-categories.php`.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将对小部件进行样式化。在我们的`photogenik`主题文件夹中，我们将创建一个名为`widgets`的新文件夹。在`widgets`文件夹内，我们将创建一个名为`class-wp-widget-categories.php`的新文件。
- en: 'Now we will go into the core `widgets` folder, which is present in the `wp-includes`
    folder. Open the categories widget file called `class-wp-widget-categories.php`
    and copy-paste its code into the file that we have created:'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将进入核心`widgets`文件夹，它位于`wp-includes`文件夹中。打开名为`class-wp-widget-categories.php`的分类小部件文件，将其代码复制粘贴到我们创建的文件中：
- en: '![](img/9ef3dce2-c0d5-4f8c-aabe-c94bbd20c6b3.png)'
  id: totrans-407
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9ef3dce2-c0d5-4f8c-aabe-c94bbd20c6b3.png)'
- en: 'Now, in the code shown in the preceding screenshot, we will change the class
    name. Remember in our `functions.php` file, we called this class `WP_Widget_Categories_Custom`,
    so that''s what we want here in the `class-wp-widget-categories.php` file:'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在前面截图所示的代码中，我们将更改类名。记住，在我们的`functions.php`文件中，我们称这个类为`WP_Widget_Categories_Custom`，所以在这里的`class-wp-widget-categories.php`文件中也是这样：
- en: '[PRE90]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'Now in order to use this we have to include the `class-wp-widget-categories.php`
    file in our `functions.php` file. We are including this file to style the widget
    as shown in the following screenshot:'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 现在为了使用这个功能，我们必须在`functions.php`文件中包含`class-wp-widget-categories.php`文件。我们包含这个文件是为了按照以下截图所示的风格化小部件：
- en: '![](img/bc286b58-effb-424e-b8dd-c571a26c2c12.png)'
  id: totrans-411
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bc286b58-effb-424e-b8dd-c571a26c2c12.png)'
- en: 'In `functions.php`, we will add `require_once` and then we''ll add `widgets/class-wp-widget-categories.php`
    as shown here:'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 在`functions.php`中，我们将添加`require_once`，然后添加`widgets/class-wp-widget-categories.php`，如下所示：
- en: '[PRE91]'
  id: totrans-413
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'Let''s save this and then go into our admin area. Now you will be able to go
    to the Appearance section and then will see a Widgets item as shown here:'
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存这个文件，然后进入我们的管理区域。现在你将能够进入外观部分，然后你会看到一个名为小部件的项目，如下所示：
- en: '![](img/c8753c97-c4f7-4c18-9387-10bf0e161f3e.png)'
  id: totrans-415
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c8753c97-c4f7-4c18-9387-10bf0e161f3e.png)'
- en: 'OK, and you can see we have our sidebar. We''ll drag and drop Categories over
    Sidebar and click on Save:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，你可以看到我们有了侧边栏。我们将拖放分类到侧边栏，然后点击保存：
- en: '![](img/52aa56df-8946-474a-b42c-3845a588e619.png)'
  id: totrans-417
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/52aa56df-8946-474a-b42c-3845a588e619.png)'
- en: Adding the widget to the code
  id: totrans-418
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将小部件添加到代码中
- en: 'Now, go into `header.php` where we have the unordered list:'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，进入`header.php`文件，其中包含无序列表：
- en: '[PRE92]'
  id: totrans-420
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'We will just get rid of this list and replace it with the following highlighted
    code:'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将只去掉这个列表，并用以下高亮代码替换它：
- en: '[PRE93]'
  id: totrans-422
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: 'This is how we add a widget to our code. The first thing we do is check whether
    `sidebar` is active by using the `is_active_sidebar` Boolean function. If it is
    active, then we will call `dynamic_sidebar` and pass in the `sidebar` position.
    This could be anything you wanted it to be, but in our case we named it `sidebar`.
    Let''s reload the home page, and there we go, there''s the Categories widget:'
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我们将小部件添加到代码中的方法。我们首先使用`is_active_sidebar`布尔函数检查`sidebar`是否激活。如果是激活的，那么我们将调用`dynamic_sidebar`并传入`sidebar`位置。这可以是任何你想要的位置，但在我们的案例中我们命名为`sidebar`。让我们重新加载主页，然后，看那里，就有了分类小部件：
- en: '![](img/6b3856cf-0474-4c00-8a76-3e8c44991cf7.png)'
  id: totrans-424
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/6b3856cf-0474-4c00-8a76-3e8c44991cf7.png)'
- en: If we click on one of the categories, it will show us the images that are in
    that particular category.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们点击其中一个分类，它将显示该特定分类中的图片。
- en: You can see in the preceding screenshot that the appearance of the widget did
    change. That's why we need to put it in our own file here to edit because you
    never want to edit any other core widget files.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在前面的截图看到小部件的外观确实发生了变化。这就是为什么我们需要将其放入自己的文件中编辑，因为你永远不想编辑任何其他核心小部件文件。
- en: Removing the title
  id: totrans-427
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 移除标题
- en: 'Ensure that it''s actually reading it from the current file. Let''s add some
    changes. We will get rid of the title. For that, we will comment out the highlighted
    code shown here:'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 确保它实际上是从当前文件中读取的。让我们做一些更改。我们将移除标题。为此，我们将注释掉这里显示的高亮代码：
- en: '[PRE94]'
  id: totrans-429
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: 'Now reload the frontend, and you will see that the Categories title is gone:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 现在重新加载前端，你会看到分类标题已经消失了：
- en: '![](img/af1cac3e-43b1-4d50-a217-5015d0981253.png)'
  id: totrans-431
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/af1cac3e-43b1-4d50-a217-5015d0981253.png)'
- en: Adding the class
  id: totrans-432
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加类
- en: 'Next, we will add our class. So we need to find where `ul` starts:'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将添加我们的类。所以我们需要找到 `ul` 开始的地方：
- en: '[PRE95]'
  id: totrans-434
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'In this line, we will add `class="w3-ul"`:'
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一行，我们将添加 `class="w3-ul"`：
- en: '[PRE96]'
  id: totrans-436
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'Now, reload the frontend page, and now it looks like it did before as shown
    in the following screenshot:'
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，重新加载前端页面，现在它看起来和下面的截图一样：
- en: '![](img/4541d170-74fe-460b-81f3-f62cffc58417.png)'
  id: totrans-438
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4541d170-74fe-460b-81f3-f62cffc58417.png)'
- en: Adding a link at the top of the widgets
  id: totrans-439
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在小工具顶部添加链接
- en: Next, we will add a link at the top of the widgets in our WordPress page. That
    link is named `All Photos` so we can go back to just seeing all the photos.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将在我们的WordPress页面顶部的小工具中添加一个链接。这个链接命名为 `All Photos`，这样我们就可以回到只显示所有照片的状态。
- en: 'We will go right under that `<ul>` and let''s put an `<li>` tag. Then add the
    `href` link and specify the name of the folder (whatever your folder is called);
    in our case, this is `wpthemes`. Then we will name the link as `All Photos` as
    shown here:'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将直接在 `<ul>` 下面放置一个 `<li>` 标签。然后添加 `href` 链接并指定文件夹的名称（无论你的文件夹叫什么名字）；在我们的例子中，这是
    `wpthemes`。然后我们将链接命名为 `All Photos`，如下所示：
- en: '[PRE97]'
  id: totrans-442
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'Reload the page and now we have an All Photos link at the top of the widgets
    as shown in the following screenshot:'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载页面，现在我们在小工具的顶部有一个 `All Photos` 链接，如下面的截图所示：
- en: '![](img/000cb997-3c56-4717-b8cb-3527f18a739a.png)'
  id: totrans-444
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/000cb997-3c56-4717-b8cb-3527f18a739a.png)'
- en: Changing the top margin of the page
  id: totrans-445
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 改变页面的顶部边距
- en: 'One other thing we want to take care of is the top margin above the title of
    the post, as shown in the following screenshot. The reason it is like this is
    because it''s making room for the admin bar which isn''t showing right now:'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还想注意的另一件事是标题上方的顶部边距，如下面的截图所示。它之所以是这样的，是因为它为管理栏留出了空间，而目前管理栏没有显示：
- en: '![](img/4c46c844-ba28-431e-a91f-3b304355a849.png)'
  id: totrans-447
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4c46c844-ba28-431e-a91f-3b304355a849.png)'
- en: 'In order for the admin bar to show, we have to call `wp_footer` inside of our
    `footer.php` file. So let''s go there and add `<?php wp_footer(); ?>`:'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使管理栏显示，我们必须在 `footer.php` 文件中调用 `wp_footer`。所以让我们去那里并添加 `<?php wp_footer();
    ?>`：
- en: '[PRE98]'
  id: totrans-449
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'Reload the frontend page and now you can see we have our admin bar, and of
    course, this only shows two people that are logged in as an admin:'
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载前端页面，现在你可以看到我们有了管理栏，当然，这只会显示登录为管理员的两个人：
- en: '![](img/3bbafb9c-ec3c-4d01-bce5-1f035fe6b020.png)'
  id: totrans-451
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/3bbafb9c-ec3c-4d01-bce5-1f035fe6b020.png)'
- en: Making the search bar functional
  id: totrans-452
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使搜索栏功能化
- en: 'Lastly, we will make the search bar functional. Right now if we put something
    in the `Search...` box here and press *Enter*, it''s not doing anything. We know
    the search bar should be in the `header.php` file, so let''s open it:'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将使搜索栏功能化。现在如果我们在这里的 `Search...` 框中输入一些内容并按下 *Enter*，它不会做任何事情。我们知道搜索栏应该在
    `header.php` 文件中，所以让我们打开它：
- en: '[PRE99]'
  id: totrans-454
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'In the preceding code, right now we have a simple `<input>` tag. We will turn
    this input into a form, so put the `<form>` tags around it:'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码中，我们现在有一个简单的 `<input>` 标签。我们将把这个输入转换为表单，所以把它放在 `<form>` 标签周围：
- en: '[PRE100]'
  id: totrans-456
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'Next, we will put in a `get` method in the `<form>` tag. Then specify an action
    by adding `action="<?php echo esc_url(); ?>">`. Inside the `esc_url` parentheses
    we will add the `home_url` function and pass in a parameter of `/`. Also, we should
    give this input a name of `s` for search as shown in this code:'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们在 `<form>` 标签中放入一个 `get` 方法。然后通过添加 `action="<?php echo esc_url(); ?>">`
    指定一个动作。在 `esc_url` 括号内，我们将添加 `home_url` 函数并传入参数 `/`。我们还应该给这个输入一个名为 `s` 的名称，用于搜索，如下面的代码所示：
- en: '[PRE101]'
  id: totrans-458
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'Reload the frontend page and search for `photo two`:'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载前端页面并搜索 `photo two`：
- en: '![](img/acb54477-1f23-4b87-9164-039a6bc587c4.png)'
  id: totrans-460
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/acb54477-1f23-4b87-9164-039a6bc587c4.png)'
- en: 'If we hit *Enter*, we can see it''s giving us `2.jpg` as shown here:'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们按下 *Enter*，我们可以看到它显示为 `2.jpg`，如下所示：
- en: '![](img/aa72051f-8e86-4651-93e8-ddf61da1f034.png)'
  id: totrans-462
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/aa72051f-8e86-4651-93e8-ddf61da1f034.png)'
- en: Similarly, we can search the remaining photos. In the next section, we will
    work on the single page.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，我们可以搜索剩余的照片。在下一节中，我们将处理单个页面。
- en: Working on the single post theme
  id: totrans-464
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在处理单个帖子主题
- en: 'Next, we want to do now is the single page that''s what we have left of this
    theme. When we click on one of the images, it takes us to the correct place as
    shown here, but it doesn''t look too good:'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们想要做的是单页，这是我们这个主题剩下的部分。当我们点击一张图片时，它会带我们到正确的位置，如下所示，但它看起来不太好：
- en: '![](img/04ac5260-d8c7-42b9-9897-5806694290b2.png)'
  id: totrans-466
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/04ac5260-d8c7-42b9-9897-5806694290b2.png)'
- en: We want this image to look like the single HTML page that we created. For this,
    we need to follow the steps discussed in the following subsections.
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: 我们希望这张图片看起来像我们创建的单个HTML页面。为此，我们需要遵循以下小节中讨论的步骤。
- en: Creating a single HTML page
  id: totrans-468
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建单个HTML页面
- en: 'First, in our `photogenik` theme folder we will create a new file named `single.php`:'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在我们的`photogenik`主题文件夹中，我们将创建一个名为`single.php`的新文件：
- en: '![](img/c4b02cd9-a1be-49ab-bf6c-5cb8373eeeda.png)'
  id: totrans-470
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c4b02cd9-a1be-49ab-bf6c-5cb8373eeeda.png)'
- en: 'Next, we will go into the `index.php` file and copy and paste its code it in
    the `single.php` file as shown here:'
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将进入`index.php`文件，复制并粘贴其代码到`single.php`文件中，如下所示：
- en: '[PRE102]'
  id: totrans-472
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'We will now remove `get_template_part` in this code:'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将从这段代码中移除`get_template_part`：
- en: '[PRE103]'
  id: totrans-474
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'And in place of the `while` loop, we will put our article, which we have created
    in our `single.html` file. Open the `single.html` file and copy the entire `<article>`
    section. Now paste this code in the `while` loop in the `single.php` file as show
    here:'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: 并且在`while`循环的位置，我们将放置我们在`single.html`文件中创建的文章。打开`single.html`文件，复制整个`<article>`部分。现在将此代码粘贴到`single.php`文件中的`while`循环中，如下所示：
- en: '[PRE104]'
  id: totrans-476
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: Making metadata dynamic
  id: totrans-477
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使元数据动态化
- en: 'Now we need to make the fields in the preceding code dynamic. We''ll start
    with the `meta` class since that''s at the top. Let''s replace `2:00pm` with `<?php
    the_time ();?>` and `03-29-2017` with `<?php the_date(); ?>`, as shown here:'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要使前面代码中的字段动态化。我们将从顶部的`meta`类开始。让我们将`2:00pm`替换为`<?php the_time(); ?>`，将`03-29-2017`替换为`<?php
    the_date(); ?>`，如下所示：
- en: '[PRE105]'
  id: totrans-479
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: One of the best things about WordPress is the ease of including dynamic content.
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: WordPress最好的事情之一是包括动态内容非常容易。
- en: 'Now to replace the author name (`Brad`, in our case), we will grab the following
    code from the `content.php` file and add it in place of `Brad`:'
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: 现在要替换作者名字（在我们的例子中是`Brad`），我们需要从`content.php`文件中获取以下代码，并将其添加到`Brad`的位置：
- en: '[PRE106]'
  id: totrans-482
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: So this makes the metadata dynamic.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这使得元数据动态化。
- en: Changing the static image
  id: totrans-484
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改静态图片
- en: 'Now, in the `single.php` file, we just have a static image:'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在`single.php`文件中，我们只有一个静态图片：
- en: '[PRE107]'
  id: totrans-486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'To change the static image, let''s copy the `if` statement we have in the `content-gallery.php`
    file and paste that in place of the `<img>` tag as shown here:'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 要更改静态图片，让我们复制`content-gallery.php`文件中的`if`语句，并将其粘贴到`<img>`标签的位置，如下所示：
- en: '[PRE108]'
  id: totrans-488
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: 'In this code, we will change `w3-animate-opacity` to `w3-animate-right` and
    remove `w3-hover-opacity` as shown here:'
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: 在这段代码中，我们将把`w3-animate-opacity`改为`w3-animate-right`，并移除`w3-hover-opacity`，如下所示：
- en: '[PRE109]'
  id: totrans-490
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: 'Now, we don''t need to have a link, so we''ll remove the `permalink` statement:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们不需要有链接，所以我们将移除`permalink`语句：
- en: '[PRE110]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: 'After removing the link, the code will look like the following:'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: 移除链接后，代码将看起来如下所示：
- en: '[PRE111]'
  id: totrans-494
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: This looks good!
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来不错！
- en: Changing the back button, title, and content
  id: totrans-496
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改返回按钮、标题和内容
- en: 'Now for the `Back` button we will change the `index.html` to `<?php echo site_url();
    ?>` as shown here:'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 现在对于`Back`按钮，我们将`index.html`改为`<?php echo site_url(); ?>`，如下所示：
- en: '[PRE112]'
  id: totrans-498
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'This will take us back, and for a dynamic title we can simply replace the `Photo
    Title` with `<?php the_title();?>` as shown here:'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 这将带我们返回，对于动态标题，我们可以简单地将`Photo Title`替换为`<?php the_title(); ?>`，如下所示：
- en: '[PRE113]'
  id: totrans-500
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: 'Then for the dynamic content, we can replace the paragraph with `<?php the_content();
    ?>`:'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 然后对于动态内容，我们可以将段落替换为`<?php the_content(); ?>`：
- en: '[PRE114]'
  id: totrans-502
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: 'With all the changes implemented in the code, let''s take a look at the image
    in the WordPress:'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: 在代码中实现了所有更改后，让我们看看WordPress中的图片：
- en: '![](img/7cb0685f-fdc6-4d13-9ac9-8f3a7c605978.png)'
  id: totrans-504
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/7cb0685f-fdc6-4d13-9ac9-8f3a7c605978.png)'
- en: As shown in the preceding screenshot, this looks good. The Back button should
    also work. If you click on any one of the images, you can see it just slides right
    in.
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一张截图所示，这看起来不错。返回按钮也应该可以正常工作。如果你点击任何一张图片，你可以看到它直接滑入。
- en: I think that does it for our theme. It's very simple but I think it's pretty
    elegant, and of course, if you wanted to add widgets in the sidebar you could
    do that; if you want to create regular posts you can also do that, it doesn't
    have to be photos.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 我认为这就是我们的主题了。它很简单，但我认为它相当优雅，当然，如果你想在小边栏中添加小工具，你也可以做到；如果你想创建常规帖子，你同样可以做到，不一定要是照片。
- en: Summary
  id: totrans-507
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we worked on the project to create a WordPress theme for a
    photo gallery. We created the HTML and CSS for our home page. Next, we have implemented
    the animation using the built-in W3.CSS-animation.
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们致力于创建一个用于照片画廊的 WordPress 主题的项目。我们为我们的主页创建了 HTML 和 CSS。接下来，我们使用了内置的 W3.CSS-animation
    实现了动画效果。
- en: After this, we have templated the HTML into a WordPress theme, created header
    and footer files separately, and included them in the `index.php` file. Next,
    we have worked on the main post area and added `if` and `while` loops for the
    different post formats. Then, we have worked on the content pages, both the regular
    and gallery post content. Once this was done, we worked on the categories widget.
    Last, we worked on the theme of the single page.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 在此之后，我们将 HTML 模板化为 WordPress 主题，分别创建了头部和尾部文件，并将它们包含在 `index.php` 文件中。接下来，我们处理了主要帖子区域，并为不同的帖子格式添加了
    `if` 和 `while` 循环。然后，我们处理了内容页面，包括常规和画廊帖子内容。一旦完成这些，我们就着手制作分类小工具。最后，我们处理了单页的主题。
- en: In the next chapter, we will build a Twitter Bootstrap WordPress theme.
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将构建一个 Twitter Bootstrap WordPress 主题。

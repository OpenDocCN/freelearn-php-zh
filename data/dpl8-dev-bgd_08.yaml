- en: Chapter 8. How Does It Taste? – Getting Feedback
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章.味道如何？ – 获取反馈
- en: '*This chapter will walk through the code that adds a placeholder for HTML form
    elements in the contact module. We will also revisit the Colorbox module that
    we installed in the previous chapter. We will make some enhancements to the code
    (an advanced real-world example), and walk through the process of working with
    patches. We will also implement the Review and Like system with recipe content
    type using comment types and views configurations.*'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*本章将逐步介绍在联系模块中添加HTML表单元素占位符的代码。我们还将回顾上一章中安装的Colorbox模块。我们将对代码进行一些增强（一个高级的实战示例），并讲解使用补丁的过程。我们还将使用评论类型和视图配置实现带有食谱内容类型的评论和点赞系统。*'
- en: Introduction to the Drupal contact form
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Drupal联系表单简介
- en: A very simple contact form is included with Drupal core and is enabled by default.
    The core contact form provides a good starting point to introduce some interactive
    features to our d8dev site.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal核心包含一个非常简单的联系表单，默认启用。核心联系表单为我们网站提供了一个良好的起点，可以引入一些交互式功能。
- en: Time for action – enabling and configuring the core contact form
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作时间 – 启用和配置核心联系表单
- en: 'We will configure the core contact form so that anonymous visitors to our site
    will be able to provide feedback about the site:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将配置核心联系表单，以便我们的网站匿名访客能够提供关于网站的反馈：
- en: In Drupal 8, the contact module is enabled by default. We just need to set permissions
    to the **ANONYMOUS** and **AUTHENTICATED** roles to use the feedback form.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Drupal 8中，联系模块默认启用。我们只需设置**匿名**和**认证**角色的权限即可使用反馈表单。
- en: Now, open the d8dev site in your favorite browser, and click on the **Extend**
    link in the **Admin** toolbar. Scroll down to the module named **Contact** under
    the **Core** group; you will notice that the module is enabled. Then, click on
    the **Permissions** link:![Time for action – enabling and configuring the core
    contact form](img/4659_08_01.jpg)
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在您最喜欢的浏览器中打开d8dev网站，并点击**管理**工具栏中的**扩展**链接。滚动到**核心**组下的名为**联系**的模块；您会注意到该模块已启用。然后，点击**权限**链接：![操作时间
    – 启用和配置核心联系表单](img/4659_08_01.jpg)
- en: On the **Permissions** page, you will notice that the **Use the side-wide contact
    form** permission is enabled for the **ADMINISTRATOR**, **ANONYMOUS**, and **AUTHENTICATED**
    roles by default. So, anonymous users can use the contact form.
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**权限**页面上，您会注意到**使用全局联系表单**权限默认为**管理员**、**匿名**和**认证**角色启用。因此，匿名用户可以使用联系表单。
- en: Next, log out and navigate to `http://localhost/contact/feedback`. You will
    see a simple contact form, as shown in the following screenshot:![Time for action
    – enabling and configuring the core contact form](img/4659_08_02.jpg)
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，注销并导航到 `http://localhost/contact/feedback`。您将看到一个简单的联系表单，如下面的截图所示：![操作时间
    – 启用和配置核心联系表单](img/4659_08_02.jpg)
- en: '*What just happened?*'
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*刚才发生了什么？*'
- en: We enabled a simple contact form to get feedback from the visitors to our d8dev
    site.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我们启用了一个简单的联系表单，以便从我们的d8dev网站访客那里获取反馈。
- en: Adding placeholder text to our contact form
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向我们的联系表单添加占位文本
- en: The core Contact module provides a decent out-of-the-box contact form for our
    site. But what if we want to customize it a bit? Say, for example, we want to
    add some placeholder text to explain to the users why they should fill out the
    form. As we have seen in previous chapters, there are usually multiple ways to
    accomplish customizations like this with Drupal.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 核心联系模块为我们网站提供了一个不错的默认联系表单。但如果我们想对其进行一些定制呢？比如说，我们想添加一些占位文本来解释用户为什么应该填写表单。正如我们在前面的章节中看到的，通常有多种方式使用Drupal完成此类定制。
- en: Using configurations to add placeholder text to the contact form
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用配置向联系表单添加占位文本
- en: We will configure the core contact form to enable placeholders to explain to
    the users why they should fill out the form.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将配置核心联系表单以启用占位符，向用户解释他们为什么应该填写表单。
- en: Time for action – adding placeholder text to our site contact form
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作时间 – 向我们的网站联系表单添加占位文本
- en: 'The core Contact module provides a decent out-of-the-box contact form for our
    site. The core also provides configurable placeholders for fields. So, we add
    the placeholders for form fields to display placeholders to explain to the users
    why they should fill out the form:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 核心联系模块为我们网站提供了一个不错的默认联系表单。核心还提供了可配置的字段占位符。因此，我们为表单字段添加占位符，以显示占位符并解释用户为什么应该填写表单：
- en: Open up the d8dev site in your favorite browser, and click on the **Structure**
    link in the **Admin** toolbar. Click on **Contact forms** on the next page you
    can see **Website feedback** listed.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您最喜欢的浏览器中打开 d8dev 网站，并点击 **管理** 工具栏中的 **结构** 链接。在下一页，您可以看到列出的 **网站反馈**。
- en: Now, click on **Manage form display** in the **OPERATIONS** column for the **Website
    feedback** form:![Time for action – adding placeholder text to our site contact
    form](img/4659_08_03.jpg)
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击 **操作** 列中的 **管理表单显示**，针对 **网站反馈** 表单：![操作时间 – 向我们的网站联系表单添加占位文本](img/4659_08_03.jpg)
- en: On the next screen, you can see that the **Subject** and **Message** fields
    are configurable:![Time for action – adding placeholder text to our site contact
    form](img/4659_08_04.jpg)
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏，您可以看到**主题**和**消息**字段是可以配置的：![操作时间 – 向我们的网站联系表单添加占位文本](img/4659_08_04.jpg)
- en: Now, click on the settings icon for the **Subject** field, fill in **Placeholder**
    as `Please enter your subject here!`, and click on the **Update** button:![Time
    for action – adding placeholder text to our site contact form](img/4659_08_05.jpg)
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击 **主题** 字段的设置图标，填写 **占位符** 为 `请在此处输入您的主题！`，然后点击 **更新** 按钮：![操作时间 – 向我们的网站联系表单添加占位文本](img/4659_08_05.jpg)
- en: Next, click on the settings icon for the **Message** field, fill in **Placeholder**
    as `Please enter your Message here!`, change the **Rows** value from `12` to `8`,
    and click on the **Update** button:![Time for action – adding placeholder text
    to our site contact form](img/4659_08_06.jpg)
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击 **消息** 字段的设置图标，填写 **占位符** 为 `请在此处输入您的消息！`，将 **行数** 值从 `12` 更改为 `8`，然后点击
    **更新** 按钮：![操作时间 – 向我们的网站联系表单添加占位文本](img/4659_08_06.jpg)
- en: Next, log out and navigate to `http://localhost/contact/feedback` as an **ANONYMOUS**
    user. You will see a simple contact form, as shown in the following screenshot:![Time
    for action – adding placeholder text to our site contact form](img/4659_08_07.jpg)
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，以**匿名**用户身份注销并导航到 `http://localhost/contact/feedback`。您将看到一个简单的联系表单，如下面的截图所示：![操作时间
    – 向我们的网站联系表单添加占位文本](img/4659_08_07.jpg)
- en: Note
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You can also try the Contact Storage module, which provides storage for Contact
    messages; these are full-fledged entities in Drupal 8\. This module provides features
    such as Message storage, Edit messages, and Delete messages. For more details,
    check out [https://www.drupal.org/project/contact_storage](https://www.drupal.org/project/contact_storage).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以尝试 Contact Storage 模块，该模块为联系消息提供存储；这些是 Drupal 8 中的完整实体。此模块提供消息存储、编辑消息和删除消息等功能。有关更多详细信息，请参阅
    [https://www.drupal.org/project/contact_storage](https://www.drupal.org/project/contact_storage)。
- en: '*What just happened?*'
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We configured the **Placeholder** text for the **Subject** and **Message** fields
    in the **Manage form display** page for the contact form.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在联系表单的 **管理表单显示** 页面上配置了 **主题** 和 **消息** 字段的 **占位符** 文本。
- en: Using custom code to add placeholder text to the Name and Email fields
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用自定义代码向姓名和电子邮件字段添加占位文本
- en: Drupal provides configurable placeholders for the **Subject** and **Message**
    fields but not for the **Name** and **Email** fields, so we add placeholders for
    them using custom code in our d8dev module.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 为**主题**和**消息**字段提供了可配置的占位符，但不是为**姓名**和**电子邮件**字段，因此我们使用自定义代码在我们的 d8dev
    模块中为它们添加占位符。
- en: Time for action – adding placeholder text to Name and Email fields
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作时间 – 向姓名和电子邮件字段添加占位文本
- en: 'We will utilize the core `hook_form_alter` hook to alter the core contact form
    to display placeholders for name and e-mail fields. We will be adding this code
    to the `d8dev.module` file:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将利用核心 `hook_form_alter` 钩子来修改核心联系表单，以显示姓名和电子邮件字段的占位符。我们将添加以下代码到 `d8dev.module`
    文件中：
- en: In PhpStorm, open the `d8dev.module` file in your custom module at `/modules`.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 PhpStorm 中，打开位于 `/modules` 下的自定义模块中的 `d8dev.module` 文件。
- en: Next, switch over to the browser with the core contact form loaded, and find
    the `form_id` of the form element. Right-click on the page and click on **View
    source code**. On the next page, you can see HTML code. Now search for `form_id`
    and you will find that `contact_message_feedback_form is` the required form ID.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，切换到已加载核心联系表单的浏览器，并找到表单元素的 `form_id`。在页面上右键单击并选择 **查看源代码**。在下一页，您可以看到 HTML
    代码。现在搜索 `form_id`，您将找到所需的表单 ID 为 `contact_message_feedback_form`。
- en: 'In another way, we can use the `drupal_set_message()` core function to find
    the `form_id`. To do this, we need to add the following code on top of the `d8dev.module`
    file:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另一种方法是使用 `drupal_set_message()` 核心函数来查找 `form_id`。为此，我们需要在 `d8dev.module` 文件顶部添加以下代码：
- en: '[PRE0]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Now, reload the `http://localhost/contact/feedback` page as a logged-in user,
    and you will see a message displaying `form_id`, as follows:![Time for action
    – adding placeholder text to Name and Email fields](img/4659_08_08.jpg)
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，以登录用户重新加载`http://localhost/contact/feedback`页面，你会看到一个显示`form_id`的消息，如下所示：![行动时间
    - 向名称和电子邮件字段添加占位文本](img/4659_08_08.jpg)
- en: 'Next, we need to add a placeholder HTML attribute to the `name` and `mail`
    form elements, as follows:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要向`name`和`mail`表单元素添加一个占位符HTML属性，如下所示：
- en: '[PRE1]'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Add the preceding placeholder code only for the contact form. Now our `d8dev_form_alter()`
    function looks like this:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只为联系人表单添加前面的占位符代码。现在我们的`d8dev_form_alter()`函数看起来是这样的：
- en: '[PRE2]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Next, clear the cache by going to **Administration** | **Configuration** | **Development**
    | **Performance**. Now reload the contact page as an **ANONYMOUS** user. Then
    you will see the following form:![Time for action – adding placeholder text to
    Name and Email fields](img/4659_08_09.jpg)
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过访问**管理** | **配置** | **开发** | **性能**来清除缓存。现在以**匿名**用户重新加载联系人页面。然后你会看到以下表单：![行动时间
    - 向名称和电子邮件字段添加占位文本](img/4659_08_09.jpg)
- en: '*What just happened?*'
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We used the `hook_form_alter` hook to add placeholder text to the core contact
    form for the **Name** and **Email** fields.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用了`hook_form_alter`钩子向核心联系人表单的**名称**和**电子邮件**字段添加占位文本。
- en: Time for another recipe!
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 是时候再做一个菜谱了！
- en: Just in case you were getting hungry, we are going to add a new recipe. Let's
    add it now so that we have something delicious to eat as we work our way through
    the rest of this challenging chapter! The recipe for this chapter is garlic chicken
    Indian style. Enjoy!
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 就算你开始饿了，我们也会添加一个新的菜谱。现在就加进来，这样我们就可以在完成这个具有挑战性的章节的剩余部分时享受一些美味的食物！这一章的菜谱是印度风蒜香鸡。享受吧！
- en: '![Time for another recipe!](img/4659_08_09_39.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![是时候再做一个菜谱了！](img/4659_08_09_39.jpg)'
- en: '**Name**: Garlic chicken Indian style'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**：印度风蒜香鸡'
- en: '**Description**: Garlic chicken recipe Indian style, Learn how to make garlic
    chicken in 20 minutes, Includes restaurant style and home style starters, curries,
    biryanis and more. This garlic chicken can be prepared in just 20 mins excluding
    the marinating time. It makes a perfect starter or a side to make a meal exotic.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：印度风蒜香鸡菜谱，学习如何在20分钟内制作蒜香鸡，包括餐厅风格和家庭风格的开胃菜、咖喱、比拉尼等。这道蒜香鸡可以在20分钟内准备完成（不包括腌制时间）。它是一个完美的开胃菜或配菜，可以让你的餐点更加异国风味。'
- en: '**recipeYield**: Four servings'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**recipeYield**：四份'
- en: '**prepTime**: 20 minutes'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**prepTime**：20分钟'
- en: '**cookTime**: 20 minutes'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**cookTime**：20分钟'
- en: '**Ingredients**:'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配料**：'
- en: 300 grams of chicken strips or boneless cubes
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 300克鸡肉条或去骨块
- en: 4 tbsp. yogurt/dahi/curd (do not use sour yogurt)
  id: totrans-54
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4汤匙酸奶/达希/凝乳（不要使用酸酸奶）
- en: Salt—very little
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 盐——非常少
- en: A generous pinch of pepper
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 适量胡椒
- en: Two tbsp. oil
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个汤匙油
- en: One sprig curry leaf
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一枝咖喱叶
- en: ¼ tsp cumin
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ¼茶匙孜然
- en: One onion chopped finely
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个切碎的洋葱
- en: Five red chilies or ¾ tsp red chili powder
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 五个红辣椒或¾茶匙红辣椒粉
- en: Five garlic cloves crushed
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 五瓣捣碎的大蒜
- en: ¾ tbsp. vinegar
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ¾汤匙醋
- en: ¼ tsp sugar (optional)
  id: totrans-64
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ¼茶匙糖（可选）
- en: Salt to taste
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据口味加盐
- en: Water—15 to 30 ml (the lesser the better) to make a paste
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 水——15至30毫升（越少越好）以制作糊状物
- en: A few coriander leaves
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几片香菜叶
- en: Onion wedges or rings
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 洋葱楔或圈
- en: Lemon
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 柠檬
- en: '**Instructions**:'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**说明**：'
- en: Mix yogurt, salt, and pepper with ½ to ¾ cup of water. Beat well and set aside.
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将酸奶、盐和胡椒与半杯至¾杯水混合。充分搅拌后放置一旁。
- en: Wash chicken and soak it in this prepared butter milk for 2 hours to overnight
    in the refrigerator.
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 洗净鸡肉，将其浸泡在这准备好的黄油牛奶中，放入冰箱冷藏2小时至过夜。
- en: Soaking for at least 6 hours is recommended to get soft chicken.
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 建议至少浸泡6小时以获得柔软的鸡肉。
- en: Blend and make a paste of the ingredients mentioned for chili garlic sauce.
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将用于辣椒蒜香酱的配料搅拌并制成糊状。
- en: Drain the buttermilk and add the prepared sauce.
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 倒掉酸奶油，加入准备好的酱汁。
- en: Mix well and leave it for 5 minutes. If you want to prepare it at a later time,
    you can put it back in the refrigerator.
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搅拌均匀，静置5分钟。如果你想稍后准备，可以将其放回冰箱。
- en: Heat a pan with oil. Add cumin and curry leaves. Sauté until the cumin begins
    to splutter.
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用油加热平底锅。加入孜然和咖喱叶。炒至孜然开始噼啪作响。
- en: Add onions and fry until golden.
  id: totrans-78
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加入洋葱，炒至金黄色。
- en: Add the chicken and fry on high heat for 2 to 3 minutes. When you see the chicken
    turning white, cover it with a lid, lower the heat, and cook until the chicken
    turns tender. This barely takes 5 minutes if you are using strips.
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鸡肉加入，用大火煎2到3分钟。当你看到鸡肉变白时，盖上盖子，降低火力，煮至鸡肉变嫩。如果你使用的是条状鸡肉，这几乎只需要5分钟。
- en: Remove the lid and fry until the moisture evaporates and the sauce begins to
    cling to the chicken. The longer it is roasted, the more aromatic and tastier
    the sauce becomes, but the chicken tends to lose its tenderness.
  id: totrans-80
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取下盖子，煎至水分蒸发，酱汁开始粘附在鸡肉上。煎得越久，酱汁越香，越美味，但鸡肉往往会失去其嫩滑。
- en: So take off from the heat when it is of your liking. Take care not to burn;
    garlic burns faster.
  id: totrans-81
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所以，在你喜欢的时候，从炎热中解脱出来。小心不要烧焦；大蒜烧得更快。
- en: Colorbox file enhancements
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Colorbox 文件增强
- en: We added the Colorbox module to our d8dev site in the previous chapter to display
    the images in the overlay. Currently, the Colorbox module displays the title of
    the recipe as the caption for all recipe images displayed in the Colorbox overlay
    for our Recipe content type, as shown in the following screenshot. But it's not
    working with image properties such as title and alt values.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们将 Colorbox 模块添加到我们的 d8dev 网站中，用于显示叠加中的图片。目前，Colorbox 模块将菜谱的标题作为所有在 Colorbox
    叠加中显示的菜谱图片的标题，如图下所示。但是，它与标题和 alt 值等图片属性不兼容。
- en: '![Colorbox file enhancements](img/4659_08_40.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![Colorbox 文件增强](img/4659_08_40.jpg)'
- en: 'So for that, we raised an issue in the Colorbox issues queue ([https://www.drupal.org/node/264516](https://www.drupal.org/node/264516)0)
    in [Chapter 7](ch07.html "Chapter 7. Adding Media to Our Site"), *Adding Media
    to Our Site*. Colorbox maintainer `@frjo` replied as follows:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们在 [第 7 章](ch07.html "第 7 章。向我们的网站添加媒体")，*向我们的网站添加媒体*中，在 Colorbox 问题队列中提出了一个问题
    ([https://www.drupal.org/node/264516](https://www.drupal.org/node/264516)0)。Colorbox
    维护者 `@frjo` 如下回复：
- en: '*"The file entity module is a contrib module so what you really is asking for
    is that Colorbox support it. Change the title so this is clear. I have never used
    that module but if someone who does sends in a patch I will take a look at it."*'
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*"文件实体模块是一个贡献模块，所以你真正需要的是 Colorbox 支持它。更改标题以便清晰。我从未使用过该模块，但如果有人提交补丁，我会查看。"*'
- en: Before we begin creating a patch, we need to have a clear understanding of why
    it isn't showing up in this case of the `title` or `alt` property. I went through
    the Colorbox module and did debug on all preprocess functions where it was rendering
    the images field properties. I found that the `template_preprocess_colorbox_formatter()`
    function is the right function that loads all attributes of the image field. But
    when the file entity module is enabled, it does not load because the files have
    become entities and Colorbox doesn't know how to render from image files. So,
    we are going to create a patch for this issue and submit it in the Colorbox issue
    that we created in the last chapter.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始创建补丁之前，我们需要清楚地了解为什么在 `title` 或 `alt` 属性的情况下没有显示。我查看了 Colorbox 模块，并对所有渲染图片字段属性的预处理函数进行了调试。我发现
    `template_preprocess_colorbox_formatter()` 函数是正确加载图片字段所有属性的函数。但是，当文件实体模块启用时，它不会加载，因为文件已经变成了实体，Colorbox
    不知道如何从图片文件中渲染。因此，我们将为这个问题创建一个补丁，并在上一章中创建的 Colorbox 问题中提交它。
- en: Time for action – enhancing the Colorbox module with image title and alt captions
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 - 增强Colorbox模块以包含图片标题和alt标题
- en: 'So, where do we begin implementing this proposed approach and complete the
    associated feature request? We will start by debugging the available processed
    `$variable` in the `template_preprocess_colorbox_formatter()` function so that
    we can modify or add required properties to the image field:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，我们应该从哪里开始实施这个建议的方法并完成相关的功能请求呢？我们将从调试 `template_preprocess_colorbox_formatter()`
    函数中可用的处理过的 `$variable` 开始，以便我们可以修改或添加到图片字段中所需属性：
- en: In PhpStorm, open the `colorbox.inc` file in your contribute modules at the
    `/modules` folder.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 PhpStorm 中，打开 `/modules` 文件夹中的贡献模块的 `colorbox.inc` 文件。
- en: 'Before we start modifying or adding code, let''s understand the code in the
    `template_preprocess_colorbox_formatter()` function in the `colorbox.inc` file.
    First, we need to know where caption settings are saved. There is the `$settings`
    variable that has been declared; add the following code next to the `$settings`
    variable (line 35):'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我们开始修改或添加代码之前，让我们先了解 `colorbox.inc` 文件中的 `template_preprocess_colorbox_formatter()`
    函数中的代码。首先，我们需要知道标题设置在哪里保存。有一个 `$settings` 变量已经被声明；在 `$settings` 变量旁边添加以下代码（第 35
    行）：
- en: '[PRE3]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Clear the cache from the **Performance** page and reload the recipe content;
    you will see the following:![Time for action – enhancing the Colorbox module with
    image title and alt captions](img/4659_08_10_41.jpg)
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**性能**页面清除缓存并重新加载菜谱内容；你将看到以下内容：![执行时间 – 使用图像标题和alt标题增强Colorbox模块](img/4659_08_10_41.jpg)
- en: We noticed that auto is the colorbox caption for this content type. To confirm
    this, go to **Structure** | **Content types** and click on **Manage display**
    for the recipe content type. Next, click on the settings icon for the **Recipe
    images** field and you will notice the **Caption** as **Automatic**:![Time for
    action – enhancing the Colorbox module with image title and alt captions](img/4659_08_10.jpg)
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们注意到自动是此内容类型的colorbox标题。为了确认这一点，转到**结构** | **内容类型**，然后点击菜谱内容类型的**管理显示**。接下来，点击**菜谱图像**字段的设置图标，你会注意到**标题**设置为**自动**：![执行时间
    – 使用图像标题和alt标题增强Colorbox模块](img/4659_08_10.jpg)
- en: Your settings might be different, so in the last step, you can see relatively.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的设置可能不同，所以最后一步中你可以相对地看到。
- en: 'In the next lines, we can see a `switch` statement declared as follows to set
    the `$caption` variable, which is going to be displayed as caption in the Colorbox
    overlay:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在接下来的几行中，我们可以看到一个`switch`语句的声明，如下设置`$caption`变量，它将作为Colorbox覆盖层的标题显示：
- en: '[PRE4]'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: So, we can understand that the `$caption` variable needs to be modified to set
    alt or title text as the caption. To confirm this, when `$caption` is getting
    loaded in the colorbox overlay; we just have to set some dummy text to it and
    we will see the effect on the recipe content. Before adding the dummy text, remove
    the `var_dump($settings); die;` line you added in the last step.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 因此，我们可以理解`$caption`变量需要修改为设置alt或标题文本作为标题。为了确认这一点，当`$caption`在colorbox覆盖层中加载时；我们只需向其中设置一些占位符文本，我们就会在菜谱内容中看到效果。在添加占位符文本之前，删除你在上一步添加的`var_dump($settings);
    die;`行。
- en: 'Next, add the following line next to the switch statement:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在`switch`语句旁边添加以下行：
- en: '[PRE5]'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Clear the cache from the **Performance** page. Reload the recipe content and
    click on any image to check the caption; you will see the following screenshot:![Time
    for action – enhancing the Colorbox module with image title and alt captions](img/4659_08_11.jpg)
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**性能**页面清除缓存。重新加载菜谱内容并点击任何图像以检查标题；你将看到以下截图：![执行时间 – 使用图像标题和alt标题增强Colorbox模块](img/4659_08_11.jpg)
- en: 'Before moving to the next step, remove the dummy caption code you added in
    the last step: `$caption = ''This is test caption!'';`.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在进行下一步之前，删除你在上一步添加的占位符标题代码：`$caption = 'This is test caption!';`。
- en: 'Next, preprocess the title of the `attributes` variable, which needs to be
    loaded from the image file entity. Add the following code before the `$variables[''attributes''][''title'']
    = $caption;` line, which is at the end of the `template_preprocess_colorbox_formatter()`
    function:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，预处理`attributes`变量的标题，该变量需要从图像文件实体中加载。在`template_preprocess_colorbox_formatter()`函数末尾的`$variables['attributes']['title']
    = $caption;`行之前添加以下代码：
- en: '[PRE6]'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: First, we checked whether the `file_entity` module is enabled because this module
    is not dependent on the colorbox module. The purpose of the `file_entity` module
    is to provide interfaces for managing files and files to be fieldable as entities,
    so the properties of the image file can be rendered as objects. Next, we added
    code that loads the file object and we set the `$caption` variable by validating
    the title and alt text properties from the `$file` object.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们检查了`file_entity`模块是否启用，因为这个模块不依赖于colorbox模块。`file_entity`模块的目的是提供管理文件以及将文件作为实体字段化的接口，因此图像文件的属性可以渲染为对象。接下来，我们添加了加载文件对象的代码，并通过验证来自`$file`对象的标题和alt文本属性来设置`$caption`变量。
- en: To see this effect on the recipe content, clear the cache from the Performance
    page and reload the recipe content before making sure that your image has updated
    with alt and title texts.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了在菜谱内容中看到这个效果，在确保你的图像已更新了alt和标题文本之前，从性能页面清除缓存并重新加载菜谱内容。
- en: Next, go to the Recipe content type manage display page, click on the settings
    icon for the **Recipe images** field and update the **Caption** as **Title text**.
    Click on the **Save** button at the bottom of the **Manage display** page and
    reload the recipe content page to see the changes. Click on any image. WOW! Now
    it's showing title text as captions (see the next screenshot). Alternatively,
    update **Caption** as **Alt text** in the settings and check the recipe content;
    it will work:![Time for action – enhancing the Colorbox module with image title
    and alt captions](img/4659_08_12.jpg)
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，转到“食谱内容类型管理显示页面”，点击“食谱图像”字段的设置图标，并将**标题**更新为**标题文本**。在“管理显示”页面的底部点击**保存**按钮，并重新加载食谱内容页面以查看更改。点击任何图像。哇！现在它正在显示标题文本作为字幕（见下一张截图）。或者，在设置中将**字幕**更新为**Alt
    文本**并检查食谱内容；它将工作：![行动时间 – 使用图像标题和 alt 字幕增强 Colorbox 模块](img/4659_08_12.jpg)
- en: '*What just happened?*'
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We updated the colorbox module with custom code to work with the title and alt
    text properties of images.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用自定义代码更新了 colorbox 模块，使其能够与图像的标题和 alt 文本属性一起工作。
- en: Contributing our code to Drupal
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将我们的代码贡献给 Drupal
- en: Now we have code that will be usable across the colorbox module. But, how do
    we get this code into the hands of other Drupal users, and better yet, have it
    maintained as part of the colorbox module? To share this code, we are going to
    create a patch.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了将在 colorbox 模块中通用的代码。但是，我们如何将此代码传递给其他 Drupal 用户，并且最好是将它作为 colorbox 模块的一部分进行维护？为了共享此代码，我们将创建一个补丁。
- en: Time for action – creating a patch and uploading it on the Drupal issues queue
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 – 创建补丁并将其上传到 Drupal 问题队列
- en: 'Before we can create a patch the Drupal 8/Git way, we need to check out the
    colorbox module project with Git to a new directory:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们能够使用 Drupal 8/Git 方式创建补丁之前，我们需要使用 Git 将 colorbox 模块项目检出到一个新目录：
- en: Go to [https://www.drupal.org/project/colorbox/git-instructions](https://www.drupal.org/project/colorbox/git-instructions).
    At the top, you can see the **Version to work from** select box. Select **8.x-1.x**
    and click on the **Show** button:![Time for action – creating a patch and uploading
    it on the Drupal issues queue](img/4659_08_13.jpg)
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 [https://www.drupal.org/project/colorbox/git-instructions](https://www.drupal.org/project/colorbox/git-instructions)。在顶部，你可以看到
    **从哪个版本开始工作** 选择框。选择 **8.x-1.x** 并点击 **显示** 按钮：![行动时间 – 创建补丁并将其上传到 Drupal 问题队列](img/4659_08_13.jpg)
- en: 'Now open the Terminal and go to any location (the `cd <path/to/go>` command)
    where you wish to clone the colorbox module. Run the following command to clone
    the colorbox Git repository:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在打开终端并转到你希望克隆 colorbox 模块的任何位置（使用 `cd <path/to/go>` 命令），然后运行以下命令来克隆 colorbox
    Git 仓库：
- en: '[PRE7]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Next, we need to make the same changes in the `colorbox.inc` file that we just
    made for our d8dev site to the code that we just cloned with Git.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要将我们刚刚为 d8dev 网站所做的更改应用到 `colorbox.inc` 文件中，以及我们刚刚使用 Git 克隆的代码中。
- en: 'Now that we have updated the code, we are ready to create our patch. Following
    the Drupal guidelines at [http://drupal.org/node/707484](http://drupal.org/node/707484),
    run this command from the colorbox root folder:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们已经更新了代码，我们准备创建我们的补丁。按照 Drupal 指南 [http://drupal.org/node/707484](http://drupal.org/node/707484)
    在 colorbox 根目录下运行此命令：
- en: '[PRE8]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Next, we will comment on the issue at [http://drupal.org/node/2645160](http://drupal.org/node/2645160)
    and upload our patch with our comments, making sure that the status of the issue
    is set to needs review:![Time for action – creating a patch and uploading it on
    the Drupal issues queue](img/4659_08_14.jpg)
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将在 [http://drupal.org/node/2645160](http://drupal.org/node/2645160) 的问题上进行评论，并上传我们的补丁以及我们的评论，确保问题状态设置为需要审查：![行动时间
    – 创建补丁并将其上传到 Drupal 问题队列](img/4659_08_14.jpg)
- en: 'If we want to apply the patch just shown, we use the following `git` command:'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果我们想应用刚刚显示的补丁，我们使用以下 `git` 命令：
- en: '[PRE9]'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'If want to revert the last applied patch, then we use these git commands:'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果想撤销最后应用的补丁，那么我们使用以下 git 命令：
- en: '[PRE10]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '*What just happened?*'
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: Not only did we update our code so that it will work across the Colorbox module
    and any number of Drupal sites, but we also helped the Drupal community. We learned
    how to create a patch. We will get back to the Colorbox issue at [http://drupal.org/node/2645160](http://drupal.org/node/2645160)
    to see how the Drupal community responds to our patch.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不仅更新了代码，使其能够在 Colorbox 模块和任何数量的 Drupal 网站上工作，我们还帮助了 Drupal 社区。我们学习了如何创建补丁。我们将回到
    [http://drupal.org/node/2645160](http://drupal.org/node/2645160) 的 Colorbox 问题，看看
    Drupal 社区如何对我们的补丁做出回应。
- en: Recipe reviews with comments
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 带有评论的食谱审查
- en: Now that we have enhanced the Colorbox module with configurable captions, we
    will turn our attention back to enhancing user interaction for the site. One great
    way to get visitors to interact with a website is to allow them to review and
    like/dislike the content, in this case, recipes.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经增强了Colorbox模块的可配置标题，我们将把注意力转回到增强网站的用户交互。让访客能够评审和点赞/不喜欢内容是吸引他们与网站互动的一个很好的方法，在这种情况下，是菜谱。
- en: Time for action – configuring comments as recipe reviews
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作时间 – 配置评论为菜谱评审
- en: 'We will now set up the comments so that visitors to our d8dev site will be
    able to review the recipes:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将设置评论，以便我们的d8dev网站的访客能够评审菜谱：
- en: We will configure our Recipe content type to use the comments. Open up the d8dev
    site in your favorite browser, click on the **Structure** link in the **Admin**
    toolbar, then click on the **Comment types** link, and finally click on the **Add
    content type** link for your Recipe content type.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将配置我们的菜谱内容类型以使用评论。在您喜欢的浏览器中打开d8dev网站，点击**管理**工具栏中的**结构**链接，然后点击**评论类型**链接，最后点击为您的菜谱内容类型添加的**添加内容类型**链接。
- en: On the next screen, enter `Recipe Review` as the value for the **Label** field
    and **Content** as the `Target entity type` field. Click on the **Save** button:![Time
    for action – configuring comments as recipe reviews](img/4659_08_15.jpg)
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏，将`菜谱评审`作为**标签**字段的值，将**内容**作为`目标实体类型`字段的值。点击**保存**按钮：![操作时间 – 配置评论为菜谱评审](img/4659_08_15.jpg)
- en: We added a new comment type and it can be used in any content types. Click on
    the **Structure** link in the **Admin** toolbar, then click on the **Content types**
    link, and finally click on the **Manage fields** link for your Recipe content
    type.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们添加了一个新的评论类型，并且它可以在任何内容类型中使用。点击**管理**工具栏中的**结构**链接，然后点击**内容类型**链接，最后点击您的菜谱内容类型的**管理字段**链接。
- en: Next, click on the **Add field** link. On the next screen, select **Comments**
    as **Add a new field**, enter `Recipe Review` as **Label**, and click on the **Save
    and continue** button:![Time for action – configuring comments as recipe reviews](img/4659_08_16.jpg)
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**添加字段**链接。在下一屏，选择**评论**作为**添加新字段**，输入`菜谱评审`作为**标签**，然后点击**保存并继续**按钮：![操作时间
    – 配置评论为菜谱评审](img/4659_08_16.jpg)
- en: On the next screen, select **Recipe Review** as **Comment type** and click on
    the **Save field settings** button. Next, leave all fields as default and click
    on the **Save settings** button:![Time for action – configuring comments as recipe
    reviews](img/4659_08_17.jpg)
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏，选择**菜谱评审**作为**评论类型**，然后点击**保存字段设置**按钮。接下来，保留所有字段为默认设置，并点击**保存设置**按钮：![操作时间
    – 配置评论为菜谱评审](img/4659_08_17.jpg)
- en: We have enabled comments for recipe content types. Now we reload the recipe
    content as an **ANONYMOUS** user to see the default comments form. But we cannot
    see the form because of permission issues. To set the permission, go to **people**
    | **permissions**, check the **Post comments** permission for **ANONYMOUS** users,
    scroll down to the bottom of the page, and click on the **Save permissions** button.
    Again, reload the recipe content as an **ANONYMOUS** user and you will see something
    like the following screenshot:![Time for action – configuring comments as recipe
    reviews](img/4659_08_18.jpg)
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们已经为菜谱内容类型启用了评论。现在我们以**匿名**用户重新加载菜谱内容，以查看默认的评论表单。但由于权限问题，我们看不到表单。要设置权限，请转到**人员**
    | **权限**，为**匿名**用户检查**发表评论**权限，滚动到页面底部，然后点击**保存权限**按钮。再次以**匿名**用户重新加载菜谱内容，您将看到如下截图：![操作时间
    – 配置评论为菜谱评审](img/4659_08_18.jpg)
- en: We don't need the name, subject, and comment fields provided by default. We
    are going to delete them and add the **e-mail** and **How does it taste ?** fields.
    Now click on **Structure** in the **Admin** bar, and then click on the link **Comment
    types**.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们不需要默认提供的名称、主题和评论字段。我们将删除它们并添加**电子邮件**和**味道如何？**字段。现在点击**管理**工具栏中的**结构**，然后点击**评论类型**链接。
- en: Now, click on **Manage fields** from the Operations for Recipe review comment
    type. You can see that only the **Comment** field is there. Click on the **Delete**
    link from **OPERATIONS** for the **Comment** field. On the next screen, click
    on the **Delete** button to delete this field:![Time for action – configuring
    comments as recipe reviews](img/4659_08_19.jpg)
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击**菜谱评审评论类型**的操作中的**管理字段**。您可以看到只有**评论**字段。点击**操作**中的**评论**字段的**删除**链接。在下一屏，点击**删除**按钮来删除此字段：![操作时间
    – 配置评论为菜谱评审](img/4659_08_19.jpg)
- en: Next, click on **Add field**, select **Add a new field** as **Email**, enter
    **Label** as `E-mail`, and click on the **Save and continue** button:![Time for
    action – configuring comments as recipe reviews](img/4659_08_20.jpg)
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**添加字段**，选择**添加新字段**为**电子邮件**，输入**标签**为`E-mail`，然后点击**保存并继续**按钮：![操作时间
    – 配置评论为食谱评论](img/4659_08_20.jpg)
- en: On the next screen, leave the default values **Limited**, **1**, and click on
    the **Save field settings** button. Next, check **Required field** and click on
    the **Save settings** button.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，保留默认值**限制**、**1**，然后点击**保存字段设置**按钮。接下来，勾选**必填字段**并点击**保存设置**按钮。
- en: Now, click on the **Add field** link. Select **Text (plain, long)** as **Add
    a new field** and **How does it taste ?** as the **Label**. Click on the **Save
    and continue** button.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击**添加字段**链接。选择**文本（纯文本，长文本）**作为**添加新字段**，并将**标签**设置为**口感如何？**。点击**保存并继续**按钮。
- en: On the next screen, leave the default settings as **1** and click on the **Save
    field settings** button. Again on the next screen, leave all fields as default
    and click on the **Save settings** button.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，保留默认设置**1**，然后点击**保存字段设置**按钮。再次在下一屏幕上，保留所有字段为默认值，然后点击**保存设置**按钮。
- en: Next, reload the recipe content as an **ANONYMOUS** user. We can see the form
    as shown in the following screenshot:![Time for action – configuring comments
    as recipe reviews](img/4659_08_21.jpg)
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，以**匿名**用户重新加载食谱内容。我们可以看到以下截图所示的形式：![操作时间 – 配置评论为食谱评论](img/4659_08_21.jpg)
- en: But we can still see the **Your name** and **Subject** fields, which are not
    required. So we will disable them from the **Manage form display** page. Now,
    click on **Manage form display** for the Recipe Review comment type. On the next
    screen, select the **Hidden** value for the **Author** and **Subject** fields
    and click on the **Save** button. See the following screenshot:![Time for action
    – configuring comments as recipe reviews](img/4659_08_22.jpg)
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 但是我们仍然可以看到**您的姓名**和**主题**字段，这些字段不是必需的。因此，我们将从**管理表单显示**页面禁用它们。现在，点击**管理表单显示**以访问食谱评论类型。在下一屏幕上，将**作者**和**主题**字段的值设置为**隐藏**，然后点击**保存**按钮。请参阅以下截图：![操作时间
    – 配置评论为食谱评论](img/4659_08_22.jpg)
- en: Now we reload the recipe content, and we can see the comment form as follows:![Time
    for action – configuring comments as recipe reviews](img/4659_08_23.jpg)
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们重新加载食谱内容，我们可以看到以下评论表单：![操作时间 – 配置评论为食谱评论](img/4659_08_23.jpg)
- en: We need to restrict viewing comments for **ANONYMOUS** and **AUTHENTICATED**
    user roles since we need to display only the number of likes for the recipe content.
    To set the permission, go to **people** | **permissions**. Uncheck the **View
    comments** permission for **ANONYMOUS** and **AUTHENTICATED** users, scroll down
    to the bottom of the page, and click on the **Save permissions** button.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于我们需要显示食谱内容的点赞数，我们需要限制**匿名**和**认证**用户角色的评论查看权限。要设置权限，请转到**人员** | **权限**。取消勾选**匿名**和**认证**用户的**查看评论**权限，滚动到页面底部，然后点击**保存权限**按钮。
- en: '*What just happened?*'
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**发生了什么？**'
- en: We created a new comment type, Recipe review, and enabled it in the Recipe content
    type. Also, we configured new fields in the Recipe review comment type.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个新的评论类型，食谱评论，并在食谱内容类型中启用了它。此外，我们在食谱评论评论类型中配置了新的字段。
- en: Time for action – enhancing the liking system using comments and views
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作时间 – 使用评论和视图增强点赞系统
- en: 'We will now set up a like/dislike button so that visitors to our d8dev site
    will be able to like/dislike the recipes. Also, we will show how many people have
    liked each recipe content:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将设置一个点赞/不喜欢按钮，以便我们的d8dev网站的访客能够点赞/不喜欢食谱。此外，我们将展示有多少人喜欢了每个食谱内容：
- en: Firstly, we will add the **Do you like it ?** button in the Recipe Review comment
    type so that visitors to our d8dev site will be able to like/dislike the recipes.
    Open up the d8dev site in your favorite browser, and click on the **Structure**
    link in the **Admin** toolbar. Then click on the **Comment types** link, and finally
    click on the **Manage fields** link for your Recipe review in the **Operations**
    dropdown.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将在食谱评论类型中添加**你喜欢它吗？**按钮，以便我们的d8dev网站的访客能够点赞/不喜欢食谱。在你的浏览器中打开d8dev网站，点击**管理**工具栏中的**结构**链接。然后点击**评论类型**链接，最后在**操作**下拉菜单中点击为你的食谱评论**管理字段**链接。
- en: Click on the **Add field** link to add a new field. On the next screen, select
    **List (integer)** as **Add a new field** and `Do you like it ?` as **Label**.
    Click on the **Save and continue** button:![Time for action – enhancing the liking
    system using comments and views](img/4659_08_24.jpg)
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加字段**链接以添加新字段。在下一屏幕上，选择**列表（整数）**作为**添加新字段**，并将**你喜欢它吗？**作为**标签**。点击**保存并继续**按钮：![操作时间
    – 使用评论和视图增强喜欢系统](img/4659_08_24.jpg)
- en: 'Now, enter the following text in the **Allowed values list** field, leave other
    settings as default, and click on the **Save field settings** button:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在**允许的值列表**字段中输入以下文本，保留其他设置默认，然后点击**保存字段设置**按钮：
- en: '[PRE11]'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: For this step, check the **Required field** button, select **Default value**
    as **Yes**, and click on the **Save settings** button.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这一步，请检查**必填字段**按钮，选择**默认值**为**是**，然后点击**保存设置**按钮。
- en: Now click on the **Manage form display** link. Change the **Do you like it ?**
    field widget to the **Check boxes/radio buttons** widget and click on the **Save**
    button:![Time for action – enhancing the liking system using comments and views](img/4659_08_25.jpg)
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击**管理表单显示**链接。将**你喜欢它吗？**字段小部件更改为**复选框/单选按钮**小部件，然后点击**保存**按钮：![操作时间 – 使用评论和视图增强喜欢系统](img/4659_08_25.jpg)
- en: Next, reload the recipe content and you can see the comment form as follows:![Time
    for action – enhancing the liking system using comments and views](img/4659_08_26.jpg)
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，重新加载食谱内容，您可以看到以下评论表单：![操作时间 – 使用评论和视图增强喜欢系统](img/4659_08_26.jpg)
- en: We have enabled the **Like** button. Next, we need to show how many people have
    liked the recipe content. We are going to create one view block to display the
    count of likes for each recipe content. Open up the d8dev site in your favorite
    browser. Click on the **Structure** link in the **Admin** toolbar, then click
    on the **Views** link, and finally click on the **Add new view** link.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们已经启用了**喜欢**按钮。接下来，我们需要展示有多少人喜欢了食谱内容。我们将创建一个视图块来显示每个食谱内容的点赞数。在您喜欢的浏览器中打开d8dev网站。点击**管理**工具栏中的**结构**链接，然后点击**视图**链接，最后点击**添加新视图**链接。
- en: On the **Add new view** page, enter the view name as `Recipe likes count`. In
    the **View settings** section, select the **Show** field as **Comments** and the
    **of type** field as **Recipe review**. In the **Block settings** section, check
    **Create block** and click on the **Save and edit** button.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**添加新视图**页面，输入视图名称为`Recipe likes count`。在**视图设置**部分，选择**显示**字段为**评论**，**类型**字段为**食谱评论**。在**块设置**部分，勾选**创建块**并点击**保存并编辑**按钮。
- en: 'Next, in the **Format** section, click on the **Show: Comment** link. Then,
    a popup will appear. Change the **Row** field value comment to fields and click
    on the **Apply (all displays)** button:![Time for action – enhancing the liking
    system using comments and views](img/4659_08_27.jpg)'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**格式**部分，点击**显示：评论**链接。然后，将出现一个弹出窗口。将**行**字段值评论更改为字段，并点击**应用（所有显示）**按钮：![操作时间
    – 使用评论和视图增强喜欢系统](img/4659_08_27.jpg)
- en: 'Next, in the **Advanced** section and under the **Other** group, click on the
    **Use aggregation: No** link. Then, a popup will appear. Check **Aggregate** and
    click on the **Apply (all displays)** button:![Time for action – enhancing the
    liking system using comments and views](img/4659_08_28.jpg)'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**高级**部分和**其他**组下，点击**使用聚合：否**链接。然后，将出现一个弹出窗口。勾选**聚合**并点击**应用（所有显示）**按钮：![操作时间
    – 使用评论和视图增强喜欢系统](img/4659_08_28.jpg)
- en: Now, in the **Fields** section, click on the **Add** link. In the popup, search
    for the keywords `do you like`. Then check the **Do you like it ? (field_do_you_like_it_)**
    checkbox and click on the **Apply(all displays)** button:![Time for action – enhancing
    the liking system using comments and views](img/4659_08_29.jpg)
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在**字段**部分，点击**添加**链接。在弹出的窗口中，搜索关键词`do you like`。然后勾选**你喜欢它吗？(field_do_you_like_it_)**复选框，并点击**应用（所有显示）**按钮：![操作时间
    – 使用评论和视图增强喜欢系统](img/4659_08_29.jpg)
- en: On the next screen, select **Sum** as the **Aggregation type** field and click
    on the **Apply and continue** button:![Time for action – enhancing the liking
    system using comments and views](img/4659_08_30.jpg)
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，选择**求和**作为**聚合类型**字段，并点击**应用并继续**按钮：![操作时间 – 使用评论和视图增强喜欢系统](img/4659_08_30.jpg)
- en: 'On the next screen, scroll down to the **REWRITE RESULTS** section and click
    on it. Check the **Override the output of this field with custom text** checkbox
    and enter the following text in the **Text** field:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，向下滚动到**重写结果**部分并点击它。勾选**用自定义文本覆盖此字段的输出**复选框，并在**文本**字段中输入以下文本：
- en: '[PRE12]'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Next, in the **STYLE SETTINGS** section, check the **Customize field HTML**
    checkbox. Select the **HTML element** as **STRONG** and click on the **Apply(all
    displays)** button.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**样式设置**部分，勾选**自定义字段HTML**复选框。选择**HTML元素**为**STRONG**，并点击**应用(所有显示)**按钮。
- en: Now, in the **ADVANCED** section, click on the **Add** link for **CONTEXTUAL
    FILTERS**. In the popup, search for the keywords `node id`. Then check the **Node
    ID** checkbox and click on the **Apply(all displays)** button. On the next screen,
    leave the settings as default and click on the **Apply and continue** button.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在**高级**部分，点击**添加**链接以添加**上下文过滤器**。在弹出的窗口中，搜索关键词`node id`。然后勾选**节点ID**复选框，并点击**应用(所有显示)**按钮。在下一屏幕上，保持设置默认，并点击**应用并继续**按钮。
- en: Under the **WHEN THE FILTER VALUE IS NOT AVAILABLE** section on the next screen,
    select the **Provide default value** radio button. Select **Type** as **Content
    ID from URL** and click on the **Apply(all displays)** button at the bottom:![Time
    for action – enhancing the liking system using comments and views](img/4659_08_31.jpg)
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕的**当过滤器值不可用**部分，选择**提供默认值**单选按钮。选择**类型**为**从URL获取内容ID**，并点击底部的**应用(所有显示)**按钮：![操作时间
    – 使用评论和查看增强点赞系统](img/4659_08_31.jpg)
- en: 'Next, in the **FIELDS** section, click on the **Comment: Title** link. In the
    popup, click on the **Delete** link. In the same **FIELDS** section, click on
    the **Add** link. In the popup, search for `title` and select **Type** as **Content**.
    Check the **Title** checkbox and click on the **Apply(all displays)** button at
    the bottom.'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**字段**部分，点击**评论：标题**链接。在弹出的窗口中，点击**删除**链接。在相同的**字段**部分，点击**添加**链接。在弹出的窗口中，搜索`title`，并将**类型**选择为**内容**。勾选**标题**复选框，并在底部点击**应用(所有显示)**按钮。
- en: On the next screen, leave the default settings and click on the **Apply and
    continue** button.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，保持默认设置，并点击**应用并继续**按钮。
- en: On the next screen, check the **Exclude from display** checkbox and click on
    the **Apply(all displays)** button at the bottom. Then, scroll down and click
    on the **Save** button to save the view settings.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，勾选**排除显示**复选框，并在底部点击**应用(所有显示)**按钮。然后，向下滚动并点击**保存**按钮以保存视图设置。
- en: We are done creating a block view. Now we need to place this block in the Recipe
    content page. Click on the **Structure** link in the **Admin** toolbar, and then
    click on the **Block layout** link.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们已经完成了块视图的创建。现在我们需要将此块放置在食谱内容页面上。点击**管理**工具栏中的**结构**链接，然后点击**块布局**链接。
- en: Scroll down to the **Content** section and click on the **Place block** button.
    Next, in the popup, search for `Recipe likes count` and click on the **Place block**
    button for this:![Time for action – enhancing the liking system using comments
    and views](img/4659_08_32.jpg)
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动到**内容**部分，并点击**放置块**按钮。接下来，在弹出的窗口中，搜索`Recipe likes count`，并点击此**放置块**按钮：![操作时间
    – 使用评论和查看增强点赞系统](img/4659_08_32.jpg)
- en: On the next screen, uncheck **Display title**. Under the **Content types** section
    check **Recipe** and leave the other settings as default. Click on the **Save
    block** button:![Time for action – enhancing the liking system using comments
    and views](img/4659_08_33.jpg)
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏幕上，取消勾选**显示标题**。在**内容类型**部分，勾选**食谱**，并保持其他设置默认。点击**保存块**按钮：![操作时间 – 使用评论和查看增强点赞系统](img/4659_08_33.jpg)
- en: Next, in the **Block layout** page, move the **Recipe likes count** block to
    above the **Main page content** block and scroll down to the bottom. Click on
    the **Save block** button:![Time for action – enhancing the liking system using
    comments and views](img/4659_08_34.jpg)
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**块布局**页面，将**食谱点赞数**块移动到**主页内容**块上方，并向下滚动到页面底部。点击**保存块**按钮：![操作时间 – 使用评论和查看增强点赞系统](img/4659_08_34.jpg)
- en: 'We are now done with all configurations. Now we need to check out the recipe
    content page to check how the number of likes will display on it. We will use
    the Devel module to generate dummy content and comments. Use Drush to download
    and enable the Devel module. Run the following commands in the d8dev root folder:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们已经完成了所有配置。现在我们需要检查菜谱内容页面，看看点赞数是如何显示的。我们将使用Devel模块生成示例内容和评论。使用Drush下载并启用Devel模块。在d8dev根目录下运行以下命令：
- en: '[PRE13]'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: To generate dummy content, open up the d8dev site in your favorite browser,
    click on the **Configuration** link in the **Admin** toolbar, and then click on
    the **Generate content** link under the **DEVELOPMENT** section.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要生成示例内容，请打开您喜欢的浏览器中的d8dev网站，点击**管理**工具栏中的**配置**链接，然后点击**开发**部分下的**生成内容**链接。
- en: On the next screen, check the **Recipe** content type, enter `10` in the **Maximum
    number of comments per node** field, and click on the **Generate** button. This
    will generate 50 Recipe contents with 10 comments each:![Time for action – enhancing
    the liking system using comments and views](img/4659_08_35.jpg)
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏上，检查**菜谱**内容类型，在**每个节点最大评论数**字段中输入`10`，然后点击**生成**按钮。这将生成50个带有10条评论的菜谱内容：![操作时间
    – 使用评论和视图增强点赞系统](img/4659_08_35.jpg)
- en: Open any Recipe content that was just created by the devel module from the **Admin
    Content** page. We can see the count of likes as shown in the next screenshot.
    If we check all comments of this Recipe, we can find only **4**(or how many **Yes**
    values) likes from the **Do you like it ?** field:![Time for action – enhancing
    the liking system using comments and views](img/4659_08_36.jpg)
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开由devel模块在**管理内容**页面创建的任何菜谱内容。我们可以看到下一张截图所示的点赞数。如果我们检查这个菜谱的所有评论，我们可以从**你喜欢它吗？**字段中找到只有**4**（或多少个**是**值）的点赞：![操作时间
    – 使用评论和视图增强点赞系统](img/4659_08_36.jpg)
- en: Only approved comments' likes will be counted, so if we get any comments, then
    the administrator has to update them as **Published comments**. To do this, we
    have to go to `http://localhost/admin/content/comment/approval`:![Time for action
    – enhancing the liking system using comments and views](img/4659_08_37.jpg)
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只有经过批准的评论的点赞会被计算，所以如果我们收到任何评论，管理员必须将它们更新为**已发布评论**。为此，我们必须转到`http://localhost/admin/content/comment/approval`：![操作时间
    – 使用评论和视图增强点赞系统](img/4659_08_37.jpg)
- en: '*What just happened?*'
  id: totrans-182
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We created a **View** block and configured the comment settings to use for the
    Review and Like/Dislike recipes on our d8dev site. The process was straightforward
    and showed that sometimes adding a unique flare to a Drupal site doesn't take
    much development at all.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个**视图**块，并配置了评论设置，用于在d8dev网站上对评论和点赞/踩赞菜谱进行设置。整个过程简单直接，表明有时给Drupal网站添加独特的亮点并不需要太多的开发工作。
- en: Summary
  id: totrans-184
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we added some new features that will provide a way for visitors
    to interact with our d8dev site, and we enhanced some of those interactive features
    with comments and views. We also revisited the Colorbox File module that was introduced
    in the previous chapter, and made some modifications to it that allow more control
    over how captions are displayed in the Colorbox overlay.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们添加了一些新功能，为访客提供了与我们的d8dev网站互动的方式，我们还通过评论和视图增强了其中一些互动功能。我们还回顾了上一章中引入的Colorbox文件模块，并对它进行了一些修改，以便更好地控制如何在Colorbox覆盖层中显示标题。
- en: In the next chapter, we will take a more in-depth look at the Views module.
    We will explore advanced configuration and developing a custom Views plugin that
    utilizes a custom jQuery plugin to display the Views output in semantic and progressive
    enhanced tabs.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将更深入地探讨视图模块。我们将探索高级配置和开发一个自定义视图插件，该插件利用自定义jQuery插件以语义化和渐进增强的方式显示视图输出。

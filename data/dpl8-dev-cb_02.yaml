- en: The Content Authoring Experience
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内容创作体验
- en: 'In this chapter, we will explore what Drupal 8 brings to the content authoring
    experience:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨Drupal 8为内容创作体验带来的变化：
- en: Configuring the WYSIWYG editor
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置所见即所得编辑器
- en: Adding and editing content
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加和编辑内容
- en: Creating a menu and linking content
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建菜单并链接内容
- en: Providing inline editing
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供内联编辑
- en: Creating a custom content type
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建自定义内容类型
- en: Applying new Drupal 8 core field types
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用新的Drupal 8核心字段类型
- en: Customizing the form display of a node
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义节点表单显示
- en: Customizing the display output of a node
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义节点显示输出
- en: Introduction
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: In this chapter, we'll cover the Drupal 8 content authoring experience. We will
    show you how to configure text formats and set up the bundled CKEditor that ships
    with Drupal 8\. We will take a look at how to add and manage content and utilize
    menus to link to content. Drupal 8 ships with inline editing for per-field modifications
    from the frontend.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍Drupal 8的内容创作体验。我们将向您展示如何配置文本格式并设置随Drupal 8一起提供的捆绑CKEditor。我们将探讨如何添加和管理内容以及如何使用菜单链接到内容。Drupal
    8提供了前端对每个字段的修改的内联编辑。
- en: This chapter dives into *creating custom content types* and harnessing different
    fields to create advanced content. We'll cover the five new fields added to Drupal
    8 core and how to use them, along with configuring new field types through contributed
    projects. We will go through customizing the content's display and modifying the
    new form display added in Drupal 8.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本章深入探讨**创建自定义内容类型**并利用不同的字段创建高级内容。我们将介绍添加到Drupal 8核心的五个新字段以及如何使用它们，以及通过贡献项目配置新字段类型。我们将探讨自定义内容的显示以及修改Drupal
    8中添加的新表单显示。
- en: Configuring the WYSIWYG editor
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置所见即所得编辑器
- en: Drupal 8 saw the collaboration between the Drupal development community and
    the CKEditor development community. Because of this, Drupal now ships with CKEditor
    out of the box as the default **What You See Is What You Get** (**WYSIWYG**) editor.
    The new Editor module provides an API to integrate WYSIWYG editors. Although CKEditor
    is provided out of the box, contributed modules can provide integrations with
    other WYSIWYG editors.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8见证了Drupal开发社区和CKEditor开发社区的协作。因此，Drupal现在默认附带CKEditor作为**所见即所得**（**WYSIWYG**）编辑器。新的编辑器模块提供了一个API来集成所见即所得编辑器。尽管CKEditor默认提供，但贡献模块可以提供与其他所见即所得编辑器的集成。
- en: Text formats control the formatting of content and WYSIWYG editor configuration
    for content authors. The standard Drupal installation profile provides a fully
    configured text format with the enabled CKEditor. We will walk through the steps
    of recreating this text format.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 文本格式控制内容格式化和内容作者所见即所得编辑器配置。标准的Drupal安装配置文件提供了一个完全配置的文本格式，启用了CKEditor。我们将逐步介绍重新创建此文本格式的步骤。
- en: In this recipe, we will create a new text format with a custom CKEditor WYSIWYG
    configuration.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，我们将创建一个新的文本格式，并带有自定义CKEditor WYSIWYG配置。
- en: Getting ready
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before starting, make sure that the CKEditor module is enabled, which also requires
    Editor
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，请确保已启用CKEditor模块，这还要求启用编辑器
- en: as a dependency. **Editor** is the module that provides an API to integrate
    WYSIWYG editors
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 作为依赖项。**编辑器**是提供API以集成所见即所得编辑器的模块
- en: with text formats.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 与文本格式一起。
- en: How to do it...
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Let''s create a new text format with a custom CKEditor WYSIWYG configuration:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个新的文本格式，并带有自定义CKEditor WYSIWYG配置：
- en: Visit Configuration from the administrative toolbar and head to Text formats
    and editors under the CONTENT AUTHORING heading.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从管理工具栏访问“配置”并转到“内容创作”下的“文本格式和编辑器”。
- en: 'Click on Add text format to begin creating the new text format:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加文本格式”开始创建新的文本格式：
- en: '![](img/9090c293-6ad6-431b-835c-24307503a5bc.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9090c293-6ad6-431b-835c-24307503a5bc.png)'
- en: Enter a name for the text format, such as editor format.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为文本格式输入一个名称，例如编辑器格式。
- en: Select which roles have access to this format--this allows you to have granular
    control over what users can use when authoring content.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择哪些角色可以访问此格式--这允许你对用户在创作内容时可以使用的内容进行细粒度控制。
- en: Select CKEditor from the Text editor select list. The configuration form for
    CKEditor will then be loaded.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文本编辑器选择列表中选择CKEditor。然后，将加载CKEditor的配置表单。
- en: You may now use an in-place editor to drag buttons onto the provided toolbar
    to configure your CKEditor toolbar:![](img/f3f5e25d-ee6a-47aa-a1eb-3cd534782d4f.png)
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以使用内联编辑器将按钮拖放到提供的工具栏中，以配置您的CKEditor工具栏！:![img/f3f5e25d-ee6a-47aa-a1eb-3cd534782d4f.png]
- en: Select any of the Enabled filters you would like, except for Display any HTML
    as Plain text. That would be counter-intuitive to using a WYSIWYG editor!
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要的任何启用过滤器，除了“显示任何HTML为纯文本”。这在使用所见即所得编辑器时可能会让人感到不直观！
- en: When satisfied, click on Save Configuration to save your configuration and create
    the text filter.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你满意时，点击“保存配置”以保存你的配置并创建文本过滤器。
- en: How it works...
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The Filter modules provide text formats that control over how rich text fields
    are presented to the user. Drupal will render rich text saved in a text area based
    on the defined text format for the field. Text fields with "formatted" in their
    title will respect text format settings; others will render in plain text.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 过滤器模块提供了控制如何向用户展示富文本字段的文本格式。Drupal将根据字段的定义文本格式渲染在文本区域中保存的富文本。标题中包含“格式化”的文本字段将尊重文本格式设置；其他字段将以纯文本形式渲染。
- en: The text formats and editors screen warns of a security risk due to improper
    configuration. This is because you could grant an anonymous user access to a text
    format that allows full HTML or allows image sources to be from remote URLs.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 文本格式和编辑器屏幕警告由于配置不当存在安全风险。这是因为你可能会授予匿名用户访问允许完整HTML或允许图像来源来自远程URL的文本格式的权限。
- en: The Editor module provides a bridge to WYSIWYG editors and text formats. It
    alters the text format form and rendering to allow the integration of WYSIWYG
    editor libraries. This allows each text format to have its own configuration for
    its WYSIWYG editor.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 编辑器模块提供了一个连接到WYSIWYG编辑器和文本格式的桥梁。它修改文本格式表单和渲染，以允许集成WYSIWYG编辑器库。这使得每个文本格式都可以为其WYSIWYG编辑器拥有自己的配置。
- en: Out of the box, the Editor module alone does not provide an editor. The CKEditor
    module works with the Editor API to enable the usage of the WYSIWYG editor.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，编辑器模块本身不提供编辑器。CKEditor模块与编辑器API一起工作，以启用WYSIWYG编辑器的使用。
- en: Drupal can support other WYSWIG editors, such as markItUp ([http://markitup.jaysalvat.com/home/](http://markitup.jaysalvat.com/home/))
    or TinyMCE ([https://www.tinymce.com/](https://www.tinymce.com/)) through contributed
    modules.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal可以通过贡献模块支持其他WYSWIG编辑器，例如markItUp ([http://markitup.jaysalvat.com/home/](http://markitup.jaysalvat.com/home/))
    或TinyMCE ([https://www.tinymce.com/](https://www.tinymce.com/))。
- en: There's more...
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Drupal provides granular control of how rich text is rendered, and extensible
    ways, which we will discuss further.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal提供了对富文本渲染的细粒度控制，以及可扩展的方式，我们将在后面进一步讨论。
- en: Filter module
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 过滤器模块
- en: When string data is added to a field that supports text formats, the data is
    saved and preserved as it was originally entered. Enabled filters for a text format
    will not be applied until the content is viewed. Drupal works in such a way that
    it saves the original content and only filters on display.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 当将字符串数据添加到支持文本格式的字段时，数据将按原始输入保存并保留。对于文本格式的启用过滤器将在内容查看时才应用。Drupal以保存原始内容并在显示时进行过滤的方式工作。
- en: With the Filter module enabled, you gain the ability to specify how text is
    rendered based on the roles of the user who created the text. It is important
    to understand the filters applied to a text format that uses a WYSIWYG editor.
    For example, if you selected the Display any HTML as plain text option, the formatting
    done by the WYSIWYG editor would be stripped out when viewed.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 启用过滤器模块后，你可以指定基于创建文本的用户角色如何渲染文本。理解使用WYSIWYG编辑器的文本格式中应用的过滤器非常重要。例如，如果你选择了“显示任何HTML为纯文本”选项，当查看时，WYSIWYG编辑器所做的格式化将被移除。
- en: Improved links
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 改进的链接
- en: A major component of WYSIWYG editing is the ability to insert links to other
    pieces of content or external sites. The default link button integrated with CKEditor
    allows for basic link embedding. This means that your content editors must know
    their internal content URLs ahead of time to link to them. A solution to this
    issue is the Linkit module at [https://www.drupal.org/project/linkit](https://www.drupal.org/project/linkit).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: WYSIWYG编辑的一个主要组成部分是插入指向其他内容或外部网站的链接的能力。与CKEditor集成的默认链接按钮允许进行基本的链接嵌入。这意味着你的内容编辑必须在事先知道内部内容URL的情况下才能链接到它们。解决这个问题的解决方案是Linkit模块，位于[https://www.drupal.org/project/linkit](https://www.drupal.org/project/linkit)。
- en: 'The module can be installed using Composer by running the following command:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过运行以下命令使用Composer安装该模块：
- en: '[PRE0]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The **Linkit** module provides a drop-in replacement for the default link functionality.
    It adds auto-complete search for internal content and adds additional options
    for displaying the field. **Linkit** works by creating different profiles that
    allow you to control what content can be referenced, what attributes can be managed,
    and which users and roles can use a Linkit profile.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**Linkit**模块提供了对默认链接功能的直接替换。它增加了对内部内容的自动完成搜索，并为显示字段添加了额外的选项。**Linkit**通过创建不同的配置文件来实现，允许您控制可以引用的内容、可以管理的属性以及哪些用户和角色可以使用Linkit配置文件。'
- en: '![](img/ccf8b78c-de40-4f9a-9d71-a0b2e51c16ce.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ccf8b78c-de40-4f9a-9d71-a0b2e51c16ce.png)'
- en: CKEditor plugins
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CKEditor插件
- en: The `CKEditor` module provides a plugin type called `CKEditorPlugin`. Plugins
    are small pieces of swappable functionality within Drupal 8\. Plugins and plugin
    development are covered in [*Chapter 7*](3994173f-3d31-4f01-b808-99e01368564b.xhtml),
    *Plug and Play with Plugins*. This type provides integration between `CKEditor`
    and Drupal 8.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '`CKEditor`模块提供了一个名为`CKEditorPlugin`的插件类型。插件是Drupal 8中可互换功能的小块。插件和插件开发在[*第7章*](3994173f-3d31-4f01-b808-99e01368564b.xhtml)，*插件即插即用*中有所介绍。此类型提供了`CKEditor`和Drupal
    8之间的集成。'
- en: The image and link capabilities are plugins defined within the `CKEditor` module.
    Additional plugins can be provided through contributed projects or custom development.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图片和链接功能是定义在`CKEditor`模块内的插件。可以通过贡献项目或自定义开发提供额外的插件。
- en: Refer to the `\Drupal\ckeditor\Annotation\CKEditorPlugin` class for the plugin
    definition and the suggested `\Drupal\ckeditor\Plugin\CKEditorPlugin\DrupalImage`
    class as a working example.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅`\Drupal\ckeditor\Annotation\CKEditorPlugin`类以获取插件定义，以及作为工作示例的`\Drupal\ckeditor\Plugin\CKEditorPlugin\DrupalImage`类。
- en: See also
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: The official blog post from `CKEditor` about how Drupal adopted it as the official
    WYSIWYG editor at [http://ckeditor.com/blog/CKEditor-Joins-Drupal](http://ckeditor.com/blog/CKEditor-Joins-Drupal).
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于Drupal如何采用`CKEditor`作为官方WYSIWYG编辑器的官方博客文章，请参阅[http://ckeditor.com/blog/CKEditor-Joins-Drupal](http://ckeditor.com/blog/CKEditor-Joins-Drupal)。
- en: Refer to [*Chapter 7*](3994173f-3d31-4f01-b808-99e01368564b.xhtml), *Plug and
    Play with Plugins*.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请参阅[*第7章*](3994173f-3d31-4f01-b808-99e01368564b.xhtml)，*插件即插即用*。
- en: Adding and editing content
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加和编辑内容
- en: The main functionality of a content management system is in the name itself--the
    ability to manage content; that is, to add, edit, and organize content. Drupal
    provides a central form that allows you to manage all of the content within your
    website and allows you to create new content. Additionally, you can view a piece
    of content and click on an edit link when viewing it.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 内容管理系统的主要功能在其名称本身中就体现出来了——管理内容的能力；也就是说，添加、编辑和组织内容。Drupal提供了一个中央表单，允许您管理网站内的所有内容，并允许您创建新内容。此外，您可以在查看内容时查看内容，并点击编辑链接。
- en: Getting ready
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This recipe assumes that you have installed the standard installation profile
    and have the default node content types available for use.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 此菜谱假设您已安装标准安装配置文件，并且可以使用默认的节点内容类型。
- en: How to do it...
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Let''s manage the content by adding, editing, and organizing the content:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 通过添加、编辑和组织内容来管理内容：
- en: Go to Content to view the content management overview from.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往内容以查看内容管理概述。
- en: Click on Add content to view the list of available content types.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加内容以查看可用的内容类型列表。
- en: Click on Article as the piece of content you would like to make.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击文章作为您想要制作的内容。
- en: 'Provide a title for the piece of content. Titles are always required for content.
    Fill in the body text for the article:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为内容提供标题。内容标题总是必需的。填写文章的主体文本：
- en: '![](img/2385f0fe-faba-4003-8a4b-3082ffedc74a.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2385f0fe-faba-4003-8a4b-3082ffedc74a.png)'
- en: You may change the text format to customize what kind of text is allowed. If
    the user only has one format available, there will be no select box, but the About
    text formats link will still be present.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以更改文本格式以自定义允许的文本类型。如果用户只有一个格式可用，则不会有选择框，但“关于文本格式”链接仍然存在。
- en: Once you have added your text, click on Save and publish at the bottom of the
    form. You will then be redirected to view the newly created piece of content.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您添加文本后，点击表单底部的保存并发布。然后您将被重定向到查看新创建的内容。
- en: Note that the URL for the piece of content is `/node/#`. This is the default
    path for content and can be changed by editing the content.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注意，内容URL为`/node/#`。这是内容的默认路径，可以通过编辑内容进行更改。
- en: Click on Edit tab from the tabs right above the content.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击内容上方右侧的“编辑”标签页。
- en: 'From the right sidebar, click on URL PATH SETTINGS to expand the section and
    enter a custom alias, for example `/awesome-article` (note the required `/` symbol):'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从右侧边栏中，点击“URL路径设置”以展开部分并输入自定义别名，例如`/awesome-article`（注意所需的`/`符号）：
- en: '![](img/212dfb0d-1149-42a7-a260-d5ddc82308f0.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/212dfb0d-1149-42a7-a260-d5ddc82308f0.png)'
- en: Save the content, and note that the URL for your article is `/awesome-article`.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存内容，并注意您的文章URL为`/awesome-article`。
- en: You could also edit this article from the Content table by clicking on Edit
    there, instead of from viewing the content.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你也可以通过点击内容表中的“编辑”来编辑这篇文章，而不是从查看内容处编辑。
- en: How it works...
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The Content page is a **View**, which will be discussed in [*Chapter 3*](2015063a-2e03-45d2-822d-892e87f10e41.xhtml),
    *Displaying Content Through Views*. This creates a table of all the content on
    your site that can be searched and filtered. From here, you can view, edit, or
    delete any single piece of content.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 内容页面是一个**视图**，将在[*第3章*](2015063a-2e03-45d2-822d-892e87f10e41.xhtml)，*通过视图显示内容*中讨论。这创建了一个包含你网站上所有内容的表格，可以进行搜索和筛选。从这里，你可以查看、编辑或删除任何单个内容。
- en: In Drupal, there are content entities that provide a method of creation, editing,
    deletion, and viewing. Nodes are a form of a content entity. When you create a
    node, it will build the proper form that allows you to fill in the piece of content's
    data. The same process follows for editing content.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在Drupal中，有内容实体提供创建、编辑、删除和查看的方法。节点是一种内容实体。当你创建一个节点时，它将构建适当的表单，允许你填写内容的数据。编辑内容的过程遵循相同的步骤。
- en: When you save the content, Drupal writes the node's content to the database
    along with all of its respective field data.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 当你保存内容时，Drupal将节点的内容及其所有相关字段数据写入数据库。
- en: There's more...
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Drupal 8's content management system provides many features; we will cover some
    extra information.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8的内容管理系统提供了许多功能；我们将涵盖一些额外信息。
- en: Save as draft
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保存为草稿
- en: 'New to Drupal 8 is the ability to easily save a piece of content as a draft
    instead of directly publishing it. Instead of clicking on Save and publish, click
    on the arrow next to it to expand the Save as unpublished option:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8新增了轻松将内容保存为草稿而不是直接发布的功能。不是点击“保存并发布”，而是点击旁边的箭头以展开“保存为未发布”选项：
- en: '![](img/74ca66cf-bb5c-4b1f-9b61-bf303b84bdac.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/74ca66cf-bb5c-4b1f-9b61-bf303b84bdac.png)'
- en: The aforementioned button has several usability and user experience reviews
    and will be changing, for the better, in future versions of Drupal. One of the
    issues to follow is located at [https://www.drupal.org/node/1899236](https://www.drupal.org/node/1899236).
    The issue highlights different proposed fixes following consistent user experience
    patterns defined in existing frontend libraries.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 上述按钮有几项可用性和用户体验审查，将在Drupal的未来版本中改进。要跟踪的一个问题位于[https://www.drupal.org/node/1899236](https://www.drupal.org/node/1899236)。该问题强调了根据现有前端库中定义的统一用户体验模式提出的不同修复方案。
- en: Pathauto
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Pathauto
- en: There is a contributed project called Pathauto that simplifies the process of
    providing URL aliases. It allows you to define patterns that will automatically
    create URL aliases for content. This module utilizes tokens to allow for very
    robust paths for content.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个名为Pathauto的捐赠项目，它简化了提供URL别名的过程。它允许你定义模式，这些模式将自动为内容创建URL别名。此模块利用标记来允许内容拥有非常健壮的路径。
- en: The Pathauto project can be found at [https://www.drupal.org/project/pathauto](https://www.drupal.org/project/pathauto).
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Pathauto项目可以在[https://www.drupal.org/project/pathauto](https://www.drupal.org/project/pathauto)找到。
- en: There is a proposed issue to provide the functionality of Pathauto in Drupal
    core, and it can be followed at [https://www.drupal.org/node/229568](https://www.drupal.org/node/229568).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个提议要为Drupal核心提供Pathauto的功能，可以在[https://www.drupal.org/node/229568](https://www.drupal.org/node/229568)跟踪。
- en: Bulk moderation
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 批量管理
- en: 'You also have the capability to perform bulk actions on content. This is available
    on the Content management screen. The table that lists the site content provides
    checkboxes at the beginning of each row. For each selected item, you can choose
    an item from With selection to make bulk changes, such as deleting, publishing,
    and unpublishing content:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以对内容执行批量操作。这在内容管理屏幕上可用。列出网站内容的表格在每个行的开头都有复选框。对于每个选定的项目，你可以从“与选择一起”中选择一个项目来执行批量更改，例如删除、发布和取消发布内容：
- en: '![](img/7b049114-0120-4bf6-a192-6d23ab9f2d87.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/7b049114-0120-4bf6-a192-6d23ab9f2d87.png)'
- en: See also
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: Refer to the *Customizing the form display of a node* recipe of this chapter.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参考本章的*自定义节点表单显示*配方。
- en: Creating a menu and linking content
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建菜单和链接内容
- en: Drupal provides a way to link content being authored to a specified menu on
    the website, generally the main menu. You can, however, create a custom menu to
    provide links to content. In this recipe, we will show you how to create a custom
    menu and link content to it. We will then place the menu as a block on the page,
    in the sidebar.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal提供了一种将正在创建的内容链接到网站上的指定菜单的方法，通常是主菜单。然而，您也可以创建一个自定义菜单以提供内容链接。在本教程中，我们将向您展示如何创建自定义菜单并将内容链接到它。然后，我们将把菜单作为一个块放置在页面的侧边栏中。
- en: Getting ready
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This recipe assumes that you have installed the standard installation profile
    and have the default node content types available for use. You should have some
    content created to create a link.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 本配方假设您已安装标准安装配置文件，并且有默认节点内容类型可供使用。您应该有一些内容创建以创建链接。
- en: How to do it...
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Visit Structure and click on Menus.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问结构并点击菜单。
- en: Click on Add menu.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加菜单。
- en: Provide the title Sidebar and optional summary and then click on Save.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供标题“侧边栏”和可选摘要，然后点击保存。
- en: Once the menu is saved, click on the Add link button.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存菜单后，点击添加链接按钮。
- en: 'Enter a link title and then type the title for a piece of content. The form
    will provide autocomplete suggestions for linkable content:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入链接标题，然后输入内容的标题。表单将提供可链接内容的自动完成建议：
- en: '![](img/563b5698-2fd6-4317-b0fc-4d2156b7acd6.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/563b5698-2fd6-4317-b0fc-4d2156b7acd6.png)'
- en: Click on Save to save the menu link.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击保存以保存菜单链接。
- en: With the menu link saved, go to Structure, and then Block layout.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存菜单链接后，转到结构，然后是块布局。
- en: 'Click on Place block next to Sidebar first. In the modal, search for the Sidebar
    menu and click on Place block:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先点击侧边栏旁边的放置块。在模态窗口中，搜索侧边栏菜单并点击放置块：
- en: '![](img/fd5754df-2dd3-4b94-9f06-1392c40c05f5.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fd5754df-2dd3-4b94-9f06-1392c40c05f5.png)'
- en: In the following form, click on Save block.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在以下表单中，点击保存块。
- en: 'View your Drupal site by clicking on Home in the administration menu, and you
    will see the following menu:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击管理菜单中的“首页”来查看您的Drupal网站，您将看到以下菜单：
- en: '![](img/2073e13e-a16b-4060-82d3-256fb82f3453.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2073e13e-a16b-4060-82d3-256fb82f3453.png)'
- en: How it works...
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: Menus and links are part of Drupal core. The ability to make custom menus and
    menu links is provided through the **Menu UI** module. This module is enabled
    on the standard installation profile, but may not be in others.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 菜单和链接是Drupal核心的一部分。创建自定义菜单和菜单链接的能力是通过**菜单UI**模块提供的。此模块在标准安装配置文件中已启用，但在其他配置文件中可能未启用。
- en: The Link input of the menu link form allows you to begin typing node titles
    and easily linking them to existing content. This was a piece of functionality
    not available in previous versions of Drupal. It will automatically convert the
    title into the internal path for you. Link input also accepts a regular path,
    such as `/node/1` or an external path.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 菜单链接表单的链接输入允许您开始键入节点标题并轻松地将它们链接到现有内容。这是以前Drupal版本中不可用的功能。它将自动将标题转换为内部路径。链接输入还接受常规路径，例如`/node/1`或外部路径。
- en: You must have a valid path; you cannot add empty links to a menu. There is work
    being done to allow adding empty or ID selector link paths--refer to [https://www.drupal.org/node/1543750](https://www.drupal.org/node/1543750).
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您必须有一个有效的路径；您不能向菜单添加空链接。正在进行工作以允许添加空或ID选择器链接路径--请参阅[https://www.drupal.org/node/1543750](https://www.drupal.org/node/1543750)。
- en: There's more...
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更多...
- en: Links can be managed through the content edit form itself, which will be covered
    next.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 链接可以通过内容编辑表单本身进行管理，这将在下一部分介绍。
- en: Managing a contents menu link from its form
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从其表单管理内容菜单链接
- en: A piece of content can be linked to a menu from the add or edit form. The menu
    settings section allows you to toggle the availability of a menu link. The menu
    link title will reflect the content's title by default.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 一块内容可以从添加或编辑表单链接到菜单。菜单设置部分允许您切换菜单链接的可用性。默认情况下，菜单链接标题将反映内容的标题。
- en: The parent item allows you to decide which menu and which item it will appear
    under. By default, content types only have the main menu allowed. Editing a content
    type can allow for multiple menus or only choose a custom menu.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 父项目允许您决定它将出现在哪个菜单和哪个项目下。默认情况下，内容类型仅允许主菜单。编辑内容类型可以允许使用多个菜单或仅选择自定义菜单。
- en: This allows you to populate the main menu or complimentary menu without having
    to visit the menu management screens.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 这允许您填充主菜单或辅助菜单，而无需访问菜单管理屏幕。
- en: Providing inline editing
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提供内联编辑
- en: A touted feature of Drupal 8 is the ability to provide inline editing. Inline
    editing is enabled by default with the standard installation profile through the
    **Quick Edit** module. The Quick Edit module allows editing individual fields
    while viewing a piece of content, and integrates it with the Editor module for
    WYSIWYG editors!
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8的一个备受推崇的功能是提供内联编辑。内联编辑通过标准安装配置文件默认启用，通过**快速编辑**模块实现。快速编辑模块允许在查看内容时编辑单个字段，并将其与编辑器模块集成以实现WYSIWYG编辑器！
- en: How to do it...
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Let''s provide inline editing:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们提供内联编辑：
- en: Go to a piece of created content.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往一个已创建的内容页面。
- en: 'In order to enable inline editing, you must toggle contextual links on the
    page by clicking on Edit in the upper right of the administrative toolbar:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了启用内联编辑，您必须通过在管理工具栏右上角点击“编辑”来切换页面上的上下文链接：
- en: '![](img/9ccc5d76-963d-4cfe-85a6-97ec78d2a767.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9ccc5d76-963d-4cfe-85a6-97ec78d2a767.png)'
- en: 'This will toggle the contextual links available on the page. Click on the context
    link next to the content and select Quick edit:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将切换页面上的上下文链接。点击内容旁边的上下文链接并选择快速编辑：
- en: '![](img/5b6d70af-46f1-4dc6-9532-40dc98876b6e.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/5b6d70af-46f1-4dc6-9532-40dc98876b6e.png)'
- en: 'Hover over the body text and click on Edit. You can now edit the text with
    a minimal version of the WYSIWYG editor toolbar:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标悬停在正文文本上并点击“编辑”。现在您可以使用WYSIWYG编辑器工具栏的简化版本来编辑文本：
- en: '![](img/861e540e-de83-4df7-8194-5e28844285fa.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/861e540e-de83-4df7-8194-5e28844285fa.png)'
- en: Once you have changed the text, click on Save.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改文本后，点击保存。
- en: The changes will be saved immediately.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 变更将立即保存。
- en: How it works...
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The **Contextual links** module provides privileged users with shortcut links
    to modify blocks or content. The contextual links are toggled by clicking on Edit
    in the toolbar. The Edit link toggles the visibility of contextual links on the
    page. Previously, in Drupal 7, contextual links appeared as cogs when a specific
    region was hovered over.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**上下文链接**模块为特权用户提供修改块或内容的快捷链接。上下文链接通过在工具栏中点击“编辑”来切换。编辑链接切换页面上的上下文链接的可见性。在Drupal
    7中，上下文链接在悬停特定区域时显示为齿轮。'
- en: The Quick Edit module builds on the contextual links features. It allows field
    formatters, which display field data, to describe how they will interact. By default,
    Quick Edit sets this to a form. Clicking on an element will use JavaScript to
    load a form and save data via AJAX calls.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 快速编辑模块建立在上下文链接功能之上。它允许字段格式化器，用于显示字段数据，描述它们将如何交互。默认情况下，快速编辑将其设置为表单。点击一个元素将使用JavaScript加载表单并通过AJAX调用保存数据。
- en: Quick Edit will not work on administrative pages.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 快速编辑功能不适用于管理页面。
- en: There's more...
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更多...
- en: With each minor release of Drupal 8, there are more improvements to the inline
    editing experience.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Drupal 8的每个小版本发布，内联编辑体验都有更多改进。
- en: The outside-in approach
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从外向内的方法
- en: There is an experimental module in Drupal 8.2 that allows you to editing blocks
    and other site configuration from the frontend of the website, just like Quick
    Edit for content. To enable this, install the **Settings Tray** module.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8.2中有一个实验性模块允许您从网站的前端编辑块和其他网站配置，就像内容的快速编辑一样。要启用此功能，请安装**设置托盘**模块。
- en: When you browse the Drupal site, you will note a new **Edit** button in the
    left of the toolbar. Clicking on this will allow you to edit blocks and the site
    configuration.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 当您浏览Drupal网站时，您会在工具栏左侧注意到一个新的**编辑**按钮。点击此按钮将允许您编辑块和网站配置。
- en: '![](img/f6f62f5d-4d20-4797-b8a9-182eb65f366f.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/f6f62f5d-4d20-4797-b8a9-182eb65f366f.png)'
- en: For more information, review the Drupal.org handbook for this feature at [https://www.drupal.org/docs/8/core/modules/outside-in/overview](https://www.drupal.org/docs/8/core/modules/outside-in/overview).
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息，请参阅Drupal.org手册中关于此功能的文档，网址为[https://www.drupal.org/docs/8/core/modules/outside-in/overview](https://www.drupal.org/docs/8/core/modules/outside-in/overview)。
- en: Creating a custom content type
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建自定义内容类型
- en: Drupal excels in the realm of content management by allowing different types
    of content. In this recipe, we will walk you through creating a custom content
    type. We will create a Services type that has some basic fields and would be used
    in a scenario that brings attention to a company's provided services.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 在内容管理领域表现出色，允许不同类型的内容。在这个菜谱中，我们将向您展示如何创建自定义内容类型。我们将创建一个具有一些基本字段并用于关注公司提供服务的场景的服务类型。
- en: You will also learn how to add fields to a content type in this recipe, which
    generally goes hand in hand with making a new content type on a Drupal site.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 您还将学习如何在菜谱中向内容类型添加字段，这通常与在 Drupal 网站上创建新的内容类型相辅相成。
- en: How to do it...
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Go to Structure and then Content types. Click on Add content type to begin creating
    a new content type.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往结构，然后内容类型。点击添加内容类型以开始创建新的内容类型。
- en: Enter Services as the name, and an optional description.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入服务作为名称，并可选地输入描述。
- en: 'Select Display settings and uncheck the Display author and date information
    checkbox. This will hide the author and submitted time from services pages:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择显示设置，取消选中显示作者和日期信息复选框。这将隐藏作者和提交时间从服务页面：
- en: '![](img/59e5918a-16c8-4976-9fa1-6c3e1aacfcb6.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/59e5918a-16c8-4976-9fa1-6c3e1aacfcb6.png)'
- en: Click on the Save and manage fields button to save the new content type and
    manage its fields.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击保存和管理字段按钮以保存新的内容类型并管理其字段。
- en: By default, new content types have a Body field automatically added to them.
    We will keep this field in place.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，新内容类型会自动添加一个正文字段。我们将保留这个字段。
- en: We will add a field that will provide a way to enter a marketing headline for
    the service. Click on Add field.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将添加一个字段，提供一种输入服务营销标题的方法。点击添加字段。
- en: 'Select Text (plain) from the dropdown and enter Marketing headline as the label:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉菜单中选择文本（纯文本），并将营销标题作为标签输入：
- en: '![](img/fe77687b-b5cb-4778-b493-eadbb16aee38.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fe77687b-b5cb-4778-b493-eadbb16aee38.png)'
- en: The Text (plain) option is a regular text field. The Text (formatted) option
    will allow you to use text formats on the displayed text in the field.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 文本（纯文本）选项是一个常规文本字段。文本（格式化）选项将允许您在字段中显示的文本上使用文本格式。
- en: Click on Save field settings on the next form. On the following form, click
    on Save settings to finish adding the field.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个表单上点击保存字段设置。在随后的表单上，点击保存设置以完成字段的添加。
- en: 'The field has now been added, and content of this type can be created:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 字段现在已经添加，可以创建此类内容：
- en: '![](img/dc0bf2ab-131b-4d18-bec8-c81ae5c968bb.png)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/dc0bf2ab-131b-4d18-bec8-c81ae5c968bb.png)'
- en: How it works...
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In Drupal, there are entities that have bundles. A bundle is just a type of
    entity that can have specific configurations and fields attached. When working
    with nodes, a bundle is generally referred to as a content type.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Drupal 中，有一些实体具有捆绑包。捆绑包只是可以附加特定配置和字段的一种实体类型。当与节点一起工作时，捆绑包通常被称为内容类型。
- en: Content types can be created as long as the Node module is enabled. When a content
    type is created through the user interface, it invokes the `node_add_body_field()`
    function. This function adds the default body field for content types.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 只要启用节点模块，就可以创建内容类型。当通过用户界面创建内容类型时，它会调用 `node_add_body_field()` 函数。此函数为内容类型添加默认的正文字段。
- en: Fields can only be managed or added if the Field UI module is enabled. The Field
    UI module exposes the **Manage Fields**, **Manage Form Display**, and **Manage
    Display** for entities, such as nodes and blocks.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 只有在启用字段 UI 模块的情况下，才能管理或添加字段。字段 UI 模块公开了实体（如节点和块）的**管理字段**、**管理表单显示**和**管理显示**。
- en: Applying new Drupal 8 core field types
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用新的 Drupal 8 核心字段类型
- en: The field system is what makes creating content in Drupal so robust. With Drupal
    8, some of the most used contributed field types have been merged into Drupal
    core as their own module. In fact, Entity Reference is no longer a module but
    part of the main Field API now.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 字段系统是使在 Drupal 中创建内容如此强大的原因。在 Drupal 8 中，一些最常用的贡献字段类型已经被合并到 Drupal 核心作为它们自己的模块。实际上，实体引用不再是一个模块，而是现在已经是主字段
    API 的一部分了。
- en: 'This recipe is actually a collection of mini-recipes to highlight the new fields
    provided by Drupal 8 core: `Link`, `Email`, `Telephone`, `Date`, and `Entity reference.`'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 这个菜谱实际上是一系列迷你菜谱，用于突出 Drupal 8 核心提供的新字段：`链接`、`电子邮件`、`电话`、`日期`和`实体引用`。
- en: Getting ready
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: The standard installation profile does not enable all of the modules that provide
    these field types by default. For this recipe, you will need to manually enable
    select modules so that you can create the field. The module that provides the
    field type and its installation status in the standard profile will be highlighted.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 标准安装配置文件没有启用提供这些字段类型的所有模块。对于此配方，您需要手动启用选择模块，以便您可以创建字段。提供字段类型及其在标准配置文件中的安装状态的模块将被突出显示。
- en: Each recipe will start off expecting that you have enabled the module, if needed,
    and that you are at the Manage fields form of a content type and have clicked
    on Add field and provided a field label. The recipes here cover the settings for
    each field.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 每个配方都将开始假设您已启用模块（如果需要），并且您正在内容类型的“管理字段”表单中，已点击“添加字段”并提供了字段标签。这里的配方涵盖了每个字段的设置。
- en: How to do it...
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: This section contains a series of mini recipes that show how to use each of
    the new core field types.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含一系列迷你配方，展示了如何使用每个新的核心字段类型。
- en: Link
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 链接
- en: The Link field is provided by the Link module. It is *installed by default with
    the standard installation profile*. It is a dependency of the **Menu UI**, **Custom
    Menu Links**, and **Shortcut module**.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 链接字段由链接模块提供。它默认安装在标准安装配置文件中。它是**菜单UI**、**自定义菜单链接**和**快捷方式模块**的依赖项。
- en: The Link field type does not have any additional field level settings that are
    used across all bundles.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 链接字段类型在所有捆绑包中都没有任何额外的字段级别设置。
- en: Click on Save field settings to customize the field for this specific bundle.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存字段设置”以自定义此特定捆绑包的字段。
- en: Using the Allowed link type setting, you can control whether provided URLs can
    be external, internal, or both. Selecting Internal or Both will allow linking
    to content by autocompleting the title.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用允许的链接类型设置，您可以控制提供的URL是否可以是外部链接、内部链接或两者都可以。选择内部或两者都会允许通过自动完成标题来链接到内容。
- en: The Allow link text defines whether a user must provide text to go along with
    the link. If no text is provided, then the URL itself is displayed.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许链接文本定义用户是否必须提供与链接一起的文本。如果没有提供文本，则显示URL本身。
- en: The field formatter for a Link field allows you to specify `rel="nofollow"`
    or whether the link should open in a new window.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 链接字段的字段格式化器允许您指定`rel="nofollow"`或链接是否应在新窗口中打开。
- en: The Email field
  id: totrans-182
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电子邮件字段
- en: 'The Email field is provided by Drupal core and is available without installing
    additional modules:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 电子邮件字段由Drupal核心提供，无需安装任何附加模块即可使用：
- en: The Email field type does not have any additional field level settings that
    are used across all bundles.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电子邮件字段类型在所有捆绑包中都没有任何额外的字段级别设置。
- en: Click on Save field settings to customize the field for this specific bundle.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存字段设置”以自定义此特定捆绑包的字段。
- en: There are no further settings for an Email field instance. This field uses the
    HTML5 email input, which will leverage browser input validation.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于电子邮件字段实例，没有更多的设置。此字段使用HTML5电子邮件输入，将利用浏览器输入验证。
- en: The field formatter for an Email field allows you to display the email as a
    plain text or a `mailto:` link.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电子邮件字段的字段格式化器允许您将电子邮件显示为纯文本或`mailto:`链接。
- en: The Telephone field
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电话字段
- en: The Telephone field is provided by the Telephone module. It is not installed
    by default with the standard installation profile, and must be installed through
    the Extend form.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 电话字段由电话模块提供。它默认不与标准安装配置文件一起安装，必须通过扩展表单安装。
- en: The Telephone field type does not have any additional field level settings that
    are used across all bundles.
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电话字段类型在所有捆绑包中都没有任何额外的字段级别设置。
- en: Click on Save field settings to customize the field for this specific bundle.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存字段设置”以自定义此特定捆绑包的字段。
- en: There are no further settings for a Telephone field instance. This field uses
    the HTML5 telephone input, which will leverage browser input validation.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于电话字段实例，没有更多的设置。此字段使用HTML5电话输入，将利用浏览器输入验证。
- en: The field formatter for a Telephone field allows you to display the telephone
    number as a plain text item, or use the `tel:link` with an optional replacement
    title for the link.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电话字段的字段格式化器允许您将电话号码显示为纯文本项，或使用带有可选替换标题的`tel:link`。
- en: The Date field
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 日期字段
- en: The Date field is provided by the Datetime module. It is enabled by default
    with the standard installation profile.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 日期字段由日期时间模块提供。它默认与标准安装配置文件一起启用。
- en: 'The Date module has a setting that defines what kind of data it will be storing:
    date and time, or date only. This setting cannot be changed once the field data
    has been saved.'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 日期模块有一个设置，用于定义它将存储哪种类型的数据：日期和时间，或仅日期。一旦字段数据已保存，此设置就不能更改。
- en: Click on Save field settings to customize the field for this specific bundle.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存字段设置”以自定义此特定捆绑包的字段。
- en: The Date field has two ways of providing a default value. It can either be the
    current date or a relative date using PHP's date time modifier syntax.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 日期字段有两种提供默认值的方式。它可以是当前日期或使用PHP的日期时间修改符语法表示的相对日期。
- en: By default, Date fields use the HTML5 date and time inputs, resulting in a native
    date and time picker provided by the browser.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，日期字段使用HTML5日期和时间输入，从而提供浏览器提供的原生日期和时间选择器。
- en: 'Additionally, Date fields can be configured to use a select list for each date
    and time component:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，日期字段可以配置为为每个日期和时间组件使用选择列表：
- en: '![](img/9b78bdaa-4ad7-4cd9-97ea-aec1d85d6c84.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9b78bdaa-4ad7-4cd9-97ea-aec1d85d6c84.png)'
- en: The default date field formatter display uses Drupal's time formats to render
    the time format. These are configured under Configuration and Regional and language
    in the Date and time formats form.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认日期字段格式化器显示使用Drupal的时间格式来渲染时间格式。这些配置在“配置”和“区域和语言”下的日期和时间格式表中进行。
- en: Dates and times can be displayed as Time ago to provide a semantic display of
    how far in the future or past a time is. The formats for both are customizable
    in the display settings.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 日期和时间可以显示为“时间前”，以提供对时间在未来或过去距离的语义显示。这两种格式的显示设置都是可定制的。
- en: Finally, dates and times can be displayed using a custom format, as specified
    by the PHP date formats.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，日期和时间可以使用PHP日期格式指定的自定义格式进行显示。
- en: The Entity Reference field
  id: totrans-205
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实体引用字段
- en: 'The Entity Reference field is part of Drupal core and is available without
    enabling additional modules. Unlike other fields, Entity Reference appears as
    a grouping of specific items when adding a field. This is because you must pick
    a type of entity to reference. Follow these steps:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 实体引用字段是Drupal核心的一部分，无需启用其他模块即可使用。与其他字段不同，实体引用在添加字段时显示为特定项目的分组。这是因为您必须选择要引用的实体类型。请按照以下步骤操作：
- en: The interface allows you to select a Content, File, Image, Taxonomy term, User,
    or Other. Selecting one of the predefined options will preconfigure the field's
    target entity type.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 界面允许您选择内容、文件、图像、分类术语、用户或其他。选择预定义选项将预配置字段的目标实体类型。
- en: When creating an Entity Reference field using the Other choice, you must specify
    the type of item to reference. This option cannot be changed once your data is
    saved.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当使用“其他”选项创建实体引用字段时，您必须指定要引用的项目类型。一旦您的数据已保存，此选项就不能更改。
- en: 'You will note that there are two groups: **content** and **configuration**.
    Drupal uses configuration entities. Even though configuration is an option, you
    may not benefit from referencing those entity types. Only content entities have
    a way to be viewed. Referencing configuration entities would fall under an advanced
    use case implementation.'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 您会注意到有两个组：**内容**和**配置**。Drupal使用配置实体。尽管配置是一个选项，您可能不会从引用这些实体类型中受益。只有内容实体才有被查看的方式。引用配置实体将属于高级用例实现。
- en: Click on Save field settings to customize the field for this specific bundle.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存字段设置”以自定义此特定捆绑包的字段。
- en: 'The Entity Reference field has two different methods to allow users to search
    for content: using the default autocomplete or a view.'
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 实体引用字段有两种不同的方法允许用户搜索内容：使用默认的自动完成或视图。
- en: Depending on the type of entity you are referencing, there will be different
    entity properties that you may sort the results based on.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据您引用的实体类型，将会有不同的实体属性，您可以根据这些属性对结果进行排序。
- en: The default field widget for an Entity Reference field is autocomplete, however,
    there is the option to use a select list or checkboxes for the available options.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 实体引用字段的默认字段小部件是自动完成，然而，您可以选择使用选择列表或复选框来显示可用选项。
- en: The values of an Entity Reference field can display the referenced entity's
    label or the rendered output. When rendering a label, it can be optionally linked
    to the entity itself. When displaying a rendered entity, you may choose a specific
    view mode.
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 实体引用字段的值可以显示引用实体的标签或渲染后的输出。在渲染标签时，可以可选地将其链接到实体本身。在显示渲染后的实体时，您可以选择特定的视图模式。
- en: How it works...
  id: totrans-215
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: When working with fields in Drupal 8, there are two steps that should be noted.
    When you first create a field, you are defining a base field to be saved. This
    configuration is a base that specifies how many values a field can support and
    whether any additional settings are defined by the field type. When you attach
    a field to a bundle, it is considered a field storage and contains configuration
    unique to that specific bundle. If you have the same Link field on the Article
    and Page content type, the label, link type, and link text settings are for each
    instance.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在Drupal 8中处理字段时，有两个步骤需要注意。当你第一次创建一个字段时，你正在定义一个要保存的基本字段。这种配置是一个基础配置，它指定了一个字段可以支持多少个值以及是否由字段类型定义了任何额外的设置。当你将字段附加到一个捆绑包上时，它被视为一个字段存储，并包含特定捆绑包的独特配置。如果你在文章和页面内容类型上都有相同的链接字段，那么标签、链接类型和链接文本设置是针对每个实例的。
- en: Each field type provides a method for storing and presents a specific type of
    data. The benefit of using these fields comes from validation and data manipulation.
    It also allows you to utilize HTML5 form inputs. Using HTML5 for telephone, email,
    and date, the authoring experience uses the tools provided by the browser instead
    of additional third-party libraries. This also provides a more native experience
    when authoring with mobile devices.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 每个字段类型都提供了一种存储和呈现特定类型数据的方法。使用这些字段的优点来自于验证和数据操作。它还允许你利用HTML5表单输入。使用HTML5的电话、电子邮件和日期，作者体验使用浏览器提供的工具而不是额外的第三方库。这也为使用移动设备进行创作提供了更原生体验。
- en: There's more...
  id: totrans-218
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Having Drupal 8 released with new fields was a significant improvement in integrating
    widely used contributed modules into Drupal core. In the following sections, we
    will cover additional improvements and some additional topics.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8发布时带有新字段，这是将广泛使用的贡献模块集成到Drupal核心中的重大改进。在接下来的章节中，我们将介绍更多的改进和一些额外的主题。
- en: Upcoming updates
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 即将更新的内容
- en: Each of the recipes covers a field type that was once part of the contributed
    project space. These projects provided more configuration options than those found
    in Drupal core at the time of writing this book. Over time, more and more features
    will be brought into Drupal core from their source projects.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 每个配方都涵盖了一个曾是贡献项目空间一部分的字段类型。这些项目在撰写本书时提供了比Drupal核心更多的配置选项。随着时间的推移，越来越多的功能将从它们的源项目中引入到Drupal核心中。
- en: For instance, the Datetime module is based on the contributed Date project.
    However, not all of the contributed project's features have made it to Drupal
    core. Each minor release of Drupal 8 sees more features moved to core. An example
    is the Datetime range module, which is an experimental module slated to be near
    stable for Drupal 8.4\. This module adds support to start and end dates for Datetime
    fields. Documentation for the Datetime range module can be found at [https://www.drupal.org/docs/8/core/modules/datetime-range](https://www.drupal.org/docs/8/core/modules/datetime-range).
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，Datetime模块基于贡献的Date项目。然而，并非所有贡献项目的功能都进入了Drupal核心。Drupal 8的每个小版本都看到更多功能被移动到核心。一个例子是Datetime范围模块，这是一个计划在Drupal
    8.4附近稳定的实验性模块。此模块为Datetime字段添加了对开始日期和结束日期的支持。Datetime范围模块的文档可以在[https://www.drupal.org/docs/8/core/modules/datetime-range](https://www.drupal.org/docs/8/core/modules/datetime-range)找到。
- en: Views and Entity Reference
  id: totrans-223
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 查看和实体引用
- en: Using a View with an Entity Reference field is covered in [*Chapter 3*](2015063a-2e03-45d2-822d-892e87f10e41.xhtml),
    *Displaying Content Through Views*. Using a View, you can customize the way results
    are fetched for a reference field.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第3章*](2015063a-2e03-45d2-822d-892e87f10e41.xhtml)中，*通过视图显示内容*中涵盖了使用实体引用字段查看的内容。使用查看，你可以自定义获取引用字段结果的方式。
- en: See also
  id: totrans-225
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: Refer to the *P**roviding an entity reference result view* recipe in [*Chapter
    3*](2015063a-2e03-45d2-822d-892e87f10e41.xhtml), *Displaying Content through Views*.
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请参阅[*第3章*](2015063a-2e03-45d2-822d-892e87f10e41.xhtml)中的*提供实体引用结果视图*配方，*通过视图显示内容*。
- en: Customizing the form display of a node
  id: totrans-227
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自定义节点表单显示
- en: The latest in Drupal 8 is the availability of form display modes. Form modes
    allow a site administrator to configure different field configurations for each
    content entity bundle edit form. In the case of nodes, you have the ability to
    rearrange and alter the display of fields and properties on the node edit form.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 8的最新进展是表单显示模式的可用性。表单模式允许网站管理员为每个内容实体捆绑包的编辑表单配置不同的字段配置。在节点的情况下，你有能力重新排列和改变节点编辑表单上字段和属性显示。
- en: 'In this recipe, we''ll modify the default form for creating the Article content
    type that comes with the standard installation profile:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，我们将修改标准安装配置文件中包含的文章内容类型的默认表单：
- en: '![](img/a8190f0e-6ee1-46a6-be0a-ff908f401b08.png)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a8190f0e-6ee1-46a6-be0a-ff908f401b08.png)'
- en: How to do it...
  id: totrans-231
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: To customize the form display mode, go to Structure and then Content Types.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要自定义表单显示模式，请转到结构，然后是内容类型。
- en: We will modify the Article content type's form. Click on the expand the OPERATIONS
    dropdown and select Manage form display.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将修改文章内容类型的表单。点击展开操作下拉菜单，并选择管理表单显示。
- en: '![](img/c280cb2f-671e-4ae3-8c5b-df3e25b29389.png)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c280cb2f-671e-4ae3-8c5b-df3e25b29389.png)'
- en: 'First, we will modify the Comments field. Click on the drag icon to the left
    and drag the row into the Disabled section. Follow the same steps for the sticky
    at top of lists field:'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将修改评论字段。点击左侧的拖动图标，将行拖入禁用部分。对于列表顶部的固定选项，遵循相同的步骤：
- en: '![](img/224a7bcd-dd22-4513-95c8-27e20f378ca5.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/224a7bcd-dd22-4513-95c8-27e20f378ca5.png)'
- en: Click on the settings cog for the Body field. Enter in a placeholder for the
    field, such as `Enter your article text here`. Click on Update.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击正文字段的设置齿轮。输入字段的占位符，例如`在此处输入您的文章文本`。点击更新。
- en: The placeholder will only appear on a `textarea` using a text format that does
    not provide a WYSIWYG editor.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 占位符仅会在使用不提供所见即所得编辑器的文本格式的`textarea`中显示。
- en: Click on the Save button at the bottom of the page to save your changes. You
    have now customized the form display.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面底部的保存按钮以保存您的更改。您现在已自定义了表单显示。
- en: 'Go to Content | Add Content and then to Article. Note that the comment settings
    are no longer displayed nor are the sticky options under promotion options:'
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往内容 | 添加内容，然后转到文章。请注意，评论设置不再显示，推广选项下的固定选项也不再显示：
- en: '![](img/0ae398c4-bef4-470c-938a-12097ff04314.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0ae398c4-bef4-470c-938a-12097ff04314.png)'
- en: How it works...
  id: totrans-242
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Entities in Drupal have various view modes for each bundle. In Drupal 7, there
    were only display view modes, which are covered in the next recipe. Drupal 8 brings
    in new form modes to allow for more control of how an entity edit form is displayed.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal中的实体为每个捆绑包提供各种视图模式。在Drupal 7中，只有显示视图模式，这将在下一食谱中介绍。Drupal 8引入了新的表单模式，以允许更精确地控制实体编辑表单的显示方式。
- en: Form display modes are configuration entities. Form display modes dictate how
    the `\Drupal\Core\EntityContentEntityForm` class will build a form when an entity
    is edited. This will always be set to default unless changed or specified to a
    different mode programmatically.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 表单显示模式是配置实体。表单显示模式决定了当编辑实体时`\Drupal\Core\EntityContentEntityForm`类将如何构建表单。这始终设置为默认值，除非更改或以编程方式指定为不同的模式。
- en: Since form display modes are configuration entities, they can be exported using
    configuration management.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 由于表单显示模式是配置实体，因此可以使用配置管理进行导出。
- en: Hidden field properties will have no value unless there is a provided default
    value. For example, if you hide the authoring information without providing code
    to set a default value, the content will be authored by anonymous (no user).
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 隐藏字段属性除非提供默认值，否则将没有价值。例如，如果你隐藏了作者信息但没有提供设置默认值的代码，内容将由匿名用户（无用户）创建。
- en: There's more...
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: We will discuss more items for managing the form of a content entity in the
    following section.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将讨论更多关于管理内容实体表单的内容。
- en: Managing form display modes
  id: totrans-249
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理表单显示模式
- en: Form display modes for all entities are managed under one area and are enabled
    for each bundle type. You must first create a display mode, and then it can be
    configured through the bundle manage interface.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 所有实体的表单显示模式都在一个区域中管理，并为每个捆绑包类型启用。您必须首先创建显示模式，然后可以通过捆绑包管理界面进行配置。
- en: Programmatically providing a default to hidden form items
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 以编程方式为隐藏表单项提供默认值
- en: In [*Chapter 6*](18026cd1-b8f0-48c0-9626-568ffd225eb5.xhtml), *Creating Forms
    with the Form API*, we will have a recipe that details with altering forms. In
    order to provide a default value for an entity property hidden on the form display,
    you will need to alter the form and provide a default value. The Field API provides
    a way to set a default value when fields are created.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第6章*](18026cd1-b8f0-48c0-9626-568ffd225eb5.xhtml)，*使用表单API创建表单*中，我们将有一个食谱详细说明如何修改表单。为了为在表单显示中隐藏的实体属性提供默认值，您需要修改表单并提供默认值。字段API提供了一种在创建字段时设置默认值的方法。
- en: See also
  id: totrans-253
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: Refer to [*Chapter 10*](2f5fe169-0ba6-4746-9586-896f00f0bb28.xhtml), *The Entity
    AP*I.
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参考第[*第10章*](2f5fe169-0ba6-4746-9586-896f00f0bb28.xhtml)，*实体API*。
- en: Refer to [*Chapter 6*](18026cd1-b8f0-48c0-9626-568ffd225eb5.xhtml), *Creating
    Forms with the Form API.*
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参考第[*第6章*](18026cd1-b8f0-48c0-9626-568ffd225eb5.xhtml)，*使用表单API创建表单*。
- en: Customizing the display output of a node
  id: totrans-256
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自定义节点显示输出
- en: Drupal provides display view modes that allow for customization of the fields
    and other properties attached to an entity. In this recipe, we will adjust the
    teaser display mode of an Article. Each field or property has a control for displaying
    the label, the format to display the information in, and additional settings for
    the format.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal提供了显示视图模式，允许自定义附加到实体的字段和其他属性。在本教程中，我们将调整文章的摘要显示模式。每个字段或属性都有一个用于显示标签、显示信息的格式以及格式的额外设置的控件。
- en: Harnessing view displays allows you to have full control over how content is
    viewed on your Drupal site.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 利用视图显示，您可以完全控制内容在您的Drupal站点上的查看方式。
- en: How to do it...
  id: totrans-259
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: Now, it is time to customize the form display mode by navigating to Structure
    and then Content Types.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，是时候通过导航到结构然后内容类型来自定义表单显示模式了。
- en: We will modify the Article content type's display. Click on the dropdown button
    arrow and select Manage display.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将修改文章内容类型的显示。点击下拉按钮箭头并选择管理显示。
- en: 'Click on the Teaser view mode option to modify it. The teaser view mode is
    used in node listings, such as the default homepage:'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“摘要视图模式”选项来修改它。摘要视图模式用于节点列表中，例如默认的首页：
- en: '![](img/9f8aada3-a154-4a3a-a6c4-9f33e1325a11.png)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9f8aada3-a154-4a3a-a6c4-9f33e1325a11.png)'
- en: Change the format for Tags to be Hidden. Additionally, this can be accomplished
    by dragging it to the hidden section. The tags on an article will no longer be
    displayed when viewing a teaser view mode.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标签的格式更改为“隐藏”。此外，这也可以通过将其拖动到隐藏部分来完成。在查看摘要视图模式时，文章上的标签将不再显示。
- en: Click on the settings cog for the Body field to adjust the trimmed limit. The
    trim limit is a fallback for Summary or trimmed when the summary of a `textarea`
    field is not provided. Modify this from `600` to `300`.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击正文字段的设置齿轮来调整截断限制。截断限制是当没有提供`textarea`字段的摘要时作为摘要或截断的回退。将其从`600`更改为`300`。
- en: Click on Save to save all of the changes that you have made.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存”以保存您所做的所有更改。
- en: View the homepage and take a the at your changes that have taken effect.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看首页并查看您所做的更改是否生效。
- en: '>![](img/5daaf654-0bd7-4cd0-a743-bb3e0c190b82.png)'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/5daaf654-0bd7-4cd0-a743-bb3e0c190b82.png)'
- en: How it works...
  id: totrans-269
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: View display modes are configuration entities. View display modes dictate how
    the `\Drupal\Core\EntityContentEntityForm` class will build a view display when
    an entity is viewed. This will always be set to default unless changed or specified
    as a different mode programmatically.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 视图显示模式是配置实体。视图显示模式决定了当查看实体时`\Drupal\Core\EntityContentEntityForm`类将如何构建视图显示。这始终设置为默认值，除非更改或以不同的模式程序化指定。
- en: Since view display modes are configuration entities, they can be exported using
    configuration management.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 由于视图显示模式是配置实体，它们可以使用配置管理进行导出。

- en: Chapter 7. Official Extensions
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 7 章. 官方扩展
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Authentication client
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 认证客户端
- en: SwiftMailer e-mail library
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SwiftMailer 邮件库
- en: Faker fixture data generator
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Faker 固定数据生成器
- en: Imagine library
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 想象库
- en: MongoDB driver
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MongoDB 驱动程序
- en: ElasticSearch engine adapter
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ElasticSearch 引擎适配器
- en: Gii code generator
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gii 代码生成器
- en: Pjax jQuery plugin
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pjax jQuery 插件
- en: Redis database driver
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Redis 数据库驱动程序
- en: Introduction
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Yii2's official repository provides adapters for some popular libraries, databases,
    and search engines. In this chapter, we will show you how to install and use official
    extensions in your project. You will also learn how to write your own extension
    and share it with other developers.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: Yii2 的官方仓库为一些流行的库、数据库和搜索引擎提供了适配器。在本章中，我们将向您展示如何在项目中安装和使用官方扩展。您还将学习如何编写自己的扩展并与其他开发者共享。
- en: Authentication client
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 认证客户端
- en: This extension adds OpenID, OAuth, and OAuth2 consumers for the Yii 2.0 framework.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展为 Yii 2.0 框架添加了 OpenID、OAuth 和 OAuth2 消费者。
- en: Getting ready
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 composer 创建一个新应用程序，如官方指南 [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)
    中所述。
- en: 'Install the extension with the following command:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令安装扩展：
- en: '[PRE0]'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: How to do it…
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Open your GitHub applications page [https://github.com/settings/applications](https://github.com/settings/applications)
    and add your own new application:![How to do it…](img/image00419.jpeg)
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的 GitHub 应用程序页面 [https://github.com/settings/applications](https://github.com/settings/applications)
    并添加您自己的新应用程序：![如何操作…](img/image00419.jpeg)
- en: Get the **Client ID** and **Client Secret**:![How to do it…](img/image00433.jpeg)
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取 **客户端 ID** 和 **客户端密钥**：![如何操作…](img/image00433.jpeg)
- en: 'Configure your web configuration and set the corresponding options for your
    `authClientCollection` component:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置您的 Web 配置并设置 `authClientCollection` 组件的相应选项：
- en: '[PRE1]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Open your `SiteController` and add the `auth` standalone action and success
    callback method:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的 `SiteController` 并添加 `auth` 独立动作和成功回调方法：
- en: '[PRE2]'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Open the `views/site/login.php` file and insert the `AuthChoice` widget:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 `views/site/login.php` 文件并插入 `AuthChoice` 小部件：
- en: '[PRE3]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: You will see icons for the providers you've configured:![How to do it…](img/image00444.jpeg)
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到您已配置的提供者的图标：![如何操作…](img/image00444.jpeg)
- en: Try to authorize with the GitHub provider:![How to do it…](img/image00459.jpeg)
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试使用 GitHub 提供商进行授权：![如何操作…](img/image00459.jpeg)
- en: 'If successful, your callback will show authorized user attributes:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果成功，您的回调将显示授权用户属性：
- en: '[PRE4]'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Create your own authorization code in the `onAuthSuccess` method, like the example
    at [https://github.com/yiisoft/yii2-authclient/blob/master/docs/guide/quick-start.md](https://github.com/yiisoft/yii2-authclient/blob/master/docs/guide/quick-start.md).
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `onAuthSuccess` 方法中创建自己的授权代码，例如 [https://github.com/yiisoft/yii2-authclient/blob/master/docs/guide/quick-start.md](https://github.com/yiisoft/yii2-authclient/blob/master/docs/guide/quick-start.md)
    中的示例。
- en: How it works…
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: The extension provides OpenID, OAuth, and OAuth2 auth clients for your application.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 该扩展为您的应用程序提供 OpenID、OAuth 和 OAuth2 认证客户端。
- en: The `AuthChoice` widget opens an authenticate page on a selected service's site,
    storing the `auth` action URL. After authentication, the current service redirects
    users back while sending authentication data via a POST-request. `AuthAction`
    receives the request and calls the corresponding callback.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '`AuthChoice` 小部件在所选服务网站上打开一个认证页面，并存储 `auth` 动作 URL。认证后，当前服务将用户重定向回，并通过 POST
    请求发送认证数据。`AuthAction` 接收请求并调用相应的回调。'
- en: You can use any existing client or create your own one.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用任何现有的客户端或创建自己的客户端。
- en: See also
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'To get more information about extension usage, refer to:'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要获取有关扩展使用的更多信息，请参阅：
- en: '[https://github.com/yiisoft/yii2-authclient/tree/master/docs/guide](https://github.com/yiisoft/yii2-authclient/tree/master/docs/guide)'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-authclient/tree/master/docs/guide](https://github.com/yiisoft/yii2-authclient/tree/master/docs/guide)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-authclient-index.html](http://www.yiiframework.com/doc-2.0/ext-authclient-index.html)'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-authclient-index.html](http://www.yiiframework.com/doc-2.0/ext-authclient-index.html)'
- en: 'To learn more about OpenID, OAuth, and OAuth2 authentication technologies,
    refer to:'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于 OpenID、OAuth 和 OAuth2 认证技术，请参阅：
- en: '[http://openid.net](http://openid.net)'
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://openid.net](http://openid.net)'
- en: '[http://oauth.net](http://oauth.net)'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://oauth.net](http://oauth.net)'
- en: SwiftMailer e-mail library
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SwiftMailer 邮件库
- en: Many web applications need to send notifications and confirm client actions
    by e-mail for security reasons. The Yii2 framework provides a wrapper, `yiisoft/yii2-swiftmailer`,
    for the established library `SwiftMailer`.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 许多Web应用程序出于安全原因需要通过电子邮件发送通知并确认客户端的操作。Yii2框架为已建立的库`SwiftMailer`提供了一个包装器，`yiisoft/yii2-swiftmailer`。
- en: Getting ready
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 使用官方指南[http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)中描述的方法，通过composer创建一个新的应用程序。
- en: Both basic and advanced applications contain this extension out of the box.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 基本和高级应用程序都自带这个扩展。
- en: How to do it…
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: Now we will try to send any kind of e-mails from our own application.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将尝试从我们的应用程序发送任何类型的电子邮件。
- en: Sending plain text e-mails
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发送纯文本电子邮件
- en: 'Set the mailer configuration into the `config/console.php` file:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将邮件器配置设置到`config/console.php`文件中：
- en: '[PRE5]'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Create a test console controller, `MailController`, with the following code:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个测试控制台控制器，`MailController`，以下代码：
- en: '[PRE6]'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Run the following console command:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下控制台命令：
- en: '[PRE7]'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Examine your `runtime/mail` directory. It should contain files with your mails.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的`runtime/mail`目录。它应该包含您的邮件文件。
- en: Note
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: Mail files contain messages in the special e-mail source format,
    compatible with any mailing software. You can open this field as a plain text
    too.'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**注意**：邮件文件包含特殊电子邮件源格式的消息，与任何邮件软件兼容。您也可以将其作为纯文本打开。'
- en: 'Set the `useFileTransport` parameter as false or remove this string from the
    configuration:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`useFileTransport`参数设置为false或从配置中删除此字符串：
- en: '[PRE8]'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Then put your real e-mail ID into the `setTo()` method:'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后将您的真实电子邮件ID放入`setTo()`方法中：
- en: '[PRE9]'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Run the console command again:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次运行控制台命令：
- en: '[PRE10]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Check your `inbox` directory.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的`inbox`目录。
- en: Note
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: SwiftMailer uses a standard PHP function, `mail()`, for sending mails
    by default. Please check that your server is correctly configured for sending
    mails via the `mail()` function.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：SwiftMailer默认使用标准的PHP函数`mail()`来发送邮件。请确保您的服务器已正确配置，可以通过`mail()`函数发送邮件。'
- en: Many mail systems reject mails without DKIM and SPF signatures (sent by the
    `mail()` function as example) or put them into a `Spam` folder.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 许多邮件系统拒绝没有DKIM和SPF签名（例如，由`mail()`函数发送）的邮件，或将它们放入`Spam`文件夹。
- en: Sending HTML content
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发送HTML内容
- en: 'Check that your application contains the `mail/layouts/html.php` file and add
    the `mail/layouts/text.php` file with the following content:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您的应用程序包含`mail/layouts/html.php`文件，并添加`mail/layouts/text.php`文件，内容如下：
- en: '[PRE11]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Create your own view in the `mail/message-html.php` file:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`mail/message-html.php`文件中创建自己的视图：
- en: '[PRE12]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Create a `mail/message-text.php` file with the same content, but without HTML
    tags:'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建一个`mail/message-text.php`文件，内容与原文件相同，但不含HTML标签：
- en: '[PRE13]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Create a console controller, `MailController`, with the following code:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个控制台控制器，`MailController`，以下代码：
- en: '[PRE14]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Run the following console commands:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下控制台命令：
- en: '[PRE15]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Working with SMTP transport
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用SMTP传输
- en: 'Set the `transport` parameter for the `mailer` component like this:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`mailer`组件的`transport`参数设置如下：
- en: '[PRE16]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Write and run the following code:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写并运行以下代码：
- en: '[PRE17]'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Check your Gmail inbox.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的Gmail收件箱。
- en: Note
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: Gmail automatically rewrites the `From` field to your default profile
    e-mail ID, but other e-mail systems do not do the same. Always use an identical
    e-mail ID in the transport configuration and in the `setFrom()` method for passing
    antispam policies for other e-mail systems.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：Gmail会自动将`From`字段重写为默认的配置电子邮件ID，但其他电子邮件系统并不这样做。在传输配置和`setFrom()`方法中始终使用相同的电子邮件ID，以传递其他电子邮件系统的反垃圾邮件策略。'
- en: Attaching file and embedding images
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 附加文件和嵌入图片
- en: 'Add the corresponding method to attach any file to your mail:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 添加相应的方法来附加任何文件到您的邮件中：
- en: '[PRE18]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Or use the `embed()` method in your e-mail view file to paste an image in your
    e-mail content:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，在您的电子邮件视图文件中使用`embed()`方法将图片粘贴到电子邮件内容中：
- en: '[PRE19]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: It automatically attaches an image file and inserts its unique identifier.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 它会自动附加一个图片文件并插入其唯一标识符。
- en: How it works…
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The wrapper implements the base `\yii\mail\MailerInterface`. Its `compose()`
    method returns a message object (an implementation of `\yii\mail\MessageInterface`).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 包装器实现了基类`\yii\mail\MailerInterface`。它的`compose()`方法返回一个消息对象（`\yii\mail\MessageInterface`的实现）。
- en: You can manually set plain text and HTML contents with the help of methods `setTextBody()`
    and `setHtmlBody()`, or you can pass your view and view parameters into the `compose()`
    method. In this case, the mailer calls the `\yii\web\View::render()` method for
    rendering corresponding content.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `setTextBody()` 和 `setHtmlBody()` 方法手动设置纯文本和 HTML 内容，或者将您的视图和视图参数传递给 `compose()`
    方法。在这种情况下，邮件发送器会调用 `\yii\web\View::render()` 方法来渲染相应的内容。
- en: The `useFileTransport` parameter stores mails in files instead of real sending.
    It is helpful for local development and application testing.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '`useFileTransport` 参数将邮件存储在文件中而不是实际发送。这对于本地开发和应用程序测试很有帮助。'
- en: See also
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the `yii2-swiftmailer` extension, visit the following
    guides:'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更多关于 `yii2-swiftmailer` 扩展的信息，请访问以下指南：
- en: '[http://www.yiiframework.com/doc-2.0/guide-tutorial-mailing.html](http://www.yiiframework.com/doc-2.0/guide-tutorial-mailing.html)'
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/guide-tutorial-mailing.html](http://www.yiiframework.com/doc-2.0/guide-tutorial-mailing.html)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-swiftmailer-index.html](http://www.yiiframework.com/doc-2.0/ext-swiftmailer-index.html)'
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-swiftmailer-index.html](http://www.yiiframework.com/doc-2.0/ext-swiftmailer-index.html)'
- en: 'In order to learn more about the original `SwiftMailer` library, refer to the
    following URLs:'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了了解更多关于原始 `SwiftMailer` 库的信息，请参考以下网址：
- en: '[http://swiftmailer.org/docs/introduction.html](http://swiftmailer.org/docs/introduction.html)'
  id: totrans-105
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://swiftmailer.org/docs/introduction.html](http://swiftmailer.org/docs/introduction.html)'
- en: '[https://github.com/swiftmailer/swiftmailer](https://github.com/swiftmailer/swiftmailer)'
  id: totrans-106
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/swiftmailer/swiftmailer](https://github.com/swiftmailer/swiftmailer)'
- en: Faker fixture data generator
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Faker 测试数据生成器
- en: 'The `fzaninotto/faker` is a PHP library that generates fake data of many kinds:
    names, phones, addresses, random strings and numbers, and so on. It can help you
    to generate many randomized records for performance and logic testing. You can
    extend your supported types collection by writing your own formatters and generators.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '`fzaninotto/faker` 是一个 PHP 库，可以生成多种类型的假数据：姓名、电话、地址、随机字符串和数字等。它可以帮助您生成用于性能和逻辑测试的许多随机记录。您可以通过编写自己的格式化和生成器来扩展您支持的类型集合。'
- en: In the Yii2 application skeletons, the `yiisoft/yii2-faker` wrapper is included
    in the `require-dev` section of the `composer.json` file and is used for testing
    code ([Chapter 11](part0115.xhtml#3DLGM1-ae331331bc644dc9b658d3634f0748da "Chapter 11. Testing"),
    *Testing*). This wrapper provides the `FixtureController` console for use in your
    console application and test environment.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Yii2 应用程序骨架中，`yiisoft/yii2-faker` 包装器包含在 `composer.json` 文件的 `require-dev`
    部分中，并用于测试代码（[第11章](part0115.xhtml#3DLGM1-ae331331bc644dc9b658d3634f0748da "第11章。测试"），*测试*）。此包装器提供了
    `FixtureController` 控制台，用于在您的控制台应用程序和测试环境中使用。
- en: Getting ready
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 使用官方指南中的 composer 创建新应用：[http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)。
- en: How to do it…
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Open the directory `tests/codeception/templates` and add the fixture template
    file, `users.txt`:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 `tests/codeception/templates` 目录并添加测试数据模板文件，`users.txt`：
- en: '[PRE20]'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Run the test console `yii` command:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行测试控制台 `yii` 命令：
- en: '[PRE21]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Confirm migration generation.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认迁移生成。
- en: 'Check that the `tests/codeception/fixtures` directory contains the new `users.php`
    file, with autogenerated data like this:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查 `tests/codeception/fixtures` 目录是否包含新的 `users.php` 文件，并包含如下自动生成数据：
- en: '[PRE22]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Working with your own data types
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用自己的数据类型
- en: 'Create your own provider with your custom value generating logic:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您自定义的值生成逻辑创建自己的提供者：
- en: '[PRE23]'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Add the provider into the providers list in the `/tests/codeception/config/config.php`
    file:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将提供者添加到 `/tests/codeception/config/config.php` 文件中的提供者列表中：
- en: '[PRE24]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Add the `status` field into your fixture template file:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `status` 字段添加到您的测试数据模板文件中：
- en: '[PRE25]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Regenerate fixtures with the console command:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用控制台命令重新生成测试数据：
- en: '[PRE26]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Check that the generated code in the `fixtures/users.php` file contains your
    custom values:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查生成的 `fixtures/users.php` 文件中的代码是否包含您的自定义值：
- en: '[PRE27]'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: How it works…
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The `yii2-faker` extension contains a console generator (which uses your templates
    for generating fixture data files) and gives you a prepared instance of the original
    `Faker` object. You can generate all or specific fixtures and can pass custom
    counts or language in console arguments.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '`yii2-faker`扩展包含一个控制台生成器（它使用您的模板生成固定数据文件），并提供原始`Faker`对象的预置实例。您可以在控制台参数中生成所有或特定的固定数据，并可以传递自定义计数或语言。'
- en: Note
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: Be careful with the existing test files if your tests use these fixtures,
    because autogenerating totally rewrites old data.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：如果您的测试使用这些固定数据，请小心处理现有的测试文件，因为自动生成会完全重写旧数据。'
- en: See also
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For the source code and more information about the extension, see:'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于源代码和扩展的更多信息，请参阅：
- en: '[https://github.com/yiisoft/yii2-faker/tree/master/docs/guide](https://github.com/yiisoft/yii2-faker/tree/master/docs/guide)'
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-faker/tree/master/docs/guide](https://github.com/yiisoft/yii2-faker/tree/master/docs/guide)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-faker-index.html](http://www.yiiframework.com/doc-2.0/ext-faker-index.html)'
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-faker-index.html](http://www.yiiframework.com/doc-2.0/ext-faker-index.html)'
- en: 'And to learn more about the original library, refer to:'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于原始库的信息，请参考：
- en: '[https://github.com/fzaninotto/Faker](https://github.com/fzaninotto/Faker)'
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/fzaninotto/Faker](https://github.com/fzaninotto/Faker)'
- en: '[Chapter 11](part0115.xhtml#3DLGM1-ae331331bc644dc9b658d3634f0748da "Chapter 11. Testing"),
    *Testing*'
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第11章](part0115.xhtml#3DLGM1-ae331331bc644dc9b658d3634f0748da "第11章。测试")，*测试*'
- en: Imagine library
  id: totrans-142
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Imagine库
- en: Imagine is an OOP library for image manipulation. It allows you to crop, resize,
    and perform other manipulations with different images with the help of GD, Imagic,
    and Gmagic PHP extensions. Yii2-Imagine is a lightweight static wrapper for the
    library.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: Imagine是一个用于图像处理的OOP库。它允许您使用GD、Imagic和Gmagic PHP扩展对不同的图像进行裁剪、调整大小和其他操作。Yii2-Imagine是该库的轻量级静态包装器。
- en: Getting ready
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照官方指南使用composer创建一个新应用，官方指南可在[http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)找到。
- en: 'Install the extension with the following command:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令安装扩展：
- en: '[PRE28]'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: How to do it…
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'In your projects, you can use the extension in two ways:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的项目中，您可以使用两种方式使用此扩展：
- en: Using it as a factory
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 作为工厂使用
- en: Using inner methods
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用内部方法
- en: Using it as a factory
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 作为工厂使用
- en: 'You can use an instance of the original `Imagine` library class:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用原始`Imagine`库类的实例：
- en: '[PRE29]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'However, this depends on the existing corresponding PHP extensions in your
    system. You can use the `getImagine()` method:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这取决于您系统中现有的相应PHP扩展。您可以使用`getImagine()`方法：
- en: '[PRE30]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Using inner methods
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用内部方法
- en: 'You can use the `crop()`, `thumbnail()`, `watermark()`, `text()`, and `frame()`
    methods for common high-level manipulations like this:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用`crop()`、`thumbnail()`、`watermark()`、`text()`和`frame()`方法进行常见的通用操作，如下所示：
- en: '[PRE31]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: See the signatures of all supported methods in the source code of the `\yii\imagine\BaseIm`
    `age` class for more details.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在`\yii\imagine\BaseImage`类的源代码中查看所有支持方法的签名以获取更多详细信息。
- en: How it works…
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The extension prepares user data, creates an original Imagine object, and calls
    the corresponding method on it. All methods return this original image object.
    You can continue to manipulate the image or save the result to your disk.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展准备用户数据，创建原始Imagine对象，并在其上调用相应的方法。所有方法都返回这个原始图像对象。您可以继续操作图像或将结果保存到您的磁盘上。
- en: See also
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the extension, refer to the following URLs:'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于扩展的更多信息，请参阅以下URL：
- en: '[http://www.yiiframework.com/doc-2.0/ext-imagine-index.html](http://www.yiiframework.com/doc-2.0/ext-imagine-index.html)'
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-imagine-index.html](http://www.yiiframework.com/doc-2.0/ext-imagine-index.html)'
- en: '[https://github.com/yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine)'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine)'
- en: For information about the original library, refer to [http://imagine.readthedocs.org/en/latest/](http://imagine.readthedocs.org/en/latest/)
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于原始库的信息，请参阅[http://imagine.readthedocs.org/en/latest/](http://imagine.readthedocs.org/en/latest/)
- en: MongoDB driver
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MongoDB驱动程序
- en: This extension provides the MongoDB integration for the Yii2 framework and allows
    you to work with MongoDB collection's records via the `ActiveRecord-style` model.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展为Yii2框架提供了MongoDB集成，并允许您通过`ActiveRecord-style`模型与MongoDB集合的记录一起工作。
- en: Getting ready
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 composer，按照官方指南 [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)
    中的说明创建一个新的应用程序。
- en: Install MongoDB using the correct installation process from [https://docs.mongodb.org/manual/installation/](https://docs.mongodb.org/manual/installation/)
    for your system.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用适用于你系统的正确安装过程从 [https://docs.mongodb.org/manual/installation/](https://docs.mongodb.org/manual/installation/)
    安装 MongoDB。
- en: Install the `php5-mongo` PHP extension.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 `php5-mongo` PHP 扩展。
- en: 'Install the component with the following command:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令安装组件：
- en: '[PRE32]'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: How to do it…
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'First of all, create the new MongoDB database. Run it in the `mongo-client`
    shell and type the database name:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，创建新的 MongoDB 数据库。在 `mongo-client` shell 中运行它并输入数据库名称：
- en: '[PRE33]'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Add this connection information to your `components` config section:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此连接信息添加到你的 `components` 配置部分：
- en: '[PRE34]'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Add the new console controller to your console configuration file:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的控制台控制器添加到你的控制台配置文件中：
- en: '[PRE35]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Create the new migration with the shell command:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 shell 命令创建新的迁移：
- en: '[PRE36]'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Type the following code into the `up()` and `down()` methods:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下代码输入到 `up()` 和 `down()` 方法中：
- en: '[PRE37]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Apply the migration:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用迁移：
- en: '[PRE38]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Put the MongoDB debug panel and models generator into your configuration:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 MongoDB 调试面板和模型生成器放入你的配置中：
- en: '[PRE39]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Run the Gii generator:![How to do it…](img/image00476.jpeg)
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行 Gii 生成器：![如何操作…](img/image00476.jpeg)
- en: Start the new `MongoDB Model Generator` to generate the new model for your own
    collection:![How to do it…](img/image00491.jpeg)
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动新的 `MongoDB 模型生成器` 以为你自己的集合生成新模型：![如何操作…](img/image00491.jpeg)
- en: Click the **Preview** and **Generate** buttons.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **预览** 和 **生成** 按钮。
- en: 'Check that you have the new model, `app\models\Customer`:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你有新的模型，`app\models\Customer`：
- en: '[PRE40]'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Run Gii again and generate the CRUD:![How to do it…](img/image00507.jpeg)
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次运行 Gii 并生成 CRUD：![如何操作…](img/image00507.jpeg)
- en: Check that you have generated the `CustomerController` class and run the new
    customer manager page:![How to do it…](img/image00521.jpeg)
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你已经生成了 `CustomerController` 类并运行新的客户管理页面：![如何操作…](img/image00521.jpeg)
- en: You may create, update, and delete your customers' data right now.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在可以创建、更新和删除客户的资料。
- en: Look for the **Debug** panel in the page footer:![How to do it…](img/image00532.jpeg)
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在页面页脚中查找 **调试** 面板：![如何操作…](img/image00532.jpeg)
- en: You can see the total MongoDB query count and total execution time. Click on
    the count badge and inspect the queries:![How to do it…](img/image00379.jpeg)
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以看到总的 MongoDB 查询次数和总执行时间。点击计数徽章并检查查询：![如何操作…](img/image00379.jpeg)
- en: Basic usage
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基本用法
- en: 'You may access databases and collections via the `\yii\mongodb\Collection`
    instance:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过 `\yii\mongodb\Collection` 实例访问数据库和集合：
- en: '[PRE41]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'To perform the `find` queries, you should use `\yii\mongodb\Query`:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '要执行 `find` 查询，你应该使用 `\yii\mongodb\Query`:'
- en: '[PRE42]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Note
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: The MongoDB document id (`"_id"` field) is not scalar, but an instance
    of the `\MongoId` class.'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：MongoDB 文档 id (`"_id"` 字段) 不是标量，而是 `\MongoId` 类的实例。'
- en: 'You must not care about the conversion from integer or string `$id` values
    to `\MongoId`, because query builder converts it automatically:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 你不必关心从整数或字符串 `$id` 值到 `\MongoId` 的转换，因为查询构建器会自动转换它：
- en: '[PRE43]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'To get the actual Mongo ID string, you should typecast the `\MongoId` instance
    to a string:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取实际的 Mongo ID 字符串，你应该将 `\MongoId` 实例转换为字符串：
- en: $query = new Query;
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: $query = new Query;
- en: '[PRE44]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: How it works…
  id: totrans-213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The `Query`, `ActiveQuery,` and `ActiveRecord` classes of this extension extends
    `yii\db\QueryInterface` and `yii\db\BaseActiveRecord`, and therefore they are
    compatible with the built-in framework `Query`, `ActiveQuery`, and `ActiveRecord`
    classes.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展的 `Query`、`ActiveQuery` 和 `ActiveRecord` 类扩展了 `yii\db\QueryInterface` 和 `yii\db\BaseActiveRecord`，因此它们与内置框架的
    `Query`、`ActiveQuery` 和 `ActiveRecord` 类兼容。
- en: 'You can use the `yii\mongodb\ActiveRecord` class for your models and the `yii\mongodb\ActiveQuery`
    builder to retrieve your models and use them in your data provider:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `yii\mongodb\ActiveRecord` 类为你的模型，并使用 `yii\mongodb\ActiveQuery` 构建器检索你的模型并在你的数据提供者中使用它们：
- en: '[PRE45]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: For general information on how to use Yii's ActiveRecord, please refer to the
    [Chapter 3](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da "Chapter 3. ActiveRecord,
    Model, and Database"), *ActiveRecord, Model, and Database*.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 关于如何使用 Yii 的 ActiveRecord 的一般信息，请参阅第 3 章 [ActiveRecord, Model, and Database](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "第 3 章。ActiveRecord, Model, 和数据库")。
- en: See also
  id: totrans-218
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the extension, refer to the following URLs:'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于扩展的更多信息，请参阅以下 URL：
- en: '[https://github.com/yiisoft/yii2-mongodb/blob/master/docs/guide/README.md](https://github.com/yiisoft/yii2-mongodb/blob/master/docs/guide/README.md)'
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-mongodb/blob/master/docs/guide/README.md](https://github.com/yiisoft/yii2-mongodb/blob/master/docs/guide/README.md)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-mongodb-index.html](http://www.yiiframework.com/doc-2.0/ext-mongodb-index.html)'
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-mongodb-index.html](http://www.yiiframework.com/doc-2.0/ext-mongodb-index.html)'
- en: 'And for information about the original library, refer to:'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于原始库的信息，请参阅：
- en: '[https://docs.mongodb.org/manual/](https://docs.mongodb.org/manual/)'
  id: totrans-223
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://docs.mongodb.org/manual/](https://docs.mongodb.org/manual/)'
- en: For ActiveRecord usage refer to the [Chapter 3](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "Chapter 3. ActiveRecord, Model, and Database"), *ActiveRecord, Model, and Database*
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于 ActiveRecord 使用，请参阅 [第 3 章](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "第 3 章。ActiveRecord, Model, 和数据库")，*ActiveRecord, Model, 和数据库*
- en: ElasticSearch engine adapter
  id: totrans-225
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ElasticSearch 引擎适配器
- en: This extension is an ActiveRecord-like wrapper for ElasticSearch full text search
    engine integration into the Yii2 framework. It allows you to work with any model
    data and use the ActiveRecord pattern to retrieve and store records in ElasticSearch
    collections.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展是 ElasticSearch 全文搜索引擎集成到 Yii2 框架中的 ActiveRecord 类似包装器。它允许你使用任何模型数据，并使用 ActiveRecord
    模式在 ElasticSearch 集合中检索和存储记录。
- en: Getting ready
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照官方指南使用 composer 创建一个新的应用程序，如 [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)
    中所述。
- en: Install the `ElasticSearch` service found at [https://www.elastic.co/downloads/elasticsearch](https://www.elastic.co/downloads/elasticsearch).
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装位于 [https://www.elastic.co/downloads/elasticsearch](https://www.elastic.co/downloads/elasticsearch)
    的 `ElasticSearch` 服务。
- en: 'Install the extension with the following command:'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令安装扩展：
- en: '[PRE46]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: How to do it…
  id: totrans-232
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Set the new `ElasticSearch` connection in your application configuration:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的应用程序配置中设置新的 `ElasticSearch` 连接：
- en: '[PRE47]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Using the Query class
  id: totrans-235
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用查询类
- en: 'You can use the `Query` class for the low-level querying of records from any
    collection:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `Query` 类对任何集合进行低级查询：
- en: '[PRE48]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'You can also create a command and run it directly:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以创建一个命令并直接运行它：
- en: '[PRE49]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: Using ActiveRecord
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 ActiveRecord
- en: Using `ActiveRecord` is a common way to access your records. Just extend the
    `yii\elasticsearch\ActiveRecord` class and implement the `attributes()` method
    to define the attributes of your documents.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `ActiveRecord` 是访问你的记录的常见方式。只需扩展 `yii\elasticsearch\ActiveRecord` 类并实现 `attributes()`
    方法来定义你的文档属性。
- en: 'For example, you can write the `Customer` model:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你可以编写 `Customer` 模型：
- en: '[PRE50]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Then write the `Order` model:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 然后编写 `Order` 模型：
- en: '[PRE51]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: You may override `index()` and `type()` to define the index and type this record
    represents.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以覆盖 `index()` 和 `type()` 来定义此记录表示的索引和类型。
- en: 'The following is a usage example:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个使用示例：
- en: '[PRE52]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'You can use Query DSL for specific queries:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用查询 DSL 进行特定查询：
- en: '[PRE53]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'You can add facets to your search:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以为你的搜索添加分面：
- en: '[PRE54]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Using the ElasticSearch DebugPanel
  id: totrans-253
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 ElasticSearch DebugPanel
- en: 'This extension contains a special panel for the `yii2-debug` module. It allows
    you to view all executed queries. You can include this panel in your configuration
    file:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展包含一个用于 `yii2-debug` 模块的专用面板。它允许你查看所有执行的查询。你可以在配置文件中包含此面板：
- en: '[PRE55]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: How it works…
  id: totrans-256
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The extension provides a low-level command builder and high-level `ActiveRecord`
    implementation for querying records from the `ElasticSearch` index.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展提供了一个低级命令构建器和高级 `ActiveRecord` 实现来从 `ElasticSearch` 索引查询记录。
- en: The extension's ActiveRecord usage is very similar to the database `ActiveRecord`
    as described in [Chapter 3](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "Chapter 3. ActiveRecord, Model, and Database"), *ActiveRecord, Model, and Database*,
    besides the `join()`, `groupBy()`, `having(),` and `union()` ActiveQuery operators.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展的 ActiveRecord 使用与第 3 章[ActiveRecord, Model, and Database](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "第 3 章。ActiveRecord, Model, 和数据库")中描述的数据库 `ActiveRecord` 非常相似，除了 `join()`、`groupBy()`、`having()`
    和 `union()` 这些 ActiveQuery 操作符。
- en: Note
  id: totrans-259
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: `ElasticSearch` limits the number of returned records to ten items
    by default. Take care with limits if you use relations with the `via()` option.'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：`ElasticSearch` 默认将返回的记录数限制为十个项目。如果你使用带有 `via()` 选项的关系时，请注意限制。'
- en: See also
  id: totrans-261
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the extension, see:'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关扩展的更多信息，请参阅：
- en: '[https://github.com/yiisoft/yii2-elasticsearch/blob/master/docs/guide/README.md](https://github.com/yiisoft/yii2-elasticsearch/blob/master/docs/guide/README.md)'
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-elasticsearch/blob/master/docs/guide/README.md](https://github.com/yiisoft/yii2-elasticsearch/blob/master/docs/guide/README.md)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-elasticsearch-index.html](http://www.yiiframework.com/doc-2.0/ext-elasticsearch-index.html)'
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-elasticsearch-index.html](http://www.yiiframework.com/doc-2.0/ext-elasticsearch-index.html)'
- en: You can also visit the official extension site at [https://www.elastic.co/products/elasticsearch](https://www.elastic.co/products/elasticsearch).
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您还可以访问官方扩展站点 [https://www.elastic.co/products/elasticsearch](https://www.elastic.co/products/elasticsearch)。
- en: 'For more information about Query DSL, you can visit:'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关 Query DSL 的更多信息，您可以访问：
- en: '[http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html](http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html)'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html](http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html)'
- en: '[http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-flt-query.html](http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-flt-query.html)'
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-flt-query.html](http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-flt-query.html)'
- en: For ActiveRecord usage refer to the [Chapter 3](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "Chapter 3. ActiveRecord, Model, and Database"), *ActiveRecord, Model, and Database*
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关 ActiveRecord 的使用，请参阅 [第 3 章](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "第 3 章。ActiveRecord、模型和数据库")，*ActiveRecord、模型和数据库*
- en: Gii code generator
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Gii 代码生成器
- en: This extension provides a web-based code generator called Gii for Yii 2 applications.
    You can use Gii to quickly generate models, forms, modules, CRUD, and many more.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展为 Yii 2 应用程序提供了一个基于 Web 的代码生成器，称为 Gii。您可以使用 Gii 快速生成模型、表单、模块、CRUD 以及更多。
- en: Getting ready
  id: totrans-272
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照官方指南使用 composer 创建一个新的应用程序 [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)。
- en: 'Create a new migration with the shell command:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 shell 命令创建一个新的迁移：
- en: '[PRE56]'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Put the following code into the `up()` and `down()` methods:'
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下代码放入 `up()` 和 `down()` 方法中：
- en: '[PRE57]'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Apply the migration:'
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用迁移：
- en: '[PRE58]'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: How to do it…
  id: totrans-280
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'In your projects, you can use this extension in two ways:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的项目中，您可以使用两种方式使用此扩展：
- en: Working with GUI
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图形用户界面
- en: Working with CLI
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用命令行界面
- en: Working with GUI
  id: totrans-284
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用图形用户界面
- en: 'Check that your web configuration file contains the following code:'
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的 Web 配置文件是否包含以下代码：
- en: '[PRE59]'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Your `web/index.php` file will define the development environment:'
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您的 `web/index.php` 文件将定义开发环境：
- en: '[PRE60]'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: The previous configuration states that when in a development environment, the
    application should include a module named `gii`, which is of the class `yii\gii\Module`.
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 之前的配置表明，在开发环境中，应用程序应包含一个名为 `gii` 的模块，该模块属于 `yii\gii\Module` 类。
- en: 'By default, the module allows access from the IP address, `127.0.0.1`. If you
    work from another location, add your address in the `allowedIPs` property:'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认情况下，该模块允许从 IP 地址 `127.0.0.1` 访问。如果您在其他位置工作，请在 `allowedIPs` 属性中添加您的地址：
- en: '[PRE61]'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Go to the `gii` route of your application: `http://localhost/index.php?r=gii`.![Working
    with GUI](img/image00393.jpeg)'
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往您应用程序的 `gii` 路由：`http://localhost/index.php?r=gii`。![使用图形用户界面](img/image00393.jpeg)
- en: Click on the **Model Generator** button and type your table name and model name
    in the form:![Working with GUI](img/image00405.jpeg)
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **模型生成器** 按钮，并在表单中输入您的表名和模型名：![使用图形用户界面](img/image00405.jpeg)
- en: Click the **Preview** button. You must view the featured files list:![Working
    with GUI](img/image00417.jpeg)
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **预览** 按钮。您必须查看特色文件列表：![使用图形用户界面](img/image00417.jpeg)
- en: If you want to regenerate existing files, Gii will mark those in yellow:![Working
    with GUI](img/image00430.jpeg)
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您想重新生成现有文件，Gii 将将这些文件标记为黄色：![使用图形用户界面](img/image00430.jpeg)
- en: In this case, you can view the difference between existing and new files and
    overwrite the target if needed.
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这种情况下，您可以查看现有文件和新文件之间的差异，并在需要时覆盖目标文件。
- en: After all that, click the **Generate** button:![Working with GUI](img/image00441.jpeg)
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在完成所有这些之后，点击 **生成** 按钮：![使用图形用户界面](img/image00441.jpeg)
- en: Check that the new class, `\app\models\Customer`, exists.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查新类 `\app\models\Customer` 是否存在。
- en: 'CRUD is an abbreviation for the four common tasks using data on most websites:
    Create, Read, Update, and Delete. To create CRUD using Gii, select the **CRUD
    Generator** section. Specify your model class and type the other fields:![Working
    with GUI](img/image00409.jpeg)'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CRUD 是在大多数网站上使用数据的四个常见任务的缩写：创建、读取、更新和删除。要使用 Gii 创建 CRUD，请选择 **CRUD 生成器** 部分。指定您的模型类并输入其他字段：![与
    GUI 一起工作](img/image00409.jpeg)
- en: Generate the new items:![Working with GUI](img/image00478.jpeg)
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成新条目：![与 GUI 一起工作](img/image00478.jpeg)
- en: After that, try to open the new controller:![Working with GUI](img/image00381.jpeg)
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 之后，尝试打开新的控制器：![与 GUI 一起工作](img/image00381.jpeg)
- en: You will see a data grid showing the customers in the database table. Try to
    create a new item. You may sort the grid or filter it by entering filter conditions
    in the column headers.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到一个数据网格，显示数据库表中的客户。尝试创建一个新条目。您可以通过在列标题中输入筛选条件来对网格进行排序或筛选。
- en: Working with CLI
  id: totrans-303
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 CLI 一起工作
- en: Gii also provides a console controller for code generation.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: Gii 还提供用于代码生成的控制台控制器。
- en: 'Check that your console configuration contains the Gii module settings:'
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的控制台配置是否包含 Gii 模块设置：
- en: '[PRE62]'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Run any shell command for help:'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行任何 shell 命令以获取帮助：
- en: '[PRE63]'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Type the following command to start the model generation process:'
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令以启动模型生成过程：
- en: '[PRE64]'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Check that the new class, `\app\models\Customer`, exists.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查新的类 `\app\models\Customer` 是否存在。
- en: 'Generate CRUD for your model:'
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为您的模型生成 CRUD：
- en: '[PRE65]'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: How it works…
  id: totrans-314
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Gii allows you to generate some standard code elements instead of manually typing.
    It provides web-based and console interfaces to work with every generator.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: Gii 允许您生成一些标准代码元素，而不是手动输入。它提供基于 Web 和控制台界面来与每个生成器一起工作。
- en: See also
  id: totrans-316
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the extension''s usage, see:'
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于扩展的使用信息，请参阅：
- en: '[http://www.yiiframework.com/doc-2.0/guide-start-gii.html](http://www.yiiframework.com/doc-2.0/guide-start-gii.html)'
  id: totrans-318
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/guide-start-gii.html](http://www.yiiframework.com/doc-2.0/guide-start-gii.html)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-gii-index.html](http://www.yiiframework.com/doc-2.0/ext-gii-index.html)'
  id: totrans-319
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-gii-index.html](http://www.yiiframework.com/doc-2.0/ext-gii-index.html)'
- en: '[https://github.com/yiisoft/yii2-gii/tree/master/docs/guide](https://github.com/yiisoft/yii2-gii/tree/master/docs/guide)'
  id: totrans-320
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-gii/tree/master/docs/guide](https://github.com/yiisoft/yii2-gii/tree/master/docs/guide)'
- en: For MongoDB integration refer to the *Creating a widget* recipe in [Chapter
    8](part0086.xhtml#2I0GC1-ae331331bc644dc9b658d3634f0748da "Chapter 8. Extending
    Yii"), *Extending Yii*
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于 MongoDB 集成，请参阅第 8 章 *扩展 Yii* 中 *创建小部件* 的配方，*扩展 Yii*。
- en: Pjax jQuery plugin
  id: totrans-322
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Pjax jQuery 插件
- en: Pjax is a widget that integrates the **pjax jQuery** plugin. All content that
    is wrapped by this widget will be reloaded by AJAX without refreshing the current
    page. The widget also uses the HTML5 History API to change the current URL in
    your browser's address line.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: Pjax 是一个集成 **pjax jQuery** 插件的小部件。所有由该小部件包装的内容都将通过 AJAX 重新加载，而不会刷新当前页面。该小部件还使用
    HTML5 历史API来更改浏览器地址栏中的当前 URL。
- en: Getting ready
  id: totrans-324
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 使用官方指南中描述的方法通过 composer 创建一个新的应用程序：[http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)。
- en: How to do it…
  id: totrans-326
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'In the following example, you can see how you use Pjax with the `yii\grid\GridView`
    widget:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，您可以了解如何使用 `yii\grid\GridView` 小部件与 Pjax：
- en: '[PRE66]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Just wrap any code fragment in the `Pjax::begin()` and `Pjax::end()` calls.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 只需将任何代码片段包裹在 `Pjax::begin()` 和 `Pjax::end()` 调用中。
- en: 'This will render the following HTML code:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 这将渲染以下 HTML 代码：
- en: '[PRE67]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: All the wrapped content with pagination and sorting links will be reloaded by
    AJAX.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 所有带有分页和排序链接的包装内容都将通过 AJAX 重新加载。
- en: Specifying a custom ID
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 指定自定义 ID
- en: 'Pjax gets page content from AJAX requests and then extracts its own DOM element
    with the same ID. You can optimize page rendering performance by rendering content
    without layout, especially for Pjax requests:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: Pjax 从 AJAX 请求中获取页面内容，然后提取具有相同 ID 的自己的 DOM 元素。您可以通过不使用布局渲染内容来优化页面渲染性能，特别是对于
    Pjax 请求：
- en: '[PRE68]'
  id: totrans-335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'By default, the `yii\base\Widget::getId` method increments identifiers, and
    therefore widgets, on any page that has incremented attributes:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`yii\base\Widget::getId` 方法在具有递增属性的任何页面上递增标识符和部件：
- en: '[PRE69]'
  id: totrans-337
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'To render using the `renderPartial()` or `renderAjax()` methods, without rendering
    the layout, your own page will have only one widget with the number `0`:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 `renderPartial()` 或 `renderAjax()` 方法渲染，而不渲染布局，您的页面将只有一个编号为 `0` 的小部件：
- en: '[PRE70]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: In the result, your own widget will not have found its own block with the `w2`
    selector at the next request.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 结果，在下一个请求中，您自己的小部件将找不到其具有 `w2` 选择器的块。
- en: However, Pjax will find the same block with the `w2` selector in the Ajax response.
    In the result, your own widget will not have found the block with the `w2` selector
    at the next request.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，Pjax 将在 Ajax 响应中找到具有 `w2` 选择器的相同块。结果，在下一个请求中，您自己的小部件将找不到具有 `w2` 选择器的块。
- en: 'Therefore, you must manually specify a unique identifier for all your Pjax
    widgets to avoid different conflicts:'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，您必须手动为所有 Pjax 小部件指定一个唯一的标识符，以避免不同的冲突：
- en: '[PRE71]'
  id: totrans-343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Using ActiveForm
  id: totrans-344
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 ActiveForm
- en: 'By default, Pjax works only with links in the wrapped block. If you want to
    use it with the `ActiveForm` widget, you must use the `data-pjax` option of the
    form:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Pjax 仅与包装块中的链接一起工作。如果您想与 `ActiveForm` 小部件一起使用它，您必须使用表单的 `data-pjax` 选项：
- en: '[PRE72]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: It adds corresponding listeners on the form submitting event.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 它在表单提交事件上添加相应的监听器。
- en: You can also use the `$formSelector` option of the Pjax widget to specify which
    form submission may trigger `pjax`.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用 Pjax 小部件的 `$formSelector` 选项来指定哪个表单提交可能触发 `pjax`。
- en: Working with the client-side script
  id: totrans-349
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 与客户端脚本一起工作
- en: 'You can subscribe to container events:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以订阅容器事件：
- en: '[PRE73]'
  id: totrans-351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'Or, you can reload the container manually by using its selector:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可以使用其选择器手动重新加载容器：
- en: '[PRE74]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: How it works…
  id: totrans-354
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Pjax is a simple wrapper for any code fragment. It subscribes to click events
    of all links in the fragment and replaces the whole page, reloading it into Ajax
    calls. We can use the `data-pjax` attribute for wrapped forms, and any form submissions
    will trigger an Ajax request.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: Pjax 是任何代码片段的简单包装器。它订阅片段中所有链接的点击事件，并替换整个页面，通过 Ajax 调用重新加载。我们可以为包装的表单使用 `data-pjax`
    属性，并且任何表单提交都将触发 Ajax 请求。
- en: The widget will load and update on-the-fly widget body content without, loading
    the layout resources (JS, CSS).
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 小部件将动态加载和更新小部件的主体内容，而无需加载布局资源（JS、CSS）。
- en: You may configure the `$linkSelector` of the widget to specify which links should
    trigger Pjax, and configure `$formSelector` to specify which form submission may
    trigger Pjax.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以配置小部件的 `$linkSelector` 以指定哪些链接应触发 Pjax，并配置 `$formSelector` 以指定哪些表单提交可能触发
    Pjax。
- en: You may disable Pjax for a specific link inside the container by adding the
    `data-pjax="0"` attribute to this link.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过向此链接添加 `data-pjax="0"` 属性来禁用容器中特定链接的 Pjax。
- en: See also
  id: totrans-359
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the extension''s usage, see:'
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于扩展使用方法的更多信息，请参阅：
- en: '[http://www.yiiframework.com/doc-2.0/yii-widgets-pjax.html](http://www.yiiframework.com/doc-2.0/yii-widgets-pjax.html)'
  id: totrans-361
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/yii-widgets-pjax.html](http://www.yiiframework.com/doc-2.0/yii-widgets-pjax.html)'
- en: '[https://github.com/yiisoft/jquery-pjax](https://github.com/yiisoft/jquery-pjax)'
  id: totrans-362
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/jquery-pjax](https://github.com/yiisoft/jquery-pjax)'
- en: For more information about client-side options and methods, refer to [https://github.com/yiisoft/jquery-pjax#usage](https://github.com/yiisoft/jquery-pjax#usage)
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于客户端选项和方法的更多信息，请参阅[https://github.com/yiisoft/jquery-pjax#usage](https://github.com/yiisoft/jquery-pjax#usage)。
- en: Redis database driver
  id: totrans-364
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Redis 数据库驱动程序
- en: This extension allows you to use Redis key-value storage in any project on the
    Yii2 framework. It contains the `Cache` and `Session` storage handlers, as well
    as the extension, which implements the ActiveRecord pattern for access to the
    Redis database records.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 此扩展允许您在 Yii2 框架的任何项目中使用 Redis 键值存储。它包含 `Cache` 和 `Session` 存储处理程序，以及实现 ActiveRecord
    模式以访问 Redis 数据库记录的扩展。
- en: Getting ready
  id: totrans-366
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Create a new application by using composer, as described in the official guide
    at [http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html).
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 composer 创建一个新的应用程序，具体操作请参考官方指南中的[http://www.yiiframework.com/doc-2.0/guide-start-installation.html](http://www.yiiframework.com/doc-2.0/guide-start-installation.html)。
- en: 'Install the storage: [http://redis.io](http://redis.io).'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装存储：[http://redis.io](http://redis.io)。
- en: 'Install all migrations with the following command:'
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令安装所有迁移：
- en: '[PRE75]'
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: How to do it…
  id: totrans-371
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'First of all, configure the `Connection` class in your configuration file:'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在您的配置文件中配置 `Connection` 类：
- en: '[PRE76]'
  id: totrans-373
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: Direct usage
  id: totrans-374
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 直接使用
- en: 'For low-level working with Redis commands, you can use the `executeCommand`
    method of the connection component:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 对于使用Redis命令的低级操作，您可以使用连接组件的`executeCommand`方法：
- en: '[PRE77]'
  id: totrans-376
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'You can also use simplified shortcuts instead of `executeCommand` calls:'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用简化的快捷方式来代替`executeCommand`调用：
- en: '[PRE78]'
  id: totrans-378
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: Using ActiveRecord
  id: totrans-379
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用ActiveRecord
- en: 'For access to Redis records via the `ActiveRecord` pattern, your record class
    needs to extend from the `yii\redis\ActiveRecord` base class and implement the
    `attributes()` method:'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 要通过`ActiveRecord`模式访问Redis记录，您的记录类需要从`yii\redis\ActiveRecord`基类扩展并实现`attributes()`方法：
- en: '[PRE79]'
  id: totrans-381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: A primary key of any model can be defined via the `primaryKey()` method, which
    defaults to `id` if not specified. The primary key needs to be placed in the attribute
    list if you do not manually specify it in the `primaryKey()` method.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 任何模型的键可以通过`primaryKey()`方法定义，如果没有指定，默认为`id`。如果未在`primaryKey()`方法中手动指定，则主键需要放在属性列表中。
- en: 'The following is a usage example:'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个使用示例：
- en: '[PRE80]'
  id: totrans-384
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: How it works…
  id: totrans-385
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The extension provides a `Connection` component for low-level access to Redis
    storage records.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展提供了`Connection`组件，用于对Redis存储记录进行低级访问。
- en: You can also use an ActiveRecord-like model with a limited set of methods (`where()`,
    `limit()`, `offset(),` and `indexBy()`). Other methods do not exist because Redis
    does not support SQL queries.
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用类似ActiveRecord的模型，并限制方法集（`where()`, `limit()`, `offset()`, 和 `indexBy()`）。其他方法不存在，因为Redis不支持SQL查询。
- en: There are no tables in Redis, so you cannot define via relations via a junction
    table name. You can only define many-to-many relations via other `hasMany` relations.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: Redis中没有表，因此您不能通过连接表名定义关系。您只能通过其他`hasMany`关系定义多对多关系。
- en: For general information on how to use Yii's ActiveRecord, please refer to [Chapter
    3](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da "Chapter 3. ActiveRecord,
    Model, and Database"), *ActiveRecord, Model, and Database*.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 关于如何使用Yii的ActiveRecord的一般信息，请参阅[第3章](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da
    "第3章。ActiveRecord, 模型，和数据库"), *ActiveRecord, 模型，和数据库*。
- en: See also
  id: totrans-390
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For more information about the extension''s usage, see:'
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于扩展使用的信息，请参阅：
- en: '[https://github.com/yiisoft/yii2-redis/blob/master/docs/guide/README.md](https://github.com/yiisoft/yii2-redis/blob/master/docs/guide/README.md)'
  id: totrans-392
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/yiisoft/yii2-redis/blob/master/docs/guide/README.md](https://github.com/yiisoft/yii2-redis/blob/master/docs/guide/README.md)'
- en: '[http://www.yiiframework.com/doc-2.0/ext-redis-index.html](http://www.yiiframework.com/doc-2.0/ext-redis-index.html)'
  id: totrans-393
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.yiiframework.com/doc-2.0/ext-redis-index.html](http://www.yiiframework.com/doc-2.0/ext-redis-index.html)'
- en: 'For information about Redis key-value storage, refer: [http://redis.io/documentation](http://redis.io/documentation)'
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于Redis键值存储的信息，请参阅：[http://redis.io/documentation](http://redis.io/documentation)
- en: '[Chapter 3](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da "Chapter 3. ActiveRecord,
    Model, and Database"), *ActiveRecord, Model, and Database* for ActiveRecord usage'
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第3章](part0039.xhtml#1565U1-ae331331bc644dc9b658d3634f0748da "第3章。ActiveRecord,
    模型，和数据库"), *ActiveRecord, 模型，和数据库*关于ActiveRecord的使用'

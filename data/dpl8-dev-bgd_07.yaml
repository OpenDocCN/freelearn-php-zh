- en: Chapter 7. Adding Media to Our Site
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章。向我们的网站添加媒体
- en: '*A text-only site is not going to hold the interest of visitors; a site needs
    some pizzazz and some spice! One way to add some pizzazz to your site is by adding
    some multimedia content, such as images, video, audio, and so on. But, we don''t
    just want to add a few images here and there; in fact, we want an immersive and
    compelling multimedia experience that is easy to manage, configure, and extend.
    The File entity ([https://drupal.org/project/file_entity](https://drupal.org/project/file_entity))
    module for Drupal 8 will enable us to manage files very easily. In this chapter,
    we will discover how to integrate the File entity module to add images to our
    d8dev site, and will explore compelling ways to present images to users. This
    will include taking a look at the integration of a lightbox-type UI element for
    displaying the File-entity-module-managed images, and learning how we can create
    custom image styles through UI and code.*'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*仅文本的网站无法吸引访客；网站需要一些活力和特色！为您的网站增添活力的一种方法是通过添加多媒体内容，例如图片、视频、音频等。但，我们不仅仅想在这里和那里添加几张图片；实际上，我们希望提供一个沉浸式且引人入胜的多媒体体验，它易于管理、配置和扩展。Drupal
    8的文件实体([https://drupal.org/project/file_entity](https://drupal.org/project/file_entity))模块将使我们能够非常容易地管理文件。在本章中，我们将了解如何将文件实体模块集成到我们的d8dev网站中，并探索向用户展示图片的引人入胜的方法。这包括查看用于显示由文件实体模块管理的图片的灯箱类型UI元素的集成，以及学习我们如何通过UI和代码创建自定义图片样式。*'
- en: 'The following topics will be covered in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: The File entity module for Drupal 8
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Drupal 8的文件实体模块
- en: Adding a Recipe image field to your content types
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将食谱图片字段添加到你的内容类型中
- en: Code example—image styles for Drupal 8
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 代码示例——Drupal 8的图片样式
- en: Displaying recipe images in a lightbox popup
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在灯箱弹出窗口中显示食谱图片
- en: Working with Drupal issue queues
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与Drupal问题队列协作
- en: Introduction to the File entity module
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 文件实体模块简介
- en: 'As per the module page at [https://www.drupal.org/project/file_entity](https://www.drupal.org/project/file_entity):'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 根据模块页面[https://www.drupal.org/project/file_entity](https://www.drupal.org/project/file_entity)：
- en: '*File entity provides interfaces for managing files. It also extends the core
    file entity, allowing files to be fieldable, grouped into types, viewed (using
    display modes) and formatted using field formatters. File entity integrates with
    a number of modules, exposing files to Views, Entity API, Token and more.*'
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*文件实体提供了管理文件的接口。它还扩展了核心文件实体，允许文件可字段化、按类型分组、查看（使用显示模式）以及使用字段格式器格式化。文件实体与多个模块集成，将文件暴露给视图、实体API、标记等。*'
- en: In our case, we need this module to easily edit image properties such as Title
    text and Alt text. So these properties will be used in the colorbox popup to display
    them as captions.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，我们需要这个模块来轻松编辑图片属性，如标题文本和Alt文本。因此，这些属性将在colorbox弹出窗口中使用，作为标题显示。
- en: Working with dev versions of modules
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 与模块的开发版本协作
- en: There are times when you come across a module that introduces some major new
    features and is fairly stable, but not quite ready for use on a live/production
    website, and is therefore available only as a dev version. This is a perfect opportunity
    to provide a valuable contribution to the Drupal community. Just by installing
    and using a dev version of a module (in your local development environment, of
    course), you are providing valuable testing for the module maintainers. Of course,
    you should enter an issue in the project's issue queue if you discover any bugs
    or would like to request any additional features. Also, using a dev version of
    a module presents you with the opportunity to take on some custom Drupal development.
    However, it is important that you remember that a module is released as a dev
    version for a reason, and it is most likely not stable enough to be deployed on
    a public-facing site.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，你会遇到一个引入了一些重大新功能且相对稳定的模块，但还不适合在实时/生产网站上使用，因此只能作为开发版本提供。这是一个为Drupal社区提供宝贵贡献的绝佳机会。仅通过安装和使用模块的开发版本（当然是在你的本地开发环境中），你就为模块维护者提供了宝贵的测试。当然，如果你发现任何错误或希望请求任何额外功能，你应该在项目的问题队列中提交一个问题。此外，使用模块的开发版本为你提供了承担一些自定义Drupal开发的机会。然而，重要的是要记住，一个模块作为开发版本发布是有原因的，它可能还不够稳定，不能部署在面向公众的网站上。
- en: 'Our use of the File entity module in this chapter is a good example of working
    with the dev version of a module. One thing to note: Drush will download official
    and dev module releases. But at this point in time, there is no official port
    for the File entity module in Drupal, so we will use the unofficial one, which
    lives on GitHub ([https://github.com/drupal-media/file_entity](https://github.com/drupal-media/file_entity)).
    In the next step, we will be downloading the dev release with GitHub.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中我们对文件实体模块的使用是使用模块开发版本的很好例子。有一点需要注意：Drush会下载官方和开发版本的模块。但到目前为止，Drupal中还没有文件实体模块的官方端口，所以我们将使用非官方的，它位于GitHub上（[https://github.com/drupal-media/file_entity](https://github.com/drupal-media/file_entity)）。在下一步中，我们将从GitHub下载开发版本。
- en: Time for action – installing a dev version of the File entity module
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装文件实体模块的开发版本的时间
- en: 'In Drupal, we use Drush to download and enable any module/theme, but there
    is no official port yet for the file entity module in Drupal, so we can use the
    unofficial one, which lives on GitHub at [https://github.com/drupal-media/file_entity](https://github.com/drupal-media/file_entity):'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在Drupal中，我们使用Drush下载和启用任何模块/主题，但文件实体模块在Drupal中还没有官方端口，所以我们可以使用位于GitHub上的非官方版本[https://github.com/drupal-media/file_entity](https://github.com/drupal-media/file_entity)：
- en: Open the Terminal (Mac OS X) or Command Prompt (Windows) application, and go
    to the root directory of your d8dev site.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开终端（Mac OS X）或命令提示符（Windows）应用程序，并转到您的d8dev站点的根目录。
- en: 'Go inside the `modules` folder and download the File entity module from GitHub.
    We use the `git` command to download this module: `$ git clone https://github.com/drupal-media/file_entity`.
    Another way is to download a `.zip` file from [https://github.com/drupal-media/file_entity](https://github.com/drupal-media/file_entity)
    and extract it in the modules folder:![Time for action – installing a dev version
    of the File entity module](img/4659_07_01.jpg)'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入`modules`文件夹，从GitHub下载文件实体模块。我们使用`git`命令下载此模块：`$ git clone https://github.com/drupal-media/file_entity`。另一种方法是下载来自[https://github.com/drupal-media/file_entity](https://github.com/drupal-media/file_entity)的`.zip`文件，并在模块文件夹中提取它：![安装文件实体模块的开发版本的时间](img/4659_07_01.jpg)
- en: Next, on the **Extend** page (`admin/modules`), enable the File entity module.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**扩展**页面（`admin/modules`）上启用文件实体模块。
- en: '*What just happened?*'
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*刚才发生了什么？*'
- en: We enabled the File entity module, and learned how to download and install with
    GitHub.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们启用了文件实体模块，并学习了如何使用GitHub下载和安装。
- en: A new recipe for our site
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我们网站上的新食谱
- en: 'In this chapter, we are going to create a new recipe: Thai Basil Chicken. If
    you would like to have more real content to use as an example, and feel free to
    try the recipe out!'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将创建一个新的食谱：泰国罗勒鸡肉。如果您想使用更多真实内容作为示例，并自由尝试这个食谱！
- en: '![A new recipe for our site](img/4659_07_02.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![我们网站上的新食谱](img/4659_07_02.jpg)'
- en: '**Name**: Thai Basil Chicken'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**：泰国罗勒鸡肉'
- en: '**Description**: A spicy, flavorful version of one of my favorite Thai dishes'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：我最喜欢的泰国菜肴之一的一个辛辣、美味的版本'
- en: '**RecipeYield** : Four servings'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**产量**：四份'
- en: '**PrepTime**: 25 minutes'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**准备时间**：25分钟'
- en: '**CookTime**: 20 minutes'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**烹饪时间**：20分钟'
- en: '**Ingredients** :'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配料**：'
- en: One pound boneless chicken breasts
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一磅去骨鸡胸肉
- en: Two tablespoons of olive oil
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两大汤匙橄榄油
- en: Four garlic cloves, minced
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 四瓣大蒜，切碎
- en: Three tablespoons of soy sauce
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三大汤匙酱油
- en: Two tablespoons of fish sauce
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两大汤匙鱼露
- en: Two large sweet onions, sliced
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个大甜洋葱，切片
- en: Five cloves of garlic
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 五瓣大蒜
- en: One yellow bell pepper
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个黄色的甜椒
- en: One green bell pepper
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个绿色的甜椒
- en: Four to eight Thai peppers (depending on the level of hotness you want)
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 四到八个泰国辣椒（根据您想要的辣度而定）
- en: One-third cup of dark brown sugar dissolved in one cup of hot water
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三分之一杯深棕色糖溶解在一杯热水中
- en: One cup of fresh basil leaves
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一杯新鲜罗勒叶
- en: Two cups of Jasmin rice
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两杯茉莉香米
- en: '**Instructions**:'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**说明**：'
- en: Prepare the Jasmine rice according to the directions.
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照说明准备茉莉香米。
- en: Heat the olive oil in a large frying pan over medium heat for two minutes.
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个大煎锅中用中热加热橄榄油两分钟。
- en: Add the chicken to the pan and then pour on soy sauce.
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将鸡肉加入锅中，然后倒入酱油。
- en: Cook the chicken until there is no visible pinkness—approximately 8 to 10 minutes.
  id: totrans-48
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 煮鸡肉直到没有可见的粉红色——大约8到10分钟。
- en: Reduce heat to medium low.
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将热量降低到中低。
- en: Add the garlic and fish sauce, and simmer for 3 minutes.
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加入大蒜和鱼露，煮沸3分钟。
- en: Next, add the Thai chilies, onion, and bell pepper and stir to combine.
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来，加入泰国辣椒、洋葱和甜椒，搅拌均匀。
- en: Simmer for 2 minutes.
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 煮沸2分钟。
- en: Add the brown sugar and water mixture. Stir to mix, and then cover.
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加红糖和水混合物。搅拌混合，然后盖上盖子。
- en: Simmer for 5 minutes.
  id: totrans-54
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 炖煮5分钟。
- en: Uncover, add basil, and stir to combine.
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 揭盖，加入罗勒，搅拌以混合。
- en: Serve over rice.
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 搭配米饭食用。
- en: Time for action – adding a Recipe images field to our Recipe content type
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作时间 – 向我们的食谱内容类型添加食谱图片字段
- en: 'We will use the manage fields administrative page to add a Media field to our
    d8dev Recipe content type:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用管理字段管理页面将媒体字段添加到我们的d8dev食谱内容类型中：
- en: Open up the d8dev site in your favorite browser, click on the **Structure**
    link in the **Admin** toolbar, and then click on the **Content types** link.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您最喜欢的浏览器中打开d8dev网站，点击**管理**工具栏中的**结构**链接，然后点击**内容类型**链接。
- en: Next, on the **Content types** administrative page, click on the **Manage fields**
    link for your Recipe content type:![Time for action – adding a Recipe images field
    to our Recipe content type](img/4659_07_03.jpg)
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**内容类型**管理页面上，点击您食谱内容类型的**管理字段**链接：![操作时间 – 向我们的食谱内容类型添加食谱图片字段](img/4659_07_03.jpg)
- en: Now, on the **Manage fields** administrative page, click on the **Add field**
    link. On the next screen, select **Image** from the **Add a new field** dropdown
    and **Label** as **Recipe images**. Click on the **Save field settings** button.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在**管理字段**管理页面上，点击**添加字段**链接。在下一屏幕上，从**添加新字段**下拉菜单中选择**图片**，并将**标签**设置为**食谱图片**。点击**保存字段设置**按钮。
- en: Next, on the **Field settings** page, select **Unlimited** as the allowed number
    of values. Click on the **Save field settings** button. On the next screen, leave
    all settings as they are and click on the **Save settings** button.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**字段设置**页面，将允许的值数设置为**无限**。点击**保存字段设置**按钮。在下一屏幕上，保留所有设置不变，并点击**保存设置**按钮。
- en: Next, on the **Manage form display** page, select widget **Editable file** for
    the **Recipe images** field and click on the **Save** button.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**管理表单显示**页面，为**食谱图片**字段选择小部件**可编辑文件**并点击**保存**按钮。
- en: Now, on the **Manage display** page, for the **Recipe images** field, select
    **Hidden** as the label. Click on the settings icon. Then select **Medium (220*220)**
    as the image style, and click on the **Update** button. At the bottom, click on
    the **Save** button:![Time for action – adding a Recipe images field to our Recipe
    content type](img/4659_07_04.jpg)
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在**管理显示**页面，对于**食谱图片**字段，将标签选择为**隐藏**。点击设置图标。然后选择**中等（220*220）**作为图片样式，并点击**更新**按钮。在底部，点击**保存**按钮：![操作时间
    – 向我们的食谱内容类型添加食谱图片字段](img/4659_07_04.jpg)
- en: Let's add some Recipe images to a recipe. Click on the **Content** link in the
    menu bar, and then click on **Add content and Recipe**. On the next screen, fill
    in the title as `Thai Basil Chicken` and other fields respectively as mentioned
    in the preceding recipe details.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们向一个食谱添加一些食谱图片。在菜单栏中点击**内容**链接，然后点击**添加内容和食谱**。在下一屏幕上，填写标题为`泰国罗勒鸡肉`，并分别填写其他字段，如前述食谱详情中所述。
- en: Now, scroll down to the new **Recipe images** field that you have added. Click
    on the **Add a new file** button or drag and drop images that you want to upload.
    Then click on the **Save and Publish** button:![Time for action – adding a Recipe
    images field to our Recipe content type](img/4659_07_05.jpg)
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，向下滚动到您刚刚添加的新**食谱图片**字段。点击**添加新文件**按钮或拖放您想要上传的图片。然后点击**保存并发布**按钮：![操作时间 –
    向我们的食谱内容类型添加食谱图片字段](img/4659_07_05.jpg)
- en: Reload your **Thai Basil Chicken** recipe page, and you should see something
    similar to the following:![Time for action – adding a Recipe images field to our
    Recipe content type](img/4659_07_06.jpg)
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新加载您的**泰国罗勒鸡肉**食谱页面，您应该会看到以下类似的内容：![操作时间 – 向我们的食谱内容类型添加食谱图片字段](img/4659_07_06.jpg)
- en: 'All the images are stacked on top of each other. So, we will add the following
    CSS just under the style for `field--name-field-recipe-images` and `field--type-recipe-images`
    in the `/modules/d8dev/styles/d8dev.css` file, to lay out the Recipe images in
    more of a grid:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有图片都堆叠在一起。因此，我们将在`/modules/d8dev/styles/d8dev.css`文件中`field--name-field-recipe-images`和`field--type-recipe-images`样式下方添加以下CSS，以使食谱图片更像是网格布局：
- en: '[PRE0]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Now we will load this `d8dev.css` file to affect this grid style. In Drupal
    8, loading a CSS file has a process:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们将加载这个`d8dev.css`文件以影响这个网格样式。在Drupal 8中，加载CSS文件有一个过程：
- en: Save the CSS to a file.
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将CSS保存到文件中。
- en: Define a library, which can contain the CSS file.
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一个库，其中可以包含CSS文件。
- en: Attach the library to a render array in a hook.
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在钩子中将库附加到渲染数组。
- en: 'So, we have already saved a CSS file called `d8dev.css` under the `styles`
    folder; now we will define a library. To define one or more (asset) libraries,
    add a `*.libraries.yml` file to your `theme` folder. Our module is named `d8dev`,
    and then the filename should be `d8dev.libraries.yml`. Each library in the file
    is an entry detailing CSS, like this:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 因此，我们已经在`styles`文件夹下保存了一个名为`d8dev.css`的CSS文件；现在我们将定义一个库。要定义一个或多个（资产）库，请将一个`*.libraries.yml`文件添加到您的`theme`文件夹中。我们的模块名为`d8dev`，然后文件名应该是`d8dev.libraries.yml`。文件中的每个库都是一个条目，详细说明了CSS，如下所示：
- en: '[PRE1]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now, we define the `hook_page_attachments()` function to load the CSS file.
    Add the following code inside the `d8dev.module` file. Use this hook when you
    want to conditionally add attachments to a page:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们定义`hook_page_attachments()`函数来加载CSS文件。在`d8dev.module`文件中添加以下代码。当您想有条件地向页面添加附件时使用此钩子：
- en: '[PRE2]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Now, we will need to clear the cache for our d8dev site by going to **Configuration**,
    clicking on the **Performance** link, and then clicking on the **Clear all caches**
    button. Reload your **Thai Basil Chicken** recipe page, and you should see something
    similar to the following:![Time for action – adding a Recipe images field to our
    Recipe content type](img/4659_07_07.jpg)
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们需要通过访问**配置**，点击**性能**链接，然后点击**清除所有缓存**按钮来清除我们的d8dev网站的缓存。重新加载您的**泰国罗勒鸡肉**食谱页面，您应该会看到以下类似的内容：![通过食谱内容类型添加食谱图片字段](img/4659_07_07.jpg)
- en: '*What just happened?*'
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We added and configured a media-based field for our Recipe content type. We
    updated the d8dev module with custom CSS code to lay out the Recipe images in
    more of a grid format. And also we looked at how to attach a CSS file through
    a module.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为我们的食谱内容类型添加并配置了一个基于媒体的字段。我们通过自定义CSS代码更新了d8dev模块，以便以更网格的形式布局食谱图片。同时，我们还研究了如何通过模块附加CSS文件。
- en: Creating a custom image style
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建自定义图片样式
- en: 'Before we configure a colorbox feature, we are going to create a custom image
    style to use when we add them in colorbox content preview settings. Image styles
    for Drupal 8 are part of the core Image module. The core image module provides
    three default image styles—thumbnail, medium, and large—as seen in the following
    Image style configuration page:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们配置colorbox功能之前，我们将创建一个自定义图片样式，以便在添加到colorbox内容预览设置时使用。Drupal 8的图片样式是核心图片模块的一部分。核心图片模块提供了三个默认图片样式——缩略图、中图和大图，如以下图片样式配置页面所示：
- en: '![Creating a custom image style](img/4659_07_08.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![创建自定义图片样式](img/4659_07_08.jpg)'
- en: Now, we are going to add a fifth custom image style, an image style that will
    resize our images somewhere between the 100 x 75 thumbnail style and the 220 x
    165 medium style. We will walkthrough the process of creating an image style through
    the Image style administrative page, and also walkthrough the process of programmatically
    creating an image style.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将添加第五个自定义图片样式，一个介于100 x 75缩略图样式和220 x 165中图样式之间的图片样式。我们将通过图片样式管理页面演示创建图片样式的过程，并演示通过编程创建图片样式的过程。
- en: Time for action – adding a custom image style through the image style administrative
    page
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过图片样式管理页面添加自定义图片样式
- en: 'First, we will use the Image style administrative page (`admin/config/media/image-styles`)
    to create a custom image style:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将使用图片样式管理页面（`admin/config/media/image-styles`）来创建一个自定义图片样式：
- en: Open the d8dev site in your favorite browser, click on the **Configuration**
    link in the **Admin** toolbar, and click on the **Image** styles link under the
    **Media** section.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您最喜欢的浏览器中打开d8dev网站，点击**管理**工具栏中的**配置**链接，然后点击**媒体**部分下的**图片样式**链接。
- en: Once the Image styles administrative page has loaded, click on the **Add style**
    link.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦图片样式管理页面加载完成，点击**添加样式**链接。
- en: Next, enter `small` for the **Image style name** of your custom image style,
    and click on the **Create new style** button:![Time for action – adding a custom
    image style through the image style administrative page](img/4659_07_09.jpg)
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将自定义图片样式的**图片样式名称**输入为`small`，然后点击**创建新样式**按钮：![通过图片样式管理页面添加自定义图片样式](img/4659_07_09.jpg)
- en: Now, we will add the one and only effect for our custom image style by selecting
    **Scale** from the **EFFECT** options and then clicking on the **Add** button.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在，我们将通过从**效果**选项中选择**缩放**并点击**添加**按钮来为我们的自定义图片样式添加唯一的效果。
- en: On the **Add Scale effect** page, enter `160` for the width and `120` for the
    height. Leave the **Allow Upscaling** checkbox unchecked, and click on the **Add
    effect** button:![Time for action – adding a custom image style through the image
    style administrative page](img/4659_07_10.jpg)
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**添加缩放效果**页面上，输入宽度为`160`，高度为`120`。不要勾选**允许放大**复选框，然后点击**添加效果**按钮：![行动时间 – 通过图像样式管理页面添加自定义图像样式](img/4659_07_10.jpg)
- en: Finally, just click on the **Update style** button on the **Edit small style**
    administrative page, and we are done. We now have a new custom small image style
    that we will be able to use to resize images for our site:![Time for action –
    adding a custom image style through the image style administrative page](img/4659_07_11.jpg)
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，只需在**编辑小样式**管理页面上的**更新样式**按钮上点击，我们就完成了。我们现在有一个新的自定义小图像样式，我们可以用它来调整我们网站的图像大小：![行动时间
    – 通过图像样式管理页面添加自定义图像样式](img/4659_07_11.jpg)
- en: '*What just happened?*'
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We learned how easy it is to add a custom image style with the administrative
    UI. Now, we are going to see how to add a custom image style by writing some code.
    The advantage of having code-based custom image styles is that it will allow us
    to utilize a source code repository, such as Git, to manage and deploy our custom
    image styles between different environments. For example, it would allow us to
    use Git to promote image styles from our development environment to a live production
    website. Otherwise, the manual configuration that we just did would have to be
    repeated for every environment.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 我们学习了如何通过管理UI轻松添加自定义图像样式。现在，我们将看到如何通过编写一些代码来添加自定义图像样式。基于代码的自定义图像样式的优点是，它将允许我们利用源代码仓库，例如Git，来管理和在不同环境之间部署我们的自定义图像样式。例如，它将允许我们使用Git将图像样式从开发环境提升到实时生产网站。否则，我们刚才所做的手动配置将不得不为每个环境重复进行。
- en: Time for action – creating a programmatic custom image style
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 – 创建一个程序化的自定义图像样式
- en: 'Now, we will see how we can add a custom image style with code:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将看到如何通过代码添加自定义图像样式：
- en: The first thing we need to do is delete the small image style that we just created.
    So, open your d8dev site in your favorite browser, click on the **Configuration**
    link in the **Admin** toolbar, and then click on the **Image styles** link under
    the **Media** section.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要做的第一件事是删除我们刚刚创建的小图像样式。因此，打开您最喜欢的浏览器中的d8dev网站，点击**管理**工具栏中的**配置**链接，然后在**媒体**部分下点击**图像样式**链接。
- en: Once the **Image styles** administrative page has loaded, click on the **delete**
    link for the small image style that we just added.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦**图像样式**管理页面加载完成，点击我们刚刚添加的小图像样式的**删除**链接。
- en: Next, on the **Optionally select a style before deleting small** page, leave
    the default value for the **Replacement style** select list as **No replacement,
    just delete**, and click on the **Delete** button:![Time for action – creating
    a programmatic custom image style](img/4659_07_12.jpg)
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**在删除小样式之前可选选择一个样式**页面上，将**替换样式**选择列表的默认值保留为**无替换，仅删除**，然后点击**删除**按钮：![行动时间
    – 创建程序化的自定义图像样式](img/4659_07_12.jpg)
- en: In Drupal 8, image styles have been converted from an array to an object that
    extends ConfigEntity. All image styles provided by modules need to be defined
    as YAML configuration files in the `config/install` folder of each module.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Drupal 8中，图像样式已从数组转换为扩展ConfigEntity的对象。所有由模块提供的图像样式都需要在每个模块的`config/install`文件夹中定义为YAML配置文件。
- en: 'Suppose our module is located at `modules/d8dev`. Create a file called `modules/d8dev/config/install/image.style.small.yml`
    with the following content:'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设我们的模块位于`modules/d8dev`。创建一个名为`modules/d8dev/config/install/image.style.small.yml`的文件，内容如下：
- en: '[PRE3]'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Note
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: We need to use a UUID generator to assign unique IDs to image style effects.
    *Do not copy/paste UUIDs* from other pieces of code or from other image styles!
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们需要使用UUID生成器为图像样式效果分配唯一的ID。*不要从其他代码片段或其他图像样式中复制/粘贴UUID*！
- en: The name of our custom style is "small". Here, the name and the label are same.
    For each effect that we want to add to our image style, we will specify the effect
    itself in the place of key followed by the value, which acts as the settings for
    the effect. In the case of the **image_scale** effect that we are using here,
    we pass in the **width**, **height**, and **upscale** settings. Finally, the value
    for the **weight** key allows us to specify the order the effects should be processed
    in, and although it is not very useful when there is only one effect, it becomes
    important when there are multiple effects.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们自定义样式的名称是"small"。在这里，名称和标签是相同的。对于我们要添加到图像样式的每个效果，我们将在键的后面指定效果本身，键后的值作为效果的设置。在我们这里使用的**image_scale**效果的情况下，我们传递了**宽度**、**高度**和**upscale**设置。最后，**weight**键的值允许我们指定效果应该处理的顺序，尽管当只有一个效果时它不太有用，但当有多个效果时，它就变得很重要了。
- en: Now, we will need to uninstall and install our d8dev module by going to the
    **Extend** page. On the next screen click on the **Uninstall** tab, check the
    **d8dev** checkbox and click on the **Uninstall** button. Now, click on the **List**
    tab, check **d8dev**, and click on the **Install** button. Then, go back to the
    **Image styles** administrative page and you will see our programmatically created
    small image style.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们需要通过访问**扩展**页面来卸载并安装我们的d8dev模块。在下一屏幕上点击**卸载**选项卡，勾选**d8dev**复选框，然后点击**卸载**按钮。现在，点击**列表**选项卡，勾选**d8dev**，然后点击**安装**按钮。然后，返回到**图像样式**管理页面，您将看到我们通过编程创建的小图像样式。
- en: '*What just happened?*'
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We created a custom image style with some custom code. We then configured our
    Recipe content type to use our custom image style for images added to the Recipe
    images field.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个带有一些自定义代码的自定义图像样式。然后，我们配置了我们的食谱内容类型，使其为添加到食谱图片字段的图片使用我们的自定义图像样式。
- en: Integrating the Colorbox and File entity modules
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集成Colorbox和文件实体模块
- en: The File entity module provides interfaces for managing files. For images, we
    will be able to edit Title text, Alt text, and Filenames easily. However, the
    images are taking up quite a bit of room. Let's create a pop-up lightbox gallery
    and show images in a popup. When someone clicks on an image, a lightbox will pop
    up and allow the user to cycle through larger versions of all associated images.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 文件实体模块提供了管理文件的用户界面。对于图片，我们将能够轻松编辑标题文本、替代文本和文件名。然而，图片占据了相当大的空间。让我们创建一个弹出式相册并显示图片。当有人点击图片时，一个灯箱会弹出，并允许用户浏览所有相关图片的较大版本。
- en: Time for action – installing the Colorbox module
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Colorbox模块的行动时间
- en: 'Before we can display Recipe images in a Colorbox, we need to download and
    enable the module:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们能够在Colorbox中显示食谱图片之前，我们需要下载并启用该模块：
- en: Open the Mac OS X Terminal or Windows Command Prompt, and change to the `d8dev`
    directory.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Mac OS X终端或Windows命令提示符，切换到`d8dev`目录。
- en: 'Next, use Drush to download and enable the current dev release of the Colorbox
    module ([http://drupal.org/project/colorbox](http://drupal.org/project/colorbox)):'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用Drush下载并启用Colorbox模块的当前开发版本([http://drupal.org/project/colorbox](http://drupal.org/project/colorbox))：
- en: '[PRE4]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The Colorbox module depends on the Colorbox jQuery plugin available at [https://github.com/jackmoore/colorbox](https://github.com/jackmoore/colorbox).
    The Colorbox module includes a Drush task that will download the required jQuery
    plugin at the `/libraries` directory:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Colorbox模块依赖于位于[https://github.com/jackmoore/colorbox](https://github.com/jackmoore/colorbox)的Colorbox
    jQuery插件。Colorbox模块包含一个Drush任务，该任务将在`/libraries`目录下下载所需的jQuery插件：
- en: '[PRE5]'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Next, we will look into the Colorbox display formatter. Click on the **Structure**
    link in the **Admin** toolbar, then click on the **Content** types link, and finally
    click on the **manage** display link for your Recipe content type under the **Operations**
    dropdown:![Time for action – installing the Colorbox module](img/4659_07_13.jpg)
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将查看Colorbox显示格式化器。点击**管理**工具栏中的**结构**链接，然后点击**内容类型**链接，最后点击**操作**下拉菜单下的**管理显示**链接，以您的食谱内容类型为例：![安装Colorbox模块的行动时间
    – 安装Colorbox模块](img/4659_07_13.jpg)
- en: Next, click on the **FORMAT** select list for the **Recipe images** field, and
    you will see an option for Colorbox, Select as **Colorbox** then you will see
    the settings change. Then, click on the settings icon:![Time for action – installing
    the Colorbox module](img/4659_07_14.jpg)
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**格式**选择列表中的**食谱图片**字段，您将看到一个Colorbox选项，选择**Colorbox**后，您将看到设置发生变化。然后，点击设置图标：![安装Colorbox模块的行动时间
    – 安装Colorbox模块](img/4659_07_14.jpg)
- en: Now, you will see the settings for Colorbox. Select **Content image style**
    as **small** and **Content image style for first image** as **small** in the dropdown,
    and use the default settings for other options. Click on the **Update** button
    and next on the **Save** button at the bottom:![Time for action – installing the
    Colorbox module](img/4659_07_15.jpg)
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将看到 Colorbox 的设置。在下拉菜单中选择**内容图像样式**为**小尺寸**，并将**第一张图片的内容图像样式**也设置为**小尺寸**，并使用其他选项的默认设置。点击底部的**更新**按钮，然后点击底部的**保存**按钮：![行动时间
    – 安装 Colorbox 模块](img/4659_07_15.jpg)
- en: Reload our **Thai Basil Chicken** recipe page, and you should see something
    similar to the following (with the new image style, small):![Time for action –
    installing the Colorbox module](img/4659_07_16.jpg)
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新加载我们的**泰式罗勒鸡肉**食谱页面，你应该会看到以下类似的内容（带有新的图像样式，小尺寸）：![行动时间 – 安装 Colorbox 模块](img/4659_07_16.jpg)
- en: Now, click on any image and then you will see the image loaded in the colorbox
    popup:![Time for action – installing the Colorbox module](img/4659_07_17.jpg)
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击任何图片，然后您将看到图片在 colorbox 弹出窗口中加载：![行动时间 – 安装 Colorbox 模块](img/4659_07_17.jpg)
- en: We have learned more about images for colorbox, but colorbox also supports videos.
    Another way to add some spice to our site is by adding videos. So there are several
    modules available to work with colorbox for videos. The Video Embed Field module
    creates a simple field type that allows you to embed videos from YouTube and Vimeo
    and show their thumbnail previews simply by entering the video's URL. So you can
    try this module to add some pizzazz to your site!
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们对 colorbox 的图片有了更多的了解，但 colorbox 也支持视频。为我们的网站添加一些活力的一种方式是添加视频。因此，有多个模块可用于与
    colorbox 一起工作以处理视频。Video Embed Field 模块创建了一个简单的字段类型，允许您通过输入视频的 URL 将 YouTube 和
    Vimeo 中的视频嵌入，并简单地显示它们的缩略图预览。因此，您可以尝试此模块为您的网站添加一些亮点！
- en: '*What just happened?*'
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We installed the Colorbox module and enabled it for the Recipe images field
    on our custom Recipe content type. Now, we can easily add images to our d8dev
    content with the Colorbox pop-up feature.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已安装 Colorbox 模块，并已将其启用以用于我们的自定义食谱内容类型的“食谱图片字段”。现在，我们可以轻松地使用 Colorbox 弹出功能将图片添加到我们的
    d8dev 内容中。
- en: Working with Drupal issue queues
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 与 Drupal 问题队列协作
- en: Drupal has its own issue queue for working with a team of developers around
    the world. If you need help for a specific project, core, module, or a theme related,
    you should go to the issue queue, where the maintainers, users, and followers
    of the module/theme communicate.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 拥有自己的一套问题队列，用于与全球的开发者团队协作。如果你需要特定项目、核心、模块或主题的帮助，你应该去问题队列，那里的维护者、用户和主题的追随者会进行沟通。
- en: The issue page provides a filter option, where you can search for specific issues
    based on Project, Assigned, Submitted by, Followers, Status, Priority, Category,
    and so on.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 问题页面提供了一个筛选选项，您可以根据项目、分配、提交者、追随者、状态、优先级、类别等搜索特定的问题。
- en: We can find issues at [https://www.drupal.org/project/issues/colorbox](https://www.drupal.org/project/issues/colorbox).
    Here, replace colorbox with the specific module name. For more information, see
    [https://www.drupal.org/issue-queue](https://www.drupal.org/issue-queue).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以在[https://www.drupal.org/project/issues/colorbox](https://www.drupal.org/project/issues/colorbox)找到问题。在这里，将
    colorbox 替换为特定的模块名称。更多信息请参阅[https://www.drupal.org/issue-queue](https://www.drupal.org/issue-queue)。
- en: In our case, we have one issue with the colorbox module. Captions are working
    for the **Automatic** and **Content title** properties, but are not working for
    the **Alt text** and **Title text** properties. To check this issue, go to **Structure**
    | **Content types** and click on **Manage display**. On the next screen, click
    on the settings icon for the Recipe images field. Now select the **Caption** option
    as **Title text** or **Alt text** and click on the **Update** button. Finally,
    click on the **Save** button. Reload the **Thai Basil Chicken** recipe page, and
    click on any image. Then it opens in popup, but we cannot see captions for this.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，我们有一个关于 colorbox 模块的问题。对于**自动**和**内容标题**属性，标题是正常工作的，但对于**Alt 文本**和**标题文本**属性则不工作。要检查这个问题，请转到**结构**
    | **内容类型**并点击**管理显示**。在下一屏幕上，点击“食谱图片字段”的设置图标。现在选择**标题文本**或**Alt 文本**作为**标题**选项，并点击**更新**按钮。最后，点击**保存**按钮。重新加载**泰式罗勒鸡肉**食谱页面，并点击任何图片。然后它将在弹出窗口中打开，但我们看不到这个图片的标题。
- en: Note
  id: totrans-131
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Make sure you have the Title text and Alt text properties updated for Recipe
    images field for the Thai Basil Chicken recipe.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您已更新泰式罗勒鸡肉食谱的“食谱图片字段”的标题文本和 Alt 文本属性。
- en: Time for action – creating an issue for the Colorbox module
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 – 为 Colorbox 模块创建一个问题
- en: 'Now, before we go and try to figure out how to fix this functionality for the
    Colorbox module, let''s create an issue:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在我们尝试解决 Colorbox 模块的功能问题之前，让我们先创建一个问题：
- en: On [https://www.drupal.org/project/issues/colorbox](https://www.drupal.org/project/issues/colorbox),
    click on the **Create a new issue** link:![Time for action – creating an issue
    for the Colorbox module](img/4659_07_18.jpg)
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [https://www.drupal.org/project/issues/colorbox](https://www.drupal.org/project/issues/colorbox)
    上，点击 **创建新问题** 链接：![创建 Colorbox 模块问题的时机](img/4659_07_18.jpg)
- en: 'On the next screen we will see a form. We will fill in all the required fields:
    **Title**, **Category** as `Bug report`, **Version** as `8.x-1.x-dev`, **Component**
    as `Code`, and the **Issue summary** field. Once I submitted my form, an issue
    was created at [https://www.drupal.org/node/2645160](https://www.drupal.org/node/2645160).
    You should see an issue on Drupal ([https://www.drupal.org/](https://www.drupal.org/))
    like this:![Time for action – creating an issue for the Colorbox module](img/4659_07_19.jpg)'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一屏，我们将看到一个表单。我们将填写所有必填字段：**标题**，**类别**选择为“错误报告”，**版本**选择为“8.x-1.x-dev”，**组件**选择为“代码”，以及**问题摘要**字段。一旦我提交了表单，就在
    [https://www.drupal.org/node/2645160](https://www.drupal.org/node/2645160) 创建了一个问题。你应该在
    Drupal ([https://www.drupal.org/](https://www.drupal.org/)) 上看到一个类似的问题：![创建 Colorbox
    模块问题的时机](img/4659_07_19.jpg)
- en: Next, the Maintainers of the colorbox module will look into this issue and reply
    accordingly. Actually, `@frjo` replied saying "I have never used that module but
    if someone who does sends in a patch I will take a look at it." He is a contributor
    to this module, so we will wait for some time and will see if someone can fix
    this issue by giving a patch or replying with useful comments. In case someone
    gives the patch, then we have to apply that to the colorbox module. This information
    is available on Drupal at [https://www.drupal.org/patch/apply](https://www.drupal.org/patch/apply)
    .
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，colorbox 模块的维护者将调查这个问题并相应地回复。实际上，`@frjo` 回复说：“我从未使用过那个模块，但如果有人发送补丁，我会看看。”他是这个模块的贡献者，所以我们将等待一段时间，看看是否有人能通过提供补丁或发表有用的评论来解决这个问题。如果有人提供补丁，那么我们必须将其应用到
    colorbox 模块中。这些信息可以在 Drupal 上找到 [https://www.drupal.org/patch/apply](https://www.drupal.org/patch/apply)
    。
- en: '*What just happened?*'
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*发生了什么？*'
- en: We understood and created an issue in the Colorbox module's issue queue list.
    We also looked into what the required fields are and how to fill them to create
    an issue in the Drupal module queue list form.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 我们理解并创建了一个 Colorbox 模块问题队列列表中的问题。我们还查看了所需字段以及如何填写它们以在 Drupal 模块队列列表表单中创建问题。
- en: Summary
  id: totrans-140
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we looked at a way to use our d8dev site with multimedia, creating
    image styles using some custom code, and learned some new ways of interacting
    with the Drupal developer community. We also worked with the Colorbox module to
    add images to our d8dev content with the Colorbox pop-up feature. Lastly, we looked
    into the custom module to work with custom CSS files.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了一种使用我们的 d8dev 网站与多媒体结合的方法，通过一些自定义代码创建图像样式，并学习了一些与 Drupal 开发者社区互动的新方法。我们还与
    Colorbox 模块合作，使用 Colorbox 弹出功能将图像添加到我们的 d8dev 内容中。最后，我们研究了自定义模块以处理自定义 CSS 文件。
- en: In the next chapter, we will revisit the Colorbox module with some enhancements,
    and add some features to our d8dev site that will enable visitors to our site
    to provide feedback and interact with our site's content.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将对 Colorbox 模块进行一些改进，并添加一些功能到我们的 d8dev 网站上，这将使访问者能够为我们提供反馈并与我们网站的内容互动。

- en: Chapter 1. Installing Phalcon
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一章 安装 Phalcon
- en: This chapter will walk you through installing Phalcon on your chosen platform.
    The installation process differs a little bit depending on which operating system
    you happen to be using. Since Phalcon is a PHP extension written in C, installation
    is a little bit more involved than downloading an archive of PHP files and uploading
    them to your server.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将指导您在所选平台上安装 Phalcon。安装过程根据您使用的操作系统略有不同。由于 Phalcon 是用 C 语言编写的 PHP 扩展，因此安装过程比下载
    PHP 文件存档并将其上传到您的服务器要复杂一些。
- en: But installation should still take you less than an hour. Depending on your
    system and experience with PHP extensions, it could take only minutes. At the
    end of this chapter, you will have a high performance PHP framework that will
    simplify the process of developing your application and help you get your project
    up and running faster.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 但安装过程仍然应该少于一个小时。根据您的系统和您对 PHP 扩展的经验，可能只需几分钟。在本章结束时，您将拥有一个高性能的 PHP 框架，这将简化您开发应用程序的过程，并帮助您更快地将项目启动运行。
- en: 'In this chapter, you will learn how to:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将学习如何：
- en: Meet Phalcon's system requirements
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 满足 Phalcon 的系统要求
- en: Find the correct Phalcon DLL for use on a Windows machine
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 找到适合 Windows 机器使用的正确 Phalcon DLL
- en: Install the Phalcon DLL on a Windows machine
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Windows 机器上安装 Phalcon DLL
- en: Install Phalcon on Linux
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Linux 上安装 Phalcon
- en: Install Phalcon on Mac
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Mac 上安装 Phalcon
- en: Install Phalcon on FreeBSD
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 FreeBSD 上安装 Phalcon
- en: Edit your `php.ini` to use Phalcon
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编辑您的 `php.ini` 以使用 Phalcon
- en: Configure Apache for Phalcon
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为 Phalcon 配置 Apache
- en: Phalcon system requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Phalcon 系统要求
- en: You will of course need a web server in order to use Phalcon. Apache is the
    most common, but if you have an Nginx or Cherokee web server, that will work too.
    You can even use PHP's built-in web server as your Phalcon development server
    if you wish. For the purposes of this book, we will assume you have Apache installed.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，您需要一个 Web 服务器才能使用 Phalcon。Apache 是最常用的，但如果您有 Nginx 或 Cherokee Web 服务器，那也可以。如果您愿意，甚至可以使用
    PHP 内置的 Web 服务器作为您的 Phalcon 开发服务器。为了本书的目的，我们假设您已经安装了 Apache。
- en: Along with that, you will need PHP installed. While Phalcon will work with any
    version of PHP higher than Version 5.3.1, it is recommended that you use PHP 5.3.11
    or greater. Versions of PHP before 5.3.11 still have security flaws and memory
    leaks that were fixed in the later versions.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还需要安装 PHP。虽然 Phalcon 可以与高于版本 5.3.1 的任何 PHP 版本一起工作，但建议您使用 PHP 5.3.11 或更高版本。5.3.11
    之前的 PHP 版本仍然存在后来版本中已修复的安全漏洞和内存泄漏。
- en: But that is about all you need. Phalcon is not really very picky. There are
    a few other requirements you may need to meet on each specific operating system,
    and we will cover them in the individual installation processes.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 但这基本上就是您需要的。Phalcon 并不是特别挑剔。每个特定操作系统可能还有一些其他要求您需要满足，我们将在单独的安装过程中介绍它们。
- en: Installing Phalcon on Windows
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Windows 上安装 Phalcon
- en: In this section, we will walk through installing Phalcon on Windows. Even if
    you aren't installing the extension on Windows, please read through this section.
    Many of the steps involved, such as locating your `php.ini`, apply to all operating
    systems.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将指导您在 Windows 上安装 Phalcon。即使您不在 Windows 上安装扩展，也请阅读本节内容。其中许多步骤，如定位您的 `php.ini`，适用于所有操作系统。
- en: The Phalcon extension for Windows comes compiled as a DLL. However, you must
    locate the correct DLL for your version of PHP. The first requirement when installing
    Phalcon in Windows is a PHP binary compiled with Windows Visual Studio 9.0\. It
    is possible to have a Windows PHP installation compiled with another version of
    Visual Studio. If you have one of these other versions, you will have to install
    the correct version of PHP if you want Phalcon to work on your system.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Windows 版本的 Phalcon 扩展是以 DLL 的形式编译的。但是，您必须找到适合您 PHP 版本的正确 DLL。在 Windows 上安装
    Phalcon 的第一个要求是使用 Windows Visual Studio 9.0 编译的 PHP 二进制文件。如果您使用的是其他版本的 Visual
    Studio，那么如果您想让 Phalcon 在您的系统上工作，您将不得不安装正确的 PHP 版本。
- en: So, let's take a look at your PHP installation to discover just which version
    of PHP you have installed. First, you need to locate the document root of your
    web server. Or, in other words, you need to locate the folder on your computer
    that corresponds to the page you get when you browse to `http://localhost` or
    the folder on your server that maps to the home page of `http://yourdomain.com`.
    We are going to create a PHP file that will tell us everything we need to know
    to pick the right version of the PhalconPHP DLL and drop it in that folder.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们查看您的PHP安装，以确定您安装了哪个版本的PHP。首先，您需要找到您的Web服务器的文档根目录。或者换句话说，您需要找到当您浏览到`http://localhost`时对应的文件夹，或者找到映射到`http://yourdomain.com`主页的您的服务器上的文件夹。我们将创建一个PHP文件，它会告诉我们如何选择正确的PhalconPHP
    DLL版本并将其放入该文件夹。
- en: 'So, open up your text editor or IDE and create a new file. Name it `info.php`.
    In that file, insert the following code:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，打开您的文本编辑器或IDE，创建一个新文件。将其命名为`info.php`。在该文件中，插入以下代码：
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Save the file to your document root. Where your document root is depends upon
    which web server stack you have installed on your machine. It could be Apache
    directly from the official site, such as XAMPP, Wamp, or AMPPS, or one of the
    other versions of Apache, PHP, and MySQL stacks available. Your best bet is to
    visit the site where you downloaded your chosen version of Apache and read the
    documentation.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 将文件保存到您的文档根目录。您的文档根目录取决于您在机器上安装了哪个Web服务器堆栈。它可能是来自官方网站的Apache，例如XAMPP、Wamp或AMPPS，或者是Apache、PHP和MySQL堆栈的其他版本。您最好的选择是访问您下载所选Apache版本的网站，并阅读文档。
- en: 'Once you have saved the file, browse to `http://localhost/inf` `o.php` and
    you should see a page like the following screenshot:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 保存文件后，浏览到`http://localhost/info.php`，您应该看到如下所示的页面截图：
- en: '![Installing Phalcon on Windows](img/7673OS_01_01.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![在Windows上安装Phalcon](img/7673OS_01_01.jpg)'
- en: You will notice the PHP version at the top of the page. We will be paying attention
    to the first two numbers separated by a dot. They will either be **5.3** as shown
    in the previous screenshot or 5.4\. If they are 5.2 or less, you will need to
    update your PHP installation.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 您会注意到页面顶部的PHP版本。我们将关注由点分隔的前两个数字。它们将是如前一个屏幕截图所示的**5.3**或5.4。如果它们是5.2或更低版本，您需要更新您的PHP安装。
- en: 'Next, you want to make sure that your version of PHP was compiled with Microsoft
    Visual Studio 9.0\. So, search for the word **Compiler** in your browser window.
    The command to open the search box on most browsers is *Ctrl* + *F*. It is usually
    near the top of the page as shown in the following screenshot. If your PHP was
    compiled with Visual Studio 9.0, you should see **MSVC9 (Visual C++ 2008)**, as
    shown in the following screenshot:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您需要确保您的PHP版本是用Microsoft Visual Studio 9.0编译的。因此，在浏览器窗口中搜索单词**编译器**。在大多数浏览器中打开搜索框的命令是*Ctrl*
    + *F*。它通常位于页面顶部，如下面的屏幕截图所示。如果您的PHP是用Visual Studio 9.0编译的，您应该看到**MSVC9 (Visual
    C++) 2008**，如下面的屏幕截图所示：
- en: '![Installing Phalcon on Windows](img/7673OS_01_02.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![在Windows上安装Phalcon](img/7673OS_01_02.jpg)'
- en: Below the **Compiler**, you will see the **Architecture** listing. It will say
    **x86** or **x64**. In the previous screenshot, PHP was compiled for the **x86**
    architecture.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在**编译器**下方，您将看到**架构**列表。它将显示**x86**或**x64**。在之前的屏幕截图中，PHP是为**x86**架构编译的。
- en: Next, we need to see if you have a thread-safe version of PHP or not. So, search
    for PHP Extension Build in your browser window. Next to this, you will see the
    build version of your PHP installation. If you see an NTS at the end of this number,
    then you do not have a thread-safe version of PHP.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要查看您是否有线程安全的PHP版本。因此，在浏览器窗口中搜索“PHP扩展构建”。在此旁边，您将看到您PHP安装的构建版本。如果您看到此数字末尾有NTS，则说明您没有线程安全的PHP版本。
- en: Now that we have these pieces of information, we can go to [http://phalconphp.com/en/download/windows](http://phalconphp.com/en/download/windows).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了这些信息，我们可以前往[http://phalconphp.com/en/download/windows](http://phalconphp.com/en/download/windows)。
- en: Tip
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**Downloading the example code**'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**下载示例代码**'
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you. You can also find all
    the code used in the book by visting GitHub page [http://eristoddle.github.io/phalconBlog/](http://eristoddle.github.io/phalconBlog/).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从你购买的所有Packt书籍的账户中下载示例代码文件，账户地址为[http://www.packtpub.com](http://www.packtpub.com)。如果你在其他地方购买了这本书，你可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册以直接将文件通过电子邮件发送给你。你还可以通过访问GitHub页面[http://eristoddle.github.io/phalconBlog/](http://eristoddle.github.io/phalconBlog/)找到书中使用的所有代码。
- en: 'Here, we will see the page as shown in the following screenshot, which lists
    multiple versions of the Phalcon PHP extension:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将看到如下所示的页面，列出了多个版本的Phalcon PHP扩展：
- en: '![Installing Phalcon on Windows](img/7673OS_01_03.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![在Windows上安装Phalcon](img/7673OS_01_03.jpg)'
- en: It may look daunting, but we just did the research that will enable us to choose
    the correct version. We know whether we have a thread-safe version or not. We
    know whether we have an x86 or x64 architecture. And we know whether we have PHP
    5.3 or 5.4\. Don't worry about the last number in the PHP version. We just need
    to download the extension that fits our configuration. The Phalcon extension for
    PHP 5.3.9 will work for all versions of PHP 5.3 and the extension for PHP 5.4.0
    will work for all versions of PHP 5.4.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然看起来可能有些令人畏惧，但我们刚刚完成了研究，这将使我们能够选择正确的版本。我们知道我们是否有线程安全的版本。我们知道我们是否有x86或x64架构。我们还知道我们是否有PHP
    5.3或5.4。不要担心PHP版本中的最后一个数字。我们只需要下载适合我们配置的扩展。PHP 5.3.9的Phalcon扩展将适用于所有PHP 5.3版本，而PHP
    5.4.0的扩展将适用于所有PHP 5.4版本。
- en: After downloading the extension, unzip it. Inside the zip file will be a DLL.
    Next, we need to move this DLL into the folder where your other PHP extensions
    exist. If you have XAMPP installed, this folder will most likely be `c:\xampp\php\ext`,
    and with Wamp, that would be `c:\wamp\bin\php_version_number\ext`, where `php_version_number`
    is replaced with the version number of PHP you have installed. For other versions
    of web server stacks, you will have to visit the documentation to find the PHP
    extension folder.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 下载扩展后，解压它。在zip文件中将会有一个DLL文件。接下来，我们需要将这个DLL文件移动到包含其他PHP扩展的文件夹中。如果你安装了XAMPP，这个文件夹很可能是`c:\xampp\php\ext`，而对于Wamp，则是`c:\wamp\bin\php_version_number\ext`，其中`php_version_number`将被你安装的PHP版本号所替换。对于其他版本的Web服务器堆栈，你将需要访问文档以找到PHP扩展文件夹。
- en: 'Now we have the extension where it needs to be, but we aren''t done yet. We
    need to have PHP load the extension when it runs. So we have to locate the `php.ini`
    file and edit it. But guess what, we can use our `info.php` file to tell us where
    this file is. So load it again in your browser and search for **Loaded Configuration
    File**. Listed beside this entry is its location, as shown in the following screenshot:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经将扩展放置到需要的位置，但还没有完成。我们需要在PHP运行时加载这个扩展。因此，我们必须找到`php.ini`文件并编辑它。但是，你知道吗，我们可以使用我们的`info.php`文件来告诉我们这个文件的位置。所以，再次在浏览器中加载它并搜索**已加载配置文件**。在这个条目旁边列出了其位置，如下面的截图所示：
- en: '![Installing Phalcon on Windows](img/7673OS_01_04.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![在Windows上安装Phalcon](img/7673OS_01_04.jpg)'
- en: 'Once you locate this file, open it with your text editor or IDE and scroll
    to the very bottom. This file can be quite long. At the very bottom of this file,
    you will want to add the following line to tell PHP to load Phalcon:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦找到这个文件，就用你的文本编辑器或IDE打开它，并滚动到文件的底部。这个文件可能相当长。在文件的底部，你将想要添加以下行来告诉PHP加载Phalcon：
- en: '[PRE1]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Save the file. Some server stacks like XAMPP have desktop software to stop
    and start Apache, while others like Apache from the official site only have a
    tray icon to control stopping and starting of the server. Or, you can just restart
    Apache from the command line. Restart Apache now and Phalcon is installed. But
    let''s check to make sure. Load `http://localh` `ost/info.php` in your browser
    again and search for Phalcon and you should be greeted by a page as shown in the
    following screenshot:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 保存文件。一些服务器堆栈，如XAMPP，有桌面软件来停止和启动Apache，而其他如来自官方网站的Apache则只有托盘图标来控制停止和启动服务器。或者，你也可以直接从命令行重启Apache。现在重启Apache，Phalcon就安装完成了。但让我们检查一下。再次在浏览器中加载`http://localh`
    `ost/info.php`并搜索Phalcon，你应该会看到一个如下所示的页面：
- en: '![Installing Phalcon on Windows](img/7673OS_01_05.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![在Windows上安装Phalcon](img/7673OS_01_05.jpg)'
- en: Installing Phalcon on Linux
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Linux上安装Phalcon
- en: Linux is the most common operating system for a web server. Phalcon does require
    you to have root access to your web server. If you are on a shared server, you
    won't get root access, but you may be able to talk to your hosting provider to
    install Phalcon for you. If you have a VPS, cloud server, or dedicated server,
    you most likely have root access. If not, you can ask your hosting provider to
    give you access.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 是最常见的用于服务器的操作系统。Phalcon 需要你拥有对服务器的 root 访问权限。如果你在一个共享服务器上，你将不会获得 root
    访问权限，但你可能能够联系你的托管提供商为你安装 Phalcon。如果你有一个 VPS、云服务器或专用服务器，你很可能有 root 访问权限。如果没有，你可以要求你的托管提供商为你提供访问权限。
- en: It is beyond the scope of this book to walk you through installing Phalcon on
    each and every Linux installation, but there are prebuilt versions of the Phalcon
    extension for some versions of Linux.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 本书不涉及在每个 Linux 安装上安装 Phalcon 的过程，但 Phalcon 扩展的一些 Linux 版本有预构建版本。
- en: 'For Debian Linux, you will find a repo at the following link:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Debian Linux，你可以在以下链接找到仓库：
- en: '[http://debrepo.frbit.com/](http://debrepo.frbit.com/)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://debrepo.frbit.com/](http://debrepo.frbit.com/)'
- en: 'For Arch Linux, you can go to the following link to download a PKGBUILD:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Arch Linux，你可以访问以下链接下载 PKGBUILD：
- en: '[http://aur.archlinux.org/packages.php?ID=61950](http://aur.archlinux.org/packages.php?ID=61950)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://aur.archlinux.org/packages.php?ID=61950](http://aur.archlinux.org/packages.php?ID=61950)'
- en: 'And for OpenSUSE, you can find a package at the following link:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 OpenSUSE，你可以在以下链接找到软件包：
- en: '[http://software.opensuse.org/package/php5-phalcon](http://software.opensuse.org/package/php5-phalcon)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://software.opensuse.org/package/php5-phalcon](http://software.opensuse.org/package/php5-phalcon)'
- en: 'For all other versions of Linux, we will have to compile Phalcon ourselves.
    This is not hard, and if you have been using Linux for a while, you are probably
    used to compiling your own software by now. First, we have to be sure we have
    the following software installed:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 对于所有其他版本的 Linux，我们将不得不自己编译 Phalcon。这并不难，如果你已经使用 Linux 一段时间了，你现在可能已经习惯了编译自己的软件。首先，我们必须确保我们安装了以下软件：
- en: Git
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Git
- en: GCC Compiler
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCC 编译器
- en: PHP development resources
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PHP 开发资源
- en: If you don't have these installed, you can install them via the command line.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你还没有安装这些软件，你可以通过命令行安装它们。
- en: 'For Ubuntu, the command line is as follows:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Ubuntu，命令行如下：
- en: '[PRE2]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'For Fedora, CentOS, and RHEL, the command line is as follows:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Fedora、CentOS 和 RHEL，命令行如下：
- en: '[PRE3]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'For OpenSUSE, the command line is as follows:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 OpenSUSE，命令行如下：
- en: '[PRE4]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'For Solaris, the command line is as follows:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Solaris，命令行如下：
- en: '[PRE5]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Once you have met all the requirements, open up a terminal window and type
    the following commands to download the Git repository and compile the Phalcon
    extension:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦满足所有要求，打开一个终端窗口并输入以下命令以下载 Git 仓库并编译 Phalcon 扩展：
- en: '[PRE6]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: On some Linux installations, the compilation may fail because `libpcre3-dev`
    is missing. You can fix this issue by installing this package with your Linux
    package manager.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些 Linux 安装中，编译可能会失败，因为缺少 `libpcre3-dev`。你可以通过使用你的 Linux 软件包管理器安装此软件包来修复此问题。
- en: 'You just compiled your first PHP extension. Now we need to add the reference
    to our extension to the `php.ini` file. We can find it by creating the `info.php`
    file as discussed in the *Installing Phalcon on Windows* section of this chapter,
    loading it in our browser, and searching the resulting page for **Loaded Configuration
    File**. Locate the file listed here in your file-system and add the following
    line to the very bottom of the file:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚编译了你的第一个 PHP 扩展。现在我们需要将扩展的引用添加到 `php.ini` 文件中。我们可以通过创建一个 `info.php` 文件，如本章中
    *在 Windows 上安装 Phalcon* 部分所述，在浏览器中加载它，并在结果页面中搜索 **Loaded Configuration File**
    来找到它。在你的文件系统中定位列出的文件，并将以下行添加到文件的底部：
- en: '[PRE7]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Now save the file. If you do happen to be installing Phalcon for PHP 5.4 on
    a Debian type Linux, the procedure for installing a new PHP extension has changed.
    It is no longer a best practice to edit the main `php.ini` file. In the same folder
    where you found the `php.ini` file, usually with the `/etc/apache5/` path, you
    will find a `mods-available` folder. It is in this folder that you will be creating
    a custom `.ini` file just for Phalcon, and you will call it `phalcon.ini`. This
    file will be empty because we aren''t adding any custom configuration settings
    to Phalcon. Then, to enable the extension, we just run the following in the command
    line:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，保存文件。如果您在Debian类型的Linux上安装PHP 5.4的Phalcon，安装新PHP扩展的程序已更改。不再建议编辑主`php.ini`文件。在您找到`php.ini`文件的同一文件夹中，通常路径为`/etc/apache5/`，您将找到一个`mods-available`文件夹。您将在这个文件夹中创建一个仅用于Phalcon的自定义`.ini`文件，并将其命名为`phalcon.ini`。此文件将为空，因为我们没有为Phalcon添加任何自定义配置设置。然后，为了启用扩展，我们只需在命令行中运行以下命令：
- en: '[PRE8]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Now restart your web server. The command to restart Apache differs depending
    on the type of Linux. For Debian and Ubuntu type Linuxes, you can type the following
    command:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，重启您的Web服务器。重启Apache的命令取决于Linux的类型。对于Debian和Ubuntu类型的Linux，您可以输入以下命令：
- en: '[PRE9]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Installing Phalcon on Mac
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Mac上安装Phalcon
- en: To install Phalcon on Mac, the steps are basically the same as installing it
    on Linux. You must compile the extension from the source code. But first there
    are some requirements. You need to have Git, php5-devel, and Xcode with the command
    line tools installed. Xcode is available for free from the official Mac site,
    but is not installed by default.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Mac上安装Phalcon，步骤基本上与在Linux上安装相同。您必须从源代码编译扩展。但首先有一些要求。您需要安装Git、php5-devel和带有命令行工具的Xcode。Xcode可以从官方Mac网站免费获取，但默认情况下并未安装。
- en: Also, Xcode's command line tools are not installed with Xcode by default. In
    order to make sure to install these tools, open Xcode's **Preference** panel,
    choose the **Download** tab, and click on the **Install** button located next
    to the **Command Line Tools** listing.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，Xcode的命令行工具默认情况下并未与Xcode一起安装。为了确保安装这些工具，打开Xcode的**偏好设置**面板，选择**下载**标签，然后点击位于**命令行工具**列表旁边的**安装**按钮。
- en: To install Git, just point your web browser to [http://git-scm.com/download/mac](http://git-scm.com/download/mac),
    download the file, and install it. You will also need to install php5-devel if
    you don't already have it on your system. How you install this depends on the
    package manager you have installed on your Mac. There are also some prebuilt php5-devel
    binaries available for the Mac. A search on Google for "install Mac php5-devel"
    should point you in the right direction.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Git，只需将您的网络浏览器指向[http://git-scm.com/download/mac](http://git-scm.com/download/mac)，下载文件，然后安装它。如果您系统上还没有安装php5-devel，您也需要安装它。如何安装这取决于您安装的包管理器。Mac上也有一些预构建的php5-devel二进制文件可用。在Google上搜索“install
    Mac php5-devel”应该会指引您正确的方向。
- en: 'Now that we have met all the requirements, the steps are the same as installing
    Phalcon on Linux. First, use Git to pull the source code down to your computer
    and build the extension by issuing the following commands in the Terminal:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经满足了所有要求，步骤与在Linux上安装Phalcon相同。首先，使用Git将源代码拉取到您的计算机上，并在终端中运行以下命令来构建扩展：
- en: '[PRE10]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Then, use the steps we went over in the *Installing Phalcon on Windows* section
    of this chapter to locate your `php.ini` file. Once you have found your `php.ini`
    file, open it and add the following line to the very bottom of your file:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，使用本章“在Windows上安装Phalcon”部分中提到的步骤来定位您的`php.ini`文件。一旦找到您的`php.ini`文件，打开它，并在文件的底部添加以下行：
- en: '[PRE11]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Next, restart Apache and you're set.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，重启Apache，然后设置完成。
- en: Installing Phalcon on FreeBSD
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在FreeBSD上安装Phalcon
- en: 'If you happen to be installing Phalcon on FreeBSD, you''ve got it easy. There
    is a port of Phalcon available. It can be installed with the following command:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在FreeBSD上安装Phalcon，您会很容易。Phalcon有一个可用的端口。可以使用以下命令安装：
- en: '[PRE12]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Or
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 或者
- en: '[PRE13]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Optional Phalcon dependencies
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可选的Phalcon依赖项
- en: 'By now, you should have a working installation of Phalcon. But to use some
    of Phalcon''s functionality, you may need to install one, some, or all of the
    following PHP extensions:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您应该已经安装了一个可工作的Phalcon。但为了使用Phalcon的一些功能，您可能需要安装以下PHP扩展之一、一些或全部：
- en: PDO
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PDO
- en: PDO/MySQL
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PDO/MySQL
- en: PDO/PostgreSQL
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PDO/PostgreSQL
- en: PDO/SQLite
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PDO/SQLite
- en: PDO/Oracle
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PDO/Oracle
- en: mbstring
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mbstring
- en: Mcrypt
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mcrypt
- en: openSSL
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: openSSL
- en: Mongo
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mongo
- en: You will only need these if you plan to use the functionality they provide.
    For the purposes of this book, you will need to make sure that you have the PDO,
    PDO/MySQL, Mcrypt, and mbstring extensions installed.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 只有在你打算使用它们提供的功能时，你才需要这些。就本书的目的而言，你需要确保你已经安装了PDO、PDO/MySQL、Mcrypt和mbstring扩展。
- en: Finding help
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 寻找帮助
- en: 'Phalcon is constantly being improved, but every now and then, you may run into
    issues where the standard installation process may not work or you may run into
    other bugs. It is beyond the scope of this book to cover everything that could
    happen while installing or using Phalcon. To find help with issues like this,
    I suggest three places to look:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Phalcon一直在不断改进，但有时你可能会遇到标准安装过程可能不起作用或遇到其他错误的问题。本书的范围不包括在安装或使用Phalcon时可能发生的所有情况。为了找到这类问题的帮助，我建议查看以下三个地方：
- en: 'Phalcon''s official forum: [http://forum.phalconphp.com/](http://forum.phalconphp.com/)'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phalcon的官方论坛：[http://forum.phalconphp.com/](http://forum.phalconphp.com/)
- en: 'Phalcon''s bugtracker: [https://github.com/phalcon/cphalcon/issues](https://github.com/phalcon/cphalcon/issues)'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phalcon的bug跟踪器：[https://github.com/phalcon/cphalcon/issues](https://github.com/phalcon/cphalcon/issues)
- en: 'Phalcon''s official documentation: [http://docs.phalconphp.com/en/latest/](http://docs.phalconphp.com/en/latest/)'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phalcon的官方文档：[http://docs.phalconphp.com/en/latest/](http://docs.phalconphp.com/en/latest/)
- en: Summary
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned how to choose the correct version of the Phalcon
    PHP extension for our operating system. We also learned how to install the extension
    on a multitude of systems. We edited our `php.ini` file so that Phalcon will now
    load with our PHP installation and become an integral part of the language.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了如何为我们的操作系统选择正确的Phalcon PHP扩展版本。我们还学习了如何在多种系统上安装该扩展。我们编辑了`php.ini`文件，以便Phalcon现在将随我们的PHP安装一起加载，并成为语言的一个组成部分。
- en: In the next chapter, we will begin developing our Phalcon blog by putting together
    the skeleton structure of our site.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将开始开发我们的Phalcon博客，通过构建我们网站的骨架结构。

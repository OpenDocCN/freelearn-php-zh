# 前言

如果你与 Web 开发领域有关联，你知道数据有多么重要。网络运行在数据之上，因此对于开发者来说，考虑快速有效的处理数据的方法至关重要。Eloquent 是 Laravel PHP 框架附带的一个出色的 ORM，它独特且对开发者非常有用，因为它允许他们使用真正简单直观的语法定义模型、关系和许多复杂操作，而不会牺牲性能。在不编写长查询对象的情况下对多个表执行大量操作将变得容易如玫瑰床。

本书将带你通过 Eloquent，Laravel 框架的 ORM，开发卓越的数据驱动应用程序。

你将执行以下操作：

+   使用表达性语法构建高度高效的 Eloquent ORM 应用程序

+   掌握关系的力量以及 Eloquent 如何处理它们

+   通过各种逐步的代码示例超越简单的理论

因此，让我们开始吧！

# 本书涵盖的内容

第一章，*设置我们的第一个项目*，将讨论如何处理 Composer 和 Homestead。我们还将介绍我们的第一个 Laravel 项目的安装过程。

第二章，*使用 Schema Builder 类构建数据库*，将讨论 Schema Builder 类。我们将分析你可以使用该类执行的所有操作，查看不同类型的索引，并了解 Schema 类提供的方法。

第三章，*最重要的元素——模型！*，将帮助我们为我们的项目实现一些“创建”、“读取”、“更新”和“删除”逻辑。我们还将探索模型类的一些有用方法和功能。

第四章，*探索关系的世界*，将帮助我们了解如何处理不同类型的关系，以及如何以舒适和整洁的方式查询和使用它们。此外，我们还将学习如何在数据库中插入和删除相关模型，或更新现有的模型。

第五章，*使用集合增强结果*，将讨论集合。我们将处理一些结果转换方法以及构成集合的元素。

第六章，*使用事件和观察者全面控制*，将使我们了解 Eloquent 模型上下文中的所有事件。紧接着，我们将介绍模型事件和模型观察者。

第七章，*优雅地使用 Laravel！*，将探讨数据库包的结构，并查看其中包含的内容。之后，我们将学习如何单独为你的项目安装"illuminate/database"包，以及如何为其首次使用进行配置。是的，正是：没有 Laravel 的 Eloquent！

第八章，*还不够！扩展 Eloquent，高级概念*，将探讨两种不同的扩展 Eloquent 的方法，并继续学习关于仓库模式的内容。

# 你需要为本书准备

本书对硬件或软件没有具体要求；我们将使用 Vagrant 设置一个标准的虚拟机作为示例项目和代码片段的基础。所以，别担心，我的朋友！你不会在 Apache 或 Nginx 配置文件上花费漫长的时间或夜晚。

# 本书面向对象

本书非常适合对 PHP 开发有基本知识的开发者，但却是 Eloquent ORM 的新手。然而，有之前 Laravel 和 Eloquent 经验的开发者也能从书中对特定类和方法论进行深入分析中受益。

# 惯例

在本书中，你会找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称将如下所示："在`EventServiceProvider`类中，你可以添加一个特殊的事件监听器并将其绑定到某个闭包上。"

代码块设置如下：

```php
  User::saved(function($user)
    {
        // doing something here, after User save operation (both create and update)...
    });
```

**新术语**和**重要词汇**将以粗体显示。你会在屏幕上看到这些词，例如在菜单或对话框中，文本中将如下显示："你所要做的就是访问 Composer 网站的**下载**页面，并找到适合你操作系统的正确方法。"

### 注意

警告或重要注意事项将以如下框中的形式出现。

### 小贴士

小贴士和技巧将以如下形式出现。

# 读者反馈

我们欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或可能不喜欢什么。读者反馈对我们开发你真正能从中获得最大收益的标题非常重要。

要向我们发送一般反馈，只需发送一封电子邮件到`<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果你在某个领域有专业知识，并且对撰写或参与书籍感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 图书的骄傲拥有者，我们有一些事情可以帮助你从购买中获得最大收益。

## 错误清单

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在我们的某本书中发现错误——可能是文本或代码中的错误——如果你能向我们报告这一点，我们将不胜感激。这样做可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果你发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择你的书籍，点击**勘误****提交****表单**链接，并输入你的勘误详情来报告。一旦你的勘误得到验证，你的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。任何现有的勘误都可以通过从 [`www.packtpub.com/support`](http://www.packtpub.com/support) 选择你的标题来查看。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果你在网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供疑似盗版材料的链接。

我们感谢你在保护我们的作者和提供有价值内容的能力方面的帮助。

## 询问

如果你在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。

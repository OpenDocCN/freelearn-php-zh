# 前言

传统的网络，即人们通过桌面电脑查看网站的时代已经过时。现在，用户通过手机、平板电脑甚至手表以无数种方式查看网络内容。互联网上的内容可能根本不是由人类直接消费的——网络服务现在为我们的手机和几乎所有作为新兴和备受赞誉的物联网一部分的设备提供动力。

Drupal 正在演变，以反映整个互联网的变化，Drupal 8 代表了开源内容管理系统的一个重大技术飞跃。其核心焦点正在从构建网站（桌面用户优先）转移到支持现在互联网上内容消费的多种方式。

Drupal 8 默认包含以移动优先、响应式主题。HTML5 内置其中，使得任何支持网络浏览器的设备用户都可以查看 Drupal 内容。RESTful 网络服务包含在 Drupal 8 核心中，这意味着 Drupal 内容可以通过应用程序或其他机器，以及传统的网络浏览器进行消费。

毫不奇怪，Drupal 使用方式的主要变化伴随着作为开发者你将与之合作方式的一些重大变化。本书将引导你了解 Drupal 8 带来的激动人心和深远的变化。你将学习如何在无需编写任何代码的情况下配置 Drupal 来构建复杂、强大的网络应用程序。你还将学习如何创建响应式、移动优先的主题，编写自定义模块，并使用现代增量开发技术管理你的 Drupal 项目。

如果你已经是 PHP 开发者，Drupal 8 将会是一次令人兴奋的旅程。现代面向对象的编程技术，使用了许多 Symfony PHP 框架的元素，将帮助你编写更灵活、健壮和可重用的代码。随着 Drupal 社区越来越优雅和前沿，未来几年它将吸引越来越多的非 Drupal PHP 程序员。无论你是否是 Drupal 社区的一员，现在都是一个参与度更高、更激动人心的时刻。

# 本书涵盖的内容

第一章，*设置 Drupal 开发环境*，以专业的方式引导你设置 Drupal 开发环境。你将接触到一系列强大的工具，这些工具将使 Drupal 开发更加高效和有趣，同时也有助于你大幅提高生产力。

第二章，*自定义模块开发*，深入到代码编写。你将编写面向对象的代码，使你的模块更加灵活和可扩展。本章还将涵盖测试驱动开发，这是部署始终如一执行其功能的 Drupal 网站所需的一切基础。

第三章, *Drupal 视图和配置管理*，展示了 Drupal 8 的新配置管理系统，它允许你正确地将网站配置与网站内容分离。你将看到内容类型和字段配置现在是如何使用一种名为 YAML 的标记语言来完成的。

第四章, *字段类型 API 简介和自定义字段模块的开发*，探讨了 HTML5 支持是如何集成到 Drupal 8 中，以及它提供了哪些新功能。你将构建一个新的自定义字段来展示这些功能。

第五章, *Drupal 8 中的主题化*，介绍了 Twig 模板引擎，并指导你构建一个完全响应式的主题。本章还将涵盖允许你进一步修改 Drupal 8 默认外观和感觉的主题钩子。

第六章, *提升内容作者的用户体验*，展示了 Drupal 8 如何极大地改进了管理界面，在之前的 Drupal 版本中，用户常常被遗忘。Drupal 8 不仅面向最终用户，也面向编辑、版主和网站管理员。

第七章, *将媒体添加到我们的网站*，通过向你的网站引入一系列媒体元素，帮助你启动多媒体活动。你将学习如何让你的网站更具吸引力，不仅用文字，还用其他类型的媒体传达所需的信息。

第八章, *它的味道如何？ – 获取反馈*，通过 Drupal 8 内置的功能引导你从用户那里获取反馈。本章还将涵盖通过构建一个表单来帮助用户与你沟通并提交他们的观点或请求，从而开始双向对话。

第九章, *高级视图开发*，深入探讨了视图模块，你将在许多 Drupal 项目中使用它。我们将探讨如何创建一个使用 jQuery 的自定义视图插件。

第十章, *Drupal 项目管理与合作*，介绍了一个你可以结识一些好朋友的地方——Drupal 社区。我们将探讨协作工具，如何更多地参与 Drupal 社区，以及如何作为团队一起工作，创造一些惊人的成果。

第十一章, *使用搜索 API 模块搜索您的网站*，介绍了由搜索 API 提供的强大搜索功能，这是一个扩展 Drupal 标准搜索的框架。我们将看看它单独能实现什么，然后看看 Apache Solr，这是一个第三方搜索引擎，可以使您的搜索功能变得非常快。

第十二章, *Drupal 中的 RESTful Web 服务*，打破了您 Drupal 开发的界限。您将使用 REST 创建一个自定义 API，并使用 AngularJS 应用程序来消费通过 API 从 Drupal 获取的内容。现在 Drupal 不仅需要为网站提供动力——它几乎可以为任何东西提供动力。

附录, *快速测验答案*，涵盖了书中快速测验部分的所有答案。

# 您需要这本书什么

为了跟随本书中的示例，您需要一个可以设置自己的开发环境并配备一些有用工具的计算机。所有这些工具都是开源的或者有免费的替代品。在第一章, *设置 Drupal 开发环境*中提到的 PhpStorm IDE 是一个专有软件，而且相当昂贵，但您也可以使用 NetBeans 或 Eclipse 作为替代的 IDE，因为它们具有类似的功能。

您还需要一个互联网连接。本书中的许多示例依赖于外部服务，如 GitHub 或 PuPHPet，如果您从头开始安装一些推荐的软件包，您将不得不进行一些相当大的下载。

# 本书面向的人

本书旨在帮助那些想要开始配置、开发或使用 Drupal 8 进行主题设计的人。尽管不需要有之前版本 Drupal 的经验，但如果您已经使用过 Drupal 7，您会发现许多熟悉的 Drupal 概念。

对于以开发为重点的章节，假设您有一些 PHP 的先验知识，并且了解现代 PHP 开发实践。主题章节将假设您熟悉 HTML 和 CSS。一些使用命令行的经验会有所帮助，但不是必需的。

首先，一颗好奇心，愿意犯错的态度，以及投身于伟大的 Drupal 冒险的热情是最重要的。

# 部分

在这本书中，你会发现几个经常出现的标题（行动时间、刚才发生了什么？、快速测验和英雄试炼）。

为了清楚地说明如何完成一个程序或任务，我们使用以下这些部分：

# 行动时间 – 标题

1.  行动 1

1.  行动 2

1.  行动 3

指令通常需要一些额外的解释以确保它们有意义，因此它们后面跟着这些部分：

## *刚才发生了什么？*

本节解释您刚刚完成的任务或指令的工作原理。

您还会在书中找到一些其他的学习辅助工具，例如：

## 快速测验 – 标题

这些是简短的多选题，旨在帮助您测试自己的理解。

## 尝试一下英雄 – 标题

这些是实际挑战，可以给您提供实验您所学内容的想法。

# 规范

您还会找到许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“导航到 Drupal 的模块页面以获取最新打包的`tar.gz`文件的链接。”

代码块设置如下：

```php
<div>
  <ul>
    <li>content 1</li>
    <li>content 2</li>
  </ul>
</div>
```

任何命令行输入或输出都应如下编写：

```php
git checkout [filename]
git reset --hard

```

**新术语**和**重要词汇**以粗体显示。屏幕上显示的单词，例如在菜单或对话框中，在文本中显示如下：“点击**保存**然后重新索引您的内容。”

### 注意

警告或重要注意事项以如下框中的方式显示。

### 小贴士

技巧和窍门如下所示。

# 读者反馈

我们欢迎读者的反馈。告诉我们您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发您真正能从中获得最大利益的标题。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的骄傲拥有者，我们有一些事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)的账户下载此书的示例代码文件。如果您在其他地方购买了此书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册我们的网站。

1.  将鼠标指针悬停在顶部的**支持**选项卡上。

1.  点击**代码下载与勘误**。

1.  在**搜索**框中输入书籍的名称。

1.  选择您想要下载代码文件的书籍。

1.  从下拉菜单中选择您购买此书的来源。

1.  点击**代码下载**。

您还可以通过点击 Packt Publishing 网站上的书籍网页上的**代码文件**按钮来下载代码文件。您可以通过在**搜索**框中输入书籍名称来访问此页面。请注意，您需要登录到您的 Packt 账户。

下载文件后，请确保使用最新版本的以下软件解压缩或提取文件夹：

+   WinRAR / 7-Zip for Windows

+   Zipeg / iZip / UnRarX for Mac

+   7-Zip / PeaZip for Linux

本书代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Drupal-8-Development-Beginners-Guide-Second-Edition`](https://github.com/PacktPublishing/Drupal-8-Development-Beginners-Guide-Second-Edition)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供疑似盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果您对本书的任何方面有问题，您可以通过`<questions@packtpub.com>`联系我们，我们将尽力解决问题。

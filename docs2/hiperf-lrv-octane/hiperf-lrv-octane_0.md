# 前言

本书全面概述了使用 Laravel Octane 设计和构建高性能应用程序所需的一切，包括为什么应该这样做以及如何操作。本书还涵盖了 Laravel Octane 使用的不同工具，例如 Swoole 和 RoadRunner，并列出并解释了各种功能和区分元素。但最重要的是，它将使您理解何时以及为什么使用 Swoole 或 RoadRunner。

# 本书面向对象

本书面向那些已经了解 Laravel 框架基础（如路由机制、控制器、服务和模型）的 Laravel 开发者。本书旨在为那些希望以更可扩展的方式设计应用程序并提高其性能的开发者编写。

# 本书涵盖内容

*第一章*，*理解 Laravel 网络应用程序架构*，是 Laravel Octane 介绍新功能的地方，但更重要的是，它引入了一种新的思考方式，即如何设计高性能的 Laravel 应用程序。

*第二章*，*配置 RoadRunner 应用程序服务器*，展示了 Laravel Octane 基于 RoadRunner 应用程序服务器的场景。RoadRunner 是一个非常快速且有效的应用程序服务器，易于安装。由于其简单性，它使用户能够轻松且直接地接近 Laravel Octane。

*第三章*，*配置 Swoole 应用程序服务器*，展示了 Laravel Octane 基于 Swoole 应用程序服务器的场景。以应用程序服务器的形式运行 Swoole 允许开发者使用一些高级功能，例如管理多个工作进程和并发任务，更有效地引导应用程序，快速缓存以及在工作进程之间共享数据。由于 Laravel Octane 使用 Swoole，因此了解使用这些应用程序服务器带来的机会非常重要。

*第四章*，*构建 Laravel Octane 应用程序*，通过使用 Swoole 应用程序服务器提供的功能，通过实际示例教会我们如何构建应用程序。

*第五章*，*使用异步方法降低延迟和管理数据*，教会我们一旦开发者加快了框架的引导速度并消除了请求端的瓶颈，他们就必须在其他应用程序部分降低延迟。本章介绍了降低执行任务和管理数据延迟的有用技术。

*第六章*，*在您的应用程序中使用队列来实现异步方法*，教导我们除了应用程序服务器提供的各种工具外，我们还可以向我们的应用程序架构中添加额外的组件。为了提高解决方案的可扩展性，与应用程序服务器一起使用的主要工具之一是队列机制。本章展示了向我们的应用程序添加队列机制的好处。

*第七章*，*配置 Laravel Octane 应用程序以用于生产环境*，讨论了如何进入生产环境，涵盖了特定环境的配置、将应用程序部署到应用程序服务器以及微调 nginx 作为 Swoole 反向代理的配置。

# 为了充分利用本书

您需要在您的计算机上安装 PHP 8.0 或更高版本。所有代码示例都已使用 macOS 和 GNU/Linux 上的 PHP 8.1 进行测试。

| **本书中涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Laravel 9 | Windows, macOS, 或 Linux |
| PHP 8+ |  |

如果您不想在本地机器上安装 PHP，并且熟悉 Docker 设置，您可以使用 Laravel Sail 提供的 Docker 镜像。本书解释了本地安装和通过 Docker 镜像安装应用程序服务器和模块（Swoole/OpenSwoole）的设置。

**如果您使用的是本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码的复制和粘贴相关的任何潜在错误** **。**

# 下载示例代码文件

您可以从 GitHub 下载本书的示例代码文件：[`github.com/PacktPublishing/High-Performance-with-Laravel-Octane`](https://github.com/PacktPublishing/High-Performance-with-Laravel-Octane)。如果代码有更新，它将在 GitHub 仓库中更新。

# 下载彩色图像

我们还提供了一份包含本书中使用的截图和图表的彩色图像 PDF 文件。您可以从这里下载：[`packt.link/ZTNyn`](https://packt.link/ZTNyn)

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“从 Symfony 世界来看，Laravel 包括`Symfony/routing`等包来管理路由，以及`http-foundation`和`http-kernel`来管理 HTTP 通信。”

代码块设置如下：

```php
        "nyholm/psr7": "¹.5",
        "spiral/roadrunner": "v2.0"
```

当我们希望引起您对代码块中特定部分的注意时，相关的行或项目将以粗体显示：

```php
command=/usr/bin/php -d variables_order=EGPCS /var/www/html/artisan octane:start --server=swoole --host=0.0.0.0 --port=80 --watch
```

任何命令行输入或输出都按以下方式编写：

```php
npm install --save-dev chokidar
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词以**粗体**显示。以下是一个示例：“一旦一切正常，您将在网页上看到**表已创建！**。这意味着行已正确创建。”

小贴士或重要提示

看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果您对此书的任何方面有疑问，请通过电子邮件发送至 customercare@packtpub.com，并在邮件主题中提及书名。

**勘误**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在此书中发现错误，我们将不胜感激，如果您能向我们报告，请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过电子邮件发送至 copyright@packt.com 并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

读完《使用 Octane 进行高性能 Laravel 开发》后，我们非常乐意听到您的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1801819408)并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但无法随身携带您的印刷书籍？您的电子书购买是否与您选择的设备不兼容？

别担心，现在每购买一本 Packt 图书，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、时事通讯和丰富的免费内容，每天直接发送到您的收件箱。

按照以下简单步骤获取福利：

1.  扫描二维码或访问以下链接

![二维码图片](img/B17728_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781801819404`](https://packt.link/free-ebook/9781801819404)

1.  提交您的购买证明

1.  就这些！我们将直接将您的免费 PDF 和其他福利发送到您的电子邮件。

# 第一部分：架构

本部分的目标是使您熟悉 PHP 的应用服务器架构，并展示应用服务器如何跨工作进程共享资源以服务 HTTP 请求。

本部分包括以下章节：

+   *第一章*, *理解 Laravel 网络应用程序架构*

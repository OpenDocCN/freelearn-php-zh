# 前言

现在，我们通常通过论坛和博客上找到的各种信息来学习新知识，并依赖于我们遇到的信息。根据在这些文章上花费的时间，你可能会跳过一些基本概念，甚至当我们发现一些新的、更简单的方法来做某事时，即使是经验丰富的程序员也会感到惊讶。本书涵盖了 Liquid 的基本知识和一些高级概念，这将为您在 Liquid 技能组合中奠定正确的路径。

Liquid 是由 Shopify 联合创始人兼首席执行官 Tobias Lütke 创建的开源项目。作为一种模板语言，Liquid 变量将 Shopify 店铺的数据与我们的主题中的静态 HTML 内容连接起来，使我们能够将静态模板转变为一个完全动态且强大的电子商务店铺，产生令人印象深刻的结果。自 2006 年以来，Liquid 一直在成长和发展。如今，许多不同的网络应用程序都依赖于 Liquid，Shopify 就是其中之一，这表明对 Liquid 的需求一直在增长。

我们可以将本书分为三个主要部分。在第一部分，我们将熟悉一些关于 Shopify 的基本信息，了解 Shopify 界面及其主题结构，并开始熟悉 Liquid。尽管这些话题可能听起来并不那么重要，但它们将使我们能够在基础层面上理解 Shopify 和 Liquid。通过理解这些基础知识，我们将学习如何面对这些领域不可避免且频繁出现的问题。

本书第二部分将完全致力于 Liquid 的核心功能，没有这些功能，我们将无法创建许多复杂而精彩的组件。虽然我们不会详细介绍每一个对象、标签和过滤器，但我们将了解 Liquid 核心的本质，并关注一些常用的开发技术。

本书第三部分和最后一部分将带我们进入幕后，我们将学习如何使用 JSON 创建易于配置的选项，这些选项是 Shopify 电子商务店铺的灵魂。最后，我们将学习如何结合之前介绍的 Liquid 功能使用 Shopify Ajax API 来创建强大的功能，并使我们的代码更加动态。

# 本书面向对象

本书面向初学者和有经验的 CMS 开发者，他们想了解如何使用 Liquid 与 Shopify 主题一起工作并定制这些主题。致力于设计专业电子商务网站的 Web 开发者也会发现本书很有用。除了熟悉标准网络技术（HTML、CSS 和 JavaScript）外，本书不需要对 Shopify 或 Liquid 有任何先前的知识。本书涵盖了从 Shopify 基础知识、Liquid 核心到 REST API，以及可能对熟练开发者来说也是新的最新 Liquid 功能。

# 本书涵盖内容

*在第 xvi 页“分享您的想法”*, *从 Shopify 开始入门*，为理解 Shopify 是什么，它是如何工作的，以及其他重要知识奠定了坚实的基础。这种先理论后直接进入语法的做法可能听起来很有吸引力，但我们都知道，即使是微小的涟漪也可能在未来引起相当大的问题。虽然我们不会深入探讨 Toby Lütke 是如何创建 Shopify 的，但我们将涵盖一些基本主题，包括创建私有开发商店、创建子主题、解释主题结构，以及其他我们需要了解的基本主题。

*第二章*, *Liquid 的基本流程*，帮助我们通过解释 Liquid 语法来学习什么是 Liquid 以及如何编写它。我们还将回顾逻辑和比较运算符，我们可以在 Liquid 中使用的数据类型，什么是处理程序，以及其他基本概念。通过学习如何使用逻辑运算符和操作处理程序属性，我们还将学习如何将它们组合起来以创建各种动态功能。

*第三章*, *使用标签深入液态核心*，涵盖了编程逻辑，简而言之，就是标签。标签有很多种类型，例如控制流标签，它允许我们根据各种条件通过迭代标签重复运行代码块来输出一个 Liquid 代码块。此外，我们还将了解我们可以使用的不同类型的变量标签来存储数据，以及允许我们渲染特定主题标签的主题标签。

*第四章*, *使用对象深入液态核心*，帮助我们理解内容对象是什么，为什么它们是强制性的，以及如何使用它们，这是创建未来模板的第一步。之后，我们将转向全局对象，了解这些对象将为我们打开一扇新的大门，并在任何页面上输出我们的动态内容。最后，我们将学习什么是元字段对象，并利用它们在任何页面上输出独特的内容。

*第五章*, *使用过滤器深入液态核心*，是 Liquid 核心的一个关键主题，它将允许我们创建或操作不同类型的数据，这是一个令人兴奋的功能。通过 Liquid 过滤器，我们将更深入地了解 Liquid 是如何工作的，以及我们如何轻松地输出动态数据，例如图像 HTML 标签、计算产品折扣和处理字体变体。

*第六章*，*配置主题设置*，帮助我们了解 JSON 设置以及为什么这些文件对我们如此重要。稍后，我们将通过学习我们可以在 JSON 文件中使用哪些类型的设置以及基本和专用输入设置之间的区别，更直接地探讨这个主题。

*第七章*，*与静态和动态部分合作*，将帮助我们了解部分是什么以及如何使用它们通过 Shopify 主题编辑器创建易于配置的内容。我们将学习如何创建静态和动态部分及其对应的块，这些块在主题开发中起着相当重要的作用。最后，我们将了解新引入的 JSON 类型模板以及我们如何将它们与元字段结合，以在任意页面上创建真正独特且易于配置的内容。

*第八章*，*探索 Shopify Ajax API*，将带我们了解 Shopify Ajax API，并解释其要求、限制和可能的用例。此外，我们将学习如何向 Shopify API 发送不同类型的请求。我们将学习如何检索产品信息，将任意数量的产品添加到购物车会话中，并读取购物车的当前内容。最后，我们将学习如何通过 Shopify API 发送请求并检索创建产品推荐和预测搜索功能所需的信息。

*附录*，*常见问题解答*，包含针对刚开始进入 Shopify 和 Liquid 世界的开发者的额外指南、建议和答案。

*评估*，包含所有章节的问题答案。

# 为了充分利用这本书

Shopify 是一个托管服务，它不需要任何特定的设置或软件/硬件。然而，为了充分利用这本书，开发者应该已经熟悉基本的 HTML 标记、CSS，并理解 JavaScript 脚本语言，这些我们将在本书的后续部分需要。

**如果您使用的是这本书的数字版，我们建议您亲自输入代码或从书的 GitHub 仓库（下一节中有一个链接）获取代码。这样做将帮助您避免与代码复制粘贴相关的任何潜在错误。**

虽然篇幅可能较短，但我衷心希望您会喜欢我们这次的小冒险，并在过程中学到一些东西。我的初衷是编写一本包含大量理论知识，并辅以实际例子和建议的书，教您如何与真实项目合作，让您看到所有内容是如何相互关联的。

# 下载示例代码文件

您可以从 GitHub 在 https://github.com/PacktPublishing/Shopify-Theme-Customization-with-Liquid 下载本书的示例代码文件。如果代码有更新，它将在 GitHub 仓库中更新。

我们在丰富的图书和视频目录中还有其他代码包可供选择，请访问[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)。查看它们！

# 操作视频

本书的相关操作视频可以在[`bit.ly/3nHIQtD`](https://bit.ly/3nHIQtD)查看

# 下载彩色图像

我们还提供了一份包含本书中使用的截图和图表的彩色 PDF 文件。您可以从这里下载：[`static.packt-cdn.com/downloads/9781801813969_ColorImages.pdf`](https://static.packt-cdn.com/downloads/9781801813969_ColorImages.pdf)。

# 使用的约定

本书中使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“我们可以通过包括翻译键作为`name`属性值，轻松地将`schema`标签内的大多数属性进行翻译。”

代码块应如下设置：

```php
{% section "related-product-1" %}
{% section "related-product-2" %}
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```php
{% schema %}
{
  "name": "Announcement bar"
}
{% endschema %}
```

任何命令行输入或输出都应如下编写：

```php
_9VUPq3SxOc
youtube
```

**粗体**：表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个示例：“通过**添加部分**按钮添加到主题的任何部分都将允许我们为任何出现包含不同的内容，并且我们可以重复任何次数。”

小贴士或重要注意事项

看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请通过[customercare@packtpub.com](http://customercare@packtpub.com)给我们发邮件，并在邮件主题中提及书名。

**勘误表**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果您在互联网上以任何形式遇到我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过[copyright@packt.com](http://copyright@packt.com)与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个主题上具有专业知识，并且您有兴趣撰写或为本书做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了《使用 Liquid 进行 Shopify 主题定制》，我们非常期待听到您的想法！[请点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/1-801-81396-5)并分享您的反馈。

您的评论对我们和科技社区都非常重要，并将帮助我们确保我们提供高质量的内容。

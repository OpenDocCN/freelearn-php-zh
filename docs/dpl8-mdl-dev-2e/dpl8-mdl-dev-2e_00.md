# 前言

Drupal 8 是一个强大的基于 Web 的**内容管理系统**（CMS），可以用来构建从简单网站到强大应用的一切。虽然它开箱即用很有用，但它是为开发者设计的。

本书的目的在于讨论扩展 Drupal 8 网站以提供新功能的最常见方式。在这样做的同时，本书将涵盖多个扩展点，并展示许多可以帮助您建模、结构和连接业务需求的子系统以及 API。

除了必要的理论解释外，它还将采用一种基于实例的实用方法，以便分解复杂主题并使其更容易理解。因此，请加入我，一起探索 Drupal 8 实际上有多么强大。 

# 本书面向对象

本书的主要目标受众是希望学习如何在 Drupal 8 中编写模块和进行开发的 Drupal 7 开发者。它也面向具有基本面向对象编程技能的 Drupal 网站构建者，以及有少量 Drupal 经验的 PHP 程序员。

有一点 Symfony 经验将有所帮助，但不是强制性的。

# 本书涵盖内容

第一章，*为 Drupal 8 开发*，提供了对 Drupal 8 模块开发的介绍。在这样做的同时，它向读者介绍了各种子系统，并概述了运行 Drupal 8 应用程序的要求。

第二章，*创建您的第一个模块*，通过创建本书的第一个 Drupal 8 模块来启动。其主要重点是探索模块开发者从一开始就需要了解的常见事项。

第三章，*日志和邮件*，介绍了用于执行每个基于 Web 的应用程序都做和/或应该做的事情的工具；即发送电子邮件和记录事件。

第四章，*主题化*，从模块开发者的角度介绍了 Drupal 8 的主题系统。

第五章，*菜单和菜单链接*，探讨了 Drupal 8 中的菜单世界，并展示了如何通过编程方式创建和使用菜单链接。

第六章，*数据建模和存储*，探讨了 Drupal 8 中可用的各种存储类型，从状态系统到配置和实体。

第七章，*您的自定义实体和插件类型*，从创建自定义配置和内容实体类型以及用于连接实际功能示例的自定义插件类型的角度出发，采取了一种动手实践的方法。

第八章，*数据库 API*，介绍了数据库抽象层，并讨论了我们如何直接与存储在自定义表中的数据进行交互。

第九章，*自定义字段*，举例说明了创建用于在 Drupal 8 内容实体类型上使用的自定义字段所需的三个插件。

第十章，*访问控制*，探讨了 Drupal 8 中访问限制的世界，从角色和权限到路由和实体访问检查。

第十一章，*缓存*，探讨了模块开发者可用的各种缓存机制，以改善其功能性能。

第十二章，*JavaScript 和 AJAX API*，向模块开发者介绍了在 Drupal 8 中编写 JavaScript 的特定性，以及可以用来构建高级交互的强大 AJAX 系统。

第十三章，*国际化与语言*，处理 Drupal 8 模块开发者需要遵循的实践，以确保应用程序可以正确翻译。

第十四章，*批处理、队列和 Cron*，探讨了模块开发者可以以可靠的方式结构化他们的数据处理任务的各种方法。

第十五章，*视图*，探讨了模块开发者可以通过编程方式与视图交互的各种方法，甚至将自己的数据暴露给视图。

第十六章，*处理文件和图像*，探讨了允许模块开发者存储、跟踪和管理 Drupal 8 中文件的各个文件和图像 API。

第十七章，*自动化测试*，探讨了开发者可以为他们的 Drupal 8 应用程序编写的各种自动化测试模块，以确保代码的稳定性和弹性。

第十八章，*Drupal 8 安全*，探讨了在开发 Drupal 8 模块时需要遵循的最常见原则。

# 为了充分利用这本书

读者不需要太多东西就可以跟随这本书。一个能够安装和运行 Drupal 8 的本地环境（最好是带有 Composer）就足够了。

# 下载示例代码文件

您可以从[www.packt.com](http://www.packt.com)的账户下载这本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[www.packt.com/support](http://www.packt.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  在[www.packt.com](http://www.packt.com)登录或注册。

1.  选择 SUPPORT 选项卡。

1.  点击代码下载和勘误表。

1.  在搜索框中输入书籍名称，并遵循屏幕上的说明。

文件下载后，请确保使用最新版本的以下软件解压缩或提取文件夹：

+   Windows 的 WinRAR/7-Zip

+   Zipeg/iZip/UnRarX for Mac

+   7-Zip/PeaZip for Linux

本书代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Drupal-8-Module-Development-Second-Edition`](https://github.com/PacktPublishing/Drupal-8-Module-Development-Second-Edition)。如果代码有更新，它将在现有的 GitHub 仓库中更新。

我们还有其他来自我们丰富图书和视频目录的代码包，可在**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**上找到。查看它们吧！

# 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表的彩色 PDF 文件。您可以从这里下载：[`www.packtpub.com/sites/default/files/downloads/9781789612363_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/9781789612363_ColorImages.pdf)。

# 使用的约定

本书使用了多种文本约定。

`CodeInText`: 表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“自定义 Drupal 8 模块通常位于根 Drupal 安装目录下的`/modules`文件夹中的`/custom`目录内。”

代码块设置如下：

```php
name: Hello World
 description: Hello World module
 type: module
 core: 8.x
 package: Custom
```

任何命令行输入或输出应如下所示：

```php
cd core
```

**粗体**: 表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词在文本中如下所示。以下是一个示例：“用户现在可以通过点击每个实现此钩子的模块的帮助链接，从模块管理页面访问此页面。”

警告或重要注意事项如下所示。

小贴士和技巧如下所示。

# 联系我们

我们欢迎读者的反馈。

**一般反馈**: 如果你对本书的任何方面有疑问，请在邮件主题中提及书名，并通过`customercare@packtpub.com`给我们发送邮件。

**勘误表**: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们将不胜感激，如果你能向我们报告这个错误。请访问[www.packt.com/submit-errata](http://www.packt.com/submit-errata)，选择你的书，点击勘误表提交表单链接，并输入详细信息。

**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packt.com`与我们联系，并提供材料的链接。

**如果你有兴趣成为作者**: 如果你有一个你擅长的主题，并且你对撰写或为书籍做出贡献感兴趣，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

请留下您的评价。一旦您阅读并使用过这本书，为何不在购买它的网站上留下评价呢？潜在读者可以查看并使用您的客观意见来做出购买决定，我们 Packt 可以了解您对我们产品的看法，而我们的作者也可以看到他们对书籍的反馈。谢谢！

如需了解 Packt 的更多信息，请访问 [packt.com](http://www.packt.com/).

# 前言

过去五年中，应用程序框架的受欢迎程度有所增长。从手动编写所有代码到利用这些强大的框架以及预构建的组件和功能，发生了巨大的转变。然而，随着任何流行事物的出现，现在有很多竞争性的选择，而且每个选择都是可行的。

虽然 CodeIgniter 是第一个广受欢迎的框架之一，但这种受欢迎程度在几年后变成了它的致命伤，因为其广泛的使用和低门槛意味着它无法在不失去向后兼容性的情况下利用 PHP 的新版本，这可能会破坏大量应用程序。这导致它被更快发展的替代品如 Symfony 和 FuelPHP 超越，后者是作为对 CodeIgniter 不愿接受变化的回应而开发的。

进入：Laravel。当已经有众多玩家加入框架领域时，Laravel 加入了这个场景。然而，Laravel 的开发者利用了这个时机，没有重蹈之前全栈框架所犯的所有问题和错误，而是在优秀的 Symfony 组件之上构建了一个强大、基于组件的框架。

Laravel 不是提供数十个不可灵活的库，而是提供合理的、基于驱动程序的组件，开发者可以使用这些组件以自己的方式构建应用程序，而不是试图将所有内容都塞入框架作者定义的布局中。这导致了 Laravel 的流行。它也是一个快速发展的框架，到版本 4 时，已成为 GitHub 上最受欢迎的框架，这是对其受欢迎程度的证明。

本书将带您游览 Laravel 及其核心功能。我们将探讨如何在同一台机器上管理多个 Laravel 应用程序，然后我们将从头开始构建自己的 Laravel 应用程序，直到完成。一旦我们有一个基本的应用程序，能够从数据库中读取和写入数据，我们将看看 Eloquent，Laravel 的 ORM，它使得从数据库中读取和写入变得容易，以及它提供的更高级功能。从那里，我们将探讨 Artisan，Laravel 的命令行工具，甚至如何定义我们自己的命令。然后，我们将学习如何为我们的应用程序编写自动化测试，以确保它按照我们的期望工作，即使在未来的发展中也是如此。最后，我们将探讨如何使用 Laravel 的用户认证组件构建登录和注册系统。

到本书结束时，你将拥有一个完整的 Laravel 应用程序，以及如何无辅助地构建基于 Laravel 的应用程序的工具和知识，以及在哪里继续学习该框架。

# 本书涵盖的内容

第一章，*Laravel 简介*，探讨了 PHP 应用程序框架的一般情况，Laravel 框架的近期历史，以及 Laravel 框架构建的原则。

第二章，*设置开发环境*，通过安装和配置 Homestead 虚拟机和 Composer 依赖管理器，为构建 Laravel 应用程序奠定基础。

第三章，*你的第一个应用程序*，从零开始构建一个完整的工作应用程序。从这里开始，乐趣开始了！

第四章，*Eloquent ORM*，探讨了 Laravel 附带的对象关系映射器 Eloquent，它允许你轻松查询数据库。

第五章，*测试 – 比你想象的要简单*，概述了测试你的 Laravel 应用程序的各种方法，以确保它们尽可能坚固，并且在添加新功能后仍然按预期工作。

第六章，*名为 Artisan 的命令行伴侣*，帮助我们了解 Artisan，它是 Laravel 的命令行实用工具。我们介绍了 Artisan 提供的内置命令，以及如何创建我们自己的命令行工具。

第七章，*认证和安全*，展示了保护你的 Laravel 应用程序免受常见攻击的各种方法，以及如何认证和授权访问你的应用程序的用户。

附录，*工具箱*，涵盖了 Laravel 提供的工具，这些工具在前面的章节中没有介绍。

# 你需要这本书什么

由于 Laravel 是一个基于 PHP 的应用程序框架，你需要一个具有 PHP 语法高亮的代码编辑器或 IDE。

我们将使用 Homestead 虚拟机，它需要在你的机器上安装 Vagrant 和 VirtualBox；这两者的安装说明将在本书的后续部分提供。

此外，如果你计划将应用程序部署到实时 Web 服务器，那么你需要一个 FTP 客户端或 SSH 访问远程 Web 服务器，以便将文件从你的本地机器移动到可访问的 Web 服务器。

# 这本书面向谁

本书主要面向对 Laravel 框架感兴趣的人，也许他们听说过它，但没有机会或时间熟悉它。因此，假设读者具备 PHP 和相关技术（如 MySQL）的知识，以及面向对象编程的知识。

# 习惯用法

在本书中，你将找到许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名应如下所示：“`Illuminate`命名空间不指向第三方库。”

代码块应如下设置：

```php
sites:
    - map: dev.furbook.com
      to: /home/vagrant/Code/furbook.com/public
databases:
    - furbook
```

当我们希望将你的注意力引到代码块的一个特定部分时，相关的行或项目将以粗体显示：

```php
Route::post('cats', function() {
 $cat = Furbook\Cat::create(Input::all());
  return redirect('cats/'.$cat->id)
    ->withSuccess('Cat has been created.');
});
```

任何命令行输入或输出都应如下所示：

```php
$ composer create-project laravel/laravel furbook.com --prefer-dist

```

**新术语**和**重要词汇**以粗体显示。屏幕上显示的单词，例如在菜单或对话框中，在文本中显示如下：“如果你现在尝试访问一个无效的 URL，nginx 将显示一个**404 Not Found**错误页面。”

### 注意

警告或重要注意事项以如下框的形式出现。

### 小贴士

技巧和窍门以如下形式出现。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出你真正能从中获得最大价值的标题。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果你在一个主题上具有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 书籍的骄傲所有者，我们有一些事情可以帮助你从你的购买中获得最大价值。

## 下载示例代码

你可以从你购买的所有 Packt 出版物的账户中下载示例代码文件。[`www.packtpub.com`](http://www.packtpub.com)。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给你。

## 勘误

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果你在我们的一本书中发现错误——可能是文本或代码中的错误——如果你能向我们报告这一点，我们将不胜感激。通过这样做，你可以帮助其他读者避免挫败感，并帮助我们改进本书的后续版本。如果你发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择你的书籍，点击**勘误提交表单**链接，并输入你的勘误详情。一旦你的勘误得到验证，你的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误表，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将显示在**勘误**部分。

## 侵权

互联网上对版权材料的盗版是一个持续存在的问题，涉及所有媒体。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面提供的帮助。

## 问题

如果您对本书的任何方面有问题，请通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决问题。

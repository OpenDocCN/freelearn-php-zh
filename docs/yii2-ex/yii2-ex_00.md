# 前言

本书从零开始介绍 Yii2 框架的使用，直至构建一个完整的 Web 应用程序。

Yii 是一个高性能的 PHP 框架，最适合开发提供快速、安全、专业功能的 Web 2.0 应用程序，以快速创建健壮的项目。然而，这种快速开发需要将常见任务组织在一起以构建完整的应用程序。很容易对这些技术的使用感到困惑。

因此，通过实际示例的讲解将帮助您理解这些概念必须如何使用，并实现一个成功的应用程序。

# 本书涵盖的内容

第一章, *从 Yii2 开始*，提供了关于 Yii2 框架的基本知识，从需求开始解释每个功能。然后，我们将使用调试和日志工具跟踪我们的代码并提供错误查找。最后，我们将基于基本模板编写我们的第一个项目。

第二章, *创建简单的新闻阅读器*，创建了我们的第一个控制器和相关视图。我们将探索静态和动态视图，学习如何在布局中渲染视图以及从控制器传递数据到视图，然后查看通过部分视图和块重用视图的方法。

第三章, *创建漂亮的 URL*，展示了如何实现漂亮的 URL，这对于搜索引擎优化很有用。我们还将创建使用自定义规则解析和创建 URL 的示例。最后，我们将学习如何通过 Rule 类构建更定制的 URL 规则。

第四章, *通过表单创建房间*，展示了如何从头开始构建 Model 类，并使用 Yii2 ActiveForm 小部件从视图发送数据到控制器，该小部件创建表单。我们还将查看常用的格式化数据和方法以及从表单发送文件的方法。

第五章, *开发预订系统*，解释了如何配置数据库连接并从零开始执行带有 DAO 框架支持的 SQL 查询。接下来，我们将了解如何使用 Gii 以及它在从数据库表结构创建模型方面的优势。Gii 创建的模型扩展了 ActiveRecord 类，通过使用它，我们最终将学习如何操作数据。

第六章, *使用网格显示数据和关系*，介绍了用于显示数据（直接或相关）的 GridView 小部件。GridView 中的一个基本主题是数据提供者，即向 GridView 提供数据的方式。我们将学习如何根据可用来源从 ActiveRecord、数组或 SQL 获取数据提供者。

第七章, *处理用户界面*，讨论了用户界面以及 Yii 如何通过其核心功能帮助我们。

第八章, *登录应用*，展示了如何将用户认证和授权应用于应用。第一步是创建对应用的认证访问。为此，我们将创建一个数据库表来管理用户，并通过扩展 IdentityInterface 的用户模型将其与 Yii 用户组件关联。

第九章, *面向所有人的房间前端*，解释了如何使用 Yii 基于前端和后端应用程序构建现代 Web 项目。我们将发现基本模板和高级模板之间的区别，并安装我们的第一个基于高级模板的高级项目。

第十章, *本地化应用*，展示了如何在我们的应用中配置多种语言。我们将发现有两种存储选项来处理国际化：文件和数据库。

第十一章, *为移动应用创建 API*，通过使用 Yii 提供的强大工具创建用于移动应用的 API。我们将采用创建新应用的方法来分发 RESTful Web 服务，而不是混合 Web 和 API 控制器。

第十二章, *创建控制台应用程序来自动执行周期性任务*，解释了如何编写控制台应用程序，并允许你发现 Web 应用程序和控制台应用程序之间的主要区别。

第十三章, *最终重构*，帮助你使用小部件和组件重用代码。我们将创建一些实际示例，展示如何使用它们。

# 你需要为这本书准备的东西

这本书的最低要求是：一个基于 PHP 5.4 环境的 Web 主机，无论是本地还是远程，并且安装了一个 MySQL 数据库服务器（没有对具体版本的要求）。

对于编写代码，只需要一个简单的语法高亮编辑器就足够了，例如块记事本、TextEdit、Notepad++、PSPad、Aptana 等等。

# 这本书面向的对象

这本书旨在为任何想要发现 Yii 框架或掌握其实践概念的人提供帮助。入门级用户将在每一章中找到一些介绍性理论，解释所讨论的主题，以及大量代码展示其实际方面。高级用户将找到许多具有特殊案例说明和常见错误解决的示例。

需要具备使用 PHP 和面向对象编程的基本编程经验。

# 习惯用法

在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称应如下所示：“现在，使用以下内容在`basic/views/my-authentication/login.php`中创建视图。”

代码块应如下设置：

```php
<?php
return [
    2 => [
        'operator',
    ],
    1 => [
        'admin',
    ],
];
```

任何命令行输入或输出都应如下所示：

```php
$ curl -H "Accept: application/json" http://hostname/yiiadv/api/web/test-rest/index

[{"id":1,"name":"Albert","surname":"Einstein"},{"id":2,"name":"Enzo","surname":"Ferrari"},{"id":4,"name":"Mario","surname":"Bros"}]

```

### 注意

警告或重要注意事项以如下框中的形式出现。

### 提示

技巧和窍门如下所示。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或不喜欢什么。读者反馈对我们来说非常重要，因为它帮助我们开发出您真正能从中受益的书籍。

要向我们发送一般反馈，请简单地发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的骄傲拥有者，我们有多个方面可以帮助您从购买中获得最大收益。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的账户下载示例代码文件，适用于您购买的所有 Packt 出版社的书籍。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，并注册以将文件直接发送给您。

## 错误

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的某本书中找到错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进后续版本。如果您发现任何错误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误提交表单**链接，并输入您的错误详情。一旦您的错误得到验证，您的提交将被接受，错误将被上传到我们的网站或添加到该标题的错误部分下的现有错误列表中。

要查看之前提交的错误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍的名称。所需信息将出现在**错误**部分下。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，请立即提供位置地址或网站名称，以便我们可以追究补救措施。

请通过链接发送至 `<copyright@packtpub.com>` 与我们联系，以提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面提供的帮助。

## 问题和建议

如果您对本书的任何方面有问题，您可以发送邮件至 `<questions@packtpub.com>` 与我们联系，我们将尽力解决问题。
